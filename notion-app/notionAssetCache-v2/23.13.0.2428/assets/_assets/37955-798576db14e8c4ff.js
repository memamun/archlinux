"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[37955],{51367:(t,e,o)=>{o.d(e,{DL:()=>r,Sq:()=>c,Y5:()=>s,gc:()=>d,wo:()=>a});var n=()=>o(917629),i=()=>o(989423),l=()=>o(508496);function r(t,e){const o=(0,n().h2)(e.callout_key);o&&(e.placement_key=(0,n().t9)(o)),(0,i().u4)({environment:t,event:{eventName:"callout_show",eventProperties:e}}),l().default.logEvent("callout_show",e.callout_key)}function s(t,e){const o=(0,n().h2)(e.callout_key);o&&(e.placement_key=(0,n().t9)(o)),(0,i().u4)({environment:t,event:{eventName:"callout_click",eventProperties:e}}),l().default.logEvent("callout_click",e.callout_key)}function c(t,e){const o=(0,n().h2)(e.callout_key);o&&(e.placement_key=(0,n().t9)(o)),(0,i().u4)({environment:t,event:{eventName:"callout_dismiss",eventProperties:e}}),l().default.logEvent("callout_dismiss",e.callout_key)}function a(t,e){const{eligible_callouts:o,required_arg_timeout:n,required_args_run_duration:l,eligibility_timeouts:r,blocklist:s}=e;(0,i().u4)({environment:t,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:o,required_arg_timeout:n,required_args_run_duration:l,eligibility_timeouts:r,blocklist:s}}})}function d(t,e){(0,i().u4)({environment:t,event:{eventName:"callout_feature_interaction",eventProperties:e}})}},73223:(t,e,o)=>{o.r(e),o.d(e,{dismissTutorial:()=>d,resetTutorials:()=>u,tutorialAdvanceToStep:()=>S,tutorialAdvanceToStepAfter:()=>p,tutorialGoToNextStep:()=>c,tutorialGoToPrevStep:()=>a});var n=()=>o(541235),i=()=>o(317909),l=()=>o(755199),r=()=>o(739135),s=()=>o(351360);function c(t,e){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.nextStep",environment:t,perform:t=>{l().mJ({userSettingsStore:n,transaction:t,data:{tutorials:{...i,[e]:(0,r().i9)(n,e)}}})},userId:n.id})}function a(t,e){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.prevStep",environment:t,perform:t=>{l().mJ({userSettingsStore:n,transaction:t,data:{tutorials:{...i,[e]:(0,r().KD)(n,e)}}})},userId:n.id})}function d(t,e){var o;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const r=null===(o=i.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.dismissTutorial",environment:t,perform:t=>{l().mJ({userSettingsStore:i,transaction:t,data:{tutorials:{...r,[e]:n().YD}}})},userId:i.id})}function u(t){const{currentUserSettingsStore:e}=s().default.state;e&&g({userAction:"TutorialActions.resetTutorialsDebug",environment:t,perform:t=>{l().mJ({userSettingsStore:e,transaction:t,data:{tutorials:{}}})},userId:e.id})}function S(t,e,o){var i;const{currentUserSettingsStore:c}=s().default.state;if(!c||(0,r().x$)(c,e))return;const a=(0,r().gt)(c,e);n().c$[e].steps.findIndex((t=>t.id===a))>=n().c$[e].steps.findIndex((t=>t.id===o))||l().mJ({userSettingsStore:c,transaction:t,data:{tutorials:{...null===(i=c.getSettings())||void 0===i?void 0:i.tutorials,[e]:o}}})}function p(t,e,o){if((0,r().ll)(o))return;const n=(0,r().tb)(e,o);n&&S(t,e,n)}function g(t){return i().createAndCommit({...t,canUndo:!1})}},101662:(t,e,o)=>{o.d(e,{k:()=>n});const n=(0,o(959013).YK)({titlePlaceholder:{defaultMessage:"Untitled",id:"database.source.titlePlaceholder"}})},126617:(t,e,o)=>{o.d(e,{Y:()=>i});o(296540);const n={viewBox:"0 0 16 16",svg:(0,o(474848).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},i=(0,o(340498).wt)("ellipsisSmall",n)},239529:(t,e,o)=>{o.d(e,{q:()=>s});var n=()=>o(436696),i=()=>o(435009),l=()=>o(728611),r=()=>o(519839);function s(t){const{environment:e,collectionContextStore:o,event:s,buttonPopupParent:c}=t,a=(0,r().t2)(o);if(!a)return null;const d=l().Vr(s);i().oo({environment:e,url:a,openInNew:d}),d||null==c||c.close(),(0,n().X)({environment:e,collectionContextStore:o,action:"click_source_view"})}},420767:(t,e,o)=>{o.d(e,{B:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("doubleChevronLeft",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.07031 13.8887C7.2207 14.0391 7.40527 14.1211 7.62402 14.1211C8.06836 14.1211 8.41699 13.7725 8.41699 13.3281C8.41699 13.1094 8.32812 12.9043 8.17773 12.7539L3.37207 8.05762L8.17773 3.375C8.32812 3.21777 8.41699 3.0127 8.41699 2.80078C8.41699 2.35645 8.06836 2.00781 7.62402 2.00781C7.40527 2.00781 7.2207 2.08984 7.07031 2.24023L1.73828 7.44922C1.56055 7.62012 1.46484 7.8252 1.46484 8.06445C1.46484 8.29688 1.55371 8.49512 1.73828 8.67969L7.07031 13.8887ZM13.1748 13.8887C13.3252 14.0391 13.5098 14.1211 13.7354 14.1211C14.1797 14.1211 14.5283 13.7725 14.5283 13.3281C14.5283 13.1094 14.4395 12.9043 14.2891 12.7539L9.4834 8.05762L14.2891 3.375C14.4395 3.21777 14.5283 3.0127 14.5283 2.80078C14.5283 2.35645 14.1797 2.00781 13.7354 2.00781C13.5098 2.00781 13.3252 2.08984 13.1748 2.24023L7.84961 7.44922C7.66504 7.62012 7.57617 7.8252 7.56934 8.06445C7.56934 8.29688 7.66504 8.49512 7.84961 8.67969L13.1748 13.8887Z"})})},517843:(t,e,o)=>{o.d(e,{V:()=>C,A:()=>w});o(16280);var n=o(296540),i=()=>o(484714),l=()=>o(56366),r=()=>o(401497),s=()=>o(686526),c=()=>o(725614),a=()=>o(59400);var d=()=>o(145214),u=()=>o(297872),S=()=>o(14235),p=()=>o(38337),g=()=>o(525432),v=()=>o(69447),m=()=>o(753199),h=()=>o(553965),x=()=>o(963589),f=()=>o(700250),y=o(474848);function b(t){const{collectionContextStore:e,headerSizeObserver:o,contentSizeObserver:n,paddingRight:s,shouldScrollIntoView:a,settingsOpen:S}=t,g=(0,x().X)("db_ux_simplification_next"),f=(0,i().v3)(),b=(0,l().K8)((()=>{const t=o.rect.state;return f.WindowSizeStore.state.height-(t.top+v().Lq)}),[f.WindowSizeStore,o.rect]),C=(0,l().K8)((()=>n.rect.state.height),[n.rect]),w=(0,l().K8)((()=>e.isInPeekRendererStore.state),[e.isInPeekRendererStore]),j=(0,l().O$)(t.headerHeightStore),_=(0,l().K8)((()=>e.allowScrollingWhenCollectionSettingsSidebarOpen()),[e]),A=(0,r().IS)((t=>({topLevelDiv:{position:"absolute",top:j,right:-s,background:w?t.cardContentBackground:t.contentBackground,borderLeft:`1px solid ${t.tableDividerColor}`,paddingRight:s,zIndex:88,..._?{height:C,minHeight:b}:{height:b}},nestedDiv:{...g?{}:{boxShadow:`inset 0 1px 0 ${t.tableDividerColor}`}}})),[j,s,w,_,C,b,g]);return S?(0,y.jsx)(u().A,{capture:!0,allowMobileAutoScroll:!0,allowUndo:!0,render:t=>(0,y.jsx)(d().A,{initial:{opacity:0,translateX:12},animate:{opacity:1,translateX:0},exit:{opacity:0,translateX:12},style:A.topLevelDiv,className:p().N11,...(0,h().A)({onMouseDown:t=>function(t,e){(0,m().SQ)({event:t,context:m().y$.EditorMouseDown,callback:()=>{c().clear({environment:e})}})}(t,f)},t),children:(0,y.jsxs)("div",{style:{display:"flex",..._?{height:"fit-content",position:"sticky",top:0}:{height:"100%"}},children:[(0,y.jsx)("div",{style:A.nestedDiv,children:(0,y.jsx)(k,{collectionContextStore:e,shouldScrollIntoView:a,isSidebar:!0})}),(0,y.jsx)("div",{style:{width:s}})]})})}):null}function C(t){const{collectionContextStore:e,placementToOrigin:o,alignmentToOrigin:r,originGap:c,marginTop:a,settingsOpen:d,shouldScrollIntoView:u,originRect:g,origin:v=(0,y.jsx)("div",{})}=t,h=(0,i().v3)(),x=(0,n.useCallback)((t=>(0,y.jsx)(k,{collectionContextStore:e,shouldScrollIntoView:u,isSidebar:t})),[e,u]),f=function(t){let{collectionContextStore:e}=t;const o=(0,i().v3)(),n=(0,i().WS)(),r=(0,l().K8)((()=>o.WindowSizeStore.isLandscape()),[o.WindowSizeStore]);return(0,l().K8)((()=>"chart"===(null==e?void 0:e.getViewType())&&n&&!r),[e,n,r])}({collectionContextStore:e});return(0,y.jsx)(S().Ay,{popupType:h.device.isMobile?S().nl.BottomSheet:S().nl.Popup,bottomSheetInitialState:f?"half":"full",className:`${p().N11} ${p().xeF}`,open:d,placementToOrigin:o,alignmentToOrigin:r,style:{marginTop:a},origin:v,originGap:c,render:x,onDismiss:e=>{var o;null===(o=t.onDismiss)||void 0===o||o.call(t),function(t,e){(0,m().SQ)({event:t,context:m().y$.CollectionSettingsClick,callback:()=>{s().os({collectionSettingsStore:e.settingsStore})}})}(e,t.collectionContextStore)},originRect:g,keepFocus:!0,trapFocus:!0,preventScaleTransition:!0,preventOpacityTransition:!0})}const w=function(t){const{collectionContextStore:e,headerSizeObserver:r,contentSizeObserver:s,settingsHeaderSizeObserver:c,placementStore:a,placementToOrigin:d=f().UV.Bottom,alignmentToOrigin:u=f().MY.Start,marginTop:S=-1,originGap:p,headerRef:v}=t,m=(0,i().v3)(),h=(0,l().O$)(a),[x,w]=(0,n.useState)(!1),k=(0,l().K8)((()=>e.isInPeekRendererStore.state),[e.isInPeekRendererStore]),j=(0,l().O$)(e.isFullScreenStore),[_,A]=(0,n.useState)(!1),I=(0,l().K8)((()=>function(t){const e=t.settingsStore.state;return e.open&&!0!==e.hideSettingsPopup}(e)),[e]),K=(0,l().K8)((()=>function(t){var e;const o=null===(e=t.collectionViewStore())||void 0===e?void 0:e.getType();if(!o)throw new Error("View type was not defined.");return o}(t.collectionContextStore)),[t.collectionContextStore]),T=(0,l().K8)((()=>{const t=r.rect.state;return 0!==t.width?(0,g().wW)(e,m.device.isMobile,t.width):"popup"}),[e,m.device.isMobile,r.rect]);(0,n.useEffect)((()=>{I&&(r.recompute(),c.recompute(),a.setState(T)),I&&!j&&"form_editor"!==K&&w(!0)}),[I,j,a,r,c,K,T]);const B=(0,l().K8)((()=>function(t){var e;return null===(e=t.settingsStore.state.ref)||void 0===e||null===(e=e.current)||void 0===e?void 0:e.getBoundingClientRect()}(e)||DOMRect.fromRect({x:c.rect.state.right-2,y:c.rect.state.y-2,width:0,height:c.rect.state.height})),[e,c.rect]);return(0,n.useEffect)((()=>{if(x){const t=null==v?void 0:v.current;if(t){const e=t.getBoundingClientRect();m.WindowSizeStore.state.height-e.top<o(735695).iZ&&((0,o(953418).vq)(t,{edgeDist:0,animate:!1}),r.recompute(),c.recompute())}w(!1)}}),[e,m.WindowSizeStore,r,c,k,x,v]),(0,n.useEffect)((()=>{A(!!I)}),[I]),"sidebar"===h?(0,y.jsx)(b,{collectionContextStore:e,headerSizeObserver:r,contentSizeObserver:s,paddingRight:t.paddingRight,shouldScrollIntoView:x,headerHeightStore:t.headerHeightStore,settingsOpen:_,isInPeekRenderer:k}):(0,y.jsx)(C,{collectionContextStore:e,placementToOrigin:d,alignmentToOrigin:u,originGap:p??0,marginTop:S,settingsOpen:_,shouldScrollIntoView:x,originRect:B})};function k(t){let{isSidebar:e,collectionContextStore:o,shouldScrollIntoView:n}=t;return n?null:(0,y.jsx)(a().m$,{context:g().Bd.ViewSettings,collectionContextStore:o,collectionSettingsStore:o.settingsStore,fullHeight:e})}},541235:(t,e,o)=>{o.d(e,{YD:()=>l,c$:()=>n,q_:()=>i});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",l="dismissed"},739135:(t,e,o)=>{o.d(e,{KD:()=>a,gt:()=>d,i9:()=>c,ll:()=>r,tb:()=>s,x$:()=>l});var n=()=>o(541235),i=()=>o(496603);function l(t,e){return r(d(t,e))}function r(t){return void 0!==t&&(t===n().q_||t===n().YD)}function s(t,e){if(r(e))return;const o=n().c$[t],i=o.steps.findIndex((t=>t.id===e));return-1===i?o.steps[0].id:i===o.steps.length-1?n().q_:o.steps[i+1].id}function c(t,e){const o=d(t,e);if(o&&!r(o))return s(e,o)}function a(t,e){const o=d(t,e);if(o)return function(t,e){const o=n().c$[t];var l;if(r(e))return null===(l=(0,i().HV)(o.steps))||void 0===l?void 0:l.id;const s=o.steps.findIndex((t=>t.id===e));return-1!==s&&0!==s?o.steps[s-1].id:void 0}(e,o)}function d(t,e){var o;if(!t)return;const i=((null===(o=t.getSettings())||void 0===o?void 0:o.tutorials)||{})[e];return void 0===i?n().c$[e].steps[0].id:i}},872735:(t,e,o)=>{o.d(e,{x:()=>J,A:()=>q});var n=o(296540),i=()=>o(484714),l=()=>o(56366),r=()=>o(401497),s=()=>o(955363),c=()=>o(126617),a=()=>o(566910),d=()=>o(500066),u=()=>o(105819),S=()=>o(340498),p=()=>o(959013),g=()=>o(496603),v=()=>o(284371),m=()=>o(436696),h=()=>o(896628),x=()=>o(246826),f=()=>o(778417),y=()=>o(725614),b=()=>o(317909),C=o(474848);const w=function(t){const{store:e,titleStyle:n,actionButton:i}=t,r=(0,l().K8)((()=>e.getParentBlockStore()),[e]);return(0,C.jsx)("div",{children:(0,C.jsxs)("div",{style:{display:"flex"},children:[(0,C.jsx)(o(599945).c,{step:"demo_collection",store:r,children:(0,C.jsx)(o(16006).A,{store:e,style:n})}),i]})})};var k=()=>o(145214),j=()=>o(760217),_=()=>o(406699),A=()=>o(285790),I=()=>o(296798),K=()=>o(928600),T=()=>o(939740),B=()=>o(8980),z=()=>o(14235),O=()=>o(614505),P=()=>o(89924),R=()=>o(246722),V=()=>o(106412),E=()=>o(792540),D=()=>o(722872),L=()=>o(792002),M=()=>o(239529),$=()=>o(519839),H=()=>o(101662);const W=22;function N(t){let{store:e,collectionContextStore:n,isFullScreen:r,canEdit:s,showHoverActionsStore:c}=t;const a=(0,i().v3)(),d=(0,o(963589).X)("db_ux_simplification_next"),u=(0,l().K8)((()=>{const t=o(712505).default.state;return(0,$().RX)(e)||!(0,o(747100).cq)(e)&&t.open&&t.isClosing}),[e]),S=(0,l().K8)((()=>n.collectionStore()),[n]),p=(0,l().K8)((()=>n.collectionViewBlockStore()),[n]),g=(0,l().K8)((()=>Boolean(null==S?void 0:S.isSyncedCollection())),[S]),{WindowSizeStore:v}=a,m=(0,l().K8)((()=>Math.min(o(478726).x6,v.state.width)),[v]);return S&&p?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{style:{...(r||u)&&(0,o(953418).z4)(a)&&{position:"sticky",left:0},...d?{padding:4}:{paddingTop:8},boxSizing:u?"content-box":void 0,width:u?m:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,C.jsx)(J,{collectionContextStore:n,showHoverActionsStore:c}),g&&(0,C.jsx)("div",{style:{display:"flex"},children:(0,C.jsx)(o(346436).A,{canEdit:s,store:p,buttonStyle:{margin:0}})})]}),(0,C.jsx)(o(948049).A,{collectionStore:S,collectionContextStore:n}),(0,C.jsx)(o(556048).GL,{store:S})]}):null}const q=n.memo(N);function U(t){return{fontWeight:v().Wy.bold,fontSize:22,...t?{}:{display:"-webkit-box",lineClamp:1,WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}}}function X(t){let{parent:e,collectionContextStore:o}=t;const n=(0,i().v3)(),r=(0,i().Y0)(),c=(0,l().O$)(o.permissionScopesStore),d=(0,l().K8)((()=>o.collectionStore()),[o]),S=(0,l().K8)((()=>null==d?void 0:d.isSyncedCollection()),[d]),v=(0,l().K8)((()=>Boolean(null==d?void 0:d.isSystemCollection())),[d]);if(!d)return null;const x=g().oE([!v&&{key:"view",render:t=>(0,C.jsx)(j().A,{...t,title:(0,C.jsx)(p().sA,{id:"database.source.viewDatabase.title",defaultMessage:"View database"}),icon:(0,C.jsx)(B().I,{icon:s().N})}),action:t=>{(0,M().q)({environment:n,collectionContextStore:o,event:t.event,buttonPopupParent:e})}},c.canConfigureCollection&&!S&&{key:"edit_name",render:t=>(0,C.jsx)(j().A,{...t,title:(0,C.jsx)(p().sA,{id:"database.source.editTitle.title",defaultMessage:"Edit database title"}),icon:(0,C.jsx)(B().I,{icon:u().x})}),action:()=>{y().selectAllText({environment:n,store:d.getNameStore(),canSelectAllBlocks:!1}),e.close(),(0,m().X)({environment:n,collectionContextStore:o,action:"click_source_edit_title"})}}]),f={key:"show_title",render:t=>(0,C.jsx)(j().A,{...t,icon:(0,C.jsx)(B().I,{icon:a().e}),title:(0,C.jsx)(p().sA,{id:"database.source.hideTitle.title",defaultMessage:"Hide database title"})}),action:()=>{const t=o.collectionViewStore();if(!t)return null;b().createAndCommit({userAction:"CollectionViewBlockSource.showTitleItem",environment:n,canUndo:!0,perform:e=>{h().zA({stores:[t],update:{hide_linked_collection_name:!0},transaction:e})}}),e.close(),(0,m().X)({environment:n,collectionContextStore:o,action:"click_source_hide_title"})}};return(0,C.jsx)(K().A,{menuType:r.isMobile?D().gu.ActionSheet:D().gu.Popup,children:(0,C.jsx)(T().Ay,{type:T().Oh.Vertical,onAccept:e.close,sections:g().oE([x.length>0&&{key:"actions",render:t=>(0,C.jsx)(P().A,{...t}),items:x},c.canConfigureBlock&&{key:"show_title",render:t=>(0,C.jsx)(P().A,{...t,topBorder:!0}),items:[f]}]),initialFocus:void 0})})}function Y(t){let{showHoverActionsStore:e,collectionContextStore:o}=t;const n=(0,i().v3)(),r=(0,l().O$)(e);return(0,C.jsx)(k().A,{visible:r,animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},style:{display:"flex",alignItems:"center",marginLeft:4},children:(0,C.jsx)(_().Ay,{popupType:n.device.isMobile?z().nl.SlideUp:z().nl.Popup,render:t=>(0,C.jsx)(X,{parent:t,collectionContextStore:o}),renderOrigin:t=>(0,C.jsx)(A().A,{icon:c().Y,iconStyle:{width:S().Ev.sm,height:S().Ev.sm},...t}),style:{width:240},originGap:4})})}function G(t){f().IU({environment:t})}function F(t){const{disabled:e,collectionContextStore:o,iconStyle:n,iconSize:c=W}=t,a=(0,r().DP)(),u=(0,i().v3)(),S=(0,l().K8)((()=>o.collectionStore()),[o]),p=(0,l().K8)((()=>o.collectionViewBlockStore()),[o]),g=(0,l().K8)((()=>null==S?void 0:S.getIcon()),[S]),v=(0,l().K8)((()=>{var t;return Boolean((null==S||null===(t=S.getParentBlockStore())||void 0===t?void 0:t.id)===(null==p?void 0:p.id))}),[S,p]),m=(0,l().K8)((()=>null==p?void 0:p.getType()),[p]),h=(0,r().IS)((t=>({iconStyle:{width:c,height:c,marginRight:4,...n}})),[n,c]);return S&&p?g?(0,C.jsxs)("div",{style:{position:"relative",width:c+2,height:c+2,marginRight:4,display:"flex",alignItems:"center",justifyContent:"center"},children:[e?(0,C.jsx)(O().A,{disabled:!0,bucket:"secure",store:S,icon:g,isEmptyPage:!1,style:h.iconStyle,size:c}):(0,C.jsx)(O().A,{disabled:!1,bucket:"secure",store:S,icon:g,isEmptyPage:!1,style:h.iconStyle,size:c,iconLoggingData:{recordTable:S.table,source:"inline_collection",block_type:m,collection_id:S.id},onChange:t=>function(t,e,o){const n=o.collectionStore();if(!n)return;const i=n&&n.getIconStore();i&&b().createAndCommit({userAction:"CollectionViewBlockSource.handleRecordIconChange",environment:e,canUndo:!0,perform:e=>{x().KY({store:i,value:t,transaction:e})}})}(t,u,o)}),!v&&(0,d().G)({position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===a.mode?a.regularTextColor:"#3E3C38",stroke:"dark"===a.mode?a.surface.wash:"white",strokeWidth:"dark"===a.mode?"1.85px":"1.5px"})]}):v?null:(0,C.jsx)("div",{style:{width:20,marginRight:4},children:(0,C.jsx)(B().I,{icon:s().N})}):null}function J(t){let{collectionContextStore:e,showHoverActionsStore:o,titleStyle:n,iconStyle:i,iconSize:r}=t;const[s,c,a]=(0,l().K8)((()=>[e.collectionStore(),e.collectionViewBlockStore(),e.permissionScopesStore.state]),[e]),d=(0,l().K8)((()=>e.viewsModuleContextStore.isInLayoutBuilder()),[e]),u=(0,l().K8)((()=>{const t=e.collectionStore();if(!t)return!1;const o=t.getNameStore();return Boolean((0,L().j_)(o))}),[e]),S=(0,l().K8)((()=>{var t;return Boolean((null==s||null===(t=s.getParentBlockStore())||void 0===t?void 0:t.id)===(null==c?void 0:c.id))}),[s,c]),p=(0,l().K8)((()=>Boolean(null==s?void 0:s.isSyncedCollection())),[s]),g=(0,V().Zp)(),m=(S||u)&&a.canConfigureCollection&&!p;return s&&(null!=g&&g.disableAllPointerEvents||d)?(0,C.jsxs)("div",{style:{width:"max-content",maxWidth:"100%",marginRight:4,display:"flex",alignItems:"center",...v().RC},children:[(0,C.jsx)(F,{collectionContextStore:e,disabled:!0,iconStyle:i,iconSize:r}),(0,C.jsx)(w,{store:s,titleStyle:{...U(),...n}})]}):m?(0,C.jsx)(Q,{collectionContextStore:e,showHoverActionsStore:o,titleStyle:{...U(u),...n},iconStyle:i,iconSize:r}):(0,C.jsx)(Z,{collectionContextStore:e,showHoverActionsStore:o,titleStyle:{...U(),...n},iconStyle:i,iconSize:r})}function Z(t){let{collectionContextStore:e,showHoverActionsStore:o,titleStyle:n,iconStyle:r,iconSize:s}=t;const c=(0,i().v3)(),a=(0,l().K8)((()=>e.collectionStore()),[e]),d=(0,l().K8)((()=>e.collectionViewBlockStore()),[e]),u=(0,l().K8)((()=>Boolean(null==a?void 0:a.isSystemCollection())),[a]),S=(0,l().K8)((()=>{if(!u)return(0,$().t2)(e)}),[e,u]);return a&&d?(0,C.jsxs)(I().A,{disabled:u,style:{width:"max-content",maxWidth:"100%",marginRight:4,...v().RC},innerStyle:{paddingLeft:4,paddingRight:4,display:"flex",alignItems:"center",borderRadius:4},href:S,onClick:()=>function(t,e){(0,m().X)({environment:t,collectionContextStore:e,action:"click_collection_name_link_button"})}(c,e),children:[(0,C.jsx)(F,{collectionContextStore:e,disabled:!0,iconStyle:r,iconSize:s}),(0,C.jsx)(w,{actionButton:(0,C.jsx)(Y,{showHoverActionsStore:o,collectionContextStore:e}),store:a,titleStyle:n})]}):null}function Q(t){let{collectionContextStore:e,showHoverActionsStore:o,titleStyle:n,iconStyle:r,iconSize:s}=t;const c=(0,i().v3)(),a=(0,p().tz)(),d=(0,l().K8)((()=>e.collectionStore()),[e]),u=(0,l().K8)((()=>e.collectionViewBlockStore()),[e]),S=(0,l().K8)((()=>null==d?void 0:d.getNameStore()),[d]),g=(0,l().K8)((()=>{var t;return(null==d||null===(t=d.getModel())||void 0===t?void 0:t.getEmptyTitlePlaceholder({intl:a}))||a.formatMessage(H().k.titlePlaceholder)}),[d,a]);return d&&u&&S?(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",marginLeft:4,marginRight:4},children:[(0,C.jsx)(F,{collectionContextStore:e,disabled:!1,iconStyle:r,iconSize:s}),(0,C.jsx)(R().A,{store:S,style:{...n,marginRight:4},disabled:!1,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableMobileActionBar:!1,disableComment:!0,placeholder:g,onEnter:()=>G(c),onEsc:()=>G(c),onClick:()=>function(t,e){(0,m().X)({environment:t,collectionContextStore:e,action:"click_collection_name_input"})}(c,e),disableShiftEnter:!0,pasteBehavior:"inline",inPageFind:E().Os.none},S.id),(0,C.jsx)(Y,{showHoverActionsStore:o,collectionContextStore:e})]}):null}}}]);