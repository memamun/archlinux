"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[13319],{31902:(e,t,o)=>{o.d(t,{A:()=>a});o(296540);var r=()=>o(959013),i=o(474848);const a=function(e){let{collectionViewName:t,collectionViewType:a}=e;return t?(0,i.jsx)(o(288722).A,{children:t}):"page"===a?(0,i.jsx)(r().sA,{id:"database.collectionView.untitledName.untitled",defaultMessage:"Untitled"}):(0,i.jsx)(r().sA,{...o(519839).Xg[a]})}},523526:(e,t,o)=>{o.r(t),o.d(t,{ActivityUpdate:()=>N});var r=o(296540),i=()=>o(484714),a=()=>o(56366),l=()=>o(813206),s=()=>o(857639),n=()=>o(197959),c=()=>o(630116),d=()=>o(999598),u=()=>o(584262),h=()=>o(519831),p=()=>o(959013),v=()=>o(296798),g=()=>o(921194),A=()=>o(12296),b=()=>o(81905),m=()=>o(360137),y=()=>o(423213),f=()=>o(77179),O=()=>o(479233),S=o(474848);function x(e){let{edit:t,url:o,tabArgs:r,rootStore:a}=e;const l=(0,i().v3)(),{source:s}=r,n=l.device.isMobile;return(0,S.jsx)(v().A,{href:o,innerStyle:(0,m().aY)({source:s,isMobile:n}),children:(0,S.jsx)(g().A,{edit:t,rootStore:a})})}var j=()=>o(107273);o(581454);var T=()=>o(401497),M=()=>o(743176);function K(e){let{edit:t,url:o,tabArgs:r,rootStore:a}=e;const l=(0,i().v3)();if("collection-property-changed"!==t.type)return null;const{source:s}=r,n=l.device.isMobile;return(0,S.jsx)(v().A,{href:o,innerStyle:(0,m().aY)({source:s,isMobile:n}),children:(0,S.jsx)(g().A,{edit:t,rootStore:a})})}function k(e){let{propertySchema:t}=e;const o=(0,T().DP)(),r=(0,T().IS)((()=>({icon:{width:12,height:12,display:"inline-block",verticalAlign:"middle",marginBottom:2,marginRight:4},container:{...m().a_,whiteSpace:"nowrap"}})),[]);return(0,S.jsxs)("span",{style:r.container,children:[(0,S.jsx)(M().Ay,{icon:t.icon,type:t.type,size:12,style:r.icon,theme:o}),t.name]})}var _=()=>o(179034);function w(e){const{activity:t,tabArgs:o,rootStore:r,isLast:l}=e,{notification:s,tab:n}=o,u=(0,i().v3)(),h=(0,a().K8)((()=>parseInt(t.end_time)),[t]),v=(0,a().K8)((()=>t.getEdits()),[t]),g=v[0],m=(0,a().K8)((()=>c().Bv.createChildStore(r,{table:_().ev,id:t.collection_row_id})),[t,r]),x=(0,a().K8)((()=>m.getProperties()),[m]),j=(0,a().K8)((()=>(0,d().Ln)({edits:v,rootStore:r})),[v,r]),T=(0,a().K8)((()=>(0,d().bD)(j)),[j]),M=(0,a().K8)((()=>(0,d().DU)({recordId:m.id,recordType:"block",tab:n,rootStore:r,environment:u})),[m.id,u,r,n]);if(!v.length||!m||!x)return null;const K=(0,S.jsx)(y().A,{titledRecordStore:m,activity:t,tabArgs:o,getRecordModel:r.getRecordModel}),k="collection-row-created"===g.type?(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {pageTitle}} other {{authorOrAuthors} created {pageTitle}}}",values:{numberOfAuthors:j.length,authorOrAuthors:T,pageTitle:K},id:"activity.collectionRowCreated.header"}):(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted {pageTitle}} other {{authorOrAuthors} deleted {pageTitle}}}",values:{numberOfAuthors:j.length,authorOrAuthors:T,pageTitle:K},id:"activity.collectionRowDeleted.header"});return(0,S.jsx)(f().Ay,{timestamp:h,header:(0,S.jsx)("span",{children:k}),isLast:l,isPrivate:M,rootStore:r,navigableBlockId:m.id,icon:(0,S.jsx)(f().H8,{authors:j,size:24}),showSnapshotButton:(0,O().m)(o),...(0,A().em)({notification:s,activity:t,environment:u,tab:n}),children:(0,S.jsx)(b().A,{tabArgs:o,activity:t,isMobile:u.device.isMobile,environment:u,rootStore:r})})}var R=()=>o(745266),P=()=>o(31902);function L(e){const{edit:t,authors:o,collectionViewTitle:r,collectionTitle:i}=e,l=(0,a().K8)((()=>(0,d().bD)(o)),[o]);return"collection-view-created"===t.type?(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:l,collectionTitle:i,collectionViewTitle:r},id:"activity.collectionViewCreated.header"}):"collection-view-deleted"===t.type?(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:l,collectionTitle:i,collectionViewTitle:r},id:"activity.collectionViewDeleted.header"}):(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:l,collectionTitle:i,collectionViewTitle:r},id:"activity.collectionViewEdited.header"})}function I(e){let{collectionViewStore:t,rootStore:o,activity:r,tabArgs:l}=e;const s=(0,i().v3)(),{url:n,icon:c,type:d,name:h}=(0,a().K8)((()=>{var e;return{url:null===(e=t.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:o.getRecordModel,pageVisitSource:u().y8.Activity}),icon:t.getFormat().collection_view_icon,type:t.getType(),name:t.getName()}}),[t,o]);return d?(0,S.jsxs)(v().A,{href:n,onClick:()=>(0,A().Qo)({environment:s,activity:r,...l}),external:!1,innerStyle:{...m().vF,...m().a_},inline:!0,children:[(0,S.jsx)(R().h,{viewIcon:c,viewType:d,color:"light",style:{display:"inline-block",verticalAlign:"middle",marginRight:4,marginBottom:2},size:12}),(0,S.jsx)(P().A,{collectionViewName:h,collectionViewType:d})]}):null}function B(e){const{activity:t,rootStore:r,isLast:l,tabArgs:s}=e,n=(0,i().v3)(),{notification:c,tab:u}=s,h=(0,a().K8)((()=>t.getEdits()),[t]),v=h[0],g=(0,a().K8)((()=>(0,d().Ln)({edits:h,rootStore:r})),[h,r]),m=(0,a().K8)((()=>v&&r.getRecordStore(r,{table:_().ev,id:v.navigable_block_id,spaceId:v.space_id})),[v,r]),O=(0,a().K8)((()=>m&&(0,d().DU)({recordId:m.id,recordType:"block",tab:u,rootStore:r,environment:n})),[m,n,r,u]),x=(0,a().K8)((()=>(0,d().bD)(g)),[g]),j=(0,a().K8)((()=>t.type),[t]),T=(0,a().K8)((()=>t.end_time),[t]);if(!h.length||!v||!m)return null;const M=(0,S.jsx)(y().A,{titledRecordStore:m,activity:t,tabArgs:s,getRecordModel:r.getRecordModel});let K;return"page-deleted"===j?K=(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted {blockTitle}} other {{authorOrAuthors} deleted {blockTitle}}}",values:{numberOfAuthors:g.length,authorOrAuthors:x,blockTitle:M},id:"emailActivity.pageDeleted.header"}):"page-restored"===j?K=(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restored {blockTitle}} other {{authorOrAuthors} restored {blockTitle}}}",values:{numberOfAuthors:g.length,authorOrAuthors:x,blockTitle:M},id:"emailActivity.pageRestored.header"}):"page-permanently-deleted"===j?K=(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} permanently deleted {blockTitle}} other {{authorOrAuthors} permanently deleted {blockTitle}}}",values:{numberOfAuthors:g.length,authorOrAuthors:x,blockTitle:M},id:"emailActivity.pagePermanentlyDeleted.header"}):(0,o(534177).HB)(j),(0,S.jsx)(f().Ay,{timestamp:parseInt(T),header:(0,S.jsx)("span",{children:K}),isPrivate:O,isLast:l,rootStore:r,navigableBlockId:m.id,icon:(0,S.jsx)(f().H8,{authors:g,size:24}),showSnapshotButton:!1,...(0,A().em)({notification:c,activity:t,environment:n,tab:u}),children:(0,S.jsx)(b().A,{tabArgs:s,activity:t,isMobile:n.device.isMobile,environment:n,rootStore:r})})}function D(e){const{activity:t,rootStore:o,isLast:r,tabArgs:l}=e,{notification:s,tab:n}=l,u=(0,i().v3)(),h=(0,a().K8)((()=>t.type),[t]),v=(0,a().K8)((()=>parseInt(t.end_time)),[t]),g=(0,a().K8)((()=>t.getEdits()),[t]),m=g[0],O=m&&m.navigable_block_id,x=(0,a().K8)((()=>O&&c().Bv.createChildStore(o,{table:_().ev,id:O})),[O,o]),j=(0,a().K8)((()=>(0,d().Ln)({edits:g,rootStore:o})),[g,o]),T=(0,a().K8)((()=>(0,d().bD)(j)),[j]),M=(0,a().K8)((()=>O&&(0,d().DU)({recordId:O,recordType:"block",tab:n,rootStore:o,environment:u})),[O,n,o,u]);if(!g.length||!m||!x)return null;const K=(0,S.jsx)(y().A,{titledRecordStore:x,activity:t,tabArgs:l,getRecordModel:o.getRecordModel}),k="page-locked"===h?(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} locked {blockTitle}} other {{authorOrAuthors} locked {blockTitle}}}",values:{numberOfAuthors:j.length,authorOrAuthors:T,blockTitle:K},id:"activity.pageLocked.header"}):(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} unlocked {blockTitle}} other {{authorOrAuthors} unlocked {blockTitle}}}",values:{numberOfAuthors:j.length,authorOrAuthors:T,blockTitle:K},id:"activity.pageUnlocked.header"});return(0,S.jsx)(f().Ay,{timestamp:v,header:(0,S.jsx)("span",{children:k}),isPrivate:M,isLast:r,rootStore:o,navigableBlockId:O,icon:(0,S.jsx)(f().H8,{authors:j,size:24}),showSnapshotButton:!1,...(0,A().em)({notification:s,activity:t,environment:u,tab:n}),children:(0,S.jsx)(b().A,{tabArgs:l,activity:t,isMobile:u.device.isMobile,environment:u,rootStore:o})})}o(944114),o(898992),o(354520),o(803949);function V(e){const{tabArgs:t,rootStore:o,activity:r,isLast:l}=e,{notification:s,tab:n}=t,u=(0,i().v3)(),h=(0,a().K8)((()=>parseInt(r.end_time)),[r]),v=(0,a().K8)((()=>r.getEdits()),[r]),g=v[0],b=(0,a().K8)((()=>c().Bv.createChildStore(o,{table:_().ev,id:r.top_level_block_id})),[r,o]),m=(0,a().K8)((()=>b.hasSpacePermission()),[b]),O=(0,a().K8)((()=>(0,d().Ln)({edits:v,rootStore:o})),[v,o]),x=(0,a().K8)((()=>(0,d().bD)(O)),[O]),j=(0,a().K8)((()=>(0,d().DU)({recordId:b.id,recordType:"block",tab:n,rootStore:o,environment:u})),[b,n,o,u]);if(!v.length||!b)return null;const T=(0,S.jsx)(y().A,{titledRecordStore:b,activity:r,tabArgs:t,getRecordModel:o.getRecordModel});let M;return M=m?"top-level-block-created"===g.type?(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created workspace page {pageTitle}} other {{authorOrAuthors} created workspace page {pageTitle}}}",values:{numberOfAuthors:O.length,authorOrAuthors:x,pageTitle:T},id:"activity.topLevelBlockWorkspaceCreated.header"}):(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted workspace page {pageTitle}} other {{authorOrAuthors} deleted workspace page {pageTitle}}}",values:{numberOfAuthors:O.length,authorOrAuthors:x,pageTitle:T},id:"activity.topLevelBlockWorkspaceDeleted.header"}):"top-level-block-created"===g.type?(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created private page {pageTitle}} other {{authorOrAuthors} created private page {pageTitle}}}",values:{numberOfAuthors:O.length,authorOrAuthors:x,pageTitle:T},id:"activity.topLevelBlockPrivateCreated.header"}):(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted private page {pageTitle}} other {{authorOrAuthors} deleted private page {pageTitle}}}",values:{numberOfAuthors:O.length,authorOrAuthors:x,pageTitle:T},id:"activity.topLevelBlockPrivateDeleted.header"}),(0,S.jsx)(f().Ay,{timestamp:h,header:(0,S.jsx)("span",{children:M}),isLast:l,isPrivate:j,rootStore:o,icon:(0,S.jsx)(f().H8,{authors:O,size:24}),showSnapshotButton:!1,...(0,A().em)({notification:s,activity:r,environment:u,tab:n})})}function N(e){const{activity:t,rootStore:o,tabArgs:u,isLast:h}=e,p=(0,i().v3)();(0,r.useEffect)((()=>{!function(e,t){if("commented"===e.type){const r=c().sk.createChildStore(t,{table:n().$Y,id:e.discussion_id,spaceId:e.space_id});if(r.isDefined()){const e=r.getCommentStores();for(const t of e){var o;null===(o=t.getCreatedByStore())||void 0===o||o.load()}}}}(t,o),p.KatexStore.loadIfNeeded((()=>function(e,t){const o=(0,d().U6)({activity:e,rootStore:t});if(!o)return;return o.context}(t,o)))}),[p.KatexStore,t,o]);const v=(0,a().K8)((()=>t.type),[t]);if(!l().zu(v))return s().log({level:"error",from:"ActivityUpdate",type:"unsupportedActivityType",data:{message:`Activity type ${v} is not supported for ActivityUpdate`}}),null;const g=E[v];return(0,S.jsx)(g,{activity:t,tabArgs:u,rootStore:o,isLast:h})}const E={"block-edited":o(191278).A,"collection-row-created":w,"collection-row-deleted":w,"top-level-block-created":V,"top-level-block-deleted":V,"permissions-edited":function(e){const{tabArgs:t,rootStore:r,activity:s,isLast:n}=e,{notification:u,tab:h,source:v}=t,O=(0,i().v3)(),x=(0,a().K8)((()=>parseInt(s.end_time)),[s]),T=(0,a().K8)((()=>(0,j().W9)(s.getEdits())),[s]),M=T[0],{autojoinEdits:K,inheritanceEdits:k,otherEdits:w}=l().J6(T),R=(0,a().K8)((()=>K.map((e=>{const t=(0,d().Ln)({edits:[e],rootStore:r});return{edit:e,authors:t,authorPhrase:(0,d().bD)(t)}}))),[K,r]),P=(0,a().K8)((()=>k.map((e=>{const t=(0,d().Ln)({edits:[e],rootStore:r});return{edit:e,authors:t,authorPhrase:(0,d().bD)(t)}}))),[k,r]),L=w.filter((e=>!e.inSudoMode)),I=w.filter((e=>e.inSudoMode)),B=(0,a().K8)((()=>(0,d().Ln)({edits:L,rootStore:r})),[L,r]),D=(0,a().K8)((()=>(0,d().bD)(B)),[B]),V=(0,a().K8)((()=>(0,d().Ln)({edits:I,rootStore:r})),[r,I]),N=(0,a().K8)((()=>(0,d().bD)(V)),[V]),{isPrivate:E,pageOrSpace:U}=(0,a().K8)((()=>{if(M&&M.navigable_block_id){const e=c().Bv.createChildStore(r,{table:_().ev,id:M.navigable_block_id});return e.isDefined()?{pageOrSpace:(0,S.jsx)(y().A,{titledRecordStore:e,activity:s,tabArgs:t,getRecordModel:r.getRecordModel}),isPrivate:(0,d().DU)({recordId:e.id,recordType:"block",tab:h,rootStore:r,environment:O})}:{pageOrSpace:void 0,isPrivate:!1}}{const e=M&&c().SL.createChildStore(r,{table:o(96689).NX,id:M.space_id});return e.isDefined()?{pageOrSpace:(0,S.jsx)(y().A,{titledRecordStore:e,activity:s,tabArgs:t,getRecordModel:r.getRecordModel}),isPrivate:!1}:{pageOrSpace:void 0,isPrivate:!1}}}),[s,M,O,r,h,t]);if(!U||0===T.length)return null;const C=[];R.forEach(((e,t)=>{let{edit:o,authors:i,authorPhrase:a}=e;C.push((0,S.jsx)(f().Ay,{timestamp:o.timestamp,header:(0,S.jsx)("span",{children:(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} joined {pageOrSpaceName}} other {{authorOrAuthors} joined {pageOrSpaceName}}}",values:{numberOfAuthors:i.length,authorOrAuthors:a,pageOrSpaceName:U},id:"activity.permissionsActivity.header"})}),isLast:n,isPrivate:E,rootStore:r,navigableBlockId:o.navigable_block_id,icon:(0,S.jsx)(f().H8,{authors:i,size:24}),showSnapshotButton:!1,...(0,A().em)({notification:u,activity:s,environment:O,tab:h})},`autojoin-${t}`))}));const z=O.device.isMobile;P.forEach(((e,o)=>{let i,{edit:a,authors:l,authorPhrase:c}=e;"permission-restriction-created"===a.type?i=(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restricted access for {pageOrSpaceName}} other {{authorOrAuthors} restricted access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",values:{numberOfAuthors:l.length,authorOrAuthors:c,pageOrSpaceName:U,inSudoMode:a.inSudoMode},id:"activity.restrictPermissionsForActivity.header"}):"permission-restriction-deleted"===a.type&&(i=(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restored inherited access for {pageOrSpaceName}} other {{authorOrAuthors} restored inherited access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",values:{numberOfAuthors:l.length,authorOrAuthors:c,pageOrSpaceName:U,inSudoMode:a.inSudoMode},id:"activity.restorePermissionsForActivity.header"})),C.push((0,S.jsxs)(f().Ay,{timestamp:x,header:(0,S.jsx)("span",{children:i}),isLast:n,isPrivate:E,rootStore:r,navigableBlockId:a.navigable_block_id,icon:(0,S.jsx)(f().H8,{authors:l,size:24}),showSnapshotButton:!1,...(0,A().em)({notification:u,activity:s,environment:O,tab:h}),children:[(0,S.jsx)("div",{style:(0,m().aY)({source:v,isMobile:z}),children:(0,S.jsx)(g().A,{edit:a,rootStore:r})}),(0,S.jsx)(b().A,{tabArgs:t,activity:s,isMobile:z,environment:O,rootStore:r})]},`inheritance-${o}`))}));const H=(e,o,i,a)=>{e.length>0&&C.push((0,S.jsxs)(f().Ay,{timestamp:x,header:a,isLast:n,isPrivate:E,rootStore:r,navigableBlockId:M.navigable_block_id,icon:(0,S.jsx)(f().H8,{authors:o,size:24}),showSnapshotButton:!1,...(0,A().em)({notification:u,activity:s,environment:O,tab:h}),children:[e.map(((e,t,o)=>(0,S.jsx)("div",{style:(0,m().aY)({source:v,isMobile:z}),children:(0,S.jsx)(g().A,{edit:e,rootStore:r},t)},t))),(0,S.jsx)(b().A,{tabArgs:t,activity:s,isMobile:O.device.isMobile,environment:O,rootStore:r})]},i))};return L.length>0&&H(L,B,"other",(0,S.jsx)("span",{children:(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}}",values:{numberOfAuthors:B.length,authorOrAuthors:D,pageOrSpaceName:U},id:"activity.updatedPermissionsForActivity.header"})})),I.length>0&&H(I,V,"other-sudo",(0,S.jsx)("span",{children:(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}} using administrator privileges",values:{numberOfAuthors:V.length,authorOrAuthors:N,pageOrSpaceName:U},id:"activity.updatedPermissionsForActivityInSudoMode.header"})})),(0,S.jsx)(S.Fragment,{children:C})},commented:o(397682).mV,"collection-edited":function(e){const{activity:t,tabArgs:o,rootStore:r,isLast:s}=e,{notification:n,tab:c}=o,v=(0,i().v3)(),g=(0,a().K8)((()=>parseInt(t.end_time)),[t]),m=(0,a().K8)((()=>t.collection_id),[t]),j=(0,a().K8)((()=>t.navigable_block_id),[t]),T=(0,a().K8)((()=>t.getEdits()),[t]),M=T[0],K=(0,a().K8)((()=>r.getRecordStore(r,{table:h().Vl,id:m,spaceId:t.space_id})),[m,t,r]),k=(0,a().K8)((()=>{var e;return null===(e=K.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:r.getRecordModel,pageVisitSource:u().y8.Activity})}),[K,r.getRecordModel]),_=(0,a().K8)((()=>(0,d().Ln)({edits:T,rootStore:r})),[T,r]),w=(0,a().K8)((()=>(0,d().bD)(_)),[_]),R=(0,a().K8)((()=>(0,d().DU)({recordId:m,recordType:"collection",tab:c,rootStore:r,environment:v})),[m,c,r,v]);if(!(K&&T.length&&M&&k))return null;const P=(0,S.jsx)(y().A,{titledRecordStore:K,activity:t,tabArgs:o,getRecordModel:r.getRecordModel}),L="collection-created"===M.type?(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {collectionTitle}} other {{authorOrAuthors} created {collectionTitle}}}",values:{numberOfAuthors:_.length,authorOrAuthors:w,collectionTitle:P},id:"activity.collectionCreated.header"}):(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {collectionTitle}} other {{authorOrAuthors} edited {collectionTitle}}}",values:{numberOfAuthors:_.length,authorOrAuthors:w,collectionTitle:P},id:"activity.collectionEdited.header"});return(0,S.jsxs)(f().Ay,{timestamp:g,header:(0,S.jsx)("span",{children:L}),isLast:s,isPrivate:R,rootStore:r,navigableBlockId:j,icon:(0,S.jsx)(f().H8,{authors:_,size:24}),showSnapshotButton:(0,O().m)(o),...(0,A().em)({notification:n,activity:t,environment:v,tab:c}),children:[l().r$(M)&&(0,S.jsx)(x,{tabArgs:o,rootStore:r,edit:M,url:k}),(0,S.jsx)(b().A,{tabArgs:o,activity:t,isMobile:v.device.isMobile,environment:v,rootStore:r})]})},"collection-view-edited":function(e){const{activity:t,tabArgs:r,rootStore:l,isLast:s}=e,{notification:n,tab:c}=r,u=(0,i().v3)(),p=(0,a().K8)((()=>parseInt(t.end_time)),[t]),v=(0,a().K8)((()=>t.collection_id),[t]),g=(0,a().K8)((()=>t.navigable_block_id),[t]),m=(0,a().K8)((()=>(0,j().W9)(t.getEdits())),[t]),x=m[0],T=(0,a().K8)((()=>l.getRecordStore(l,{table:h().Vl,id:v,spaceId:t.space_id})),[t,v,l]),M=(0,a().K8)((()=>l.getRecordStore(l,{table:o(869558).Gy,id:t.collection_view_id,spaceId:t.space_id})),[t,l]),K=(0,a().K8)((()=>(0,d().Ln)({edits:m,rootStore:l})),[m,l]),k=(0,S.jsx)(I,{rootStore:l,collectionViewStore:M,activity:t,tabArgs:r}),_=(0,S.jsx)(y().A,{titledRecordStore:T,activity:t,tabArgs:r,getRecordModel:l.getRecordModel}),w=(0,a().K8)((()=>(0,d().DU)({recordId:v,recordType:"collection",tab:c,rootStore:l,environment:u})),[v,c,l,u]);return x&&T&&M?(0,S.jsx)(f().Ay,{timestamp:p,header:(0,S.jsx)("span",{children:(0,S.jsx)(L,{edit:x,authors:K,collectionTitle:_,collectionViewTitle:k})}),isLast:s,isPrivate:w,rootStore:l,navigableBlockId:g,icon:(0,S.jsx)(f().H8,{authors:K,size:24}),showSnapshotButton:(0,O().m)(r),...(0,A().em)({notification:n,activity:t,environment:u,tab:c}),children:(0,S.jsx)(b().A,{tabArgs:r,activity:t,isMobile:u.device.isMobile,environment:u,rootStore:l})}):null},"collection-property-edited":function(e){const{activity:t,tabArgs:r,rootStore:l,isLast:s}=e,{notification:n,tab:c}=r,v=(0,i().v3)(),g=(0,a().K8)((()=>parseInt(t.end_time)),[t]),m=(0,a().K8)((()=>t.collection_id),[t]),x=(0,a().K8)((()=>t.navigable_block_id),[t]),T=(0,a().K8)((()=>(0,j().W9)(t.getEdits())),[t]),M=T[0],_=(0,a().K8)((()=>l.getRecordStore(l,{table:h().Vl,id:m,spaceId:t.space_id})),[m,t.space_id,l]),w=(0,a().K8)((()=>{var e;return null===(e=_.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:l.getRecordModel,pageVisitSource:u().y8.Activity})}),[_,l]),R=(0,a().K8)((()=>(0,d().Ln)({edits:T,rootStore:l})),[T,l]),P=(0,a().K8)((()=>(0,d().bD)(R)),[R]),L=(0,a().K8)((()=>(0,d().DU)({recordId:m,recordType:"collection",tab:c,rootStore:l,environment:v})),[m,c,l,v]);if(!_||!M||!w)return null;const I="collection-property-changed"===M.type?M.collection_property_data.after:M.collection_property_data,B=(0,S.jsx)(y().A,{titledRecordStore:_,activity:t,tabArgs:r,getRecordModel:l.getRecordModel}),D=(0,S.jsx)(k,{propertySchema:I});let V;return V="collection-property-created"===M.type?(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:R.length,authorOrAuthors:P,collectionTitle:B,collectionPropertyTitle:D},id:"activity.collectionPropertyCreated.header"}):"collection-property-deleted"===M.type?(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:R.length,authorOrAuthors:P,collectionTitle:B,collectionPropertyTitle:D},id:"activity.collectionPropertyDeleted.header"}):(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:R.length,authorOrAuthors:P,collectionTitle:B,collectionPropertyTitle:D},id:"activity.collectionPropertyEdited.header"}),(0,S.jsxs)(f().Ay,{timestamp:g,header:(0,S.jsx)("span",{children:V}),isLast:s,isPrivate:L,rootStore:l,navigableBlockId:x,icon:(0,S.jsx)(f().H8,{authors:R,size:24}),showSnapshotButton:(0,O().m)(r),...(0,A().em)({notification:n,activity:t,environment:v,tab:c}),children:[(0,S.jsx)(o(6533).A,{visible:5,items:T.map((e=>(0,S.jsx)(K,{tabArgs:r,rootStore:l,edit:e,url:w},e.collection_property_id)))}),(0,S.jsx)(b().A,{tabArgs:r,activity:t,isMobile:v.device.isMobile,environment:v,rootStore:l})]})},"page-locked":D,"page-unlocked":D,"page-deleted":B,"page-restored":B,"page-permanently-deleted":B,"collection-page-layout-edited":function(e){const{activity:t,tabArgs:o,rootStore:r,isLast:l}=e,{notification:s,tab:n}=o,c=(0,i().v3)(),v=(0,a().K8)((()=>parseInt(t.end_time)),[t]),g=(0,a().K8)((()=>t.collection_id),[t]),b=(0,a().K8)((()=>(0,j().W9)(t.getEdits())),[t]),m=b[0],x=(0,a().K8)((()=>r.getRecordStore(r,{table:h().Vl,id:g,spaceId:t.space_id})),[g,t.space_id,r]),T=(0,a().K8)((()=>{var e;return null===(e=x.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:r.getRecordModel,pageVisitSource:u().y8.Activity})}),[x,r]),M=(0,a().K8)((()=>(0,d().Ln)({edits:b,rootStore:r})),[b,r]),K=(0,a().K8)((()=>(0,d().bD)(M)),[M]),k=(0,a().K8)((()=>(0,d().DU)({recordId:g,recordType:"collection",tab:n,rootStore:r,environment:c})),[g,n,r,c]);if(!x||!m||!T)return null;const _=(0,S.jsx)(y().A,{titledRecordStore:x,activity:t,tabArgs:o,getRecordModel:r.getRecordModel}),w=(0,S.jsx)(p().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited the layout of {collectionTitle}} other {{authorOrAuthors} edited the layout of {collectionTitle}}}",values:{numberOfAuthors:M.length,authorOrAuthors:K,collectionTitle:_},id:"activity.collectionPageLayoutEdited.header"});return(0,S.jsx)(f().Ay,{timestamp:v,header:(0,S.jsx)("span",{children:w}),isLast:l,isPrivate:k,rootStore:r,icon:(0,S.jsx)(f().H8,{authors:M,size:24}),showSnapshotButton:(0,O().m)(o),...(0,A().em)({notification:s,activity:t,environment:c,tab:n})})}}}}]);