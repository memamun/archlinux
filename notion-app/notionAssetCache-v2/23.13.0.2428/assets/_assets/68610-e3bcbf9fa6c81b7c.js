"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[68610],{346:(e,t,i)=>{i.d(t,{MG:()=>p,T1:()=>g,a1:()=>v,dt:()=>f,kg:()=>m,lC:()=>b,n_:()=>S});var n=i(296540),o=()=>i(484714),r=()=>i(56366),a=()=>i(187174),s=()=>i(645873),d=()=>i(941463),c=()=>i(441199),l=()=>i(749687),h=()=>i(737230),u=()=>i(756114);const g=new(s().O2)("PerformanceToolbar",(()=>Promise.all([i.e(23806),i.e(16471),i.e(47123),i.e(17989),i.e(56985),i.e(48680),i.e(45624)]).then(i.bind(i,140401)))),p=(0,s()._h)(g,(e=>e.PerformanceToolbar)),f=(0,s()._h)(g,(e=>e.PerformanceToolbarSettings));function m(){const e=(0,o().v3)();return(0,r().K8)((()=>(0,u().D)(e,e.RouterStore.state)),[e])}function S(){const e=(0,o().v3)(),t=_("PerformanceToolbarStore"),i=_("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!i)&&i(e,e.RouterStore.state,t.state)),[i,e,t])}function b(){const e=_("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function v(){const e=(0,o().v3)(),t=_("createPerformanceToolbarMouseListeners"),i=_("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:u,secondarySidebarWidth:g,updateSidebarExpanded:p,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:l().sidebarExpandedStore.state,sidebarWidth:l().sidebarWidthStore.state,secondarySidebarExpanded:c().default.isOpen(),secondarySidebarWidth:d().Ay.getWidth(),updateSidebarExpanded:h().Ay.state.expanded,updateSidebarWidth:h().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(i&&t)return t(e,(e=>i.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,u,g,p,f)}),[t,e,i,a,s,u,g,p,f])}function _(e){const t=m(),[{value:i}]=(0,a().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return i}},51367:(e,t,i)=>{i.d(t,{DL:()=>a,Sq:()=>d,Y5:()=>s,gc:()=>l,wo:()=>c});var n=()=>i(917629),o=()=>i(989423),r=()=>i(508496);function a(e,t){const i=(0,n().h2)(t.callout_key);i&&(t.placement_key=(0,n().t9)(i)),(0,o().u4)({environment:e,event:{eventName:"callout_show",eventProperties:t}}),r().default.logEvent("callout_show",t.callout_key)}function s(e,t){const i=(0,n().h2)(t.callout_key);i&&(t.placement_key=(0,n().t9)(i)),(0,o().u4)({environment:e,event:{eventName:"callout_click",eventProperties:t}}),r().default.logEvent("callout_click",t.callout_key)}function d(e,t){const i=(0,n().h2)(t.callout_key);i&&(t.placement_key=(0,n().t9)(i)),(0,o().u4)({environment:e,event:{eventName:"callout_dismiss",eventProperties:t}}),r().default.logEvent("callout_dismiss",t.callout_key)}function c(e,t){const{eligible_callouts:i,required_arg_timeout:n,required_args_run_duration:r,eligibility_timeouts:a,blocklist:s}=t;(0,o().u4)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:i,required_arg_timeout:n,required_args_run_duration:r,eligibility_timeouts:a,blocklist:s}}})}function l(e,t){(0,o().u4)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}},63467:(e,t,i)=>{i.d(t,{y:()=>l});var n=()=>i(637997),o=()=>i(267419);const r={ko:()=>i.e(2268).then(i.bind(i,224434)),es:()=>i.e(95264).then(i.bind(i,196425)),de:()=>i.e(35390).then(i.bind(i,653703)),fr:()=>i.e(3272).then(i.bind(i,94677)),pt:()=>i.e(27315).then(i.bind(i,766869)),zh:()=>i.e(69945).then(i.bind(i,516814)),ja:()=>i.e(77757).then(i.bind(i,824432)),da:()=>i.e(9423).then(i.bind(i,440761)),fi:()=>i.e(59337).then(i.bind(i,462135)),nb:()=>i.e(2040).then(i.bind(i,937314)),nl:()=>i.e(51106).then(i.bind(i,530897)),sv:()=>i.e(53631).then(i.bind(i,895222))};let a=!1,s=!1;async function d(e){for(const[i,o]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[i]={...n().fB[i],keywords:[...o,...(null===(t=n().fB[i])||void 0===t?void 0:t.keywords)||[]]}}await o().A.waitUntilLoaded(),o().A.update((t=>{let{emojiByName:i,...n}=t;return{...n,emojiByName:{...i,...e.emojiByName}}}))}async function c(){if(a)return;const[e]=i(662303).locale.split("-");e in r&&(await d(await r[e]()),a=!0)}const l=(0,i(279900).A)((async()=>{await async function(){s||(await d(await i.e(51872).then(i.bind(i,443716))),s=!0)}(),await c()}))},72307:(e,t,i)=>{i.d(t,{A:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},132456:(e,t,i)=>{i.d(t,{J4:()=>y,kw:()=>A,lf:()=>w});i(16280),i(816573),i(878100),i(177936),i(748140),i(821903),i(491134),i(128845),i(237467),i(444732),i(979577),i(581454);var n=i.n(i(883503)),o=()=>i(496603),r=()=>i(720665),a=()=>i(416845),s=()=>i(628536),d=()=>i(96689);const c={version:8,notion_version:0,variant:2},l={version:8,notion_version:1,variant:2},h=0,u=1,g=6,p=8,f=10,m=Date.UTC(2024,0,1);function S(e,t){if(e)return t[h]=255,t[h+1]=240|15&t[h+1],t;const i=Math.floor(((new Date).getTime()-m)/r().nD);if(i>=4096||i<0)throw new Error("Invalid offsetInDays.");return t[h]=i>>4,t[h+1]=i<<4&240|15&t[h+1],t}function b(e,t){if(e>=2**36||e<0)throw new Error("Invalid spaceShortId.");t[u]=240&t[u]|e/2**32&15;for(let i=0;i<4;i++)t[u+1+i]=e/2**(24-8*i)&255;return t}function v(e,t){const i=e?1:0;return t[g]=c.version<<4&240|c.notion_version<<1&14|1&i,t[p]=c.variant<<6&192|63&t[p],t}function _(e,t){if("block"===e)return t[f]=(0,s().vi)(e)|63&t[f],t;const i=(0,s().vi)(e);return t[f]=i>>8&127,t[f+1]=255&i,t}function I(e,t){const i=(0,s().TG)(e);return t[f]=127&i|128&t[f],t}function A(e,t,i,n){const o=new Uint8Array(16),r=globalThis.crypto.getRandomValues(o);return i!==d().NX&&S(e,r),b(t,r),v(n,r),_(i,r),T(r)}function y(e,t,i,n){return A(e,t,i,n)}function w(e,t,i){return C(e,t,i)}function C(e,t,i){const r=n()(i),d=o().iv(r,2).map((e=>parseInt(e.join(""),16)));if((0,s().ep)(t)){if(void 0===e)throw new(a().Um)(`Deterministic ID for '${t}' must specify a space short id`)}else if(void 0!==e)throw new(a().Um)(`Deterministic ID for '${t}' should not provide a space short id`);const c=new Uint8Array(d);return e&&b(e,c),I(t,c),function(e){e[g]=240&l.version<<4|14&l.notion_version<<1|1&e[g],e[p]=192&l.variant<<6|63&e[p]}(c),T(c)}const k=new Array(256).fill(0).map(((e,t)=>t.toString(16).padStart(2,"0")));function T(e){let t=0;return k[e[t++]]+k[e[t++]]+k[e[t++]]+k[e[t++]]+"-"+k[e[t++]]+k[e[t++]]+"-"+k[e[t++]]+k[e[t++]]+"-"+k[e[t++]]+k[e[t++]]+"-"+k[e[t++]]+k[e[t++]]+k[e[t++]]+k[e[t++]]+k[e[t++]]+k[e[t++]]}},191197:(e,t,i)=>{i.d(t,{i:()=>o,z:()=>r});var n=()=>i(989423);function o(e,t){const{from:i}=t;n().vd(e,"show_tooltip",{from:i,time:Date.now()})}function r(e,t){const{from:i}=t;n().vd(e,"dismiss_tooltip",{from:i,time:Date.now()})}},279900:(e,t,i)=>{function n(e){let t,i,n;return async function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t?(n=r,i||(i=t.then((()=>(i=void 0,t=e(...n),t))),i)):(t=e(...r),t)}}i.d(t,{A:()=>n})},332390:(e,t,i)=>{i.d(t,{C7:()=>x,Yf:()=>E,k8:()=>M,lN:()=>O,oG:()=>j});var n=i(296540),o=()=>i(484714),r=()=>i(56366),a=()=>i(700500),s=()=>i(130382),d=()=>i(959013),c=()=>i(534177),l=()=>i(191197),h=()=>i(953006),u=()=>i(68465),g=()=>i(231722),p=()=>i(792002),f=()=>i(465425),m=()=>i(51367),S=()=>i(301421),b=()=>i(351360),v=()=>i(411671),_=()=>i(630116),I=()=>i(24157),A=()=>i(576590),y=()=>i(656633),w=()=>i(972911),C=i(474848);const k=1,T=1,L=(0,d().YK)({spaceForAiHeader:{id:"AiOnboardingTooltips.spaceForAi.header",defaultMessage:"Press ‘space’ for AI"},spaceForAiContent:{id:"AiOnboardingTooltips.spaceForAi.content",defaultMessage:"On a new line or page, press ‘space’ on your keyboard for AI to generate or edit the page. Try it now!"},askAiAnythingHeader:{id:"AiOnboardingTooltips.askAiAnything.header",defaultMessage:"Ask AI anything"},askAiAnythingContent:{id:"AiOnboardingTooltips.askAiAnything.content",defaultMessage:"Just tell AI what to do — the more details, the better. You can also start from an example in the menu."},refineAiResponseHeader:{id:"AiOnboardingTooltips.refineAiResponse.header",defaultMessage:"Tell AI what to do next"},refineAiResponseContent:{id:"AiOnboardingTooltips.refineAiResponse.content",defaultMessage:"How was it? Give AI further instructions to improve what it wrote, or hit ‘Done’ when finished."},showAssistantLocationHeader:{id:"AiOnboardingTooltips.showAssistantLocation.answersToYourQuestionHeader",defaultMessage:"Ask AI when searching"},showAssistantLocationContent:{id:"AiOnboardingTooltips.showAssistantLocation.askQuestionBody",defaultMessage:"AI can find pages and synthesize a quick, concise answer for you. Try it now."},showAssistantOriginElementLocationHeader:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.header",defaultMessage:"Start by asking a question"},showAssistantOriginElementLocationContent:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.content",defaultMessage:"Notion AI will find pages and compose a concise answer for you. Try it now."}});function x(){const e=(0,o().v3)(),t=function(){const e=(0,o().v3)(),t=(0,r().K8)((()=>{var e;return null===(e=b().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),i=(0,r().K8)((()=>{const t=b().default.state.mainEditorCurrentBlockStore;return t&&v().A.getMode(e,t)}),[e]);return(0,r().K8)((()=>{if(e.device.isMobile)return;const{currentUserSettingsStore:n,inAppCalloutStore:o}=b().default.state;if(!o.getCalloutVisibility("ai_onboarding_tooltip").canShow)return;const r=null==n?void 0:n.getSettings();if(!r)return;if((0,c().O9)(r.last_used_ai_writer_at))return;if("tooltip"!==r.ai_assistant_onboarding_phase)return;if((0,y().vp)(e,t)){if(!(0,c().O9)(r.ai_sales_assisted_extra_notification_seen_at)||(0,s().Mn)(r.ai_sales_assisted_extra_notification_seen_at)<T)return}else if((0,c().O9)(r.ai_assistant_onboarding_phase_last_set_at)&&(0,s().Mn)(r.ai_assistant_onboarding_phase_last_set_at)<k)return;if("space_for_ai"!==(0,w().V7)())return;if(!(0,u().ZE)(i))return;const d=I().default.state;if("editing"===d.mode){const e=(0,g().H7)(d.multiSelection);if(e&&(0,p().gE)(e.selection)){const t=e.store,i=S().n.findEditableWithStore(t);if(i){const e="block"===t.pointer.table?_().Bv.createChildStore(t,t.pointer):void 0,n=e&&e.getType(),o=Boolean(n&&(0,a().ZW)(n)),r=t.getValue();if(o&&!r)return i}}}}),[e,i,t])}(),[i,l]=(0,n.useState)(!1),f=(0,n.useCallback)((()=>{l(!0)}),[]),m=!i&&Boolean(t);return(0,n.useEffect)((()=>()=>{m&&(0,w().ZI)(e)}),[e,m]),m&&t?(0,C.jsx)(h().k,{origin:()=>t.getNode(),placementToOrigin:"bottom",header:(0,C.jsx)(d().sA,{...L.spaceForAiHeader}),content:(0,C.jsx)(d().sA,{...L.spaceForAiContent}),onCloseClick:f}):null}function M(e){const{originRef:t,openState:i}=e,a=(0,o().v3)(),s=(0,r().K8)((()=>(0,w().V7)()),[]),[c,l]=(0,n.useState)(!1),u=(0,n.useCallback)((()=>{l(!0)}),[]),g="ask_ai_anything"===s&&"initialPrompt"===i.stage&&!c;return(0,n.useEffect)((()=>()=>{!a.device.isMobile&&g&&(0,w().ZI)(a)}),[a,g]),a.device.isMobile||!g?null:(0,C.jsx)(h().k,{origin:t,placementToOrigin:"top",header:(0,C.jsx)(d().sA,{...L.askAiAnythingHeader}),content:(0,C.jsx)(d().sA,{...L.askAiAnythingContent}),onCloseClick:u})}function O(e){const{originRef:t,openState:i,isInputEmpty:a}=e,s=(0,o().v3)(),c=(0,r().K8)((()=>(0,w().V7)()),[]),[l,u]=(0,n.useState)(!1),g=(0,n.useCallback)((()=>{u(!0)}),[]),p="refine_ai_response"===c&&"results"===i.stage&&!i.loading&&"cursor"===i.context.type&&a&&!l;return(0,n.useEffect)((()=>()=>{!s.device.isMobile&&p&&(0,w().ZI)(s)}),[s,p]),s.device.isMobile?null:(0,C.jsx)(h().k,{origin:p?t:void 0,placementToOrigin:"right",pointerOffset:-4,pointerLength:25,header:(0,C.jsx)(d().sA,{...L.refineAiResponseHeader}),content:(0,C.jsx)(d().sA,{...L.refineAiResponseContent}),onCloseClick:g})}function E(e){const{origin:t}=e,i=(0,o().v3)();(0,n.useEffect)((()=>{l().i(i,{from:"qna_button"}),m().DL(i,{callout_key:"ai_assistant_origin_element_tooltip",placement_key:"Tooltip"})}),[i]);const r=(0,n.useCallback)((()=>{const{currentUserSettingsStore:e}=b().default.state;e&&(l().z(i,{from:"qna_button"}),m().Sq(i,{callout_key:"ai_assistant_origin_element_tooltip",dismiss_type:"tooltip_dismiss",placement_key:"Tooltip"}),(0,A().setQnaOnboardingPhase)(i,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}),f().a(i,"ai_assistant_origin_element_tooltip"))}),[i]);return(0,C.jsx)(h().k,{style:{width:250},pointerLength:25,pointerPosition:"94%",origin:t,placementToOrigin:"top",header:(0,C.jsx)(d().sA,{...L.showAssistantOriginElementLocationHeader}),content:(0,C.jsx)(d().sA,{...L.showAssistantOriginElementLocationContent}),onCloseClick:r})}function j(e){const{origin:t}=e,i=(0,o().v3)();(0,n.useEffect)((()=>{l().i(i,{from:"qna_search"})}),[i]);const r=(0,n.useCallback)((()=>{const{currentUserSettingsStore:e}=b().default.state;e&&(l().z(i,{from:"qna_search"}),(0,A().setQnaOnboardingPhase)(i,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}))}),[i]);return(0,C.jsx)(h().k,{style:{width:250},pointerLength:25,pointerPosition:"5%",origin:t,placementToOrigin:"bottom",header:(0,C.jsx)(d().sA,{...L.showAssistantLocationHeader}),content:(0,C.jsx)(d().sA,{...L.showAssistantLocationContent}),onCloseClick:r})}(0,i(466103).exposeDebugEnvironmentValue)("resetAIOnboarding",(e=>()=>{const{currentUserSettingsStore:t}=b().default.state;t&&i(317909).createAndCommit({userAction:"AiIntroModal.debugging.resetAIOnboarding",environment:e,canUndo:!0,perform:e=>{i(755199).mJ({userSettingsStore:t,transaction:e,data:{ai_onboarding_phase:"space_for_ai"}})},userId:t.id})}))},518598:(e,t,i)=>{i.d(t,{K:()=>l});i(296540);var n=()=>i(426388),o=()=>i(959013),r=()=>i(705540),a=()=>i(285790),s=()=>i(745766),d=i(474848);const c=(0,o().YK)({menu:{defaultMessage:"Menu",id:"topbar.appMenuButton.title"}});function l(){const e=(0,o().tz)();return(0,d.jsx)(a().A,{style:{position:"absolute",top:"10px",left:"14px",width:24,height:24,zIndex:1e5,...(0,s().g)({noDrag:!0})},iconStyle:{width:16,height:16},isDarkIconColor:!0,onClick:()=>{r().openAppMenu()},icon:n().S,ariaLabel:e.formatMessage(c.menu)})}},555267:(e,t,i)=>{i.d(t,{A:()=>d});var n=i(296540),o=()=>i(401497),r=()=>i(62856),a=()=>i(331542),s=i(474848);function d(e){let{loadingMessage:t}=e;const i=(0,o().DP)(),d=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:d&&(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a().A,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:i.text.secondary},children:t})]})})}},567121:(e,t,i)=>{i.d(t,{EG:()=>a,K5:()=>r,RH:()=>o,Yi:()=>s,ls:()=>n});const n=32,o=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},578194:(e,t,i)=>{i.d(t,{r:()=>n});const n=(0,i(583835).Dv)("importEvernote")},756114:(e,t,i)=>{i.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},765974:(e,t,i)=>{i.d(t,{b:()=>o});i(296540);const n={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},o=(0,i(340498).wt)("exclamationMarkTriangleFill",n)},811481:(e,t,i)=>{i.d(t,{i:()=>r});var n=()=>i(645873);const o={ScrollableBlockLimitBanner:new(n().O2)("ScrollableBlockLimitBanner",(async()=>Promise.all([i.e(23806),i.e(27942)]).then(i.bind(i,333618))))},r=(0,n()._h)(o.ScrollableBlockLimitBanner,(e=>e.default))},893627:(e,t,i)=>{i.d(t,{K:()=>a});var n=i.n(i(440537)),o=()=>i(132456),r=()=>i(206267);class a{constructor(e){this.environmentName=void 0,this.mainShortId=void 0,this.getSettings=void 0,this.isServerOriginated=void 0,this.mapSpaceIdToShortId=void 0,this.idCreatorLogger=void 0,this.environmentName=e.environmentName,this.mainShortId=i(851941).Yf[this.environmentName],this.getSettings=e.getSettings,this.isServerOriginated=e.isServerOriginated,this.mapSpaceIdToShortId=e.mapSpaceIdToShortId,this.idCreatorLogger=e.idCreatorLogger??(()=>{})}idInMain(e){const{enableTestDateOffset:t,enableIdSchema:n}=this.getSettings();return n&&e!==i(867178).wI?(this.idCreatorLogger(void 0,e,t?"id_schema_test":"id_schema"),(0,o().J4)(t,this.mainShortId,e,this.isServerOriginated)):this.legacyId(e,"disabled")}pointerInMain(e){return{table:e,id:this.idInMain(e)}}async idWithSpaceId(e,t){const{enableTestDateOffset:i,enableIdSchema:r}=this.getSettings();if(!r||"space"===t)return this.legacyId(t,"disabled");const a=this.mapSpaceIdToShortId(e),s=n().types.isPromise(a)?await a:a;return s?(this.idCreatorLogger(e,t,i?"id_schema_test":"id_schema"),(0,o().kw)(i,s,t,this.isServerOriginated)):this.legacyId(t,"missing_short_id")}async pointerWithSpaceId(e,t){return{table:t,spaceId:e,id:await this.idWithSpaceId(e,t)}}idWithSpaceShortId(e,t){const{enableTestDateOffset:i,enableIdSchema:n}=this.getSettings();return n&&"space"!==t?(this.idCreatorLogger(void 0,t,i?"id_schema_test":"id_schema"),(0,o().kw)(i,e,t,this.isServerOriginated)):this.legacyId(t,"disabled")}legacyId(e,t){return this.idCreatorLogger(void 0,e,t),r().JW()}async deterministicIdWithSpaceId(e,t,i){const{enableTestDateOffset:a,enableIdSchema:s}=this.getSettings();if(!s)return this.idCreatorLogger(e,t,"disabled"),r().gB(i);const d=this.mapSpaceIdToShortId(e),c=n().types.isPromise(d)?await d:d;return c?(this.idCreatorLogger(e,t,a?"id_schema_test":"id_schema"),(0,o().lf)(c,t,i)):(this.idCreatorLogger(e,t,"missing_short_id"),r().gB(i))}deterministicIdWithSpaceShortId(e,t,i){const{enableTestDateOffset:n,enableIdSchema:a}=this.getSettings();return a?(this.idCreatorLogger(void 0,t,n?"id_schema_test":"id_schema"),(0,o().lf)(e,t,i)):(this.idCreatorLogger(void 0,t,"disabled"),r().gB(i))}async getSpaceIdCreator(e){if(!e)return new s(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new s(e,this.idCreatorLogger);const i=this.mapSpaceIdToShortId(e),o=n().types.isPromise(i)?await i:i;return this.getSpaceShortIdCreator(e,o)}getSpaceIdCreatorSync(e){if(!e)return new s(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new s(e,this.idCreatorLogger);const i=this.mapSpaceIdToShortId(e),o=n().types.isPromise(i)?void 0:i;return this.getSpaceShortIdCreator(e,o)}getSpaceShortIdCreator(e,t){const{enableIdSchema:i}=this.getSettings();return i&&t?new d(e,this,t):new s(e,this.idCreatorLogger)}async getSpaceIdCreatorFromModel(e){return e.getShortIdStr()?this.getSpaceShortIdCreator(e.id,Number(e.getShortIdStr())):await this.getSpaceIdCreator(e.id)}}class s{constructor(e,t){this.spaceId=void 0,this.idCreatorLogger=void 0,this.spaceId=e,this.idCreatorLogger=t}idInSavedSpace(e){return this.idCreatorLogger(void 0,e,"disabled"),r().JW()}idInMain(e){return this.idCreatorLogger(void 0,e,"disabled"),r().JW()}deterministicIdInSavedSpace(e,t){return this.idCreatorLogger(void 0,e,"disabled"),r().gB(t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}class d{constructor(e,t,i){this.spaceId=void 0,this.idCreator=void 0,this.spaceShortId=void 0,this.spaceId=e,this.idCreator=t,this.spaceShortId=i}idInSavedSpace(e){return this.idCreator.idWithSpaceShortId(this.spaceShortId,e)}idInMain(e){return this.idCreator.idInMain(e)}deterministicIdInSavedSpace(e,t){return this.idCreator.deterministicIdWithSpaceShortId(this.spaceShortId,e,t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}}}]);