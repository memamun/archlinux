"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[8505,43920],{94701:(e,o,t)=>{t.r(o),t.d(o,{checkmarkFillIcon:()=>n,iconDefinition:()=>l});t(296540);const l={viewBox:"0 0 20 20",svg:(0,t(474848).jsx)("path",{d:"M15.913 3.787a.875.875 0 0 1 .3 1.2L9.658 15.914a.875.875 0 0 1-1.415.119l-4.37-5.098a.875.875 0 0 1 1.329-1.14l3.58 4.177 5.93-9.884a.875.875 0 0 1 1.2-.3"})},n=(0,t(340498).wt)("checkmarkFill",l)},131849:(e,o,t)=>{t.d(o,{a:()=>r});var l=()=>t(484714),n=()=>t(56366),i=()=>t(486130);function r(e){const o=(0,l().v3)();return(0,n().K8)((()=>{if(o.currentUser.id)return e.isMemberOrGuest(o.currentUser.id,i()._.getSpacePermissionGroupIds({userId:o.currentUser.id,spaceId:e.getSpaceId()}))}),[o.currentUser.id,e])}},457190:(e,o,t)=>{t.d(o,{v:()=>s});var l=()=>t(835338),n=()=>t(848259),i=()=>t(246826),r=()=>t(317909);function s(e){const{environment:o,key:t,selectedKey:s,following:a,followSettings:d,navigableBlockId:c,userId:u,spaceId:g,from:b}=e;r().createAndCommit({userAction:"UpdateSidebarFollowControl.setFollowing",environment:e.environment,canUndo:!1,perform:o=>{i().vt({environment:e.environment,table:l().Cy,args:{following:a,followSettings:d,navigableBlockId:c,userId:u,spaceId:g},inMemoryRecordCache:e.environment.defaultRecordCache.inMemoryRecordCache,transaction:o})}}),a?n().KN(o,{from:"page_updates"}):n().tm(o,{from:"page_updates"}),s!==t&&n().EV(o,{from:b,navigableBlockId:c,oldSetting:s,newSetting:t})}},518773:(e,o,t)=>{t.d(o,{A:()=>i});var l=()=>t(835338),n=()=>t(534177);function i(e,o){switch(e){case"all":return{following:!0,followSettings:{...(0,l().JY)({explicitly_set_by_user:!0}),feed_setting:o}};case"important":return{following:!0,followSettings:{...(0,l().gK)({explicitly_set_by_user:!0}),feed_setting:o}};case"comments":return{following:!0,followSettings:{...(0,l().lx)({explicitly_set_by_user:!0}),feed_setting:o}};case"none":return{following:!1,followSettings:{...(0,l().gU)({explicitly_set_by_user:!0}),feed_setting:o}};default:(0,n().HB)(e)}}},819827:(e,o,t)=>{t.r(o),t.d(o,{TeamHomeDesktopSubscribeToggle:()=>w});t(296540);var l=()=>t(484714),n=()=>t(56366),i=()=>t(401497),r=()=>t(94701),s=()=>t(959013),a=()=>t(284371),d=()=>t(493823),c=()=>t(859428),u=()=>t(962730),g=()=>t(351360),b=()=>t(630116),f=()=>t(487941),p=()=>t(960656),m=()=>t(865658),v=t(474848);function w(e){let{teamStore:o}=e;const t=(0,l().v3)(),w=(0,n().uB)(void 0,f().A),S=(0,n().K8)((()=>g().default.state.currentSpaceStore),[]),k=(0,n().K8)((()=>null==o?void 0:o.getChannelStore()),[o]),y=(0,n().K8)((()=>{if(!S||!k)return;const e=b().sk.createChildStore(S,{table:"block",id:k.id,spaceId:S.id});return e.isCollectionView()?e:void 0}),[S,k]),h=(0,p().Z)({teamStore:o,collectionViewBlockStore:y}),x=(0,n().K8)((()=>null==y?void 0:y.getModel()),[y]),_=(0,n().K8)((()=>g().default.state.currentUserStore),[]),{icon:I,buttonLabel:T,tooltipMessage:F}=(0,n().K8)((()=>h?{icon:r().checkmarkFillIcon,buttonLabel:(0,v.jsx)(s().sA,{defaultMessage:"Following",id:"TeamHomeTopbar.following.desktop.label"}),tooltipMessage:w.state.hovered?(0,v.jsx)(s().sA,{defaultMessage:"Stop showing posts on Home",id:"TeamHomeTopbar.unfollow.desktop.tooltip"}):void 0}:{icon:void 0,buttonLabel:(0,v.jsx)(s().sA,{defaultMessage:"Follow",id:"TeamHomeTopbar.follow.desktop.label"}),tooltipMessage:(0,v.jsx)(s().sA,{defaultMessage:"Show posts on Home",id:"TeamHomeTopbar.follow.desktop.tooltip"})}),[h,w]),K=(0,i().IS)((e=>({button:{borderRadius:14,background:e.tint.regular,paddingLeft:10,paddingRight:10,fontWeight:a().Wy.medium},buttonHover:{background:"light"===e.mode?"rgba(0, 0, 0, 0.08)":e.accentColors.translucentGray[400]}})),[]);return void 0===h?null:(0,v.jsx)(c().A,{renderTooltip:()=>(0,v.jsx)("div",{children:F}),placement:u().W.Bottom,store:w,allowHover:!0,render:e=>(0,v.jsx)(d().p,{icon:I,onClick:()=>{(0,m().S)(t,y,_,x,h)},style:K.button,hoveredStyle:K.buttonHover,...e,children:T})})}},865658:(e,o,t)=>{t.d(o,{S:()=>i});var l=()=>t(457190),n=()=>t(518773);function i(e,o,t,i,r){if(!o||!t||!i)return;const s=r?"unsubscribed":"subscribed",a=o.getFollowSettingsKey(),{following:d,followSettings:c}=(0,n().A)(a,s);l().v({environment:e,followSettings:c,following:d,navigableBlockId:o.id,userId:t.id,spaceId:o.getSpaceId(),key:a,selectedKey:a,from:"more_menu"})}},960656:(e,o,t)=>{t.d(o,{Z:()=>i});var l=()=>t(56366),n=()=>t(131849);function i(e){let{teamStore:o,collectionViewBlockStore:t}=e;const i=(0,l().K8)((()=>o.isDefined()),[o]),{isExplicitlySubscribedToFeed:r,isExplicitlyUnsubscribedToFeed:s,followDataIsLoaded:a}=(0,l().K8)((()=>{const e=null==t?void 0:t.getFollowStore();return{followDataIsLoaded:null==e?void 0:e.isReady(),isExplicitlySubscribedToFeed:null==e?void 0:e.isExplicitlySubscribedToFeed(),isExplicitlyUnsubscribedToFeed:null==e?void 0:e.isExplicitlyUnsubscribedToFeed()}}),[t]),d=(0,n().a)(o);if(!a||!i)return;return r||d&&!s}}}]);