"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[15961,68126],{234342:(e,t,i)=>{i.r(t),i.d(t,{LoginWithAIPrompt:()=>p});i(581454);var n=()=>i(153321),r=(i(296540),()=>i(401497)),a=()=>i(148307),o=()=>i(959013),s=()=>i(995062),l=()=>i(84817),d=()=>i(710149),c=()=>i(554509),g=()=>i(106694),u=i(474848);const h={type:"spring",stiffness:150,damping:20,delay:.2};function p(e){let{loginStore:t,loginPermissionsStore:i,showMobileLayout:p}=e;const m=(0,r().IS)((e=>({container:{width:"100%",height:"95%",marginTop:"1vh",display:"flex",alignItems:"center",borderRadius:12,border:`1px solid ${e.stroke.secondary}`},previewWrapper:{width:"100%",height:"100%"},previewContainer:{borderRight:`1px solid ${e.stroke.secondary}`,backgroundColor:"dark"===e.mode?e.popoverWaxPaperBackground:void 0,backgroundImage:`url(${a().A.images.workflowTemplates.bgDotsPng})`,backgroundRepeat:"repeat",backgroundSize:"70px 70px",backgroundPosition:"0% 0%",backgroundBlendMode:"multiply",userSelect:"none",inset:0,zIndex:10,padding:"64px 48px"},header:{opacity:.6,paddingBottom:20,borderBottom:`1px solid ${e.stroke.primary}`},columns:{display:"grid",gridTemplateColumns:"3fr 2fr 2fr",gap:45},shimmer:{width:"50%",height:9,borderRadius:5},shimmerWide:{width:"100%",height:9,borderRadius:5},login:{flex:1,minWidth:"400px",padding:"32px"},title:{marginBottom:"24px"}})),[]);return(0,u.jsxs)("div",{style:m.container,children:[(0,u.jsx)(n().P.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:h,style:m.previewWrapper,children:(0,u.jsxs)(l().Y1,{direction:"vertical",height:"fill",width:"fill",style:m.previewContainer,gap:30,children:[(0,u.jsxs)(l().Y1,{direction:"horizontal",align:"center-left",gap:12,height:50,style:m.header,children:[(0,u.jsx)(s().AssistantAnimatedFaceInner,{sizeVariant:"large",highLevelState:"writing",includeBoxShadow:!0}),(0,u.jsx)(c().D,{styleName:"UITitle-30px/Semibold",children:(0,u.jsx)(o().sA,{id:"loginPage.header.fromAIPrompt",defaultMessage:"Almost ready to buildâ€¦"})})]}),(0,u.jsx)("div",{style:m.columns,children:Array.from({length:3}).map(((e,t)=>(0,u.jsxs)(l().Y1,{direction:"vertical",gap:25,children:[(0,u.jsx)(d().A,{style:m.shimmer}),Array.from({length:5}).map(((e,t)=>(0,u.jsx)(d().A,{style:m.shimmerWide},t)))]},t)))})]})}),(0,u.jsxs)("div",{style:m.login,children:[(0,u.jsx)("div",{style:m.title,children:(0,u.jsx)(c().D,{styleName:"UITitle-22px/Semibold",children:(0,u.jsx)(o().sA,{id:"loginPage.title.fromAIPrompt",defaultMessage:"Create a Notion account to continue building"})})}),(0,u.jsx)(g().A,{isSmallScreen:p,loginStore:t,loginPermissionsStore:i,emailLabelType:"email",emailInputAutoFocus:!0,emailPasscodePlaceholderType:"paste_code",isSignup:!1,from:"frontLoginPage"})]})]})}},995062:(e,t,i)=>{i.r(t),i.d(t,{AssistantAnimatedFace:()=>j,AssistantAnimatedFaceInner:()=>C});i(18107),i(967357);var n=()=>i(303848),r=()=>i(244641),a=i(296540),o=()=>i(624919),s=()=>i(56366),l=()=>i(401497),d=()=>i(604341),c=()=>i(592328),g=()=>i(336811),u=()=>i(999752),h=()=>i(763824),p=()=>i(534177),m=()=>i(631611),f=()=>i(295169),w=()=>i(337567),y=()=>i(865241),x=()=>i(998109),S=()=>i(846955),b=()=>i(278589),v=()=>i(783793);const k=i.p+"bc69e69669ca365b.riv",T=["Base_Idle","Idle A","Idle B","Idle C"];var A=i(474848);n().RuntimeLoader.setWasmUrl(i(390654));const I=!1;function j(e){const{sizeVariant:t,includeBoxShadow:i,onMouseEnter:n}=e,r=function(){const e=(0,m().jw)().isWriter,t=(0,s().K8)((()=>{const t=e?(0,w().K1)():f().default.getActiveSession();if(!t)return"idle";const i=t.evaluator.getTranscript().at(-1);if(i&&"observation"===i.type&&"error"===i.observationType)return"error";const n=t.isStreaming();if(!n)return"idle";const r=t.getCombinedSteps().at(-1),a="assistantSearch"===(null==r?void 0:r.type)||"assistantShowSearchResults"===(null==r?void 0:r.type),o="assistantLoading"===(null==r?void 0:r.type)||"human"===(null==r?void 0:r.type);return"groupedEditCard"===(null==r?void 0:r.type)?"writing":a?"searching":o?"thinking":n?"writing":"idle"}),[e]);return(0,a.useEffect)((()=>{I&&M("HighLevelState","Pink",t)}),[t]),t}();return(0,A.jsx)(x().n,{step:"ai_assistant",isFullWidth:!1,highlightStyle:{borderRadius:"100%"},children:(0,A.jsx)(C,{sizeVariant:t,includeBoxShadow:i,highLevelState:r,onMouseEnter:n})})}function C(e){const{sizeVariant:t,highLevelState:i,includeBoxShadow:r,onMouseEnter:m}=e,[f,w]=(0,a.useState)(!1),x=(0,a.useCallback)((()=>{w(!0)}),[]),{onStateChange:j,waitUntilState:C,animationState:P}=function(){const e=(0,a.useRef)("Idle B"),t=(0,a.useMemo)((()=>new(c().A)),[]),i=(0,a.useCallback)((i=>{if(Array.isArray(i.data)&&1===i.data.length){const n=i.data[0];I&&M("State change","DarkGreen",n),e.current=n,t.emit(n)}}),[t]),n=(0,a.useCallback)((()=>new Promise((e=>{const i=n=>{t.removeListener(i),e(n)};t.addListener(i)}))),[t]),r=(0,a.useCallback)((async t=>{(await h().nQ(2e3,(async()=>{for(;!t(e.current);)await n()})())).timeout&&(0,o().NK)("Timed out while waiting for an assistant face state change.")}),[n]);return{animationState:e,waitUntilState:r,onStateChange:i}}(),{rive:L,RiveComponent:W}=(0,n().useRive)({src:k,stateMachines:["Main"],autoplay:!0,onAdvance:x,onStateChange:j});!function(e){const t=(0,s().K8)((()=>y().A.state.isVisible),[]),i=(0,a.useCallback)((()=>{null==e||e.startRendering()}),[e]),n=(0,a.useCallback)((()=>{null==e||e.stopRendering()}),[e]);(0,a.useEffect)((()=>{t?i():n()}),[t,n,i])}(L);const B=function(e){const t=(0,a.useMemo)((()=>{const t=null==e?void 0:e.stateMachineInputs("Main"),i=new Map;if(!t)return i;for(const e of t)i.set(e.name,e);return i}),[e]);(0,a.useEffect)((()=>{(0,d().exposeDebugValue)("AssistantAnimatedFaceTriggers",t)}),[t]);const i=(0,g().T)(),n=(0,a.useCallback)((e=>{var n;i.current&&(I&&M("Firing trigger","MediumBlue",e),null===(n=t.get(e))||void 0===n||n.fire())}),[i,t]);return n}(L),R=(0,a.useMemo)((()=>new(u().O)(1)),[]);(0,a.useEffect)((()=>{R.enqueue((async()=>{"writing"===i?B("WritingInTrigger"):"idle"===i?(await async function(){"Writing_In"===P.current&&await C((e=>"Writing_Loop"===e)),"Writing_Loop"===P.current&&(B("WritingOutTrigger"),await C((e=>(0,p().Xk)(T,e)))),"Thinking_In"!==P.current&&"Thinking_Loop"!==P.current||(B("ThinkingOutTrigger"),await C((e=>(0,p().Xk)(T,e)))),"Searching_In"===P.current&&await C((e=>"Searching_Loop"===e)),"Searching_Loop"===P.current&&(B("SearchingOutTrigger"),await C((e=>(0,p().Xk)(T,e))))}(),B("IdleTrigger")):"searching"===i?B("SearchingInTrigger"):"thinking"===i?B("ThinkingInTrigger"):"error"===i?B("ErrorTrigger"):(0,p().HB)(i)}))}),[i,B,C,R,P]);const _=(0,l().IS)((e=>{const i=(0,b().N)(t);return{wrap:{width:i,height:i,...r&&{boxShadow:e.shadowXS,borderRadius:"100%"},position:"relative"},faceImg:{position:"absolute",height:i,width:i},staticFace:{position:"absolute",left:0,top:0}}}),[t,r]);return(0,A.jsxs)("div",{style:_.wrap,onMouseEnter:e=>{e.stopPropagation(),null==m||m(e),setTimeout((()=>S().default.dismissTourTutorial()),400)},children:[(0,A.jsx)(W,{style:_.faceImg,onMouseEnter:()=>{Math.random()<.1&&B("GreetingTrigger")}}),!f&&(0,A.jsx)(v().o,{variant:t,wrapWithPadding:!0,style:_.staticFace,shadowVariant:r?"strong":"none"})]})}function M(e,t){const i=r().c9.local().toFormat("HH:mm:ss.SSS");for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];console.log(`%c[${i}] %c${e}:`,"color: Grey;",`color: ${t}; font-weight: bold;`,...a)}}}]);