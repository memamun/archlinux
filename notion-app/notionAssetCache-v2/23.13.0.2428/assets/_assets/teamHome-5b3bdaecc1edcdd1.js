"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[89041],{69447:(e,t,i)=>{i.d(t,{Lq:()=>o,WK:()=>a,nh:()=>n});const o=40,n=48,a=60},72307:(e,t,i)=>{i.d(t,{A:()=>o});const o={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},271084:(e,t,i)=>{i.d(t,{k:()=>n});class o extends(()=>i(757695))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}}const n=new o},293633:(e,t,i)=>{i.d(t,{l:()=>s});var o=()=>i(484714),n=()=>i(56366),a=()=>i(401497),r=()=>i(665579);function s(){const e=(0,a().DP)(),t=(0,o().WS)();return(0,n().K8)((()=>(t?r().pW:r().$L)+2*(0,r().O0)({mode:e.mode,isPhone:t})),[t,e.mode])}},465039:(e,t,i)=>{i.d(t,{KF:()=>d,LS:()=>l});i(16280);var o=i(296540),n=()=>i(401497),a=()=>i(981305),r=i(474848);const s=(0,o.createContext)({screenWidthType:"desktop",isMobileWidth:!1,isLowResolutionTabletWidth:!1,isDesktopWidth:!1,isTabletWidth:!1});function l(){const e=(0,o.useContext)(s);if(!e)throw new Error("ScreenWidthContext not found. Please make sure this is used within a ScreenWidthContext.Provider.");return e}function d(e){const{children:t,mobileUpperBound:i=550,lowResolutionTabletUpperBound:l=720,tabletUpperBound:d=1024,throttle:c=0}=e,u=(0,o.useRef)(null),m=(0,n().IS)((()=>({sizeObserverContainer:{width:"100%",height:0,position:"absolute"}})),[]),[p,h]=(0,o.useState)("desktop"),g=(0,o.useCallback)((e=>{e.state.width<=i?h("mobile"):e.state.width>i&&e.state.width<=l?h("lowResolutionTablet"):e.state.width>l&&e.state.width<=d?h("tablet"):h("desktop")}),[i,l,d]);(0,a().B)(u,g,c);const f="mobile"===p,y="desktop"===p,v="tablet"===p,b="lowResolutionTablet"===p,S=o.useMemo((()=>({screenWidthType:p,isMobileWidth:f,isLowResolutionTabletWidth:b,isDesktopWidth:y,isTabletWidth:v})),[p,f,b,y,v]);return(0,r.jsxs)(s.Provider,{value:S,children:[(0,r.jsx)("div",{ref:u,style:m.sizeObserverContainer}),t]})}s.displayName="ScreenWidthContext"},551619:(e,t,i)=>{i.d(t,{Hy:()=>A,NV:()=>I,O9:()=>W,Rg:()=>M,Sm:()=>V,dK:()=>B,f7:()=>D,l8:()=>N,n$:()=>L,no:()=>H,sx:()=>R});var o=()=>i(484714),n=()=>i(792485),a=()=>i(56366),r=()=>i(700500),s=()=>i(651124),l=()=>i(519831),d=()=>i(620689),c=()=>i(591197),u=()=>i(519839),m=()=>i(835066),p=()=>i(964345),h=()=>i(68465),g=()=>i(753199),f=()=>i(504836),y=()=>i(478726),v=()=>i(747100),b=()=>i(963589),S=()=>i(665579),_=()=>i(351360),x=()=>i(525569),w=()=>i(508496),C=()=>i(375447),k=()=>i(66496),T=()=>i(548821),P=()=>i(712505),j=()=>i(302022);function I(e){(0,g().SQ)({event:e,context:g().y$.EditorMouseDown,callback:()=>{}})}function R(e){(0,g().SQ)({event:e,context:g().y$.EditorClick,callback:()=>{}})}function A(e){return(0,a().K8)((()=>Boolean(j().A.state.pageMap[e.id])||k().A.state.pages.has(e.id)),[e.id])}function M(e,t){const i=(0,o().v3)(),r=(0,n().S)(),s=A(e),l=(0,a().K8)((()=>{var i,o;return t===T().Rr.Frame?Boolean(null===(i=_().default.state.currentLoadingContainerStore)||void 0===i?void 0:i.state.ready):t===T().Rr.PeekView&&P().default.state.open?Boolean(null===(o=P().default.state.loadingContainerStore)||void 0===o?void 0:o.state.ready):t===T().Rr.CollectionPageView||t===T().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),d=D(e);return(0,a().K8)((()=>{if(!l)return!1;const t=i.currentUser.isLoggedIn(),o=r&&r.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=o&&o.hasPublicPermission)||"edit"===(null==o?void 0:o.permission))&&!s&&!d&&(!(0,h().ZE)(o)||"completionPopup"!==x().default.state.type))}),[i.currentUser,d,l,r,s,e])}function W(e,t){const i=(0,o().v3)(),r=(0,n().S)(),{isTablet:s}=(0,o().Y0)(),l=(0,b().X)("tablet_refresh_template_pills_gate");return(0,a().K8)((()=>{if(t===T().Rr.SitePreview)return!1;if(i.device.isMobile&&(!s||!l))return!1;if(!i.currentUser.isLoggedIn())return!1;const o=r&&r.publicEditModeStore.state;if(null!=o&&o.hasPublicPermission&&"edit"!==(null==o?void 0:o.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const n=e.getContentStores()[0];if(n&&!n.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const a=p().gZ.state,d=p().Di.state;if(a&&e.id===d)return!1;return!((0,y().L5)(t)?c().VY.state:c().u3.state)}),[i,r,e,t,s,l])}function D(e){return(0,a().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(r().xd.externalObjectInstancePage)}),[e])}function V(e){return(0,a().K8)((()=>{if(!(0,f().pB)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===l().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function B(e){return(0,a().K8)((()=>{if(!(0,f().pB)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function N(e){return(0,a().K8)((()=>{if(!w().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===s().IE.CsvImport}),[e])}function L(e){const t=(0,o().v3)(),{device:i,WindowSizeStore:n}=t,r=(0,a().K8)((()=>{const e=n.state.height,o=i.isMobile&&C().A.state.open?e:0;return d().C6(t)+o}),[t,n,i.isMobile]);return(0,a().K8)((()=>"home-phone"===e?S().q3:i.isTablet?380:i.isIOS?Math.max(350,r):i.isMobile?400:"side-peek"===e||"center-peek"===e?v().ln:"home"===e?S().wH:"30vh"),[i,r,e])}function H(e){const t=(0,o().v3)(),i=(0,a().K8)((()=>(0,m().dC)(t,e)),[t,e]);return(0,a().K8)((()=>i&&!e.isFullWidth()?(0,m().Zy)(t,(0,v().cq)(e),(0,u().RX)(e)):0),[t,i,e])}},589407:(e,t,i)=>{i.d(t,{L:()=>n});i(296540);const o={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"M4 11.375a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75"})},n=(0,i(340498).wt)("ellipsis",o)},591197:(e,t,i)=>{i.d(t,{VY:()=>s,ZJ:()=>a,u3:()=>r});var o=()=>i(496506);class n extends(()=>i(757695))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const a=new n,r=new(o().default)((()=>!1!==a.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(o().default)((()=>!1!==a.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},623241:(e,t,i)=>{i.d(t,{i:()=>r});var o=()=>i(484714),n=()=>i(56366),a=()=>i(486130);function r(e){const{teamStore:t}=e,i=(0,o().v3)(),r=(0,n().K8)((()=>a()._.getSpacePermissionGroupIds({userId:i.currentUser.id,spaceId:null==t?void 0:t.getSpaceId()})),[i,t]),s=(0,n().K8)((()=>{if(t&&i.currentUser.id)return t.getTeamRoleForUser(i.currentUser.id,r)}),[t,i.currentUser.id,r]),l=(0,n().K8)((()=>!!t&&"open"===t.getTeamAccessLevel()),[t]),d="none"===s||!s,c=!d;return{isTeamMember:c,canViewPosts:c||l,canJoinTeam:d&&l}}},665579:(e,t,i)=>{i.d(t,{$E:()=>j,$L:()=>s,BZ:()=>c,EC:()=>h,EI:()=>S,Ed:()=>m,Fq:()=>y,Lu:()=>x,Mk:()=>p,O0:()=>T,UO:()=>I,V$:()=>k,VQ:()=>g,Wh:()=>w,Xx:()=>_,Xy:()=>d,YS:()=>f,_g:()=>b,dd:()=>u,pW:()=>l,q3:()=>r,wH:()=>a});var o=()=>i(496603),n=()=>i(534177);const a=160,r=40,s=24,l=20,d=600,c=270,u=405,m=480,p=500,h=void 0,g=16,f=10,y=8,v=(i(69447).nh,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),b=4;function S(e){return{icon:e.mediumIconColor,text:e.mediumTextColor}}function _(e){return{width:48,height:48,fill:e.lightIconColor}}function x(e){let{theme:t,isPhone:i}=e;return i?t.personalHomeBackgroundPhone:t.surface.page}function w(e){let{theme:t,isPhone:i,buttonState:o}=e,n=t.whiteButtonBackground;switch(o){case"hovered":n=t.whiteButtonHoveredBackground;break;case"pressed":n=t.whiteButtonPressedBackground}return i&&(n=void 0),{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:n,...v,boxShadow:P({isPhone:i,theme:t,borderOnly:!0}),width:28,height:28,borderRadius:4}}const C=1;function k(e){let{isPhone:t,theme:i}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:i.home.tile.background,boxShadow:P({isPhone:t,theme:i}),...v}}function T(e){let{mode:t,isPhone:i}=e;switch(t){case"dark":return 0;case"light":return C;default:return(0,n().ub)(t),0}}function P(e){let{isPhone:t,theme:i,borderOnly:n}=e;if("dark"===i.mode)return"unset";i.mode;const a=T({mode:i.mode,isPhone:t});return(0,o().oE)([n||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${a}px rgba(0, 0, 0, 0.05)`]).join(", ")}function j(e){return{display:"flex",flexDirection:"column",width:e.isPhone?"100%":700,gap:24}}function I(e){const{isPhone:t,theme:i,borderOnly:o}=e;return{unhoveredBoxShadow:P({isPhone:t,theme:i,borderOnly:o}),hoveredBoxShadow:"light"===i.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):i.homeShadow.card.hovered}}},709274:(e,t,i)=>{i.d(t,{D:()=>o});const o=(0,i(959013).YK)({postsCollectionViewPageTitle:{id:"posts.collectionViewPage.title",defaultMessage:"Posts"},postsCollectionTitle:{id:"posts.collection.title",defaultMessage:"Posts DB"},postHeadingName:{id:"posts.collection.headingName",defaultMessage:"Subject"},deleteDraftTooltip:{id:"posts.deleteDraftTooltip",defaultMessage:"Delete draft"},fullScreenTooltip:{id:"posts.fullScreenTooltip",defaultMessage:"Full screen"}})},736238:(e,t,i)=>{i.r(t),i.d(t,{default:()=>pe});var o=i(296540),n=()=>i(484714),a=()=>i(56366),r=()=>i(401497),s=()=>i(72307),l=()=>i(959013),d=()=>i(284371),c=()=>i(915086),u=()=>i(435009),m=()=>i(938090),p=()=>i(2143),h=()=>i(963589),g=()=>i(465039),f=()=>i(551619),y=()=>i(817942),v=()=>i(954933),b=()=>i(293633),S=()=>i(519831),_=()=>i(317909),x=()=>i(630116),w=()=>i(134025);var C=()=>i(179034),k=()=>i(63128),T=()=>i(869558),P=()=>i(919709),j=()=>i(498212),I=()=>i(183558),R=()=>i(246826),A=()=>i(606952),M=()=>i(682146),W=()=>i(709274);function D(e){const{environment:t,channelStore:i,parentStore:n}=e,r=(0,l().tz)(),s=(0,a().K8)((()=>null==n?void 0:n.canEdit()),[n]),d=(0,a().K8)((()=>null==i?void 0:i.getSpaceId()),[i]),c=i&&d&&{id:i.id,table:S().Vl,spaceId:d},u=n&&c&&x().md.createChildStore(n,c),m=(0,a().K8)((()=>i&&i.isReady()&&!i.isDefined()&&i.canEdit()&&s),[i,s]);return(0,o.useEffect)((()=>{i&&n&&u&&m&&_().createAndCommit({userAction:"channelActions.useGetOrCreateChannel",environment:t,canUndo:!0,perform:e=>{!function(e){const{transaction:t,parent:i,channelStore:o}=e,n=w().op.update({pointer:o.pointer,path:[],args:{id:o.id,parent_id:i.id,parent_table:i.table,space_id:i.spaceId}});_().applyOperation({store:o,operation:n,transaction:t})}({transaction:e,parent:n.pointer,channelStore:i}),function(e){const{environment:t,transaction:i,channelStore:o,collectionStore:n,intl:a}=e,r=o.pointer,s=r.spaceId,l=r.id,d=l,c=l,u=(0,I().Ay)(),m=w().op.update({pointer:{id:l,table:S().Vl,spaceId:s},path:[],args:{id:d,space_id:s,name:[[a.formatMessage(W().D.postsCollectionTitle)]],schema:{title:{type:"title",name:a.formatMessage(W().D.postHeadingName)},[(0,I().Ay)()]:{type:"created_by",name:M().dC.created_by},[u]:{type:"created_time",name:M().dC.created_time}},parent_id:c,parent_table:C().ev,alive:!0,version:0}}),p=(0,j().Ay)();_().applyOperation({store:n,operation:m,transaction:i});const h={id:p,table:T().Gy,spaceId:s},g={id:c,table:C().ev,spaceId:s},f=w().op.update({pointer:h,path:[],args:{id:p,version:5,type:"feed",parent_id:c,parent_table:C().ev,space_id:s,alive:!0,name:void 0,query2:{sort:[{property:u,direction:"descending"}]},format:{hide_linked_collection_name:!0,inline_collection_first_load_limit:{type:"load_limit",limit:10},collection_pointer:{table:S().Vl,id:d,spaceId:s}}}}),y=x().Bv.createChildStore(o,g),v=x().pS.createChildStore(y,h);_().applyOperation({store:v,operation:f,transaction:i});const b=w().op.update({pointer:y.pointer,path:[],args:{id:c,type:"collection_view_page",version:1,alive:!0,parent_id:l,parent_table:k().Ay,space_id:s,view_ids:[p]}});_().applyOperation({store:y,operation:b,transaction:i});const D=y.getTitleStore();D&&A().KY({environment:t,store:D,value:(0,P().x9d)(a.formatMessage(W().D.postsCollectionViewPageTitle)),transaction:i}),R().zv({store:y.getFormatStore(),data:{collection_pointer:{table:S().Vl,id:d,spaceId:s}},transaction:i})}({environment:t,transaction:e,collectionStore:u,channelStore:i,intl:r})}})}),[m,t,n,i,u,r]),i}var V=()=>i(578136),B=()=>i(756279),N=()=>i(351360),L=()=>i(994310),H=()=>i(906551);var E=()=>i(623241),O=(i(898992),i(354520),i(581454),()=>i(584262)),K=()=>i(589407),F=()=>i(863330),U=()=>i(798880),z=()=>i(872539),$=()=>i(285790),q=()=>i(296798),Y=()=>i(298697),J=()=>i(614505),X=()=>i(16006),G=()=>i(453697),Z=()=>i(812119),Q=()=>i(271084),ee=()=>i(134217),te=i(474848);const ie=5,oe=8;function ne(e){const{teamStore:t}=e,i=(0,r().IS)((e=>({container:{maxWidth:200,width:"-webkit-fill-available"}})),[]);return(0,te.jsxs)("div",{style:i.container,children:[(0,te.jsx)(ae,{teamStore:t}),(0,te.jsx)(re,{teamStore:t}),(0,te.jsx)(se,{teamStore:t})]})}function ae(e){const{teamStore:t}=e,i=(0,r().IS)((e=>({emptyDescription:{color:e.text.secondary}})),[]),o=(0,a().K8)((()=>null!=t&&t.isReady()?null==t?void 0:t.getDescription():(0,te.jsx)(Y().A,{paragraphs:[{lineHeight:12,lineMargin:6,sectionWidths:[100,100,50],repeat:1,sectionMargin:0}]})),[t]),n=!o||""===o;return(0,te.jsx)(le,{title:(0,te.jsx)(l().sA,{defaultMessage:"About",id:"TeamHome.About.about"}),children:n?(0,te.jsx)("div",{style:i.emptyDescription,children:(0,te.jsx)(l().sA,{defaultMessage:"No description",id:"TeamHome.About.emptyDescription"})}):o})}function re(e){const{teamStore:t}=e,i=(0,r().IS)((e=>({dotsIcon:{width:16,height:16,alignSelf:"center",margin:"0px 7px"},moreMembers:{display:"flex",color:e.text.secondary}})),[]),o=(0,a().K8)((()=>{const e=((null==t?void 0:t.getMemberInfoUsingSpaceMembers((0,ee().L)()))??[]).filter((e=>"user"===e.entity_type)),i=Q().k.state??{};return e.sort(((e,t)=>(i[t.user_id]??0)-(i[e.user_id]??0))),e}),[t]),n=(0,a().K8)((()=>null!=t&&t.isReady()?o.slice(0,ie).map((e=>x().sk.createChildStore(t,{table:U().oo,id:e.user_id}))):[]),[o,t]),s=(0,a().K8)((()=>null!=t&&t.isReady()?n.map((e=>(0,te.jsx)(de,{userStore:e},e.id))):Array(3).fill(null).map(((e,t)=>(0,te.jsx)(Z().J,{isInHomeWidget:!1},`team-members-not-yet-loaded-${t}`)))),[n,t]),d=Math.max(o.length-n.length,0);return(0,te.jsxs)(le,{title:(0,te.jsx)(l().sA,{defaultMessage:"Members",id:"TeamHome.About.members"}),children:[s,d>0&&(0,te.jsxs)("div",{style:i.moreMembers,children:[(0,K().L)(i.dotsIcon),(0,te.jsx)(l().sA,{defaultMessage:"{count} more",id:"TeamHome.About.members.more",values:{count:d}})]})]})}function se(e){const{teamStore:t}=e,i=(0,n().v3)(),s=(0,l().tz)(),c=(0,r().IS)((e=>({pageTitle:{fontSize:14,fontWeight:d().Wy.regular,color:e.text.primary,paddingLeft:3},pageRecord:{padding:"4px 6px",display:"flex",alignItems:"center"},pageIcon:{margin:"0px 4px"},addPage:{fontWeight:d().Wy.light,textTransform:void 0},noPages:{}})),[]),u=(0,o.useCallback)((()=>{if(!t)return;const e=N().default.state.currentSpaceStore,o=N().default.state.currentSpaceViewStore;e&&o&&z().A5({environment:i,from:"team_home",spaceStore:e,spaceViewStore:o,teamStore:t,andNavigate:!0,appendOrPrepend:"append"})}),[i,t]),m=(0,a().K8)((()=>{if(null==t||!t.isReady())return Array(3).fill(null).map(((e,t)=>(0,te.jsx)(Z().J,{isInHomeWidget:!1},`pages-not-yet-loaded-${t}`)));const e=(null==t?void 0:t.getTeamPageStores())??[];return 0===e.length?null!=t&&t.canAddOrRemoveTopLevelPages()?(0,te.jsx)($().A,{icon:F().plusSmallIcon,ariaLabel:s.formatMessage({id:"TeamHomeAbout.pages.addPage",defaultMessage:"Add page"}),onClick:u,caption:(0,te.jsx)(l().sA,{id:"TeamHomeAbout.pages.addPage",defaultMessage:"Add page"}),captionStyle:c.addPage}):(0,te.jsx)("div",{style:c.noPages,children:(0,te.jsx)(l().sA,{defaultMessage:"No pages",id:"TeamHomeAbout.pages.noPages"})}):e.slice(0,oe).map((e=>{var t;return e.isReady()?(0,te.jsxs)(q().A,{href:null===(t=e.getModel())||void 0===t?void 0:t.getRenderUrl({getRecordModel:e.getRecordModel,pageVisitSource:O().y8.TeamHomePage}),style:c.pageRecord,children:[(0,te.jsx)(J().A,{disabled:!0,isEmptyPage:e.isEmptyPage(),icon:e.getIcon(),size:16,emojiSize:16,disableShrinking:!0,largeIcon:!0,style:c.pageIcon}),(0,te.jsx)(X().A,{style:c.pageTitle,store:e,underline:!0})]},e.id):(0,te.jsx)(Z().J,{isInHomeWidget:!1},e.id)}))}),[t,c,u,s]);return(0,te.jsx)(le,{title:(0,te.jsx)(l().sA,{defaultMessage:"Pages",id:"TeamHome.About.pages"}),children:m})}function le(e){const{title:t,children:i}=e,o=(0,r().IS)((e=>({propertyHeader:ce(e),propertyValue:{fontSize:14,fontWeight:d().Wy.regular,color:e.text.primary,paddingBottom:32}})),[]);return(0,te.jsxs)("div",{children:[(0,te.jsx)("div",{style:o.propertyHeader,children:t}),(0,te.jsx)("div",{style:o.propertyValue,children:i})]})}function de(e){const{userStore:t}=e,i=(0,r().IS)((e=>({uiUserAvatarStyles:{fontSize:14}})),[]);return(0,a().K8)((()=>t.isReady()),[t])?(0,te.jsx)(G().A,{userStore:t,type:"avatar-name",size:16,avatarShouldShowShadow:!1,hasTooltip:!1,tooltipOverrideStyle:i.uiUserAvatarStyles}):(0,te.jsx)(Z().J,{isInHomeWidget:!1})}function ce(e){return{fontSize:12,fontWeight:d().Wy.medium,color:e.text.secondary,paddingBottom:8}}var ue=()=>i(855685),me=()=>i(898808);function pe(e){const{teamId:t}=e,[i,l]=o.useState(void 0),m=(0,n().v3)(),S=(0,n().Y0)(),_=(0,a().K8)((()=>N().default.state.currentSpaceStore),[]),w=(0,a().K8)((()=>{if(_)return x().sk.createChildStore(_,{table:"team",id:t,spaceId:_.id})}),[_,t]),C=(0,a().K8)((()=>null==w?void 0:w.getChannelStore()),[w]),k=(0,a().K8)((()=>(0,V().D)({isMobileNative:m.device.isMobileNative,disableExposureLogging:!0})),[m]),T=(0,h().X)("team_home_about_proto");D({environment:m,channelStore:C,parentStore:w});const P=(0,a().K8)((()=>null==w?void 0:w.getName()),[w]),{canViewPosts:j}=(0,E().i)({teamStore:w}),I=(0,f().n$)("team-home"),R=(0,a().K8)((()=>{if(!_||!C)return;const e=x().sk.createUniqueRootStore(m,{table:"block",id:C.id,spaceId:_.id});return e.isCollectionView()?e:void 0}),[m,_,C]),A=(0,o.useCallback)((()=>{u().oo({environment:m,url:`/team/${t}/join`})}),[m,t]);(0,o.useEffect)((()=>{(null==_?void 0:_.isReady())&&(null==w?void 0:w.isReady())&&!j&&A()}),[j,_,A,w]),(0,o.useEffect)((()=>{R&&function(e){const{teamId:t,collectionViewIds:i}=e,{teamHomeCollectionViewIdsKey:o}=(0,H().k)(t);L().A.set(o,i)}({teamId:t,collectionViewIds:R.getCollectionViewIds()})}),[R,t]);const M=(0,a().K8)((()=>{const e=null==i?void 0:i.isLoadedStore.state,t=Boolean(null==i?void 0:i.collectionStoresStore.state.length);return Boolean(e&&t)}),[i]);(0,o.useEffect)((()=>{c().measurePageRenderMetrics({environment:m,isHomePage:!1,isEditable:!1,isWikiHome:!1,isPageWithCustomLayout:!1})}),[]),(0,o.useEffect)((()=>{var e;null===(e=m.mobileNative)||void 0===e||e.markTransitionReady({type:"team_home"})}),[m.mobileNative]),(0,v().v)({firstMountToReadyMetricName:"team_home.feed.first_mount_to_ready",pageOriginToReadyMetricName:"team_home.feed.page_origin_to_ready",isReady:M,homeType:"team"});const W=(0,b().l)(),O=(0,r().IS)((e=>({pageContainer:{display:"flex",flexDirection:"column",order:s().A.appCursorListener.teamHome,width:"100%",backgroundColor:e.contentBackground},teamHome:{position:"relative",cursor:"default"},twoColumn:{display:"flex",flexWrap:"wrap",gap:40},pageLayout:{paddingBottom:I},scroller:{height:"100dvh"},container:{display:"flex",flexDirection:"column",gap:16,paddingTop:S.isMobile?24:40,paddingLeft:0},feedHeader:{display:"flex",alignItems:"center",gap:8,paddingBottom:24},teamIconAndName:{display:"flex",alignItems:"center",gap:12},teamName:{fontSize:30,fontWeight:d().Wy.semibold}})),[I,S.isMobile]);if(!k)return null;const K=!w,F=m.device.isMobile;return(0,te.jsx)("div",{style:O.pageContainer,children:(0,te.jsx)(p().H,{type:B().A.Y,style:O.scroller,className:"home-content",children:(0,te.jsx)(y().Mx,{type:F?"home-phone":T?"team-home":"default",style:O.teamHome,gap:W,children:(0,te.jsx)(g().KF,{lowResolutionTabletUpperBound:980,tabletUpperBound:1190,throttle:100,children:(0,te.jsxs)(y().vV,{style:O.pageLayout,children:[(0,te.jsx)("div",{style:O.container,children:K?(0,te.jsx)(ue().ah,{}):(0,te.jsx)("div",{style:O.feedHeader,children:(0,te.jsxs)("div",{style:O.teamIconAndName,children:[w&&(0,te.jsx)(me().x,{store:w,size:40}),(0,te.jsx)("div",{style:O.teamName,children:P})]})})}),T?(0,te.jsx)(y().MR,{minWidth:300,style:O.twoColumn,left:(0,te.jsx)(ge,{isReady:M,setCollectionContextStore:l,collectionViewBlockStore:R}),right:(0,te.jsx)(ne,{teamStore:w})},"feed"):(0,te.jsx)(he,{isReady:M,setCollectionContextStore:l,collectionViewBlockStore:R})]})})})})})}function he(e){const{isReady:t,setCollectionContextStore:i,collectionViewBlockStore:o}=e,a=(0,n().Y0)(),s=(0,r().IS)((e=>({collectionViewContainer:{...a.isMobile?{marginLeft:-22,marginRight:-22}:{display:"contents"},...t?{}:{display:"block",opacity:0}}})),[a.isMobile,t]);return(0,te.jsxs)(te.Fragment,{children:[t?void 0:(0,te.jsx)(ue().SU,{hasComposer:!0}),(0,te.jsx)("div",{style:s.collectionViewContainer,children:o&&(0,te.jsx)(m().dN,{store:o,disabled:!1,isFullScreen:!0,headerActionsBehavior:"hidden",hideViewTabBar:!0,viewId:o.id,overrideViewType:"feed",setCollectionContextStore:i})})]})}function ge(e){const{isReady:t,setCollectionContextStore:i,collectionViewBlockStore:o}=e,n=(0,r().IS)((e=>({feedPanel:{maxWidth:752,width:t?"-webkit-fill-available":void 0},propertyHeader:ce(e)})),[t]);return(0,te.jsxs)("div",{style:n.feedPanel,children:[(0,te.jsx)("div",{style:n.propertyHeader,children:(0,te.jsx)(l().sA,{defaultMessage:"Feed",id:"TeamHome.FeedPanel.title"})}),(0,te.jsx)(he,{isReady:t,setCollectionContextStore:i,collectionViewBlockStore:o})]})}},736316:(e,t,i)=>{i.d(t,{f:()=>n});var o=()=>i(449412);function n(e){const{name:t,startTime:i,endTime:n}=e;try{performance.measure(t,{start:i,end:n})}catch(a){o().Fg(a,{extra:{name:t,startTime:i,endTime:n}})}}},812119:(e,t,i)=>{i.d(t,{J:()=>r});i(296540);var o=()=>i(401497),n=()=>i(710149),a=i(474848);function r(e){const{widthPercentage:t,isInHomeWidget:i}=e,r=(0,o().IS)((e=>({rowContainer:{display:"flex",height:30,alignItems:"center",gap:1,alignSelf:"stretch"},circleShimmer:{width:i?12:16,height:i?12:16,flexShrink:0,borderRadius:12,backgroundColor:e.lightDividerColor},rowShimmer:{width:t||"35%",height:10,flexShrink:0,borderRadius:12,marginLeft:2,backgroundColor:e.lightDividerColor},column:{display:"flex",height:34,padding:"7px 0px",alignItems:"center",gap:6,flex:"1 0 0"}})),[t,i]);return(0,a.jsx)("div",{style:r.rowContainer,children:(0,a.jsxs)("div",{style:r.column,children:[(0,a.jsx)(n().A,{style:r.circleShimmer}),(0,a.jsx)(n().A,{style:r.rowShimmer})]})})}},817942:(e,t,i)=>{i.d(t,{A5:()=>y,MR:()=>T,Mx:()=>m,Pb:()=>S,WL:()=>k,Yi:()=>C,hg:()=>p,kZ:()=>_,pv:()=>h,vV:()=>b});i(581454);var o=i.n(i(32485)),n=i(296540),a=()=>i(819121),r=()=>i(401497),s=()=>i(534177),l=()=>i(11048),d=()=>i(364280),c=()=>i(455994),u=i(474848);const m=n.forwardRef((function(e,t){const{children:n,type:a,gap:r,withBottomPadding:s,style:l,onMouseDown:d,onClick:m,onDoubleClick:p,onContextMenu:h}=e,g=(0,i(551619).n$)(a),f=(0,i(56366).K8)((()=>c().A.getPanelState("peek").isOpen&&"static_sidebar"===c().A.getPanelState("peek").displayStyle),[]);return(0,u.jsx)("div",{className:o()("layout",{"layout-wide":"wide"===a,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===a,"layout-side-peek":"side-peek"===a,"layout-center-peek":"center-peek"===a&&!f,"layout-center-peek-with-layout-panel":"center-peek"===a&&f,"layout-home":"home"===a,"layout-home-phone":"home-phone"===a,"layout-home-redesign-desktop":"home-redesign-desktop"===a,"layout-form":"form"===a,"layout-form-viewer":"form-viewer"===a,"layout-form-viewer-embed":"form-viewer-embed"===a,"layout-phone":"phone"===a,"layout-tablet":"tablet"===a,"layout-template-preview":"template-preview"===a,"layout-chat":"chat"===a,"layout-layout-editor":"layout-editor"===a,"layout-layout-editor-wide":"layout-editor-wide"===a,"layout-layout-editor-narrow":"layout-editor-narrow"===a,"layout-marketplace":"marketplace"===a,"layout-marketplace-mobile":"marketplace-mobile"===a,"layout-team-home":"team-home"===a,"layout-team-home-mobile":"team-home-mobile"===a,"layout-create-post":"create-post"===a,"layout-fullscreen-ai":"fullscreen-ai"===a,"layout-narrowscreen-ai":"narrowscreen-ai"===a,"layout-presentation-mode":"presentation-mode"===a}),style:{paddingBottom:s?g:void 0,gap:r,...l},ref:t,onMouseDown:d,onClick:m,onDoubleClick:p,onContextMenu:h,children:n})})),p="layout-content",h="layout-full",g="layout-margin-right",f="layout-nested-grid",y="hide-scrollbar",v="layout-column",b=n.forwardRef((function(e,t){return(0,u.jsx)("div",{className:o()(p,e.className),style:e.style,ref:t,children:e.children})}));function S(e){return(0,u.jsx)("div",{className:h,style:e.style,children:e.children})}function _(e){return(0,u.jsx)("div",{className:g,style:{...e.style,pointerEvents:"none"},children:e.children})}const x=(0,n.forwardRef)((function(e,t){return(0,u.jsx)("div",{className:o()(f,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function w(e){return"left-aligned"===e?"flex-start":"centered"===e?"center":"right-tabs"===e?"flex-end":void(0,s().HB)(e)}function C(e){const{items:t,style:i,index:o,setIndex:s,title:c}=e,m=(0,n.useRef)([]),p="centered"===i||"right-tabs"===i,[h,g]=(0,a().A)(),f=(0,r().IS)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},header:"right-tabs"===i?{display:"flex",justifyContent:"space-between",alignItems:"baseline"}:{},tablist:"right-tabs"===i?{display:"flex"}:{},tab:p?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:p?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor},tabFocusVisible:{boxShadow:e.outlineBlueInputBoxShadow}})),[p,i]),y=(0,n.useId)(),v=(0,n.useCallback)((e=>`${y}-tab-${e}`),[y]),S=(0,n.useCallback)((e=>`${y}-tabpanel-${e}`),[y]),_=(0,n.useCallback)((e=>{let i;var n;("ArrowLeft"===e.key?(e.preventDefault(),i=(o+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),i=(o+1)%t.length),void 0!==i)&&(s(i),null===(n=m.current[i])||void 0===n||n.focus())}),[o,s,t.length]);return(0,u.jsx)(l().A,{name:"PageLayoutTabs",children:(0,u.jsxs)(x,{children:[(0,u.jsx)(b,{children:(0,u.jsxs)("div",{style:f.header,children:["right-tabs"===i&&c,(0,u.jsx)("div",{role:"tablist",style:f.tablist,children:(0,u.jsx)(d().fI,{justifyContent:w(i),children:t.map(((e,t)=>{var i;return(0,u.jsx)("button",{ref:e=>{e&&(m.current[t]=e),t===o&&h(e)},id:v(t),role:"tab","aria-controls":S(t),"aria-selected":t===o,tabIndex:t===o?void 0:-1,onKeyDown:_,style:{...f.tab,...t===o&&f.tabSelected,...t===o&&g&&f.tabFocusVisible},onClick:e=>{e.stopPropagation(),s(t)},children:(0,u.jsxs)(d().fI,{gap:4,alignItems:"center",children:[null===(i=e.icon)||void 0===i?void 0:i.call(e,f.icon),e.label&&(0,u.jsx)("div",{style:f.label,children:e.label})]})},e.key)}))})})]})}),(0,u.jsx)(x,{id:S(o),role:"tabpanel","aria-labelledby":v(o),children:t[o]?t[o].children:null})]})})}function k(e){return(0,u.jsx)("div",{className:o()(v,e.className),style:{"--min-column-width":e.minWidth?`${e.minWidth}px`:"100%",...e.style},children:e.children})}function T(e){return(0,u.jsxs)(k,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})}},855685:(e,t,i)=>{i.d(t,{SU:()=>l,ah:()=>d});i(296540);var o=()=>i(484714),n=()=>i(401497),a=()=>i(710149),r=()=>i(665579),s=i(474848);function l(e){const t=(0,o().Y0)(),i=(0,n().IS)((e=>({feedContainer:(0,r().$E)({isPhone:t.isPhone})})),[t.isPhone]);return(0,s.jsxs)("div",{style:i.feedContainer,children:[e.hasComposer&&(0,s.jsx)(c,{}),(0,s.jsx)(u,{}),(0,s.jsx)(m,{})]})}function d(){const e=(0,n().IS)((()=>({teamHomeTitle:{display:"flex",gap:12,alignItems:"center",paddingBottom:24},teamIcon:{width:40,height:40,borderRadius:6},teamName:{width:120,height:28,borderRadius:6}})),[]);return(0,s.jsxs)("div",{style:e.teamHomeTitle,children:[(0,s.jsx)(a().A,{style:e.teamIcon}),(0,s.jsx)(a().A,{style:e.teamName})]})}function c(){const e=p(),t=(0,o().WS)()?300:520;return(0,s.jsxs)("div",{style:e.postContainer,children:[(0,s.jsx)(a().A,{style:e.postTitle}),(0,s.jsx)("div",{style:e.postContentContainer,children:(0,s.jsx)(a().A,{style:{width:t,height:20,borderRadius:10}})}),(0,s.jsx)("div",{style:e.postButtonContainer,children:(0,s.jsx)(a().A,{style:e.postButton})})]})}function u(){const e=p(),{shimmer1:t,shimmer2:i,shimmer3:o}=h();return(0,s.jsxs)("div",{style:e.postContainer,children:[(0,s.jsx)(a().A,{style:e.postTitle}),(0,s.jsxs)("div",{style:e.postContentContainer,children:[(0,s.jsx)(a().A,{style:t}),(0,s.jsx)(a().A,{style:i}),(0,s.jsx)(a().A,{style:o})]}),(0,s.jsxs)("div",{style:e.postComments,children:[(0,s.jsxs)("div",{style:e.postComment,children:[(0,s.jsx)(a().A,{style:{width:20,height:20,borderRadius:10}}),(0,s.jsx)(a().A,{style:{width:160,height:20,borderRadius:6}})]}),(0,s.jsxs)("div",{style:e.postComment,children:[(0,s.jsx)(a().A,{style:{width:20,height:20,borderRadius:10}}),(0,s.jsx)(a().A,{style:{width:80,height:20,borderRadius:6}})]})]})]})}function m(){const e=p(),{shimmer1:t,shimmer2:i,shimmer3:o}=h();return(0,s.jsxs)("div",{style:e.postContainer,children:[(0,s.jsx)(a().A,{style:e.postTitle}),(0,s.jsxs)("div",{style:e.postContentContainer,children:[(0,s.jsx)(a().A,{style:t}),(0,s.jsx)(a().A,{style:i}),(0,s.jsx)(a().A,{style:o})]}),(0,s.jsxs)("div",{style:e.postReactions,children:[(0,s.jsx)(a().A,{style:e.postReaction}),(0,s.jsx)(a().A,{style:e.postReaction}),(0,s.jsx)(a().A,{style:e.postReaction})]})]})}function p(){const e=(0,o().Y0)();return(0,n().IS)((t=>{const{unhoveredBoxShadow:i}=(0,r().UO)({isPhone:e.isPhone,theme:t});return{container:{display:"flex",flexDirection:"column",alignItems:"center"},postContainer:{display:"flex",flexDirection:"column",gap:36,borderRadius:12,boxShadow:i,padding:20,backgroundColor:t.surface.page},feedContainer:{display:"flex",flexDirection:"column",width:700,gap:24},postTitle:{width:80,height:20,borderRadius:10},postContentContainer:{display:"flex",flexDirection:"column",gap:12},postButtonContainer:{display:"flex",justifyContent:"flex-end"},postButton:{width:80,height:20,borderRadius:10},postComments:{display:"flex",flexDirection:"column",gap:12},postComment:{display:"flex",gap:8},postReactions:{display:"flex",gap:8},postReaction:{width:40,height:20,borderRadius:10}}}),[e.isPhone])}function h(){const e=(0,o().WS)();return(0,n().IS)((()=>({shimmer1:{width:e?300:520,height:20,borderRadius:10},shimmer2:{width:e?270:470,height:20,borderRadius:10},shimmer3:{width:e?225:425,height:20,borderRadius:10}})),[e])}},863330:(e,t,i)=>{i.r(t),i.d(t,{iconDefinition:()=>o,plusSmallIcon:()=>n});i(296540);const o={viewBox:"0 0 16 16",svg:(0,i(474848).jsx)("path",{d:"M8 2.3a.7.7 0 0 0-.7.7v4.3H3a.7.7 0 1 0 0 1.4h4.3V13a.7.7 0 1 0 1.4 0V8.7H13a.7.7 0 1 0 0-1.4H8.7V3a.7.7 0 0 0-.7-.7"})},n=(0,i(340498).wt)("plusSmall",o)},892008:(e,t,i)=>{i.d(t,{Bs:()=>c,L:()=>d,Ob:()=>l});i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(898992),i(354520),i(803949);var o=i(296540),n=()=>i(852507),a=()=>i(118884),r=()=>i(994310),s=()=>i(347320);const l=new class{constructor(){this.currentPageId=void 0,this._localStorage=void 0}startCachingViewIds(e){this.currentPageId=e;this.entryForPage(e).v=[]}stopCachingViewIds(){const e=this.currentPageId;if(this.currentPageId=void 0,e){0===this.entryForPage(e).v.length&&delete this.localStorage[e]}}registerView(e,t){if(this.currentPageId!==e)return;const i=this.entryForPage(e);i.v=[...new Set([...i.v,t])],i.t=Date.now(),this.writeToLocalStorage()}unregisterView(e,t){const i=this.localStorage[e];i&&(i.v=i.v.filter((e=>e!==t)),0===i.v.length&&delete this.localStorage[e],this.writeToLocalStorage())}lookupViewIds(e){const t=this.localStorage[e];return(null==t?void 0:t.v)??[]}clear(){this.currentPageId=void 0,this._localStorage=void 0}get localStorage(){return this._localStorage??(this._localStorage=r().A.get(s().O)||Object.create(null))}entryForPage(e){let t=this.localStorage[e];return t||(t={v:[],t:0},this.localStorage[e]=t),t}writeToLocalStorage(){this.limitLocalStorageSize(),r().A.set(s().O,this.localStorage)}limitLocalStorageSize(){const e=Object.keys(this.localStorage);if(e.length>=100){const t={timestamp:Number.MAX_SAFE_INTEGER,key:void 0};e.forEach((e=>{e!==this.currentPageId&&this.localStorage[e].t<t.timestamp&&(t.timestamp=this.localStorage[e].t,t.key=e)})),t.key&&delete this.localStorage[t.key]}}};function d(e){let{collectionContextStore:t,isFullScreen:i,wasCreatedThisSessionStore:n,didDelayOffscreenRenderRef:a,environment:r}=e;const s=(0,o.useCallback)((()=>{var e;const i=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,o=r.RouterStore.state.route;if("page"!==o.name)return;const n=o.blockId;n&&i&&(a.current?(l.unregisterView(n,i),t.shouldDelayRenderStore.removeListener(s)):l.registerView(n,i))}),[t,a,r]);(0,o.useEffect)((()=>{var e;if(i||n.state)return;const o=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,a=r.RouterStore.state.route;if("page"!==a.name)return;return a.blockId&&o?(t.shouldDelayRenderStore.addListener(s),s(),()=>{t.shouldDelayRenderStore.removeListener(s)}):void 0}),[t,i,n,r,s])}function c(e){let{pageId:t,isFrameContext:i}=e;(0,n().l)((()=>{i&&l.startCachingViewIds(t)})),(0,a().X)((()=>{i&&l.stopCachingViewIds()}))}},915086:(e,t,i)=>{i.r(t),i.d(t,{measurePageRenderMetrics:()=>w,setInitialRenderCompleted:()=>_,setSubMetric:()=>v,setSubMetricsAtRenderCallback:()=>y,updateMetricData:()=>b,updateMetricDataWithIsPushTag:()=>x,updateOPFSMetricData:()=>S});i(898992),i(581454),i(737550),i(814603),i(147566),i(198721);var o=()=>i(906510),n=()=>i(410690),a=()=>i(892008),r=()=>i(989423),s=()=>i(807054),l=()=>i(347320),d=()=>i(150749),c=()=>i(836251),u=()=>i(406792),m=()=>i(736316),p=()=>i(508496),h=()=>i(961581),g=()=>i(977390),f=()=>i(606932);function y(e){const{mainStartTime:t,prefetchInitiatedTime:i,statsigBootupBlockingStartTime:o,renderStartTime:a,renderEndTime:r}=e,s=n().getAppStartTime();if(!s)return;const l={app_start_to_main_start:{startTime:s,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:i},prefetch_initiated_to_statsig_bootup_blocking_start:{startTime:i,endTime:o},statsig_bootup_blocking:{startTime:o,endTime:a},render_start_to_render_end:{startTime:a,endTime:r}};for(const[n,d]of Object.entries(l)){const e=null==d?void 0:d.startTime,t=null==d?void 0:d.endTime;e&&t&&(0,m().f)({name:n,startTime:e,endTime:t})}h().A.state.subMetricsStore.update((e=>({...e,...l})))}function v(e){const{name:t,endTime:i}=e,o=e.startTime(h().A.state.subMetricsStore.state);o&&(h().A.state.subMetricsStore.update((e=>({...e,[t]:{startTime:o,endTime:i}}))),(0,m().f)({name:t,startTime:o,endTime:i}))}function b(e){h().A.state.metricDataStore.update((t=>({...t,...e})))}function S(e){h().A.state.OPFSMetricDataStore.update((t=>({...t,...e})))}function _(){h().A.update((e=>({...e,initialRenderCompleted:!0})))}function x(e){const t=e.RouterStore.state;let i;var o;"page"===t.route.name&&(i=t.route.mobileData,b({is_push:null===(o=i)||void 0===o?void 0:o.isPush}))}function w(e){let{environment:t,isEditable:i,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:d,idSchema:m}=e;const{initialRoute:{name:y},route:b}=t.RouterStore.state,{initialRenderCompleted:S,initialRenderAfterLoginCompleted:x}=h().A.state,w=s().isPrewarmedTabInitialRender(t),T=(0,c().w6)(t);S?x||"login"!==y?function(e,t){const i="page"===t.name?t.mobileData:void 0,o=f().A.popTimings();if(o){const{navigationStart:t,requestFirstChunkStart:n,requestFirstChunkEnd:a,requestFirstChunkSource:s,pageViewBlockRender:l,requestFirstChunkDiskMode:d}=o,c=performance.now();u().default.measure({metricName:"navigation_page_render",startTime:t,endTime:c},{environment:e,data:{is_push:(null==i?void 0:i.isPush)??!1,wasm_sqlite_initialized:h().A.state.metricDataStore.state.wasm_sqlite_initialized,first_chunk_disk_mode:"string"==typeof d?"diskCacheOnlyInWebWorker"===d?"web_worker":"default":void 0}}),(0,r().LM)({eventName:"navigation_page_render_sub_metric",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((i=>{if(!i)return;const o=t=>({environment:e,data:{type:t,chunk_source:s},sampleDecision:i});n&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:t,endTime:n},o("navigation_start_to_request_first_chunk_start")),n&&a&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:n,endTime:a},o("request_first_chunk_start_to_request_first_chunk_end")),a&&l&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:a,endTime:l},o("request_first_chunk_end_to_pvb_render")),l&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:l,endTime:c},o("pvb_render_to_handle_navigation_render"))}))}g().A.state.isMeasuring&&g().A.update((e=>({...e,isMeasuring:!1})))}(t,b):function(e){u().default.DO_NOT_USE_measureLegacy("initial_page_render_after_login",{environment:e}),h().A.update((e=>({...e,initialRenderAfterLoginCompleted:!0})))}(t):w?function(e){let{environment:t,initialRoute:i,isEditable:o,isHomePage:n,isWikiHome:a,isPageWithCustomLayout:r,isPublicDomain:s,idSchema:l}=e;_();const d=performance.now();v({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:d});const c=h().A.state.prewarmedTabAppStartTimeOverride;c&&u().default.measure({metricName:"initial_page_render",startTime:c,endTime:d},{environment:t,data:C({initialRoute:i,isEditable:o,isHomePage:n,isWikiHome:a,isPageWithCustomLayout:r,isPublicDomain:s,idSchema:l,isPrewarmedTab:!0,prewarmedTabNavigationStart:c}),shouldSendIfStatsigNotInitialized:!0});g().A.state.isMeasuring&&g().A.update((e=>({...e,isMeasuring:!1})))}({environment:t,initialRoute:y,isEditable:i,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:d,isPublicDomain:T,idSchema:m}):function(e){var t;let{environment:i,initialRoute:a,isEditable:s,isHomePage:l,isWikiHome:d,isPageWithCustomLayout:c,isPublicDomain:m,idSchema:g}=e;const{initialLoadCachedPageChunkCalledAt:f}=h().A.state;_();const y=Boolean(null===(t=performance)||void 0===t?void 0:t.mark)?performance.mark("initial_page_render").startTime:performance.now();o().S3.mark("initial_page_render"),v({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:y});const b=n().getAppStartTime(),S=n().getPageOriginTime();b&&S&&S>0&&b>S&&v({name:"page_origin_to_app_start",startTime:()=>S,endTime:b});u().default.measureFromPageOrigin({metricName:"initial_page_render",endTime:y},{environment:i,data:C({initialRoute:a,isEditable:s,isHomePage:l,isWikiHome:d,isPageWithCustomLayout:c,isPublicDomain:m,idSchema:g,prefetchedQueryCollection:k(i),isPrewarmedTab:!1}),shouldSendIfStatsigNotInitialized:!0});h().A.state.subMetricsStore.state;void 0!==f&&u().default.DO_NOT_USE_measureFromPageOriginLegacy({metricName:"load_cached_page_chunk_wait_time",endTime:f},{environment:i,data:{initial_route:a},shouldSendIfStatsigNotInitialized:!0,sendToStatsig:!0});p().default.checkGate({gateName:"beacon_pre_ipr_assets"})&&function(e,t){var i;if(null===(i=performance)||void 0===i||!i.getEntriesByType)return;const o=performance.getEntriesByType("resource"),n={eventName:"pre_ipr_assets",eventProperties:{ipr_end:t,assets:o.map((e=>{let t;try{t=new URL(e.name).pathname}catch{t=e.name}return{url:t,initiator_type:e.initiatorType,time:e.duration,perf_start:e.startTime,perf_end:e.startTime+e.duration,decoded_body_size:e.decodedBodySize,transfer_size:e.transferSize}}))}};(0,r().u4)({environment:e,event:n})}(i,y)}({environment:t,initialRoute:y,isEditable:i,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:d,isPublicDomain:T,idSchema:m})}function C(e){const{initialRoute:t,isEditable:i,isHomePage:o,isWikiHome:a,isPageWithCustomLayout:r,isPublicDomain:l,isPrewarmedTab:c,idSchema:u,prefetchedQueryCollection:m}=e;return{...s().getSubMetricsAndMetricDataForTracking(e.isPrewarmedTab?{isPrewarmedTab:!0,prewarmedTabNavigationStart:e.prewarmedTabNavigationStart}:{isPrewarmedTab:!1}),initial_route:t,is_editable:i,is_home_page:o,is_page_with_custom_layout:r,is_public_domain:l,profiling_tool:(0,d().getProfilingToolForSession)(),is_wiki_home:a,time_origin_to_app_start:n().getAppStartTime(),includes_page_origin_to_app_start:!0,id_schema:u,prefetched_cvb:m,is_prewarmed_tab:c}}function k(e){const t=e.RouterStore.state.route;if("page"!==t.name||!t.blockId)return!1;return a().Ob.lookupViewIds(t.blockId).some((t=>{var i;const o=(0,l().A)(t),n=null===(i=e.prefetchCache)||void 0===i?void 0:i.getPrefetchAnalytic(o);return"hit-match"===(null==n?void 0:n.type)||"attempted"===(null==n?void 0:n.type)||"hit-mismatch"===(null==n?void 0:n.type)}))}},954933:(e,t,i)=>{i.d(t,{v:()=>d});var o=i(296540),n=()=>i(484714),a=()=>i(56366),r=(i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),()=>i(406792));const s=new Set;const l=new Set;function d(e){let{firstMountToReadyMetricName:t,pageOriginToReadyMetricName:i,isReady:d,homeType:c}=e;const u=(0,n().v3)(),m=function(e,t){const i=(0,o.useMemo)((()=>r().default.DO_NOT_USE_markLegacy(e)),[e]),n=(0,o.useRef)(t);return(0,o.useEffect)((()=>{n.current=t}),[t]),(0,o.useCallback)((()=>{s.has(e)||(s.add(e),r().default.DO_NOT_USE_measureLegacy(i,n.current))}),[i,e])}(t,{environment:u}),p=function(e,t){const i=(0,o.useRef)(t);return(0,o.useEffect)((()=>{i.current=t}),[t]),(0,o.useCallback)((()=>{l.has(e)||(l.add(e),r().default.DO_NOT_USE_measureFromPageOriginLegacy(e,i.current))}),[e])}(i,{environment:u}),h=(0,a().K8)((()=>"personal"===c?function(e){const{route:t,initialRoute:i,historyState:o}=e.RouterStore.state;if("page"!==t.name)return!1;switch(i.name){case"root":return 1===(null==o?void 0:o.index);case"page":return i.blockId===t.blockId&&0===(null==o?void 0:o.index);default:return!1}}(u):function(e){const{route:t,initialRoute:i,historyState:o}=e.RouterStore.state;if("team"!==t.name)return!1;switch(i.name){case"root":return 1===(null==o?void 0:o.index);case"team":return i.teamId===t.teamId&&0===(null==o?void 0:o.index);default:return!1}}(u)),[u,c]);(0,o.useEffect)((()=>{h&&d&&(m(),p())}),[d,m,p,h])}},981305:(e,t,i)=>{i.d(t,{B:()=>a});i(16280);var o=i(296540),n=()=>i(472090);function a(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,o.useEffect)((()=>{const o=new(n().E)({throttleMs:i});if(!e.current)throw new Error("ref.current is null");return o.observe(e.current),o.rect.addListener(t),()=>{o.destroy()}}),[t])}}}]);