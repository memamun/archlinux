"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[8340,47381],{136768:(e,s,t)=>{t.r(s),t.d(s,{TopbarAmbientSuggestTranslateButton:()=>T,TranslateBanner:()=>P().TranslateBanner});var n=t(296540),a=()=>t(484714),i=()=>t(56366),o=()=>t(401497),r=()=>t(318890),l=()=>t(66913),g=()=>t(413267),u=()=>t(644161),c=()=>t(959013),d=()=>t(534177),m=()=>t(910302),b=()=>t(755199),h=()=>t(704152),p=()=>t(285790),f=()=>t(614415),S=()=>t(989423),v=()=>t(745766),y=()=>t(645873),x=()=>t(737230),B=()=>t(448360),I=()=>t(948914),L=t(474848);const C=(0,c().YK)({translateToLabel:{defaultMessage:"Translate to {language}",id:"topbar.ambientSuggestTranslate.label"},dismissLabel:{defaultMessage:"Dismiss translation suggestion",id:"topbar.ambientSuggestTranslate.dismiss"},acceptSuggestionLabel:{defaultMessage:"Stop showing translation suggestions.",id:"topbar.ambientSuggestTranslate.accept"},dismissSuggestionLabel:{defaultMessage:"Dismiss translation suggestion for this page, but keep suggesting translations.",id:"topbar.ambientSuggestTranslate.dismissSuggestionLabel"}});function T(e){const{value:s}=(0,y().fJ)(f().fM),[t,a]=n.useState("suggesting");return s?"suggesting"===t?(0,L.jsx)(k,{...e,framerMotion:s,showDismissForeverMessage:()=>{a("dismissing")}}):"dismissing"===t?(0,L.jsx)(w,{suggestedPageTranslationLanguage:e.suggestedPageTranslationLanguage,detectedPageLanguage:e.detectedPageLanguage,store:e.store,onDismiss:()=>{e.setTranslationSuggestionDismissed(),a("suggesting")}}):(0,d().HB)(t):null}function k(e){let{store:s,isVisible:t,compact:g,framerMotion:d,suggestedPageTranslationLanguage:b,detectedPageLanguage:f,setTranslationSuggestionDismissed:S,showDismissForeverMessage:y}=e;const{AnimatePresence:B,motion:T}=d,k=(0,a().v3)(),w=(0,c().tz)(),P=(0,i().K8)((()=>Boolean(I().A.state.isShowingTabBar)),[]),M=(0,i().K8)((()=>x().Ay.state.expanded),[]),j=(0,n.useMemo)((()=>g||M),[g,M]),A=(0,o().IS)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:256,color:e.text.uiBluePrimary,gap:2,height:28,background:e.accentColors.uiBlue[100],...(0,v().g)({noDrag:k.device.isElectron&&!P})},hoveredButton:{background:e.accentColors.uiBlue[200]},pressedButton:{background:e.accentColors.uiBlue[300]},translateIcon:{height:18,width:18,marginLeft:9,marginRight:3},text:{fontSize:14,lineHeight:1.428},closeIcon:{height:14,width:14,fill:e.text.uiBlueSecondary},closeIconHovered:{background:e.accentColors.uiBlue[200]},closeIconPressed:{background:e.accentColors.uiBlue[300]},dismissIconContainer:{borderRadius:14,marginRight:2,marginTop:2,marginBottom:2}})),[k.device.isElectron,P]),_=(0,n.useCallback)((()=>{m().Z9({pageStore:s,environment:k}),m().Ww({pageStore:s,targetLanguage:b,sourceLanguage:f,environment:k,triggeredFrom:"ambient_suggestion"}),S()}),[k,s,f,b,S]),D=(0,n.useRef)(null),H=(0,n.useCallback)((()=>{j?S():y()}),[j,S,y]);return(0,L.jsx)(B,{children:t&&(0,L.jsx)(T.div,{ref:D,initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.1},children:(0,L.jsxs)(h().A,{style:A.button,hoveredStyle:A.hoveredButton,pressedStyle:A.pressedButton,onClick:_,ariaLabel:w.formatMessage((0,u().Bj)(b)),children:[(0,r().K)(A.translateIcon),(0,L.jsx)(B,{initial:M,children:!j&&(0,L.jsx)(T.div,{initial:{width:0},exit:{width:0},animate:{width:"auto"},transition:{duration:.1},style:A.text,children:(0,L.jsx)(c().sA,{...C.translateToLabel,values:{language:w.formatMessage((0,u().Bj)(b))}})})}),(0,L.jsx)(p().A,{style:A.dismissIconContainer,icon:l().V,iconStyle:A.closeIcon,hoveredStyle:A.closeIconHovered,pressedStyle:A.closeIconPressed,onClick:H,ariaLabel:w.formatMessage(C.dismissLabel)})]},"button")})})}function w(e){const{store:s,suggestedPageTranslationLanguage:t,detectedPageLanguage:i,onDismiss:r}=e,u=(0,c().tz)(),d=(0,a().v3)(),m=(0,n.useCallback)((()=>{r(),B().W.setState(!0),b().h9(d),(0,S().u4)({environment:d,event:{eventName:"click_dismiss_translation_suggestion_forever",eventProperties:{source_language:i,suggested_language:t,page_id:s.id}}})}),[r,d,s,i,t]),h=(0,o().IS)((e=>({wrapper:{display:"flex",alignItems:"center",color:e.text.uiBluePrimary,fontSize:14,lineHeight:1.428,gap:6},iconWrapper:{display:"flex",alignItems:"center"},iconContainer:{borderRadius:"100%",marginTop:2,marginBottom:2},checkIcon:{height:13,width:13,fill:e.text.uiBluePrimary},closeIcon:{height:14,width:14,fill:e.text.uiBluePrimary},blueIconHover:{background:e.accentColors.uiBlue[200]},blueIconPressed:{background:e.accentColors.uiBlue[300]}})),[]);return(0,L.jsxs)("div",{style:h.wrapper,children:[(0,L.jsx)(c().sA,{defaultMessage:"Stop showing translation suggestions?",id:"topbar.ambientSuggestTranslate.dismissConfirmation"}),(0,L.jsxs)("div",{style:h.iconWrapper,children:[(0,L.jsx)(p().A,{style:h.iconContainer,icon:g().b,iconStyle:h.checkIcon,onClick:m,ariaLabel:u.formatMessage(C.acceptSuggestionLabel),hoveredStyle:h.blueIconHover,pressedStyle:h.blueIconPressed}),(0,L.jsx)(p().A,{style:h.iconContainer,icon:l().V,iconStyle:h.closeIcon,onClick:r,ariaLabel:u.formatMessage(C.dismissSuggestionLabel),hoveredStyle:h.blueIconHover,pressedStyle:h.blueIconPressed})]})]})}var P=()=>t(151985)},614415:(e,s,t)=>{t.d(s,{Wx:()=>o,fM:()=>n,l9:()=>a,sM:()=>i});const n=new(t(645873).O2)("framer-motion",(async()=>await Promise.all([t.e(44711),t.e(53321),t.e(37043)]).then(t.bind(t,399791))));function a(e){return e.useAnimate()}function i(e){return e.useAnimation()}function o(e){for(var s=arguments.length,t=new Array(s>1?s-1:0),n=1;n<s;n++)t[n-1]=arguments[n];return e.useInView(...t)}}}]);