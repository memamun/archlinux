"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[49222],{43492:(e,t,i)=>{i.r(t),i.d(t,{MobileActionBar:()=>K});var o=i(296540),n=()=>i(662303),a=()=>i(395361),l=()=>i(484714),s=()=>i(792485),r=()=>i(56366),c=()=>i(401497),d=()=>i(700500),u=()=>i(668725),m=()=>i(340498),b=i(474848);const g=(0,m().wt)("indentDown",{viewBox:"0 0 30 30",svg:(0,b.jsx)("path",{d:"M24,15l-1.406-1.406L16,20.188V2h-2v18.188l-6.594-6.594L6,15l9,9L24,15z M2,26v2h26v-2H2z"})});const p=(0,m().wt)("moveUp",{viewBox:"0 0 30 30",svg:(0,b.jsx)("path",{d:"M14,5.813V24h2V5.813l6.594,6.594L24,11l-9-9l-9,9l1.406,1.406L14,5.813z M2,26v2h26v-2H2z"})}),y=(0,m().wt)("redo",{viewBox:"0 0 16 16",svg:(0,b.jsx)("path",{d:"M1.45117 10.6826C1.45117 13.4102 3.24219 15.208 6.29785 15.208H7.93848C8.38281 15.208 8.69727 14.873 8.69727 14.4629C8.69727 14.0459 8.38281 13.7109 7.93848 13.7109H6.3457C4.14453 13.7109 2.92773 12.4053 2.92773 10.6211C2.92773 8.84375 4.14453 7.59277 6.3457 7.59277H10.7002L12.2793 7.52441L11.0762 8.53613L9.31934 10.252C9.18262 10.3887 9.10059 10.5527 9.10059 10.7715C9.10059 11.1953 9.39453 11.5029 9.83203 11.5029C10.0234 11.5029 10.2285 11.4141 10.3721 11.2705L14.3027 7.40137C14.46 7.25098 14.542 7.05273 14.542 6.84766C14.542 6.64258 14.46 6.4375 14.3027 6.29395L10.3721 2.4248C10.2285 2.28125 10.0234 2.19238 9.83203 2.19238C9.39453 2.19238 9.10059 2.5 9.10059 2.91699C9.10059 3.14258 9.18262 3.30664 9.31934 3.43652L11.0762 5.15234L12.2793 6.1709L10.7002 6.10254H6.38672C3.2832 6.10254 1.45117 7.96875 1.45117 10.6826Z"})});var v=()=>i(948352),f=()=>i(959013),k=()=>i(284371),h=()=>i(328523),x=()=>i(132867),A=()=>i(495262),S=()=>i(862292),T=()=>i(986260),M=()=>i(600871),C=()=>i(231722),I=()=>i(906537),B=()=>i(140862),w=()=>i(962730),_=()=>i(195613),P=()=>i(574012),R=()=>i(75368),j=()=>i(205682),L=()=>i(502438),U=()=>i(24157),q=()=>i(704152),E=()=>i(14235),N=()=>i(213799),F=()=>i(720263),D=()=>i(236228),V=()=>i(777849),O=()=>i(780243);const H=42;function K(e){const{stores:t,position:i,currentBlockStore:u}=e,m=(0,l().v3)(),g=(0,s().S)(),p=(0,l().Y0)(),y=p.isMobileNative,v=p.isSmallPhone,R=(0,B().A)(!0),K=(0,r().K8)((()=>T().rV(m,u,null==g?void 0:g.publicEditModeStore.state)),[m,u,null==g?void 0:g.publicEditModeStore]),le=(0,r().K8)((()=>m.WindowSizeStore.state),[m]),se=(0,c().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"0 8px",whiteSpace:"nowrap"},actionButton:{height:"100%",width:"100%",fontSize:15,display:"flex",boxShadow:i===M().nh.Bottom?e.bottomActionBarShadow:e.shadowMD,backgroundColor:e.keyboardActionBarBackground,paddingLeft:y?le.paddingLeftCSS:0,paddingRight:y?le.paddingRightCSS:0},item:{display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:v?8:10,paddingRight:v?8:10,borderRight:`1px solid ${e.regularDividerColor}`,whiteSpace:"nowrap",height:H,flexShrink:0,flexGrow:0,flexBasis:"auto",color:e.regularTextColor,minWidth:v?42:44},minorItem:{width:34,justifyContent:"center"},itemBorderLeft:{borderLeft:`1px solid ${e.regularDividerColor}`},selectionLinkSpan:{borderBottom:`1px solid ${e.linkDecorationColor}`},actionMenu:{flexGrow:1,flexShrink:1,marginRight:-1,display:"flex",overflowX:"auto",overflowY:"hidden",WebkitOverflowScrolling:"touch"}})),[i,y,le,v]),re=(0,r().K8)((()=>m.device.isMobileBrowser?t.store.state.isOpen:K.shouldShow),[m,t,K]),ce=(0,r().K8)((()=>P().A.mobileNativeBottomPadding(m)),[m]),de=(0,r().K8)((()=>T().ou({environment:m,store:u})),[m,u]),ue=(0,r().K8)((()=>T().BT(t.ignoreSelectionAreaStore,m.TextSelectionCompositionStore,u,!1)),[t,m,u]),{canTriggerTextActions:me,canTriggerCommentAction:be,canTriggerBlockActions:ge,hasMultiBlockSelection:pe,currentSelection:ye}=(0,r().K8)((()=>{const e=T().xr(g&&g.publicEditModeStore.state,u),t=u.canComment(),i=!ue&&T().nC(g&&g.publicEditModeStore.state),o=U().default.state;return{canTriggerTextActions:e,canTriggerCommentAction:t,canTriggerBlockActions:i,hasMultiBlockSelection:"editing"===o.mode&&!(0,C().KP)(o.multiSelection),currentSelection:L().default.state.stores[0]}}),[g,u,ue]),ve=((0,r().K8)((()=>{const e=U().default.state;if("editing"===e.mode){const t=e.multiSelection.end;return{scrollTop:_().A.state.scrollTop_DEPRECATED,editing:!0,store:t.store.id,selection:t}}return{scrollTop:_().A.state.scrollTop_DEPRECATED,editing:!1}}),[]),(0,a().Y)((()=>h().cW(m)),500)),fe=(0,o.useRef)(null),ke=(0,o.useRef)(void 0),he=(0,o.useRef)(!1);(0,o.useLayoutEffect)((()=>{if(y)K.shouldShow!==he.current&&(he.current=K.shouldShow,fe.current&&(fe.current.scrollLeft=0));else{const e=t.store.state.isOpen;K.shouldShow?e?void 0!==ke.current&&(window.clearTimeout(ke.current),ke.current=void 0):(t.store.setState({...t.store.state,isOpen:!0}),fe.current&&(fe.current.scrollLeft=0)):e&&void 0===ke.current&&(ke.current=window.setTimeout((()=>{ke.current=void 0,t.store.setState({...t.store.state,isOpen:!1})}),200))}}),[m,y,K.shouldShow,t.store]);const xe=()=>{let e=!1,i=!1;const o=u.getType();if(o){const t=u.getFormat();(0,d().pD)(o,t)||(e=!0),(0,d().Q3)(o)||(i=!0)}return j().A.state.isOpen&&(e=!1),(0,b.jsxs)("div",{ref:fe,style:se.actionMenu,onScroll:ve,children:[(0,b.jsxs)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,...!v&&{paddingLeft:12,paddingRight:12}},onClick:()=>{t.store.setState({...t.store.state,isInsertOpen:!0}),ae("insert",m)},disabled:!ge,children:[Q,(0,b.jsx)(z,{})]}),(0,b.jsxs)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,fontWeight:k().Wy.medium},onClick:e=>{t.store.setState({...t.store.state,isTurnIntoOpen:!0}),ae("turn_into",m)},disabled:!ge,children:[(0,b.jsx)(f().sA,{defaultMessage:"Turn into",id:"mobileActionBar.turnInto.buttonTitle"}),(0,b.jsx)(z,{})]}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,...R,style:se.item,onClick:()=>T().FN(m),disabled:!i,children:(0,b.jsx)("span",{style:{fontSize:19,lineHeight:1,fontWeight:k().Wy.medium,marginBottom:m.device.isAndroid?4:0},children:"@"})}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.item,onClick:async()=>{const e=await S().T.formulas.load();T().aI(m,"mobile_action_bar",e)},disabled:!e,children:$}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.item,onClick:()=>T().zc(m),disabled:!ge,children:J}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.item,onClick:()=>T()._Y(m),disabled:!ge,children:X}),(0,b.jsxs)("div",{style:{...se.item,paddingLeft:6,paddingRight:6},children:[(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!ge||!x().mE(ye),onClick:()=>T().u7(m),children:W}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!x().v6(ye),onClick:()=>T().lS(m),children:Y}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!ge,onClick:()=>T().FP(m),children:ee}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!ge,onClick:()=>T().cM(m),children:te})]}),(0,b.jsxs)("div",{style:{...se.item,paddingLeft:6,paddingRight:6},children:[(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!A().BB(),onClick:()=>T().RA(m),children:ie}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.minorItem,disabled:!A().fH(),onClick:()=>T().xT(m),children:oe})]}),(0,b.jsxs)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,fontWeight:k().Wy.medium},onClick:e=>{t.store.setState({...t.store.state,isColorOpen:!0}),ae("color",m)},disabled:!ge,children:[(0,b.jsx)(f().sA,{defaultMessage:"Color",id:"mobileActionBar.color.buttonTitle"}),(0,b.jsx)(z,{})]}),(0,b.jsxs)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,fontWeight:k().Wy.medium},onClick:()=>T().al(m),disabled:!ge,children:[(0,b.jsx)(f().sA,{defaultMessage:"More",id:"mobileActionBar.more.buttonTitle"}),(0,b.jsx)(z,{})]})]})},Ae=()=>(0,b.jsxs)("div",{style:se.actionButton,children:[de?(0,b.jsx)(G,{itemStyle:se.item,actionMenuStyle:se.actionMenu}):ue?(0,b.jsxs)("div",{style:se.actionMenu,onScroll:ve,children:[be&&!j().A.state.isOpen&&(0,b.jsx)(F().A,{style:se.item,blockStore:ye,iconOnly:!1}),(0,b.jsx)(D().A,{type:"b",style:se.item,onClick:()=>ae("bold",m),disabled:!me,children:(0,b.jsx)("span",{style:{fontWeight:k().Wy.semibold},children:(0,b.jsx)(f().sA,{defaultMessage:"B",id:"mobileActionBar.bold.symbol"})})}),(0,b.jsx)(D().A,{type:"i",style:se.item,onClick:()=>ae("italic",m),disabled:!me,children:(0,b.jsx)("span",{style:{fontStyle:"italic",fontWeight:k().Wy.semibold},children:(0,b.jsx)(f().sA,{defaultMessage:"i",id:"mobileActionBar.italic.symbol"})})}),(0,b.jsx)(D().A,{type:"_",style:se.item,onClick:()=>ae("underline",m),disabled:!me,children:(0,b.jsx)("span",{style:{textDecoration:"underline"},children:(0,b.jsx)(f().sA,{defaultMessage:"U",id:"mobileActionBar.underline.symbol"})})}),(0,b.jsx)(D().A,{type:"s",style:se.item,onClick:()=>ae("strike_through",m),disabled:!me,children:(0,b.jsx)("span",{style:{textDecoration:"line-through"},children:(0,b.jsx)(f().sA,{defaultMessage:"S",id:"mobileActionBar.strikeThrough.symbol"})})}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.button,disabled:!x().mE(ye),onClick:()=>T().u7(m),children:W}),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:se.button,disabled:!x().v6(ye),onClick:()=>T().lS(m),children:Y}),(0,b.jsx)(D().A,{type:"c",style:se.item,onClick:()=>ae("code",m),disabled:!me,children:(0,b.jsx)("span",{style:{fontFamily:k().vc(n().locale).githubMono},children:(0,b.jsx)(f().sA,{defaultMessage:"Code",id:"mobileActionBar.code.symbol"})})}),(0,b.jsx)(O().A,{style:se.item,disabled:!me||pe,children:(0,b.jsx)("span",{style:se.selectionLinkSpan,children:(0,b.jsx)(f().sA,{defaultMessage:"Link",id:"mobileActionBar.link.symbol"})})}),(0,b.jsx)(V().A,{onClick:()=>ae("equation",m),disabled:!me||pe,style:se.item,children:Z}),(0,b.jsx)(N().A,{style:se.item,disabled:!me})]}):xe(),(0,b.jsx)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...se.item,...se.itemBorderLeft,borderRight:"none"},onClick:()=>T().EZ(t,m),children:ne})]});if(i===M().nh.Bottom)return(0,b.jsx)("div",{style:{position:"absolute",bottom:ce,left:0,height:H,width:"100%",pointerEvents:re?"auto":"none",opacity:re?1:0,transform:re?"translateY(0)":`translateY(${H}px)`,transition:"opacity 120ms ease-out, transform 120ms ease-out"},children:Ae()});{const e=I().getSelectionRect();if(!e)return null;const t=document.body.getBoundingClientRect(),i={...e,left:10,top:e.top+10-t.top};return(0,b.jsx)(E().Ay,{popupType:y?E().nl.SlideUp:E().nl.Popup,open:re,preventBlockRenderQueueOnEnter:!0,placementToOrigin:w().W.Bottom,alignmentToOrigin:w().C.Start,originRect:i,disableMouseCapture:!0,keepFocus:!0,render:()=>(0,b.jsx)("div",{style:{height:H,borderRadius:4,overflow:"hidden"},children:Ae()})})}}function G(e){let{itemStyle:t,actionMenuStyle:i}=e;const o=(0,l().v3)();return(0,b.jsx)("div",{style:i,children:(0,b.jsxs)(q().A,{mobileFeedback:!0,disabledFeedback:!0,style:{...t,borderRight:"none",fontWeight:k().Wy.medium},onClick:e=>{R().A.setState({open:!0}),ae("templates",o)},children:[(0,v().M)({width:20,marginRight:8}),(0,b.jsx)(f().sA,{defaultMessage:"Choose a template...",id:"mobileActionBar.templates.buttonTitle"}),(0,b.jsx)(z,{})]})})}function z(){const e=(0,c().IS)((e=>({chevron:{width:10,marginLeft:4,fill:e.lightIconColor}})),[]);return(0,u().b)(e.chevron)}const W=g({width:18,height:18,transform:"rotate(90deg)",position:"relative",left:1}),Y=g({width:18,height:18,transform:"rotate(-90deg)",position:"relative",left:-1}),Z=(0,i(339764).c)({width:16,height:16}),Q=(0,i(124085).P)({width:14,height:14}),$=(0,i(965998).M)({width:18,height:18}),J=(0,i(461515).F)({width:18,height:18}),X=(0,i(735384).I)({width:18,height:18}),ee=p({width:18,height:18,position:"relative",left:2}),te=p({width:18,height:18,transform:"rotate(180deg)",position:"relative",left:2}),ie=(0,i(112452)._)({width:19,height:19}),oe=y({width:19,height:19}),ne=(0,i(680243).l)({width:18,height:18});function ae(e,t){h().np(t,{itemName:e})}},114816:(e,t,i)=>{i.r(t),i.d(t,{NativeMobileActionBar:()=>Oe});i(898992),i(823215),i(430670),i(803949),i(581454),i(737550);var o=i(296540),n=()=>i(266625),a=()=>i(484714),l=()=>i(118884),s=()=>i(792485),r=()=>i(56366),c=()=>i(700500),d=()=>i(206267),u=(i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(354520),i(672577),()=>i(100622)),m=()=>i(534177),b=()=>i(148307),g=(i(908872),()=>i(671593)),p=()=>i(638681);function y(e,t,i){const{content:o,apiRequestValue:n}=i;return{id:e,content:o,action:{type:t,apiRequestValue:n}}}function v(e,t,i,o,n){return y(e,"webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:t},accessibilityText:n,selected:o},apiRequestValue:{menuType:i,actionId:e,context:void 0}})}function f(e,t,i,o,n){return y(e,"webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:t},accessibilityText:n,selected:o},apiRequestValue:{menuType:i,actionId:e,context:void 0}})}const k=["insertBlock","turnInto","textColor","textSelectionColor"];const h=["suggested","textFormatting","slashMenu","turnInto","textColor","textSelectionColor","more"];function x(e,t){return{type:e,apiRequestValue:t}}function A(e,t){const i={from:t,data:e};return JSON.stringify(i)}const S=p().object({required:{data:p().object({required:{action:p().literals("bold","italic","underline","strikethrough","link","code","equation","mention","trash","comment","filePicker","indent","unindent","moveUp","moveDown","undo","redo","dismissKeyboard","more","ai","voiceInput","filing","templates","todoListTemplate","weeklyPlanTemplate","copyLinkToBlock")},optional:{}})},optional:{from:p().literals("mobile_action_bar","mobile_text_formatting_menu")}});let T=function(e){return e[e.InvalidActionType=0]="InvalidActionType",e[e.MissingPayload=1]="MissingPayload",e[e.InvalidRequestType=2]="InvalidRequestType",e[e.InvalidData=3]="InvalidData",e}({});class M{constructor(e,t){this.type=e,this.message=t}}function C(e){return 0===e.reduce(((e,t)=>e+t.items.length),0)}const I=y("mab.button.back","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:{sfProGlyphName:"chevron.backward.2",localImageIdentifier:"back"},accessibilityText:""},apiRequestValue:{subMenuType:void 0,context:void 0}});y("mab.button.noResults","nativeAction_setSubMenuType",{content:{type:"text_and_icon",imageReference:{},accessibilityText:"",text:"No results",fullWidth:!0,disabled:!0},apiRequestValue:{subMenuType:void 0,context:void 0}});function B(e,t,i,o){return y("mab.button.indent","webAction_generic",{content:{type:"icon",imageReference:o,disabled:e||t,accessibilityText:i},apiRequestValue:{jsonPayload:A({action:"indent"}),context:void 0}})}function w(e,t,i,o){return y("mab.button.unindent","webAction_generic",{content:{type:"icon",imageReference:o,accessibilityText:i,disabled:e||t},apiRequestValue:{jsonPayload:A({action:"unindent"}),context:void 0}})}function _(e,t,i){return y("mab.button.moveUp","webAction_generic",{content:{type:"icon",imageReference:i,accessibilityText:t,disabled:e},apiRequestValue:{jsonPayload:A({action:"moveUp"}),context:void 0}})}function P(e,t,i){return y("mab.button.moveDown","webAction_generic",{content:{type:"icon",imageReference:i,accessibilityText:t,disabled:e},apiRequestValue:{jsonPayload:A({action:"moveDown"}),context:void 0}})}function R(e){const{createAIAction:t,createDictationAction:i,disableDictationActions:o,disableTextActions:n,disableAIAction:a,disableBlockActions:l,disableCommentAction:s,disableMentionAction:r,disableInsertBlockAction:c,disableTurnIntoAction:d,disableTextFormatting:m,disableTextColorAction:g,disableDeleteBlock:p,disableUndo:k,disableRedo:h,disableIndent:x,disableUnindent:S,disableLinkAction:T,disableCopyLinkToBlock:M,disableEquationAction:C,isEditingTitle:I,selectedMenuType:R,isPersonalizedActionsEnabled:j,showNewMABIcons:L,shouldShowTextActions:U,usePillStyling:q,textSelectionColor:E,textFormattingSelections:F,titleTexts:V,accessibilityTexts:O,theme:H}=e,K=U?"textSelectionColor":"textColor",G=function(e){const{usePillStyling:t,titleTexts:i}=e,o=t?"pill":"filled";return{todoListTemplate:y("mab.button.template.todolist","webAction_generic",{content:{type:"text_and_icon",text:i.todoListTemplate,style:o,imageReference:{sfProGlyphName:"checkmark.square",localImageIdentifier:"checkbox"}},apiRequestValue:{jsonPayload:A({action:"todoListTemplate"}),context:void 0}}),weeklyPlanTemplate:y("mab.button.template.weeklyPlan","webAction_generic",{content:{type:"text_and_icon",text:i.weeklyPlanTemplate,style:o,imageReference:{sfProGlyphName:"calendar",localImageIdentifier:"calendar"}},apiRequestValue:{jsonPayload:A({action:"weeklyPlanTemplate"}),context:void 0}}),templates:y("mab.buttonSection.template","webAction_generic",{content:{type:"text_and_icon",text:t?i.moreTemplates:i.template,style:o,imageReference:{sfProGlyphName:t?"ellipsis":void 0,localImageIdentifier:t?"ellipsis":"template"}},apiRequestValue:{jsonPayload:A({action:"templates"}),context:void 0}})}}({usePillStyling:q,titleTexts:V});return{ai:t?y("mab.button.ai","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.aiFaceSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{localImageIdentifier:"ai"},disabled:a,accessibilityText:O.ai},apiRequestValue:{jsonPayload:A({action:"ai"}),context:void 0}}):void 0,speech:i?y("mab.button.speech","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.micSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"mic.fill",localImageIdentifier:"micFilled"},style:q?"pill":void 0,accessibilityText:O.ai,disabled:o},apiRequestValue:{jsonPayload:A({action:"voiceInput"}),context:void 0}}):void 0,insert:y("mab.button.insert","nativeAction_setMenuType",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.plusSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"plus",localImageIdentifier:"insertBlock"},accessibilityText:O.insert,disabled:l||c,selected:"insertBlock"===R},apiRequestValue:{menuType:"insertBlock",context:void 0}}),turnInto:y("mab.button.turnInto","nativeAction_setMenuType",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.turnIntoSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"arrow.2.squarepath",localImageIdentifier:"turnInto"},disabled:l||d,selected:"turnInto"===R,accessibilityText:O.turnInto},apiRequestValue:{menuType:"turnInto",context:void 0}}),filePicker:y("mab.button.filePicker","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.photoMultipleSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"photo.on.rectangle.angled",localImageIdentifier:"filePicker"},style:q?"pill":void 0,disabled:!I&&l,accessibilityText:O.filePicker},apiRequestValue:{jsonPayload:A({action:"filePicker"}),context:void 0}}),mention:y("mab.button.mention","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.mentionSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"at",localImageIdentifier:"mention"},disabled:r,accessibilityText:O.mention},apiRequestValue:{jsonPayload:A({action:"mention"}),context:void 0}}),comment:y("mab.button.comment","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.commentSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"text.bubble",localImageIdentifier:"comment"},disabled:s,accessibilityText:O.comment},apiRequestValue:{jsonPayload:A({action:"comment"},"mobile_action_bar"),context:void 0}}),biu:y("bold.italic.underline","nativeAction_setSubMenuType",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.textFormattingSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"textformat",localImageIdentifier:"textFormat"},disabled:m,accessibilityText:O.textFormatting},apiRequestValue:{subMenuType:"textFormatting",context:void 0}}),delete:y("mab.button.delete","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.trashSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"trash",localImageIdentifier:"trash"},disabled:p,accessibilityText:O.trash},apiRequestValue:{jsonPayload:A({action:"trash"}),context:void 0}}),undo:y("mab.button.undo","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.undoSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"arrow.uturn.backward",localImageIdentifier:"undo"},disabled:k,accessibilityText:O.undo},apiRequestValue:{jsonPayload:A({action:"undo"}),context:void 0}}),redo:y("mab.button.redo","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.redoSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"arrow.uturn.forward",localImageIdentifier:"redo"},disabled:h,accessibilityText:O.redo},apiRequestValue:{jsonPayload:A({action:"redo"}),context:void 0}}),more:y("mab.button.more","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.moreSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"ellipsis",localImageIdentifier:"ellipsis"},accessibilityText:O.more,disabled:l},apiRequestValue:{jsonPayload:A({action:"more"}),context:void 0}}),indent:B(l,x,O.indent,L?{imageUrl:b().A.images.mab.actions.indentSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"increase.indent",localImageIdentifier:"indent"}),unindent:w(l,S,O.unindent,L?{imageUrl:b().A.images.mab.actions.outdentSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"decrease.indent",localImageIdentifier:"unindent"}),moveUp:_(l,O.moveUp,L?{imageUrl:b().A.images.mab.actions.moveUpSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"arrow.up.to.line.alt",localImageIdentifier:"moveUp"}),moveDown:P(l,O.moveDown,L?{imageUrl:b().A.images.mab.actions.moveDownSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"arrow.down.to.line.alt",localImageIdentifier:"moveDown"}),indentPrioritized:N(B(l,x,O.indent,L?{imageUrl:b().A.images.mab.actions.indentSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"increase.indent",localImageIdentifier:"indent"})),unindentPioritized:N(w(l,S,O.unindent,L?{imageUrl:b().A.images.mab.actions.outdentSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"decrease.indent",localImageIdentifier:"unindent"})),moveUpPrioritized:N(_(l,O.moveUp,L?{imageUrl:b().A.images.mab.actions.moveUpSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"arrow.up.to.line.alt",localImageIdentifier:"moveUp"})),moveDownPrioritized:N(P(l,O.moveDown,L?{imageUrl:b().A.images.mab.actions.moveDownSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"arrow.down.to.line.alt",localImageIdentifier:"moveDown"})),color:j?n||g?void 0:y("mab.button.textFormatting.textSelectionColor.native","nativeAction_setMenuType",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.actions.textColorSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},selected:R===K,accessibilityText:O.textColor},apiRequestValue:{menuType:K,context:void 0}}):y("mab.button.textFormatting.textSelectionColor.native","nativeAction_setMenuType",{content:{type:"icon",imageReference:D(E,H),disabled:n||g,selected:R===K,accessibilityText:O.textColor},apiRequestValue:{menuType:K,context:void 0}}),bold:y("mab.button.bold","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.boldSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"bold",localImageIdentifier:"bold"},accessibilityText:O.bold,disabled:n,selected:F.bold},apiRequestValue:{jsonPayload:A({action:"bold"}),context:void 0}}),italic:y("mab.button.italic","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.italicSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"italic",localImageIdentifier:"italic"},disabled:n,selected:F.italic,accessibilityText:O.italics},apiRequestValue:{jsonPayload:A({action:"italic"}),context:void 0}}),underline:y("mab.button.underline","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.underlineSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"underline",localImageIdentifier:"underline"},disabled:n,selected:F.underline,accessibilityText:O.underline},apiRequestValue:{jsonPayload:A({action:"underline"}),context:void 0}}),strikethrough:y("mab.button.strikethrough","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.strikethroughSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"strikethrough",localImageIdentifier:"strikethrough"},disabled:n,selected:F.strikethrough,accessibilityText:O.strikethrough},apiRequestValue:{jsonPayload:A({action:"strikethrough"}),context:void 0}}),linkToPage:y("insert link_to_page-Link to page","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.linkToPageSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:"Link",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert link_to_page-Link to page",context:void 0}}),link:y("mab.button.link","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.linkAddSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"link.badge.plus",localImageIdentifier:"link"},accessibilityText:O.link,disabled:n||T,selected:F.link},apiRequestValue:{jsonPayload:A({action:"link"}),context:void 0}}),copyLinkToBlock:j?y("mab.button.copyLinkToBlock","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.linkSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"link",localImageIdentifier:"link"},accessibilityText:O.copyLinkToBlock,disabled:M},apiRequestValue:{jsonPayload:A({action:"copyLinkToBlock"}),context:void 0}}):void 0,code:y("mab.button.code","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.blocks.codeSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"chevron.left.slash.chevron.right",localImageIdentifier:"code"},accessibilityText:O.code,disabled:n,selected:F.code},apiRequestValue:{jsonPayload:A({action:"code"}),context:void 0}}),equation:y("mab.button.equation","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.blocks.inlineEquationSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"x.squareroot",localImageIdentifier:"equation"},accessibilityText:O.equation,disabled:n||C,selected:F.equation},apiRequestValue:{jsonPayload:A({action:"equation"}),context:void 0}}),filing:y("mab.button.filing","webAction_generic",{content:V.filing?{type:"text_and_icon",text:V.filing,style:"filled",imageReference:{sfProGlyphName:"folder",localImageIdentifier:"folder"},accessibilityText:O.filing}:{type:"icon",style:"filled",imageReference:{sfProGlyphName:"folder",localImageIdentifier:"folder"},accessibilityText:O.filing},apiRequestValue:{jsonPayload:A({action:"filing"}),context:void 0}}),text:j?y("insert text-Text","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.textSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:"Text",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert text-Text",context:void 0}}):void 0,encryptedText:j?y("insert encrypted_text-Encrypted Text","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.encryptedTextSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:"Encrypted Text",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert encrypted_text-Encrypted Text",context:void 0}}):void 0,page:j?y("insert page-Page","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.pageSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:"Page",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert page-Page",context:void 0}}):void 0,divider:y("insert divider-Divider","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.dividerSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:"Divider",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert divider-Divider",context:void 0}}),table:y("insert table-Table","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.simpleTableSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:"Table",disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert table-Table",context:void 0}}),toDoList:j?y("insert to_do-To-do list","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.toDoSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:O.todoList,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert to_do-To-do list",context:void 0}}):void 0,h1:j?y("insert header-Heading 1","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.headerH1Svg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:O.h1,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert header-Heading 1",context:void 0}}):void 0,h2:j?y("insert sub_header-Heading 2","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.headerH2Svg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:O.h2,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert sub_header-Heading 2",context:void 0}}):void 0,h3:j?y("insert sub_sub_header-Heading 3","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.headerH3Svg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:O.h3,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert sub_sub_header-Heading 3",context:void 0}}):void 0,bulletedList:j?y("insert bulleted_list-Bulleted list","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.bulletedListSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:O.bulletedList,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert bulleted_list-Bulleted list",context:void 0}}):void 0,numberedList:j?y("insert numbered_list-Numbered list","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.numberedListSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:O.numberedList,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert numbered_list-Numbered list",context:void 0}}):void 0,toggleList:j?y("insert toggle-Toggle list","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.toggleListSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:O.toggleList,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert toggle-Toggle list",context:void 0}}):void 0,quote:j?y("insert quote-Quote","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.quoteSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:O.quote,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert quote-Quote",context:void 0}}):void 0,callout:j?y("insert callout-Callout","webAction_genericAction",{content:{type:"icon",imageReference:{imageUrl:b().A.images.mab.blocks.calloutSvg,imageTintColor:(0,u().vU)(H.icon.secondary)},accessibilityText:O.callout,disabled:!1,selected:!1},apiRequestValue:{menuType:"insertBlock",actionId:"insert callout-Callout",context:void 0}}):void 0,backgroundColorDefault:j&&"default_background"!==F.backgroundHighlight?f("action color default_background-Default background","dark"===H.mode?b().A.images.mab.textBackground.dark.defaultSvg:b().A.images.mab.textBackground.light.defaultSvg,K,!1,"Default"):void 0,backgroundColorGray:j?f("action color gray_background-Gray background","dark"===H.mode?b().A.images.mab.textBackground.dark.graySvg:b().A.images.mab.textBackground.light.graySvg,K,"gray_background"===F.backgroundHighlight,"Gray"):void 0,backgroundColorBrown:j?f("action color brown_background-Brown background","dark"===H.mode?b().A.images.mab.textBackground.dark.brownSvg:b().A.images.mab.textBackground.light.brownSvg,K,"brown_background"===F.backgroundHighlight,"Brown"):void 0,backgroundColorOrange:j?f("action color orange_background-Orange background","dark"===H.mode?b().A.images.mab.textBackground.dark.orangeSvg:b().A.images.mab.textBackground.light.orangeSvg,K,"orange_background"===F.backgroundHighlight,"Orange"):void 0,backgroundColorYellow:j?f("action color yellow_background-Yellow background","dark"===H.mode?b().A.images.mab.textBackground.dark.yellowSvg:b().A.images.mab.textBackground.light.yellowSvg,K,"yellow_background"===F.backgroundHighlight,"Yellow"):void 0,backgroundColorTeal:j?f("action color teal_background-Green background","dark"===H.mode?b().A.images.mab.textBackground.dark.greenSvg:b().A.images.mab.textBackground.light.greenSvg,K,"teal_background"===F.backgroundHighlight,"Green"):void 0,backgroundColorBlue:j?f("action color blue_background-Blue background","dark"===H.mode?b().A.images.mab.textBackground.dark.blueSvg:b().A.images.mab.textBackground.light.blueSvg,K,"blue_background"===F.backgroundHighlight,"Blue"):void 0,backgroundColorPurple:j?f("action color purple_background-Purple background","dark"===H.mode?b().A.images.mab.textBackground.dark.purpleSvg:b().A.images.mab.textBackground.light.purpleSvg,K,"purple_background"===F.backgroundHighlight,"Purple"):void 0,backgroundColorPink:j?f("action color pink_background-Pink background","dark"===H.mode?b().A.images.mab.textBackground.dark.pinkSvg:b().A.images.mab.textBackground.light.pinkSvg,K,"pink_background"===F.backgroundHighlight,"Pink"):void 0,backgroundColorRed:j?f("action color red_background-Red background","dark"===H.mode?b().A.images.mab.textBackground.dark.redSvg:b().A.images.mab.textBackground.light.redSvg,K,"red_background"===F.backgroundHighlight,"Red"):void 0,textColorRed:j?v("action color red-Red text","dark"===H.mode?b().A.images.mab.textColor.dark.redSvg:b().A.images.mab.textColor.light.redSvg,K,"red"===E,"Red"):void 0,textColorOrange:j?v("action color orange-Orange text","dark"===H.mode?b().A.images.mab.textColor.dark.orangeSvg:b().A.images.mab.textColor.light.orangeSvg,K,"orange"===E,"Orange"):void 0,textColorYellow:j?v("action color yellow-Yellow text","dark"===H.mode?b().A.images.mab.textColor.dark.yellowSvg:b().A.images.mab.textColor.light.yellowSvg,K,"yellow"===E,"Yellow"):void 0,textColorTeal:j?v("action color teal-Green text","dark"===H.mode?b().A.images.mab.textColor.dark.greenSvg:b().A.images.mab.textColor.light.greenSvg,K,"teal"===E,"Green"):void 0,textColorBlue:j?v("action color blue-Blue text","dark"===H.mode?b().A.images.mab.textColor.dark.blueSvg:b().A.images.mab.textColor.light.blueSvg,K,"blue"===E,"Blue"):void 0,textColorPurple:j?v("action color purple-Purple text","dark"===H.mode?b().A.images.mab.textColor.dark.purpleSvg:b().A.images.mab.textColor.light.purpleSvg,K,"purple"===E,"Purple"):void 0,textColorPink:j?v("action color pink-Pink text","dark"===H.mode?b().A.images.mab.textColor.dark.pinkSvg:b().A.images.mab.textColor.light.pinkSvg,K,"pink"===E,"Pink"):void 0,textColorGray:j?v("action color gray-Gray text","dark"===H.mode?b().A.images.mab.textColor.dark.graySvg:b().A.images.mab.textColor.light.graySvg,K,"gray"===E,"Gray"):void 0,textColorBrown:j?v("action color brown-Brown text","dark"===H.mode?b().A.images.mab.textColor.dark.brownSvg:b().A.images.mab.textColor.light.brownSvg,K,"brown"===E,"Brown"):void 0,textColorDefault:j&&"default"!==E?v("action color default-Default text","dark"===H.mode?b().A.images.mab.textColor.dark.defaultSvg:b().A.images.mab.textColor.light.defaultSvg,K,!1,"Default"):void 0,...G,dismissKeyboard:y("mab.dismissKeyboard","webAction_generic",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.keyboardDownSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"keyboard.chevron.compact.down",localImageIdentifier:"keyboardDown"},accessibilityText:O.dismissKeyboard},apiRequestValue:{jsonPayload:A({action:"dismissKeyboard"}),context:void 0}}),closeActionMenu:y("mab.dismissKeyboard","nativeAction_setMenuType",{content:{type:"icon",imageReference:L?{imageUrl:b().A.images.mab.actions.xCircleSvg,imageTintColor:(0,u().vU)(H.icon.secondary)}:{sfProGlyphName:"xmark.circle.fill",localImageIdentifier:"cancel"},accessibilityText:O.closeActionMenu},apiRequestValue:{menuType:void 0,context:void 0}})}}function j(e){const{buttonMap:t,shouldShowTemplatePills:i,frecentlyRankedActions:o,isEditingTitle:n,isEditingHeader:a,isEditingSimpleTableOrCollectionTextPropertyInExp:l,isEditingCallout:s,isEditingQuote:r,shouldPrioritizeList:c,shouldShowFiling:d,shouldShowTemplates:u,someBlockPrioritizesIndentation:b,isTablet:g,isPersonalizedActionsEnabled:p,isDBUXMobileEnabled:y,shouldShowSelectedTextButtons:v,isIndentable:f,isEmpty:k}=e;let h=[];if(n)if(i)h=[t.todoListTemplate,t.weeklyPlanTemplate,t.templates];else{const e=g?[]:[t.speech,t.filePicker],i=d?[t.filing]:[],o=u?[t.templates]:[];h=[...i,...o,...e]}if(!n&&p){let e=[];if(e=function(e,t,i,o,n,a,l,s){const r=new Set(["todoListTemplate","weeklyPlanTemplate","templates","filing"]),c=new Set(["bold","italic","underline","strikethrough","biu","dismissKeyboard","closeActionMenu","indent","unindent","moveUp","moveDown","ai"]),d=new Set(["color","backgroundColorDefault","backgroundColorGray","backgroundColorBrown","backgroundColorOrange","backgroundColorYellow","backgroundColorTeal","backgroundColorBlue","backgroundColorPurple","backgroundColorPink","backgroundColorRed","textColorDefault","textColorGray","textColorBrown","textColorOrange","textColorYellow","textColorTeal","textColorBlue","textColorPurple","textColorPink","textColorRed"]);let u;u=n?new Set([...c,...r,...d,"insert","biu","turnInto","more"]):l||s?new Set([...c,...r,...d,"insert","turnInto","more"]):i?new Set([...c,...r,...d,"copyLinkToBlock","insert","turnInto","more"]):a?new Set([...c,...r,...d,"toDoList","h1","h2","h3","bulletedList","numberedList","toggleList","quote","callout","insert","speech","turnInto","filePicker","ai","more"]):new Set([...c,...r,...d,"insert","turnInto","more"]);const b=Object.keys(e).filter((i=>{var o;return!u.has(i)&&t.includes(i)&&!(null!==(o=e[i])&&void 0!==o&&null!==(o=o.content)&&void 0!==o&&o.disabled)})).sort(((e,i)=>t.indexOf(e)-t.indexOf(i))).map((t=>e[t])).filter(m().O9).slice(0,3).sort(((e,t)=>e.id>t.id?1:-1));return b}(t,o,k,0,a,l,s,r),e.length<3){const i=function(e,t){return t?[e.toDoList,e.bulletedList,e.toggleList].filter(m().O9):[e.toDoList,e.bulletedList,e.h1].filter(m().O9)}(t,a);e=Array.from(new Set([...e,...i])).slice(0,3)}const i=function(e){const{buttonMap:t,shouldShowSelectedTextButtons:i,isIndentable:o,isEditingSimpleTableOrCollectionTextPropertyInExp:n,isEditingCallout:a,isDBUXMobileEnabled:l}=e;let s=[];s=n&&l?L(t,i):i?[t.color,t.bold,t.underline,t.italic,t.strikethrough,t.link,t.comment,t.turnInto,t.code,t.equation,t.copyLinkToBlock,t.more]:n?[t.color,t.bold,t.underline,t.italic,t.strikethrough,t.mention,t.link,t.comment,t.code,t.equation,t.copyLinkToBlock]:o?[t.unindent,t.indent,t.insert,t.biu,t.moveUp,t.moveDown,t.filePicker,t.speech,t.turnInto,t.undo,t.redo,t.mention,t.delete,t.more]:a?[t.insert,t.biu,t.filePicker,t.speech,t.turnInto,t.undo,t.redo,t.unindent,t.indent,t.moveUp,t.moveDown,t.delete,t.mention,t.more]:[t.insert,t.biu,t.filePicker,t.speech,t.turnInto,t.undo,t.redo,t.unindent,t.indent,t.moveUp,t.moveDown,t.mention,t.delete,t.more];return s.filter(m().O9)}({buttonMap:t,shouldShowSelectedTextButtons:v,isIndentable:f,isEditingSimpleTableOrCollectionTextPropertyInExp:l,isEditingCallout:s,isDBUXMobileEnabled:y}),n=function(e,t){const i=new Set(t.map((e=>e.id)));return e.filter((e=>!i.has(e.id)))}(i,e);return[e.length>0?{id:"mab.buttonSection.main.personalized",buttons:[...[t.ai,...e].filter(m().O9).entries()].map((e=>{let[t,i]=e;return q(i,t)})),skipSectionDivider:!1,shouldFadeIn:!0}:void 0,{id:"mab.buttonSection.main",buttons:[...n.entries()].map((e=>{let[t,i]=e;return q(i,t)})),shouldFadeIn:!0}].filter(m().O9)}if(c&&b){return[{id:"mab.buttonSection.main",buttons:[...[t.ai,t.unindentPioritized,t.indentPrioritized,t.moveUpPrioritized,t.moveDownPrioritized].filter(m().O9),...g?[t.insert,t.turnInto,t.filePicker,t.speech].filter(m().O9):[t.insert,t.speech,t.filePicker,t.turnInto].filter(m().O9),...[t.biu,t.comment,t.undo,t.mention,t.delete,t.more].filter(m().O9)],skipSectionDivider:!0}]}return[{id:"mab.buttonSection.main",buttons:(()=>{if(n)return h;if(y&&l)return L(t,v);const e=g?[t.turnInto,t.speech,t.filePicker]:[t.speech,t.filePicker,t.turnInto];return[d&&g?t.filing:void 0,t.ai,t.insert,...e,t.biu,t.comment,t.undo,t.mention,t.delete,t.indent,t.unindent,t.moveUp,t.moveDown,t.more]})().filter(m().O9)}]}function L(e,t){return[e.bold,e.underline,e.italic,e.strikethrough,e.mention,e.link,...t?[e.comment]:[],e.code,e.equation,e.copyLinkToBlock].filter(m().O9)}const U="static-";function q(e,t){return{...e,id:`${e.id}.${U}${t}`}}function E(e){const t=e.split(".");if(t.length>0){if(t[t.length-1].startsWith(U))return t.slice(0,-1).join(".")}return e}function N(e){return e.id=`${e.id}.prioritized`,e}const F={"insert text-Text":"text","insert page-Page":"page","insert to_do-To-do list":"toDoList","insert header-Heading 1":"h1","insert sub_header-Heading 2":"h2","insert sub_sub_header-Heading 3":"h3","insert bulleted_list-Bulleted list":"bulletedList","insert numbered_list-Numbered list":"numberedList","insert toggle-Toggle list":"toggleList","insert quote-Quote":"quote","insert callout-Callout":"callout","insert link_to_page-Link to page":"linkToPage","insert divider-Divider":"divider","insert table-Table":"table","insert encrypted_text-Encrypted Text":"encryptedText","action color default_background-Default background":"backgroundColorDefault","action color gray_background-Gray background":"backgroundColorGray","action color brown_background-Brown background":"backgroundColorBrown","action color orange_background-Orange background":"backgroundColorOrange","action color yellow_background-Yellow background":"backgroundColorYellow","action color teal_background-Green background":"backgroundColorTeal","action color blue_background-Blue background":"backgroundColorBlue","action color purple_background-Purple background":"backgroundColorPurple","action color pink_background-Pink background":"backgroundColorPink","action color red_background-Red background":"backgroundColorRed","action color default-Default text":"textColorDefault","action color gray-Gray text":"textColorGray","action color brown-Brown text":"textColorBrown","action color orange-Orange text":"textColorOrange","action color yellow-Yellow text":"textColorYellow","action color teal-Green text":"textColorTeal","action color blue-Blue text":"textColorBlue","action color purple-Purple text":"textColorPurple","action color pink-Pink text":"textColorPink","action color red-Red text":"textColorRed"};function D(e,t){let i="textColor";const o=u().Wr.find((t=>t===e));let n;"default"===e||o&&(o.includes("background")?(n="background",i="textBackgroundColor"):n="color");const a=n&&o?(0,u().k5)(o,t)[n]:void 0;return{localImageIdentifier:i,imageTintColor:a?(0,u().vU)(a):void 0}}var V=()=>i(919709),O=()=>i(959013),H=()=>i(496603),K=()=>i(947320),G=()=>i(843005),z=()=>i(741496),W=()=>i(884107),Y=()=>i(132867),Z=()=>i(495262),Q=()=>i(659602),$=()=>i(335722),J=()=>i(862835),X=()=>i(862292),ee=()=>i(878377),te=()=>i(989423),ie=()=>i(186445),oe=()=>i(68465),ne=()=>i(972435),ae=()=>i(986260),le=()=>i(231722),se=()=>i(962845),re=()=>i(299545),ce=()=>i(71304),de=()=>i(792002),ue=()=>i(494043);var me=()=>i(645873),be=()=>i(963589),ge=()=>i(833666);const pe={TIME_BUCKETS:[{hours:24,weight:100},{hours:96,weight:70},{hours:168,weight:50},{hours:720,weight:30}],DEFAULT_BUCKET_WEIGHT:10},ye={TIME_BUCKETS:[{hours:4,weight:100},{hours:12,weight:80},{hours:24,weight:70},{hours:72,weight:60},{hours:168,weight:50},{hours:336,weight:40},{hours:672,weight:30}],DEFAULT_BUCKET_WEIGHT:20};var ve=()=>i(79628),fe=()=>i(671363),ke=()=>i(110955),he=()=>i(351360),xe=()=>i(430483),Ae=()=>i(508496),Se=()=>i(205682),Te=()=>i(630116),Me=()=>i(502438),Ce=()=>i(24157),Ie=(i(944114),()=>i(837384)),Be=()=>i(443616),we=()=>i(778417),_e=()=>i(725614),Pe=()=>i(197271),Re=()=>i(964345),je=()=>i(267430);function Le(e){const{type:t,actionSections:i,closeParentMenu:o,context:n}=e,a={},l=[];for(const s of i){const e={id:`${s.key}`,title:s.title,items:s.actions.map((e=>{var i;const l=`${e.key}-${e.analyticsName||""}`;return a[l]={...e,closeParentMenu:o},{id:l,title:e.displayName||"",icon:(null===(i=e.nativeImageReference)||void 0===i?void 0:i.call(e,n))??{},action:x("webAction_genericAction",{menuType:t,actionId:l,context:void 0}),checked:!1}}))};l.push(e)}return{actions:a,sections:l}}function Ue(e){const{key:t,displayName:i,analyticsName:o,closeParentMenu:n,action:a}=e,l=i;return{key:`action ${t}`,displayName:i?ne().A.formatMessage(i):void 0,analyticsName:o||`textformatting_action_${t}`,searchName:l?`${ne().A.formatMessage(l)} ${l.defaultMessage}`:void 0,validators:[],action:a,closeParentMenu:Boolean(n)}}const qe={bold:Ue({key:"bold",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["b"])}}),italic:Ue({key:"italic",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["i"])}}),underline:Ue({key:"underline",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["_"])}}),strikethrough:Ue({key:"strikethrough",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["s"])}}),code:Ue({key:"code",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().vD(t,["c"])}}),comment:Ue({key:"comment",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary());const o=await X().T.formulas.load();ae().aI(i,"mobile_action_bar",o)}}),equation:Ue({key:"equation",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().FM(i)}}),filePicker:Ue({key:"filePicker",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().zc(i)}}),indent:Ue({key:"indent",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().lS(t)}}),unindent:Ue({key:"unindent",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().u7(t)}}),moveDown:Ue({key:"moveDown",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().cM(t)}}),moveUp:Ue({key:"moveUp",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().FP(t)}}),undo:Ue({key:"undo",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().RA(t)}}),redo:Ue({key:"redo",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().xT(t)}}),trash:Ue({key:"trash",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae()._Y(t)}}),mention:Ue({key:"mention",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().FN(i)}}),ai:Ue({key:"ai",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().hW(i)}}),voiceInput:Ue({key:"voiceInput",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary());Re().Ay.state.enabled&&!Re().Ay.state.loading?await Pe().dictationActions.stopDictation({environment:i,from:"native_action"}):await Pe().dictationActions.smartToggleDictation({environment:i,from:"native_action",preCreateDictationBlock:i.device.isIOS&&Ee(),includeSystemAudio:!1})}}),link:Ue({key:"link",closeParentMenu:!0,action:async e=>{var t;let{environment:i}=e;await(null===(t=i.NativeMobileActionBarStore)||void 0===t?void 0:t.clearNativeActionMenuAndRestoreSelectionIfNecessary()),ae().TK(i)}}),copyLinkToBlock:Ue({key:"copyLinkToBlock",closeParentMenu:!1,action:async e=>{let{environment:t}=e;const i=Me().default.state.stores[0];if(!i)return;(await W().R.clipboardActions.load()).copyLinkToBlock({environment:t,blocks:[i],event:void 0})}}),more:Ue({key:"more",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().al(t)}}),filing:Ue({key:"filing",closeParentMenu:!1,action:async e=>{let{environment:t}=e;const o=(0,ie().ao)();if(!o)return;const n=o.getParentStore();if(!n)return;const a=!t.device.isTablet,l=Me().default.getEditing(),s=Ce().default.state,r="editing"===s.mode?(0,le().H7)(s.multiSelection):void 0;_e().blurActiveElement(),_e().clear({environment:t}),we().IU({environment:t});const c=()=>{if(a&&(l&&we().hc({environment:t,store:l}),r)){Ae().default.checkGate({gateName:"mobile_move_to_restore_selection_v2"})?(_e().setSelectionAtEnd({store:r.store}),i(908006).default.afterNextFlush((()=>{_e().setSelection(r)}))):_e().setSelection(r)}},{currentSpaceStore:d}=he().default.state,u=n instanceof Te().SL&&d&&n.id===d.id,m=t.RouterStore.state.route,b="page"===m.name&&m.showMoveTo;await i(750660).LP({environment:t,blocks:[o],moveToContext:"quick_add_mab",disableSuccessToast:!0,onAccept:e=>{i(328523).l7(t),c()},onCanceled:()=>{c()},isAddTo:b,isDefaultPrivateLocation:u})}}),dismissKeyboard:Ue({key:"dismissKeyboard",closeParentMenu:!0,action:e=>{let{environment:t}=e;we().IU({environment:t}),i(919878).wr(),ae().i3(t,void 0,!1),ae().Qu(t,void 0,!1),ae().Km(t,"hide_keyboard"),_e().blurActiveElement()}}),todoListTemplate:Ue({key:"todoListTemplate",closeParentMenu:!1,action:e=>{let{environment:t}=e;we().IU({environment:t}),ae().XR(t,Ie().kx.todoListMobile)}}),weeklyPlanTemplate:Ue({key:"weeklyPlanTemplate",closeParentMenu:!1,action:e=>{let{environment:t}=e;we().IU({environment:t}),ae().XR(t,Ie().kx.weeklyPlanMobile)}}),templates:Ue({key:"templates",closeParentMenu:!1,action:e=>{let{environment:t}=e;ae().og(t)}})};function Ee(){if("editing"!==Ce().default.state.mode)return!1;const e=Ce().default.state.multiSelection.start.store;return!!(0,i(969197).Le)(e)}var Ne=i(474848);const Fe=(0,O().YK)({subMenuLabelSuggested:{defaultMessage:"Suggested",id:"mobileActionBar.subMenuLabel.suggested"},subMenuLabelInsert:{defaultMessage:"Add",id:"mobileActionBar.subMenuLabel.insert"},subMenuLabelTurnInto:{defaultMessage:"Turn into",id:"mobileActionBar.subMenuLabel.turnInto"},subMenuLabelTextFormatting:{defaultMessage:"Format",id:"mobileActionBar.subMenuLabel.textFormatting"},subMenuLabelTextColor:{defaultMessage:"Text color",id:"mobileActionBar.subMenuLabel.textColor"},templatesButtonTitle:{defaultMessage:"Templates",id:"mobileActionBar.templateButtonTitle"},moreTemplatesButtonTitle:{defaultMessage:"More",id:"mobileActionBar.moreTemplatesButtonTitle"},todoListTemplateTitle:{defaultMessage:"To-do list",id:"mobileActionBar.templateTitle.todoList"},weeklyPlanTemplateTitle:{defaultMessage:"Weekly plan",id:"mobileActionBar.templateTitle.weeklyPlan"},actionMenuInsertBlockTitle:{defaultMessage:"Insert Block",id:"mobileActionBar.actionMenuTitle.insertBlock"},actionMenuTurnIntoTitle:{defaultMessage:"Turn Into",id:"mobileActionBar.actionMenuTitle.turnInto"},actionMenuColorTitle:{defaultMessage:"Color",id:"mobileActionBar.actionMenuTitle.blockColor"},accessibilityInsert:{defaultMessage:"Add block",id:"mobileActionBar.accessibility.insertBlock"},accessibilityTurnInto:{defaultMessage:"Turn into block",id:"mobileActionBar.accessibility.turnInto"},accessibilityFilePicker:{defaultMessage:"Add image",id:"mobileActionBar.accessibility.filePicker"},accessibilityMention:{defaultMessage:"Add mention",id:"mobileActionBar.accessibility.mention"},accessibilityBlockColor:{defaultMessage:"Change block color",id:"mobileActionBar.accessibility.blockColor"},accessibilityTextFormatting:{defaultMessage:"Open text formatting menu",id:"mobileActionBar.accessibility.textFormatting"},accessibilityComment:{defaultMessage:"Add comment",id:"mobileActionBar.accessibility.comment"},accessibilityTrash:{defaultMessage:"Delete block",id:"mobileActionBar.accessibility.trash"},accessibilityIndent:{defaultMessage:"Indent block",id:"mobileActionBar.accessibility.indent"},accessibilityDedent:{defaultMessage:"Unindent block",id:"mobileActionBar.accessibility.unindent"},accessibilityMoveUp:{defaultMessage:"Move a block up",id:"mobileActionBar.accessibility.moveUp"},accessibilityMoveDown:{defaultMessage:"Move a block down",id:"mobileActionBar.accessibility.moveDown"},accessibilityUndo:{defaultMessage:"Undo edit",id:"mobileActionBar.accessibility.undo"},accessibilityRedo:{defaultMessage:"Redo edit",id:"mobileActionBar.accessibility.redo"},accessibilityMore:{defaultMessage:"More block actions",id:"mobileActionBar.accessibility.more"},accessibilityBold:{defaultMessage:"Bold",id:"mobileActionBar.accessibility.bold"},accessibilityItalics:{defaultMessage:"Italicize",id:"mobileActionBar.accessibility.italics"},accessibilityUnderline:{defaultMessage:"Underline",id:"mobileActionBar.accessibility.underline"},accessibilityStrikethrough:{defaultMessage:"Strikethrough",id:"mobileActionBar.accessibility.strikethrough"},accessibilityTextColor:{defaultMessage:"Text color",id:"mobileActionBar.accessibility.textColor"},accessibilityCode:{defaultMessage:"Code",id:"mobileActionBar.accessibility.code"},accessibilityLink:{defaultMessage:"Add link",id:"mobileActionBar.accessibility.link"},accessibilityCopyLinkToBlock:{defaultMessage:"Copy link to block",id:"mobileActionBar.accessibility.copyLinkToBlock"},accessibilityEquation:{defaultMessage:"Add equation",id:"mobileActionBar.accessibility.equation"},accessibilityFiling:{defaultMessage:"Page location",id:"mobileActionBar.accessibility.filing"},accessibilityCloseTextFormattingMenu:{defaultMessage:"Close text formatting menu",id:"mobileActionBar.accessibility.close"},accessibilityDismissKeyboard:{defaultMessage:"End editing",id:"mobileActionBar.accessibility.endEditing"},accessibilityCloseActionMenu:{defaultMessage:"Close menu",id:"mobileActionBar.accessibility.closeMenu"},accessibilityAi:{defaultMessage:"Notion AI",id:"mobileActionBar.accessibility.ai"},filingButtonPrivateSection:{defaultMessage:"Private",id:"mobileActionBar.filing.private"},accessibilityTodoList:{defaultMessage:"Add a to-do list",id:"mobileActionBar.accessibility.todoList"},accessibilityH1:{defaultMessage:"Add an H1 heading",id:"mobileActionBar.accessibility.h1"},accessibilityH2:{defaultMessage:"Add an H2 heading",id:"mobileActionBar.accessibility.h2"},accessibilityH3:{defaultMessage:"Add an H3 heading",id:"mobileActionBar.accessibility.h3"},accessibilityBulletedList:{defaultMessage:"Add a bulleted list",id:"mobileActionBar.accessibility.bulletedList"},accessibilityNumberedList:{defaultMessage:"Add a numbered list",id:"mobileActionBar.accessibility.numberedList"},accessibilityToggleList:{defaultMessage:"Add a toggle list",id:"mobileActionBar.accessibility.toggleList"},accessibilityQuote:{defaultMessage:"Add a quote block",id:"mobileActionBar.accessibility.quote"},accessibilityCallout:{defaultMessage:"Add a callout block",id:"mobileActionBar.accessibility.callout"}}),De={text:!1,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,column:!1,transclusion_container:!1,callout:!1,quote:!1,post:!1};function Ve(e){var t;const{onAction:i,fallbackRenderer:l,...s}=e,r=null===(t=(0,a().v3)().mobileNative)||void 0===t?void 0:t.api.renderMobileActionBar,c=(0,n().y)(r,s);return function(e,t,i,n){var l;const s=null===(l=(0,a().v3)().mobileNative)||void 0===l?void 0:l.componentEvents;(0,o.useEffect)((()=>{if(s&&n&&t)return s.addListener(e,t,i,n)}),[e,t,i,n,s])}("MobileActionBar",c,"onAction",i),!c&&l?(0,Ne.jsx)(Ne.Fragment,{children:l()}):null}function Oe(e){const{currentBlockStore:t,fallbackRenderer:i,stores:n,shouldShowMoveTo:b,renderApi:y}=e,v=(0,a().v3)(),f=(0,s().S)(),x=(0,O().tz)(),{value:A}=(0,me().fJ)(Q().g),{value:B}=(0,me().fJ)($().S),{value:w}=(0,me().fJ)(X().T.formulas),{value:_}=(0,me().fJ)(W().R.clipboardActions),P=(0,r().K8)((()=>Ae().default.getEligibleGroup({experimentId:"mab_personalized_section",defaultGroup:"control"})),[]),L="v1"===P||"v2"===P,U=(0,r().K8)((()=>Ae().default.getEligibleGroup({experimentId:"mab_refresh_personalization",defaultGroup:"control"})),[]),q="v1"===U||"v2"===U,N=(0,be().X)("db_ux_mobile"),D=(0,o.useRef)(void 0),se=(0,r().K8)((()=>{const e=null==f?void 0:f.publicEditModeStore.state;return ae().rV(v,t,e)}),[v,t,null==f?void 0:f.publicEditModeStore]),fe=(0,o.useMemo)((()=>H().Bj((e=>{const{blocks:t,environment:i}=e;return function(e,t,i){return{insertBlock:Le({type:"insertBlock",actionSections:je().o2(t,e),context:e,closeParentMenu:!0}),turnInto:Le({type:"turnInto",actionSections:je().o2(i,e),context:e,closeParentMenu:!0}),textColor:Le({type:"textColor",actionSections:je().o2([Be().qW,Be().J1],e),context:e,closeParentMenu:!0}),textSelectionColor:Le({type:"textSelectionColor",actionSections:je().o2([Be().qC,Be().nd],e),context:e,closeParentMenu:!0})}}({environment:i,blocks:t,publicEditMode:void 0},function(e){return(0,K().dH)(e).state.insertActions}(q),[(0,G().kR)({showNewMABIcons:q})])}),(e=>{let{blocks:t,environment:i}=e;const o=t.map((e=>e.key)).join(",");return`${i.key}-${o}`}))),[q]),Ie=(0,r().K8)((()=>fe({blocks:He(),environment:v,isPersonalizedActionsEnabled:L})),[v,fe,L]),we=(0,r().K8)((()=>{const e=Qe(n.ignoreSelectionAreaStore);return 1===(null==e?void 0:e.length)?e[0]:void 0}),[n.ignoreSelectionAreaStore],{useDeepEqual:!0}),_e=(0,r().K8)((()=>!0===ae().BT(n.ignoreSelectionAreaStore,v.TextSelectionCompositionStore,we,L)),[v,n,we,L]),Pe=(0,r().K8)((()=>{const e=Boolean(se.disableStyleAnnotations);return _e&&!e}),[se.disableStyleAnnotations,_e]),Re=(0,r().K8)((()=>{const e=(e,t)=>{if(!e||"editing"!==e.mode)return;const{multiSelection:i}=e;return{startRecord:i.start.store.pointer,startIndex:i.start.index,endRecord:i.end.store.pointer,endIndex:i.end.index,source:t}};return e(Ce().default.state,"TextSelectionStore")||e(n.ignoreSelectionAreaStore.state.savedTextSelectionStoreState,"IgnoreSelectionAreaStore")}),[n.ignoreSelectionAreaStore],{useDeepEqual:!0}),Ue=(0,r().K8)((()=>{if(!Re)return;const{source:e,...t}=Re;return t}),[Re],{useDeepEqual:!0}),Ee=(0,r().K8)((()=>{var e;const{NativeMobileActionBarStore:i}=v,o=(0,u().O4)({theme:v.ThemeModeStore.state}),a=t.getType(),l=t.getFormat(),s=Ke(),r=ze(N),d=Se().A.state.isOpen,m=Ze(n.ignoreSelectionAreaStore),g=Boolean(m&&(0,le().KP)(m)),p=(0,oe().ZE)(null==f?void 0:f.publicEditModeStore.state),y=!(0,ie().Te)()&&(0,J().h)(),k=r||d,h=s||r,A=!ae().xr(f&&f.publicEditModeStore.state,t),S=!ae().nC(f&&f.publicEditModeStore.state),T=function(){let e;e="editing"===Ce().default.state.mode?(0,de().x7)([V().Ifu.Bold,V().Ifu.Italic,V().Ifu.Underline,V().Ifu.Strike,V().Ifu.Code,V().Ifu.Link,V().Ifu.Equation,...(0,V().kJl)(V().Ifu.Highlight)],Ce().default.state.multiSelection,Ce().default.state.forceExtendAnnotations):{};const t=e.hf,i=e.hb;return{bold:Boolean(e[V().Ifu.Bold]),italic:Boolean(e[V().Ifu.Italic]),underline:Boolean(e[V().Ifu.Underline]),strikethrough:Boolean(Boolean(e[V().Ifu.Strike])),code:Boolean(e[V().Ifu.Code]),link:Boolean(e[V().Ifu.Link]),equation:Boolean(e[V().Ifu.Equation]),textHighlight:t&&(0,V().YuY)(t)?(0,V().uIc)(t):void 0,backgroundHighlight:i&&(0,V().YuY)(i)?(0,V().uIc)(i):void 0}}(),M=Boolean(se.disableStyleAnnotations),I=null==i||null===(e=i.state.menu)||void 0===e?void 0:e.type,B=C(Ie.insertBlock.sections),w=C(Ie.turnInto.sections),_=C(Ie.textColor.sections),P=function(e,t,i){var o;const{NativeMobileActionBarStore:n}=e,a=n&&void 0!==(null===(o=n.state.menu)||void 0===o?void 0:o.type)?t.state.savedTextSelectionStoreState:void 0;if(!a)return i;const l="editing"===a.mode&&(0,de().x7)(["hf","hb"],a.multiSelection,a.forceExtendAnnotations);if(l){const e=l.hf??l.hb;return e&&(0,V().YuY)(e)?(0,V().uIc)(e):void 0}}(v,n.ignoreSelectionAreaStore,T.textHighlight),j=!Z().BB(),U=!Z().fH(),E=!He().every(Y().v6),F=!He().every(Y().mE),D=s||d,O=!g,H=!g,K=Boolean(a&&(0,c().Q3)(a))||!g,G=Boolean(a&&(0,c().pD)(a,l))||Boolean(se.disableComment),z=(null==we?void 0:we.isNavigableBlock())||(0,ee().mEr)(we),W=s&&Ye(v,t)&&We(v),Q=b&&!We(v),$=function(e,t,i,o){if(!i||!t)return;if(e.device.isTablet&&!function(e){if(!e.hasContent())return!0;return e.getContentStores().every((e=>e.isEmptyEditableBlock()))}(t))return;const n=t.getParentStore();if(!n||!(0,ce().D_)(n))return;function a(e){if(!e)return;const t=10;return e.length>t?`${Array.from(e).slice(0,t).join("").trim()}`:e}const{currentSpaceStore:l}=he().default.state;if(n instanceof Te().SL&&l&&n.id===l.id)return a(ne().A.formatMessage(Fe.filingButtonPrivateSection));return a((0,ce().Qe)(n,o,e,xe().zD.shouldEnablePageTitleDiffs(e.device)))}(v,null==f?void 0:f.pageStore,Q,x);return R({createAIAction:p,createDictationAction:y,disableDictationActions:k,disableAIAction:h,disableTextActions:A,disableBlockActions:S,disableLinkAction:O,disableEquationAction:H,disableCommentAction:G,disableMentionAction:K,disableTextFormatting:M,disableInsertBlockAction:B,disableTurnIntoAction:w,disableTextColorAction:_,disableDeleteBlock:D,disableUndo:j,disableRedo:U,disableIndent:E,disableUnindent:F,disableCopyLinkToBlock:z,selectedMenuType:I,isEditingTitle:s,shouldShowTextActions:_e,usePillStyling:W,isPersonalizedActionsEnabled:L,showNewMABIcons:q,textSelectionColor:P,textFormattingSelections:T,titleTexts:{filing:$,template:ne().A.formatMessage(Fe.templatesButtonTitle),moreTemplates:ne().A.formatMessage(Fe.moreTemplatesButtonTitle),todoListTemplate:ne().A.formatMessage(Fe.todoListTemplateTitle),weeklyPlanTemplate:ne().A.formatMessage(Fe.weeklyPlanTemplateTitle)},accessibilityTexts:{insert:ne().A.formatMessage(Fe.accessibilityInsert),turnInto:ne().A.formatMessage(Fe.accessibilityTurnInto),filePicker:ne().A.formatMessage(Fe.accessibilityFilePicker),mention:ne().A.formatMessage(Fe.accessibilityMention),comment:ne().A.formatMessage(Fe.accessibilityComment),textFormatting:ne().A.formatMessage(Fe.accessibilityTextFormatting),trash:ne().A.formatMessage(Fe.accessibilityTrash),ai:ne().A.formatMessage(Fe.accessibilityAi),undo:ne().A.formatMessage(Fe.accessibilityUndo),redo:ne().A.formatMessage(Fe.accessibilityRedo),more:ne().A.formatMessage(Fe.accessibilityMore),indent:ne().A.formatMessage(Fe.accessibilityIndent),unindent:ne().A.formatMessage(Fe.accessibilityDedent),moveUp:ne().A.formatMessage(Fe.accessibilityMoveUp),moveDown:ne().A.formatMessage(Fe.accessibilityMoveDown),bold:ne().A.formatMessage(Fe.accessibilityBold),italics:ne().A.formatMessage(Fe.accessibilityItalics),underline:ne().A.formatMessage(Fe.accessibilityUnderline),strikethrough:ne().A.formatMessage(Fe.accessibilityStrikethrough),textColor:ne().A.formatMessage(Fe.accessibilityTextColor),code:ne().A.formatMessage(Fe.accessibilityCode),link:ne().A.formatMessage(Fe.accessibilityLink),copyLinkToBlock:ne().A.formatMessage(Fe.accessibilityCopyLinkToBlock),equation:ne().A.formatMessage(Fe.accessibilityEquation),close:ne().A.formatMessage(Fe.accessibilityCloseTextFormattingMenu),filing:ne().A.formatMessage(Fe.accessibilityFiling),todoList:ne().A.formatMessage(Fe.accessibilityTodoList),h1:ne().A.formatMessage(Fe.accessibilityH1),h2:ne().A.formatMessage(Fe.accessibilityH2),h3:ne().A.formatMessage(Fe.accessibilityH3),bulletedList:ne().A.formatMessage(Fe.accessibilityBulletedList),numberedList:ne().A.formatMessage(Fe.accessibilityNumberedList),toggleList:ne().A.formatMessage(Fe.accessibilityToggleList),quote:ne().A.formatMessage(Fe.accessibilityQuote),callout:ne().A.formatMessage(Fe.accessibilityCallout),dismissKeyboard:ne().A.formatMessage(Fe.accessibilityDismissKeyboard),closeActionMenu:ne().A.formatMessage(Fe.accessibilityCloseActionMenu)},theme:o})}),[v,t,N,n.ignoreSelectionAreaStore,f,se.disableStyleAnnotations,se.disableComment,Ie,we,b,_e,L,q,x]),Oe=(0,r().K8)((()=>{var e;const t=v.NativeMobileActionBarStore,i=Boolean(null==t||null===(e=t.state)||void 0===e?void 0:e.isSubMenuOverridden),o=ke().A.state.open,n=N&&ze(!0),a=Pe&&!L&&!n;var l;return i?null==t||null===(l=t.state.subMenu)||void 0===l?void 0:l.type:o?"slashMenu":a?"textFormatting":void 0}),[v.NativeMobileActionBarStore,N,L,Pe]),Je=(0,r().K8)((()=>{var e;const i=Ke(),o=Ge(we),a=ze(N),l="callout"===(null==(s=we)||null===(r=s.getParentBlockStore())||void 0===r?void 0:r.getType());var s,r;const c=function(e){const t=null==e?void 0:e.getType();return"quote"===t}(we),d=!ae().nC(f&&f.publicEditModeStore.state),u=!He().every(Y().v6),m=!He().every(Y().mE),g=Qe(n.ignoreSelectionAreaStore),p=!!g&&g.some((e=>{const t=e.getType();return t&&De[t]})),y=Ye(v,t)&&We(v),k=Boolean(we&&(0,re().P4)(we)),h=null==we?void 0:we.getType(),x=h&&De[h],A=!Boolean(null===(e=v.NativeMobileActionBarStore)||void 0===e||null===(e=e.state)||void 0===e?void 0:e.isSubMenuOverridden)&&Pe,S=!(d||u&&m),T=L?function(e,t){const i=new(ge().A),o=t?ye:pe;return i.getFrecencyRankedActions(e,o)}(ve().A.get(),"v2"===P):[];return j({buttonMap:Ee,shouldShowTemplatePills:y,frecentlyRankedActions:T,isEditingTitle:i,isEditingHeader:o,isEditingSimpleTableOrCollectionTextPropertyInExp:a,isEditingCallout:l,isEditingQuote:c,shouldPrioritizeList:S,someBlockPrioritizesIndentation:p,shouldShowFiling:b&&!We(v),shouldShowTemplates:Ye(v,t),isTablet:v.device.isTablet,isPersonalizedActionsEnabled:L,isDBUXMobileEnabled:N,shouldShowSelectedTextButtons:A,isIndentable:x,isEmpty:k})}),[we,N,f,n.ignoreSelectionAreaStore,v,t,Pe,L,P,Ee,b]),Xe=(0,r().K8)((()=>{var e;const{NativeMobileActionBarStore:t}=v,i=null==t||null===(e=t.state.menu)||void 0===e?void 0:e.type,o=function(e){const{buttonMap:t,shouldShowTextActions:i}=e;let o;return o=i?[I,t.ai,t.color,t.comment,t.bold,t.italic,t.underline,t.strikethrough,t.link,t.code,t.equation].filter(m().O9):[I,t.color,t.bold,t.italic,t.underline,t.strikethrough,t.link,t.code,t.equation].filter(m().O9),{id:"mab.buttonSection.textFormatting",shouldFadeIn:!0,buttons:o}}({buttonMap:Ee,shouldShowTextActions:_e}),n=void 0===i?Ee.dismissKeyboard:Ee.closeActionMenu,a=function(e){const{version:t,selectedMenu:i,selectedSubMenu:o,nativeMenus:n,buttonSections:a,nativeSubMenus:l,dismissKeyboardButton:s,localizedMessages:r}=e;return{nativeMenus:n,nativeSubMenus:l,localizedMessages:r,state:{buttonSections:a,selectedMenu:i,selectedSubMenu:o,dismissKeyboardButton:s},version:t}}({version:L||q?3:1,selectedMenu:i,selectedSubMenu:Oe,nativeMenus:{textColor:{id:"textColor",title:ne().A.formatMessage(Fe.actionMenuColorTitle),sections:Ie.textColor.sections},textSelectionColor:{id:"textSelectionColor",title:ne().A.formatMessage(Fe.actionMenuColorTitle),sections:Ie.textSelectionColor.sections},insertBlock:{id:"insertBlock",title:ne().A.formatMessage(Fe.actionMenuInsertBlockTitle),sections:Ie.insertBlock.sections},turnInto:{id:"turnInto",title:ne().A.formatMessage(Fe.actionMenuTurnIntoTitle),sections:Ie.turnInto.sections}},nativeSubMenus:{suggested:[],textFormatting:[o],slashMenu:[],turnInto:[],textColor:[],textSelectionColor:[],more:[]},buttonSections:Je,accessibilityTexts:{dismissKeyboard:ne().A.formatMessage(Fe.accessibilityDismissKeyboard),closeActionMenu:ne().A.formatMessage(Fe.accessibilityCloseActionMenu)},localizedMessages:{...$e(Oe)},dismissKeyboardButton:n});if(Ae().default.checkGate({gateName:"mobile_mab_mrr"})){var l;const e=null===(l=v.NativeMobileActionBarStore)||void 0===l?void 0:l.state,t=7,o=Boolean(null==e?void 0:e.isSubMenuOverridden)?t:0;if(a.state.buttonSections.flatMap((e=>e.buttons)).forEach(((e,t)=>{e.action.apiRequestValue&&(e.action.apiRequestValue.context={index:t+1+o,id:e.id})})),Oe){var s,r;let i=0;null!=e&&null!==(s=e.subMenu)&&void 0!==s&&s.type&&null!=e&&null!==(r=e.subMenu)&&void 0!==r&&r.context&&(i=t+e.subMenu.context.index),a.nativeSubMenus[Oe].flatMap((e=>e.buttons)).forEach(((e,t)=>{e.action.apiRequestValue&&(e.action.apiRequestValue.context={index:t+1+i,id:e.id})}))}if(i){var c,d;let o=0;null!=e&&null!==(c=e.menu)&&void 0!==c&&c.type&&null!=e&&null!==(d=e.menu)&&void 0!==d&&d.context&&(o=t+e.menu.context.index),a.nativeMenus[i].sections.flatMap((e=>e.items)).forEach(((e,t)=>{e.action.apiRequestValue&&(e.action.apiRequestValue.context={index:t+1+o,id:e.id})}))}}return a}),[v,Oe,_e,Ee,Ie,Je,L,q],{useDeepEqual:!0,debugName:"getCurrentActionBarSchema"}),et=(0,o.useCallback)((e=>{var t,i,o;let{action:n}=e;if(null!==(t=n.apiRequestValue)&&void 0!==t&&t.context&&null!==(i=n.apiRequestValue)&&void 0!==i&&i.context.id&&null!==(o=n.apiRequestValue)&&void 0!==o&&o.context.index){var a,l,s;const e=Boolean(we&&(0,re().P4)(we)),t=null==we?void 0:we.getType(),i=Boolean(t&&De[t]),o=null==Re?void 0:Re.startIndex,r=null==Re?void 0:Re.endIndex,c=Me().default.state.stores[0],d={action_id:E(n.apiRequestValue.context.id),reciprocal_rank:1/(null===(a=n.apiRequestValue)||void 0===a?void 0:a.context.index),block_type:null==c?void 0:c.getType(),is_editing_title:Ke(),text_selection_start_index:o,text_selection_end_index:r,is_indentable:i,is_empty:e,is_editing_header:Ge(we),session_id:null===(l=v.NativeMobileActionBarStore)||void 0===l||null===(l=l.state.session)||void 0===l?void 0:l.session_id,render_id:null===(s=v.NativeMobileActionBarStore)||void 0===s||null===(s=s.state.session)||void 0===s?void 0:s.render_id,algorithm_version:P};(0,te().u4)({environment:v,event:{eventName:"mobile_action_bar_reciprocal_rank",eventProperties:d}})}switch(n.type){case"nativeAction_setMenuType":!function(e,t,i){var o;const n=function(e){if("nativeAction_setMenuType"!==e.type)return new M(T.InvalidActionType,void 0);const t=e.apiRequestValue;if(!t||!("menuType"in t))return new M(T.MissingPayload,void 0);null===t.menuType&&(t.menuType=void 0);const i=p().object({required:{menuType:p().undefinable(p().literals(...k))},optional:{}}),o=(0,g().tf)(i,t);return o?new M(T.InvalidRequestType,JSON.stringify(o)):t.menuType}(e);if(n instanceof M)return void console.error(JSON.stringify(n));const a=t.NativeMobileActionBarStore?null===(o=t.NativeMobileActionBarStore.state.menu)||void 0===o?void 0:o.type:void 0;if(a===n)ae().i3(t,void 0,!0);else{var l;if(!n)return void ae().i3(t,void 0,!0);switch(ae().i3(t,{type:n,context:null===(l=e.apiRequestValue)||void 0===l?void 0:l.context},!0),i(n),n){case"insertBlock":ae().Km(t,"insert");break;case"turnInto":ae().Km(t,"turn_into");break;case"textColor":ae().Km(t,"color","mobile_action_bar");break;case"textSelectionColor":ae().Km(t,"color","mobile_text_formatting_menu")}}}(n,v,(e=>{const t=function(e){if("turnInto"===e)return"turnInto"}(e);void 0!==t&&ve().A.track(t)}));break;case"nativeAction_setSubMenuType":!function(e,t,i){const o=function(e){if("nativeAction_setSubMenuType"!==e.type)return new M(T.InvalidActionType,void 0);const t=e.apiRequestValue;if(!t||!("subMenuType"in t))return new M(T.MissingPayload,void 0);null===t.subMenuType&&(t.subMenuType=void 0);const i=p().object({required:{subMenuType:p().undefinable(p().literals(...h))},optional:{}}),o=(0,g().tf)(i,t);return o?new M(T.InvalidRequestType,JSON.stringify(o)):t.subMenuType}(e);if(o instanceof M)return void console.error(JSON.stringify(o));if(o){var n;ae().Qu(t,{type:o,context:null===(n=e.apiRequestValue)||void 0===n?void 0:n.context},!0),i(o)}else ae().Qu(t,void 0,!0)}(n,v,(e=>{const t=function(e){switch(e){case"textFormatting":return"biu";case"turnInto":return"turnInto";default:return}}(e);void 0!==t&&ve().A.track(t)}));break;case"webAction_generic":!function(e,t,i,o,n,a,l){const s=function(e){if("webAction_generic"!==e.type)return new M(T.InvalidActionType,void 0);const t=e.apiRequestValue;if(!t||!("jsonPayload"in t))return new M(T.MissingPayload,void 0);const i=JSON.parse(t.jsonPayload),o=(0,g().tf)(S,i);return o?new M(T.InvalidData,JSON.stringify(o)):i}(e);if(s instanceof M)return void console.error(JSON.stringify(s));const{mainEditorCurrentBlockStore:r}=he().default.state;if(!r)return;const{device:c}=a,d=qe[s.data.action];d.closeParentMenu&&!c.isTablet&&ae().i3(a,void 0,!0);d.action({environment:a,blocks:[r],publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions",lazyDependencies:{clipboardActions:t,formulasModule:i,markdownLinkifyIt:o,tinyMceMicrosoftWordPasteFilter:n}}),l(s.data.action)}(n,_,w,A,B,v,(e=>{const t=e??F[e];Ee[t]&&ve().A.track(t)}));break;case"webAction_genericAction":!function(e,t,i,o,n,a,l,s,r){var c,d;const u=null===(c=e.apiRequestValue)||void 0===c?void 0:c.menuType,m=null===(d=e.apiRequestValue)||void 0===d?void 0:d.actionId;if(!u||!m)return;const b=a({environment:s,blocks:Me().default.state.stores,isPersonalizedActionsEnabled:l})[u].actions[m];if(null==b||!b.action)return;b.closeParentMenu&&ae().i3(s,void 0,!0);b.action({environment:s,blocks:Me().default.state.stores,publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions",lazyDependencies:{clipboardActions:t,formulasModule:i,markdownLinkifyIt:o,tinyMceMicrosoftWordPasteFilter:n}});const g=Me().default.state.stores[0];if(g){const e=g.getType(),t=g.getFormat();(0,z().N)(s,{analyticsName:b.analyticsName,action_type:b.analyticsActionType,from:"slash_menu",block_id:g.id,block_type:e,is_toggleable:e?(0,ue().Yt)(e,t):void 0,slash_menu_filter_length:0,slash_menu_section:`Mobile Action Bar ${u}`,parent_collection_id:g.getParentCollectionIdUpToTwoLevels()}),b.analyticsName&&ae().Km(s,b.analyticsName,u)}r(m)}(n,_,w,A,B,fe,L,v,(e=>{const t=F[e];void 0!==t&&Ee[t]&&ve().A.track(t)}))}}),[we,Re,v,P,w,A,B,fe,Ee,L,_]);return(0,o.useEffect)((()=>{if(!se){const{NativeMobileActionBarStore:e}=v,t=window.setTimeout((()=>{var t,i;null!=e&&null!==(t=e.state.menu)&&void 0!==t&&t.type&&ae().i3(v,void 0,!1),null!=e&&null!==(i=e.state.subMenu)&&void 0!==i&&i.type&&ae().Qu(v,void 0,!1)}),500);return()=>{window.clearTimeout(t)}}}),[se,v]),(0,o.useEffect)((()=>{var e;const t=v.NativeMobileActionBarStore;Boolean(null==t||null===(e=t.state)||void 0===e?void 0:e.isSubMenuOverridden)||"slashMenu"!==Oe&&"textFormatting"!==Oe||null==t||t.update((e=>({...e,isSubMenuOverridden:!1,subMenu:void 0})))}),[v.NativeMobileActionBarStore,Oe]),(0,o.useEffect)((()=>{var e;if(!Re)return;const{NativeMobileActionBarStore:t,device:i}=v;"TextSelectionStore"===Re.source&&null!=t&&null!==(e=t.state.menu)&&void 0!==e&&e.type&&!i.isTablet&&ae().i3(v,void 0,!0)}),[v,Re]),(0,o.useEffect)((()=>{var e;Ue&&null!==(e=v.NativeMobileActionBarStore)&&void 0!==e&&e.state.isSubMenuOverridden&&!ke().A.state.open&&ae().Qu(v,void 0,!1)}),[v,Ue]),(0,o.useEffect)((()=>{var e,t,i;const{NativeMobileActionBarStore:o}=v,n=se.shouldShow,a=(Oe?Xe.nativeSubMenus[Oe]:Xe.state.buttonSections).map((e=>{let{id:t,buttons:i}=e;return{id:t,buttonIds:i.map((e=>{let{id:t}=e;return E(t)}))}}));let l=!0,s=!0;D.current&&(l=n&&D.current.isOpen!==n,s=l||!H().n4(a,D.current.sectionsState));const r=null==o||null===(e=o.state.session)||void 0===e?void 0:e.session_id,c=s||!r?d().JW():r,u=null==o||null===(t=o.state.session)||void 0===t?void 0:t.render_id,m=s||!u?d().JW():u;if(null===(i=v.NativeMobileActionBarStore)||void 0===i||i.update((e=>({...e,session:{session_id:c,render_id:m}}))),D.current={isOpen:n,sectionsState:a},(l||s)&&n){const e=Boolean(we&&(0,re().P4)(we)),t=null==we?void 0:we.getType(),i=Boolean(t&&De[t]),o=null==Re?void 0:Re.startIndex,n=null==Re?void 0:Re.endIndex,a=Me().default.state.stores[0];(0,te().u4)({environment:v,event:{eventName:"mobile_action_bar_render",eventProperties:{session_id:c,render_id:m,block_type:null==a?void 0:a.getType(),is_editing_title:Ke(),text_selection_start_index:o,text_selection_end_index:n,is_indentable:i,is_empty:e,is_editing_header:Ge(we),algorithm_version:P}}})}}),[v,Xe,Oe,se.shouldShow,we,Re,P]),(0,l().X)((0,o.useCallback)((()=>{y&&y({type:"unmount",id:""})}),[y])),(0,Ne.jsx)(Ve,{isOpen:se.shouldShow,canShow:se.canShowNativeBar,isEmpty:se.isEmpty,schema:Xe,onAction:et,fallbackRenderer:i&&(()=>i(n))})}function He(){return Me().default.state.stores}function Ke(){return(0,ie().fI)()||(0,ie().Te)()}function Ge(e){const t=null==e?void 0:e.getType();return"header"===t||"sub_header"===t||"sub_sub_header"===t}function ze(e){const t=fe().A.state.isActive,i=ae().zN();return t||i&&e}function We(e){return e.device.isMobileNative&&!e.device.isTablet}function Ye(e,t){return ae().ou({environment:e,store:t})}function Ze(e){const t="editing"===Ce().default.state.mode&&Ce().default.state.multiSelection,i=e.state.savedTextSelectionStoreState,o=i&&"editing"===i.mode&&i.multiSelection;return t||o||void 0}function Qe(e){var t;const i=Ze(e);return i&&(null===(t=(0,se().ZS)({multiSelection:i,focus:void 0,filterCommonAncestors:!1}))||void 0===t?void 0:t.stores)}function $e(e){let t;switch(e){case void 0:break;case"suggested":t=ne().A.formatMessage(Fe.subMenuLabelSuggested);break;case"slashMenu":t=ke().A.state.open&&ke().A.state.isAddMenu?ne().A.formatMessage(Fe.subMenuLabelInsert):ne().A.formatMessage(Fe.subMenuLabelTurnInto);break;case"turnInto":t=ne().A.formatMessage(Fe.subMenuLabelTurnInto);break;case"textFormatting":t=ne().A.formatMessage(Fe.subMenuLabelTextFormatting);break;case"textColor":case"textSelectionColor":t=ne().A.formatMessage(Fe.subMenuLabelTextColor)}return t?{selectedSubMenuLabel:t}:void 0}},124085:(e,t,i)=>{i.d(t,{P:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("thinPlus",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M 7.75 0L 6.25 0L 6.25 6.25L 0 6.25L 0 7.75L 6.25 7.75L 6.25 14L 7.75 14L 7.75 7.75L 14 7.75L 14 6.25L 7.75 6.25L 7.75 0Z"})})},213799:(e,t,i)=>{i.d(t,{A:()=>I});i(581454);var o=i(296540),n=()=>i(17022),a=()=>i(484714),l=()=>i(56366),s=()=>i(401497),r=()=>i(919709),c=()=>i(959013),d=()=>i(100622),u=()=>i(284371),m=()=>i(21869),b=()=>i(906590),g=()=>i(482287),p=()=>i(722872),y=()=>i(77272),v=()=>i(24157),f=()=>i(491073),k=()=>i(406699),h=()=>i(928600),x=()=>i(939740),A=()=>i(45552),S=()=>i(89924),T=i(474848);const M=o.Fragment;function C(e){let{parent:t,shouldShowUpdatedColorPicker:i,textSelectionColor:r,backgroundSelectionColor:u}=e;const v=(0,a().v3)(),{isMobile:k}=v.device,[M,C]=(0,o.useState)((()=>n().A.withListenerIgnored((()=>y().A.state.recentlyUsedColors)))),I=(0,o.useCallback)((e=>{b().Q(e,!i),g().po({environment:v,annotation:["h",y().A.getMostRecentlyUsedColor()]}),(0,m().s)(v,{action:"h",color:y().A.getMostRecentlyUsedColor()})}),[v,i]),B=(0,o.useCallback)(((e,t,o,n)=>({key:t||e,action:()=>{I(e),k&&o.close()},render:o=>(0,T.jsx)(f().Ay,{...o,color:e,overrideDisplayName:t,selected:n,shouldShowUpdatedColorPicker:i})})),[I,i,k]);let w;w=k?{menuType:p().gu.Modal,title:(0,T.jsx)(c().sA,{defaultMessage:"Text color",id:"highlightSelectionButton.mobileTextColor.label"}),right:(0,T.jsx)(A().CancelMenuText,{}),onClickRight:()=>{t.close()}}:i?{menuType:p().gu.Popup,width:190}:{menuType:p().gu.Popup,width:220};const _=M.map((e=>B(e,void 0,t,!1))),P=(0,l().K8)((()=>y().A.getMostRecentlyUsedColor()),[]),R=d().N.map((e=>B(e,void 0,t,r||u?e===r:"default"===e))),j=d().AQ.map((e=>B(e,void 0,t,e===u))),L=(0,s().IS)((e=>({blockColorMenuItemContainer:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:4,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8},sectionMenuItemOverride:{display:"block"}})),[]);return(0,T.jsx)(h().A,{...w,children:(0,T.jsx)(x().Ay,{type:x().Oh.Vertical,sections:[{key:0,items:i?_:[{key:0,action:()=>{I(P),k&&t.close()},render:e=>(0,T.jsx)(f().Ay,{...e,color:P,shortcuts:["toggleHighlight"]})}],render:e=>(0,T.jsx)(S().A,{...e,title:(0,T.jsx)(c().sA,{defaultMessage:"Recently used",id:"highlightSelectionButton.lastUsedSection.label"}),desktopStyle:L.sectionMenuItemOverride,children:i?(0,T.jsx)("div",{style:L.blockColorMenuItemContainer,children:e.children}):e.children})},{key:1,items:R,render:e=>(0,T.jsx)(S().A,{...e,title:(0,T.jsx)(c().sA,{defaultMessage:"Text color",id:"highlightSelectionButton.colorSection.label"}),desktopStyle:L.sectionMenuItemOverride,children:i?(0,T.jsx)("div",{style:L.blockColorMenuItemContainer,children:e.children}):e.children})},{key:2,items:j,render:e=>(0,T.jsx)(S().A,{...e,title:(0,T.jsx)(c().sA,{defaultMessage:"Background color",id:"highlightSelectionButton.backgroundSection.label"}),desktopStyle:L.sectionMenuItemOverride,children:i?(0,T.jsx)("div",{style:{...L.blockColorMenuItemContainer,paddingBottom:8},children:e.children}):e.children})}],initialFocus:void 0})})}const I=function(e){const{disabled:t,style:n,blockStore:b}=e,g=(0,a().v3)(),p=(0,s().DP)(),y=(0,o.useCallback)((e=>{(0,m().s)(g,{action:"h"})}),[g]),h=(0,o.useCallback)((()=>{v().default.emit()}),[]),x=(0,i(963589).X)("updated_color_picker")&&!g.device.isMobile,{textSelectionColor:A,backgroundSelectionColor:S}=(0,l().K8)((()=>{if("editing"!==v().default.state.mode)return{textSelectionColor:void 0,backgroundSelectionColor:void 0};const e=(0,i(792002).x7)(["hf","hb"],v().default.state.multiSelection,v().default.state.forceExtendAnnotations),t=e.hf,o=e.hb;let n="default",a="default_background";if(t&&r().YuY(t))n=r().uIc(t);else if(b){const{block_color:e}=b.getFormat();e&&d().N.includes(e)&&(n=e)}return o&&r().YuY(o)&&(a=r().uIc(o)),{textSelectionColor:n,backgroundSelectionColor:a}}),[b]),I=(0,s().IS)((e=>{const t=(0,d().D$)(A??"default",e),i=(0,d().D$)(S??"default_background",e),o="default"!==A||void 0===i.background?t:i,n=(0,f().Nc)(S??"default_background",!1,e);return{colorIcon:{display:"inline-flex",alignItems:"center",justifyContent:"center",height:18,textAlign:"center",fontSize:15,borderRadius:2,...!g.device.isMobile&&{width:18,fontWeight:u().Wy.medium,marginBottom:2},...i,...t},colorIconCircle:x?{display:"inline-flex",alignItems:"center",justifyContent:"center",width:24,height:24,textAlign:"center",padding:8,margin:0,fontSize:16,borderRadius:6,fontWeight:u().Wy.medium,color:t.color,background:i.background,boxShadow:(0,f().Yr)(n,!1)}:{width:16,height:16,borderRadius:8,background:o.color??o.fill??o.background}}}),[A,S,g.device.isMobile,x]);return(0,T.jsx)(k().Ay,{popupType:g.device.isMobile?k().z7.SlideUp:k().z7.Popup,originGap:4,onClose:h,onClick:y,renderOrigin:e=>(0,T.jsx)(i(859428).A,{renderTooltip:()=>(0,T.jsxs)(M,{children:[(0,T.jsx)("div",{children:(0,T.jsx)(c().sA,{defaultMessage:"Text color",id:"highlightSelectionButton.textColor.tooltip"})}),(0,T.jsx)("div",{children:(0,T.jsx)(i(35392).A,{style:{color:p.text.contrastSecondary},name:"toggleHighlight"})})]}),render:o=>(0,T.jsxs)(i(704152).A,{style:{display:"flex",alignItems:"center",paddingLeft:7,paddingRight:6,whiteSpace:"nowrap",borderRadius:6,...n},disabled:t,disabledFeedback:t,...(0,i(553965).A)(e,o),children:[g.device.isMobile?(0,T.jsx)("div",{style:I.colorIcon,children:(0,T.jsx)(c().sA,{defaultMessage:"Color",id:"highlightSelectionButton.mobileColorIcon.label"})}):(0,T.jsx)("div",{style:I.colorIconCircle,children:x?"A":""}),(0,i(668725).b)({width:10,marginLeft:4,fill:"dark"===p.mode?d().Ay.white:p.lightIconColor})]})}),render:e=>(0,T.jsx)(C,{parent:e,shouldShowUpdatedColorPicker:x,textSelectionColor:A,backgroundSelectionColor:S})})}},236228:(e,t,i)=>{i.d(t,{A:()=>l});var o=i(296540),n=()=>i(56366),a=i(474848);const l=function(e){const{disabled:t,type:l,tooltipLabel:s,children:r,style:c,onClick:d}=e,u=(0,i(484714).v3)(),m=(0,o.useCallback)((e=>{l!==i(919709).Ifu.TemporarySuggestionUnderline&&(i(482287).po({environment:u,annotation:[l]}),d&&d(),(0,i(21869).s)(u,{action:l}))}),[u,l,d]),b=(0,n().K8)((()=>t||"editing"!==i(24157).default.state.mode),[t]),g=(0,n().K8)((()=>Boolean((0,i(792002).B1)(l))),[l]),p=(0,i(401497).IS)((e=>({button:{display:"flex",alignItems:"center",fill:g?e.icon.uiBluePrimary:e.icon.primary,borderRadius:6,height:28,width:28,padding:6,...c}})),[g,c]);return(0,a.jsx)(i(859428).A,{renderTooltip:()=>s,render:e=>(0,a.jsx)(i(704152).A,{style:p.button,disabled:b,disabledFeedback:b,onClick:m,...e,children:r})})}},643747:(e,t,i)=>{i.r(t),i.d(t,{default:()=>P});var o=i(296540),n=()=>i(484714),a=()=>i(56366),l=()=>i(401497),s=()=>i(959013),r=()=>i(443616),c=()=>i(947320),d=()=>i(843005),u=()=>i(413677),m=()=>i(722872),b=()=>i(986260),g=()=>i(691298),p=()=>i(212921),y=()=>i(377586),v=()=>i(757695);class f extends v().default{getInitialState(){return{}}}const k=f;class h extends v().default{getInitialState(){return{isOpen:!1,isInsertOpen:!1,isTurnIntoOpen:!1,isColorOpen:!1,isTemplatesOpen:!1}}}const x=h;var A=()=>i(75368),S=()=>i(502438),T=()=>i(452558),M=()=>i(928600),C=()=>i(45552),I=()=>i(14235),B=()=>i(381495),w=()=>i(524996),_=i(474848);const P=function(e){let{currentBlockStore:t,makeActionBarComponent:l,isNativeMobileActionBar:s}=e;const r=(0,n().v3)(),c=(0,i(792485).S)(),d=(0,a().uB)(void 0,i(970585).A),u=(0,a().uB)(void 0,k),m=(0,a().uB)(void 0,x),p=(0,a().K8)((()=>b().rV(r,t,null==c?void 0:c.publicEditModeStore.state)),[r,t,c]),{shouldShow:y}=p,{device:v,WindowSizeStore:f}=r,h=(0,a().K8)((()=>function(e,t,i){const{device:o}=e;return o.isMobileBrowser?t.state.isOpen:i}(r,m,y)),[r,m,y]),A=(0,a().K8)((()=>f.state.paddingBottomCSS),[f]),S=(0,i(140862).A)(!0),T=r.NativeMobileActionBarStore,M=(0,a().K8)((()=>b().jk(r)),[r]),C=(0,a().K8)((()=>"editing"!==i(24157).default.state.mode&&!(null==T||!T.state.shouldRestoreSelectionForMenu)),[T]);return(0,g().A)({shouldPreserveTextSelection:M,shouldPreserveBlockSelection:!1,shouldRestoreSelection:C}),(0,_.jsxs)(o.Fragment,{children:[(0,_.jsxs)("div",{...S,style:{position:"relative",width:"100%",height:0,zIndex:99},children:[l({store:m,ignoreSelectionAreaStore:u,templatePickerMenuListStore:d}),!s&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(j,{store:m}),(0,_.jsx)(L,{store:m}),(0,_.jsx)(U,{store:m})]}),(0,_.jsx)(q,{})]}),!h&&v.isIPhoneX&&v.isNative&&(0,_.jsx)("div",{style:{position:"absolute",bottom:0,background:"transparent",height:A,width:"100%",pointerEvents:"none",WebkitUserSelect:"none"}})]})};function R(e){e.setState({...e.state,isInsertOpen:!1})}function j(e){let{store:t}=e;const i=(0,n().v3)(),l=(0,o.useCallback)((()=>R(t)),[t]),{device:r}=i,d=(0,a().K8)((()=>t.state.isInsertOpen),[t]),u=(0,o.useMemo)((()=>(0,c().s7)(i)),[i]),{insertActions:b}=(0,a().O$)(u);return(0,_.jsx)(I().Ay,{popupType:r.isMobile?y().n.SlideUp:y().n.Popup,preventBlockRenderQueueOnEnter:!0,open:d,keepFocus:!0,onDismiss:()=>{R(t)},render:()=>(0,_.jsx)(M().A,{menuType:m().gu.Modal,title:(0,_.jsx)(s().sA,{defaultMessage:"Insert block",id:"mobileActionBar.insertBlock.modalTitle"}),right:(0,_.jsx)(C().CancelMenuText,{}),onClickRight:()=>{R(t)},children:(0,_.jsx)(T().A,{sections:b,context:{environment:i,blocks:S().default.state.stores,publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions"},onAccept:l})})})}function L(e){let{store:t}=e;const i=(0,n().v3)(),l=(0,o.useCallback)((()=>function(e){e.setState({...e.state,isTurnIntoOpen:!1})}(t)),[t]),r=(0,a().K8)((()=>t.state.isTurnIntoOpen),[t]);(0,g().A)({shouldPreserveTextSelection:r,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0});const{device:c}=i;return(0,_.jsx)(I().Ay,{popupType:c.isMobile?y().n.SlideUp:y().n.Popup,open:r,keepFocus:!0,onDismiss:l,preventBlockRenderQueueOnEnter:!0,render:()=>(0,_.jsx)(M().A,{menuType:m().gu.Modal,title:(0,_.jsx)(s().sA,{defaultMessage:"Turn into",id:"mobileActionBar.turnInto.modalTitle"}),right:(0,_.jsx)(C().CancelMenuText,{}),onClickRight:l,children:(0,_.jsx)(T().A,{sections:[{...d().t3,title:""}],context:{environment:i,blocks:S().default.state.stores,publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions"},onAccept:l})})})}function U(e){let{store:t}=e;const i=(0,n().v3)(),l=(0,o.useCallback)((()=>function(e){e.setState({...e.state,isColorOpen:!1})}(t)),[t]),{device:c}=i,d=(0,a().K8)((()=>t.state.isColorOpen),[t]);return(0,g().A)({shouldPreserveTextSelection:d,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0}),(0,_.jsx)(I().Ay,{popupType:c.isMobile?y().n.SlideUp:y().n.Popup,open:d,keepFocus:!0,onDismiss:l,preventBlockRenderQueueOnEnter:!0,render:()=>(0,_.jsx)(M().A,{menuType:m().gu.Modal,title:(0,_.jsx)(s().sA,{defaultMessage:"Block color",id:"mobileActionBar.blockColor.modalTitle"}),right:(0,_.jsx)(C().CancelMenuText,{}),onClickRight:l,children:(0,_.jsx)(T().A,{sections:[r().kl,r().qW,r().J1],context:{environment:i,blocks:S().default.state.stores,publicEditMode:void 0,analyticsFrom:"mobile_action_bar_actions"},onAccept:l})})})}function q(){const e=(0,n().v3)(),t=(0,l().IS)((e=>({popupStyles:{background:e.contentBackground}})),[]),i=(0,o.useCallback)((()=>function(e,t){const i=A().A.state.isFromNativeHome;A().A.setState({open:!1}),t.shouldCancel&&i&&(0,w().handleCancelQuickAdd)(e,{isMobileHorizon1QuickCapture:!1})}(e,{shouldCancel:!0})),[e]),{isTemplatesOpen:r}=(0,a().K8)((()=>({isTemplatesOpen:A().A.state.open})),[]),{device:c}=e;return(0,_.jsx)(I().Ay,{popupType:c.isMobile?y().n.SlideUp:y().n.Popup,open:r,onDismiss:i,keepFocus:!0,style:t.popupStyles,render:()=>(0,_.jsx)(M().A,{menuType:m().gu.Modal,whiteBackground:!0,disableHeaderShadow:r,hideMobileTopbar:r,title:(0,_.jsx)(s().sA,{defaultMessage:"Templates",id:"mobileActionBar.templates.modalTitle"}),right:(0,_.jsx)(B().CloseTemplatesPopupComponent,{handleClick:i,style:{marginRight:20}}),disableScroller:!0,onClickRight:i,shouldRenderRightDirectly:!0,onCancel:i,forceFullScreenSlideUp:!0,children:(0,_.jsx)(p().A,{onTemplateItemSelect:t=>{u().openWithItem({environment:e,item:t,createNewPage:!1,isPrivate:!1,disablePointerEvents:!0})},onClose:i})})})}},680243:(e,t,i)=>{i.d(t,{l:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("keyboard",{viewBox:"0 0 30 30",svg:(0,o.jsxs)("g",{children:[" ",(0,o.jsx)("path",{d:"M15,30l8-10H7Zm0-3.2L11.16,22h7.68Z"})," ",(0,o.jsx)("path",{d:"M6,4H4V6H6V4Zm4,0H8V6h2V4Zm4,0H12V6h2V4Zm4,0H16V6h2V4Zm4,0H20V6h2V4Zm4,0H24V6h2V4ZM10,8H8v2h2V8Zm4,0H12v2h2V8Zm4,0H16v2h2V8Zm4,0H20v2h2V8Zm-2,4H10v2H20V12Zm5,0H22v2h3V12ZM5,14H8V12H5v2ZM0,0V18H30V0H0ZM28,16H2V2H28V16Z"})," "]})})},720263:(e,t,i)=>{i.d(t,{A:()=>k});var o=i(296540),n=()=>i(484714),a=()=>i(401497),l=()=>i(965998),s=()=>i(959013),r=()=>i(21869),c=()=>i(441467),d=()=>i(862292),u=()=>i(980914),m=()=>i(205682),b=()=>i(77238),g=()=>i(24157),p=()=>i(704152),y=()=>i(35392),v=()=>i(859428),f=i(474848);function k(e){const t=(0,n().v3)(),{isMobile:i}=(0,n().Y0)(),k=(0,a().IS)((e=>({keyboardShorcut:{color:e.text.contrastSecondary}})),[]),h=async()=>{let i;const o=g().default.state;if("empty"!==o.mode){i=u().wg();const n=await d().T.formulas.load();c().hN({environment:t,blockStore:e.blockStore,multiSelection:o.multiSelection,property_id:m().A.state.isOpen?m().A.state.property:b().A.state.isOpen?b().A.state.property:void 0,formulasModule:n})}(0,r().s)(t,{action:"comment",from:i?"simple_table_cell":void 0})};return(0,f.jsx)(v().A,{renderTooltip:()=>(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)("div",{children:(0,f.jsx)(s().sA,{defaultMessage:"Comment",id:"inlineCommentButton.tooltip"})}),(0,f.jsx)("div",{children:(0,f.jsx)(y().A,{style:k.keyboardShorcut,name:"comment"})})]}),render:t=>(0,f.jsxs)(p().A,{style:{display:"flex",alignItems:"center",padding:e.iconOnly?6:"0 10px",whiteSpace:"nowrap",...e.style},disabled:e.disabled,disabledFeedback:e.disabled,onClick:h,ariaLabel:e.ariaLabel,...t,children:[(0,l().M)({width:i?18:16,height:i?18:16,marginTop:i?0:1,marginRight:e.iconOnly?0:4}),!i&&!e.iconOnly&&(0,f.jsx)(s().sA,{defaultMessage:"Comment",id:"inlineCommentButton.commentLabel"})]})})}},777849:(e,t,i)=>{i.d(t,{A:()=>p});var o=i(296540),n=()=>i(56366),a=()=>i(401497),l=()=>i(919709),s=()=>i(959013),r=()=>i(448619),c=()=>i(792002),d=()=>i(569777),u=()=>i(24157),m=()=>i(35392),b=i(474848);const g={display:"flex",alignItems:"center",borderRadius:6,padding:6,width:28,height:28};const p=function(e){let{style:t,children:o,disabled:s,onClick:m}=e;const p=(0,a().DP)(),f=(0,i(484714).v3)(),k=(0,n().K8)((()=>y(p)),[p]),h=(0,n().K8)((()=>function(e){if(e)return!0;if("editing"!==u().default.state.mode&&!d().A.isOpen())return!0;const t={[l().Ifu.User]:l().Ifu.User,[l().Ifu.Page]:l().Ifu.Page,[l().Ifu.CustomEmoji]:l().Ifu.CustomEmoji,[l().Ifu.Comment]:l().Ifu.Comment,[l().Ifu.Bot]:l().Ifu.Bot,[l().Ifu.Date]:l().Ifu.Date,[l().Ifu.ExternalObjectInstance]:l().Ifu.ExternalObjectInstance,[l().Ifu.TemporaryPage]:l().Ifu.TemporaryPage,[l().Ifu.TemplateVariable]:l().Ifu.TemplateVariable,[l().Ifu.FormulaPageProperty]:l().Ifu.FormulaPageProperty,[l().Ifu.FormulaContextValue]:l().Ifu.FormulaContextValue,[l().Ifu.Group]:l().Ifu.Group,[l().Ifu.Team]:l().Ifu.Team,[l().Ifu.Citation]:l().Ifu.Citation,[l().Ifu.LinkMention]:l().Ifu.LinkMention,[l().Ifu.AssistantInstructionsCollection]:l().Ifu.AssistantInstructionsCollection,[l().Ifu.GeoPoint]:l().Ifu.GeoPoint};for(const i of Object.values(t))if((0,c().y_)(i))return!0;return!1}(s)),[s]);return(0,b.jsx)(i(859428).A,{renderTooltip:()=>(0,b.jsx)(v,{}),render:e=>(0,b.jsx)(i(704152).A,{style:{...g,...k.equationButton,...t},disabled:h,disabledFeedback:h,onClick:e=>function(e,t,i){r().Wx({environment:t,analyticsFrom:"rich_text_menu"}),i&&i(e)}(e,f,m),...e,children:o})})};function y(e){return{equationButton:{fill:(0,c().B1)(l().Ifu.Equation)?e.blueColor:e.icon.primary},keyboardShortcut:{color:e.text.contrastSecondary}}}function v(){const e=(0,a().DP)(),t=(0,n().K8)((()=>y(e)),[e]);return(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)("div",{children:(0,b.jsx)(s().sA,{id:"richTextMenu.equationButton.tooltip",defaultMessage:"Mark as equation"})}),(0,b.jsx)("div",{children:(0,b.jsx)(m().A,{style:t.keyboardShortcut,name:"openEquationMenu"})})]})}},780243:(e,t,i)=>{i.d(t,{A:()=>f});var o=i(296540),n=()=>i(484714),a=()=>i(56366),l=()=>i(401497),s=()=>i(919709),r=()=>i(959013),c=()=>i(21869),d=()=>i(501666),u=()=>i(792002),m=()=>i(711319),b=()=>i(24157),g=()=>i(704152),p=()=>i(35392),y=()=>i(859428),v=i(474848);function f(e){const t=(0,l().DP)(),i=(0,n().v3)(),f=(0,a().K8)((()=>(0,u().B1)(s().Ifu.Link)),[]),k=(0,a().K8)((()=>function(e){if(e)return!0;if("editing"!==b().default.state.mode&&!m().A.state.open)return!0;if((0,u().y_)(s().Ifu.User)||(0,u().y_)(s().Ifu.Bot)||(0,u().y_)(s().Ifu.Date)||(0,u().y_)(s().Ifu.Page)||(0,u().y_)(s().Ifu.Group))return!0;return!1}(e.disabled)),[e.disabled]);return(0,v.jsx)(y().A,{renderTooltip:()=>(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)("div",{children:(0,v.jsx)(r().sA,{defaultMessage:"Add link",id:"selectionLinkButton.addLink.tooltip"})}),(0,v.jsx)("div",{children:(0,v.jsx)(p().A,{style:{color:t.text.contrastSecondary},name:"openLinkMenuOrOpenSearch"})})]}),render:o=>(0,v.jsx)(g().A,{style:{display:"flex",alignItems:"center",borderRadius:6,paddingLeft:7,paddingRight:6,...f&&{color:t.blueColor},whiteSpace:"nowrap",...e.style},disabled:k,disabledFeedback:k,...o,onClick:()=>function(e){d().fi({type:"focusOnly",focus:!0}),(0,c().s)(e,{action:s().Ifu.Link})}(i),children:e.children})})}},948352:(e,t,i)=>{i.d(t,{M:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("templatesColor",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z",fill:"#3C9ED7"}),(0,o.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z",fill:"#E7595E"}),(0,o.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z",fill:"#F5BC4E"})]})})}}]);