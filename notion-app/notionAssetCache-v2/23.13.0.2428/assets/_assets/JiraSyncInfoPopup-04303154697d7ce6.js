"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[68744],{69447:(e,t,o)=>{o.d(t,{Lq:()=>n,WK:()=>r,nh:()=>i});const n=40,i=48,r=60},408453:(e,t,o)=>{o.r(t),o.d(t,{JiraSyncInfoPopup:()=>b});var n=o(296540),i=()=>o(484714),r=()=>o(56366),s=()=>o(543906),a=()=>o(831098),l=()=>o(959013),u=()=>o(812182),c=()=>o(317909),d=()=>o(755199),p=()=>o(504836),f=()=>o(551619),g=()=>o(351360),h=()=>o(666803);const m="jira_sync_info_toast",S=(0,l().YK)({titleWhenProject:{id:"jiraSyncInfoPopup.titleForProjectsCollectionView",defaultMessage:"Keep track of projects in Jira"},titleWhenIssues:{id:"jiraSyncInfoPopup.titleForTasksCollectionView",defaultMessage:"Keep track of issues in Jira"},descriptionWhenProject:{id:"jiraSyncInfoPopup.descriptionForProjectsCollectionView",defaultMessage:"Notion makes it easy to preview Jira content, so you can keep track of projects and collaborate more easily"},descriptionWhenIssues:{id:"jiraSyncInfoPopup.descriptionForIssuesCollectionsView",defaultMessage:"Notion makes it easy to preview Jira content, so you can keep track of issues and collaborate more easily"}});function b(e){const t=(0,i().v3)(),o=(0,l().tz)(),{isMobile:b}=(0,i().Y0)(),{blockStore:v}=e,{inAppCalloutStore:y,currentUserSettingsStore:w}=(0,r().K8)((()=>({inAppCalloutStore:g().default.state.inAppCalloutStore,currentUserSettingsStore:g().default.state.currentUserSettingsStore})),[]),C=(0,r().K8)((()=>y.getCalloutVisibility("jira_sync_info_popup").canShow),[y]),{isProjectCollectionView:P,isSetupComplete:_}=(0,r().K8)((()=>{if(v.isCollectionView()){var e,t;const o=null===(e=v.getCollectionStore())||void 0===e?void 0:e.getFormat(),n=Boolean((null==o||null===(t=o.sync_state)||void 0===t?void 0:t.last_synced_at)&&!o.sync_state.syncing);return{isProjectCollectionView:"notion://projects_collection"===(null==o?void 0:o.app_config_uri),isSetupComplete:n}}return{isProjectCollectionView:!1,isSetupComplete:!1}}),[v]),k=(0,f().dK)(v),x=(0,r().K8)((()=>{var e;const t=null==w||null===(e=w.getSettings())||void 0===e?void 0:e.jira_sync_onboarding_tour_state;return Boolean(t&&"notSeen"!==t)}),[w]),I=(0,r().K8)((()=>(0,p().Sd)()),[])&&k&&_&&!x&&C&&!b,V=(0,n.useMemo)((()=>function(e){const{isProjectCollectionView:t,intl:o,onDismiss:n}=e,i=t?S.titleWhenProject:S.titleWhenIssues,r=t?S.descriptionWhenProject:S.descriptionWhenIssues;return{presentationType:"persistent",id:m,title:o.formatMessage(i),icon:a().y,message:o.formatMessage(r),actions:{primary:{title:o.formatMessage({id:"jiraSyncInfoPopup.primaryButton",defaultMessage:"Take the tour"}),onAction:()=>{h().Ay.setState({...h().Ay.state,showOnboardingTour:!0}),n(),u().UW(m)}}},onDismiss:n}}({isProjectCollectionView:P,intl:o,onDismiss:()=>{y.updateCalloutStatus({calloutId:"jira_sync_info_popup",visible:!1}),w&&c().createAndCommit({userAction:"JiraSyncInfoPopup.handleDismiss",environment:t,canUndo:!0,perform:e=>{d().mJ({transaction:e,userSettingsStore:w,data:{jira_sync_onboarding_tour_state:"completed"}})}})}})),[w,t,y,o,P]);return(0,s().A)((()=>{y.updateCalloutStatus({calloutId:"jira_sync_info_popup",visible:!0}),u().HK(V)}),I),null}},551619:(e,t,o)=>{o.d(t,{Hy:()=>B,NV:()=>j,O9:()=>W,Rg:()=>M,Sm:()=>R,dK:()=>A,f7:()=>E,l8:()=>F,n$:()=>T,no:()=>D,sx:()=>K});var n=()=>o(484714),i=()=>o(792485),r=()=>o(56366),s=()=>o(700500),a=()=>o(651124),l=()=>o(519831),u=()=>o(620689),c=()=>o(591197),d=()=>o(519839),p=()=>o(835066),f=()=>o(964345),g=()=>o(68465),h=()=>o(753199),m=()=>o(504836),S=()=>o(478726),b=()=>o(747100),v=()=>o(963589),y=()=>o(665579),w=()=>o(351360),C=()=>o(525569),P=()=>o(508496),_=()=>o(375447),k=()=>o(66496),x=()=>o(548821),I=()=>o(712505),V=()=>o(302022);function j(e){(0,h().SQ)({event:e,context:h().y$.EditorMouseDown,callback:()=>{}})}function K(e){(0,h().SQ)({event:e,context:h().y$.EditorClick,callback:()=>{}})}function B(e){return(0,r().K8)((()=>Boolean(V().A.state.pageMap[e.id])||k().A.state.pages.has(e.id)),[e.id])}function M(e,t){const o=(0,n().v3)(),s=(0,i().S)(),a=B(e),l=(0,r().K8)((()=>{var o,n;return t===x().Rr.Frame?Boolean(null===(o=w().default.state.currentLoadingContainerStore)||void 0===o?void 0:o.state.ready):t===x().Rr.PeekView&&I().default.state.open?Boolean(null===(n=I().default.state.loadingContainerStore)||void 0===n?void 0:n.state.ready):t===x().Rr.CollectionPageView||t===x().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),u=E(e);return(0,r().K8)((()=>{if(!l)return!1;const t=o.currentUser.isLoggedIn(),n=s&&s.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=n&&n.hasPublicPermission)||"edit"===(null==n?void 0:n.permission))&&!a&&!u&&(!(0,g().ZE)(n)||"completionPopup"!==C().default.state.type))}),[o.currentUser,u,l,s,a,e])}function W(e,t){const o=(0,n().v3)(),s=(0,i().S)(),{isTablet:a}=(0,n().Y0)(),l=(0,v().X)("tablet_refresh_template_pills_gate");return(0,r().K8)((()=>{if(t===x().Rr.SitePreview)return!1;if(o.device.isMobile&&(!a||!l))return!1;if(!o.currentUser.isLoggedIn())return!1;const n=s&&s.publicEditModeStore.state;if(null!=n&&n.hasPublicPermission&&"edit"!==(null==n?void 0:n.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const i=e.getContentStores()[0];if(i&&!i.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const r=f().gZ.state,u=f().Di.state;if(r&&e.id===u)return!1;return!((0,S().L5)(t)?c().VY.state:c().u3.state)}),[o,s,e,t,a,l])}function E(e){return(0,r().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(s().xd.externalObjectInstancePage)}),[e])}function R(e){return(0,r().K8)((()=>{if(!(0,m().pB)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===l().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function A(e){return(0,r().K8)((()=>{if(!(0,m().pB)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function F(e){return(0,r().K8)((()=>{if(!P().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===a().IE.CsvImport}),[e])}function T(e){const t=(0,n().v3)(),{device:o,WindowSizeStore:i}=t,s=(0,r().K8)((()=>{const e=i.state.height,n=o.isMobile&&_().A.state.open?e:0;return u().C6(t)+n}),[t,i,o.isMobile]);return(0,r().K8)((()=>"home-phone"===e?y().q3:o.isTablet?380:o.isIOS?Math.max(350,s):o.isMobile?400:"side-peek"===e||"center-peek"===e?b().ln:"home"===e?y().wH:"30vh"),[o,s,e])}function D(e){const t=(0,n().v3)(),o=(0,r().K8)((()=>(0,p().dC)(t,e)),[t,e]);return(0,r().K8)((()=>o&&!e.isFullWidth()?(0,p().Zy)(t,(0,b().cq)(e),(0,d().RX)(e)):0),[t,o,e])}},591197:(e,t,o)=>{o.d(t,{VY:()=>a,ZJ:()=>r,u3:()=>s});var n=()=>o(496506);class i extends(()=>o(757695))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const r=new i,s=new(n().default)((()=>!1!==r.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),a=new(n().default)((()=>!1!==r.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},665579:(e,t,o)=>{o.d(t,{$E:()=>V,$L:()=>a,BZ:()=>c,EC:()=>g,EI:()=>y,Ed:()=>p,Fq:()=>S,Lu:()=>C,Mk:()=>f,O0:()=>x,UO:()=>j,V$:()=>k,VQ:()=>h,Wh:()=>P,Xx:()=>w,Xy:()=>u,YS:()=>m,_g:()=>v,dd:()=>d,pW:()=>l,q3:()=>s,wH:()=>r});var n=()=>o(496603),i=()=>o(534177);const r=160,s=40,a=24,l=20,u=600,c=270,d=405,p=480,f=500,g=void 0,h=16,m=10,S=8,b=(o(69447).nh,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),v=4;function y(e){return{icon:e.mediumIconColor,text:e.mediumTextColor}}function w(e){return{width:48,height:48,fill:e.lightIconColor}}function C(e){let{theme:t,isPhone:o}=e;return o?t.personalHomeBackgroundPhone:t.surface.page}function P(e){let{theme:t,isPhone:o,buttonState:n}=e,i=t.whiteButtonBackground;switch(n){case"hovered":i=t.whiteButtonHoveredBackground;break;case"pressed":i=t.whiteButtonPressedBackground}return o&&(i=void 0),{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:i,...b,boxShadow:I({isPhone:o,theme:t,borderOnly:!0}),width:28,height:28,borderRadius:4}}const _=1;function k(e){let{isPhone:t,theme:o}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:o.home.tile.background,boxShadow:I({isPhone:t,theme:o}),...b}}function x(e){let{mode:t,isPhone:o}=e;switch(t){case"dark":return 0;case"light":return _;default:return(0,i().ub)(t),0}}function I(e){let{isPhone:t,theme:o,borderOnly:i}=e;if("dark"===o.mode)return"unset";o.mode;const r=x({mode:o.mode,isPhone:t});return(0,n().oE)([i||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${r}px rgba(0, 0, 0, 0.05)`]).join(", ")}function V(e){return{display:"flex",flexDirection:"column",width:e.isPhone?"100%":700,gap:24}}function j(e){const{isPhone:t,theme:o,borderOnly:n}=e;return{unhoveredBoxShadow:I({isPhone:t,theme:o,borderOnly:n}),hoveredBoxShadow:"light"===o.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):o.homeShadow.card.hovered}}}}]);