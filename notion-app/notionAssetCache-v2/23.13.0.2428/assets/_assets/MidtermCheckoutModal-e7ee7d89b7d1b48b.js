"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[75436],{323063:(e,t,n)=>{n.d(t,{HO:()=>m,V5:()=>s,Vr:()=>u,gL:()=>c,qq:()=>d,vH:()=>l,z2:()=>p});n(16280),n(898992),n(354520),n(672577),n(581454),n(737550);var i=()=>n(720665),r=()=>n(762433),a=()=>n(47273),o=()=>n(979340);function s(e,t){return m(e.items,t.items).some((e=>{let[t,n]=e;return function(e,t){if(!e)return!1;if(!t)return!0;const n=r().xp(e),i=r().xp(t);if(!n||!i)return!1;return o().o3[n]>o().o3[i]}(t,n)}))}function u(e,t,n){let{trialEnd:i,items:r}=t;const a=r.map((t=>{const i=t.price.product,r=t.price.unitAmount.currencyCode,a=function(e,t){let{interval:n,product:i,currency:r}=t;const a=e.find((e=>e.product===i&&e.billingInterval===n&&e.unitAmount.currencyValue.currencyCode===r));return f(a,`Unable to find price with interval: ${n}, product: ${i}, currency: ${r}`)}(e,{interval:n,product:i,currency:r});return{...t,price:a}}));return{trialEnd:i,items:a}}function c(e,t){const n=e.items.filter((e=>r().IE(e)!==t));return{...e,items:n}}function l(e,t){const n=e.items.filter((e=>r().IE(e)!==r().IE(t)));return{...e,items:n.concat([t])}}function d(e,t,n){const{product:i,interval:a,currency:o}=n,s=function(e){if("personal_free"===e||"team_free"===e)return"free";return e}(i),u=t.items.filter((e=>r().IE(e)!==r().Mr(s))),c=function(e,t){let{interval:n,product:i,currency:r}=t;const a=e.find((e=>e.price.product===i&&e.price.billingInterval===n&&e.price.unitAmount.currencyValue.currencyCode===r));return f(a,`Unable to find price with interval: ${n}, product: ${i}, currency: ${r}`)}(e,{interval:a,product:s,currency:o});return{...t,items:u.concat([c])}}function m(e,t){return(0,i().Z4)(e,(e=>r().IE(e)),t,(e=>r().IE(e)))}function p(e){const{prices:t,billingData:n,product:i}=e,o=r().Ry(n),s=r().lQ(n),u=a().yw(s),c=r().q8(n),l=u??c;return t.find((e=>e.product===i&&e.billingInterval===l&&e.unitAmount.currencyValue.currencyCode===o))}function f(e,t){if(null==e)throw new Error(t);return e}},761065:(e,t,n)=>{n.r(t),n.d(t,{MidtermCheckoutModal:()=>ve});var i=n(296540),r=()=>n(484714),a=()=>n(56366),o=()=>n(762433),s=()=>n(47273),u=()=>n(107683),c=()=>n(38337),l=()=>n(972418),d=()=>n(749240),m=()=>n(72256),p=(n(898992),n(354520),n(581454),()=>n(401497)),f=()=>n(148307),g=()=>n(215087),v=(n(16280),n(672577),n(737550),()=>n(496603)),y=()=>n(534177),h=()=>n(720665),x=()=>n(952539),b=()=>n(622963),w=()=>n(979340);function I(e){return"trial"!==e.type&&"prorate_without_invoice"!==e.type&&"update_without_proration"!==e.type&&e.immediate.items.some((e=>e.price.unitAmount.amount>0))}function S(e,t,n,i,r,a){const u=(0,o().PP)(t),c=(0,x().qX)(t),l=a??function(e,t){const n=A(e,t),i=function(e,t){const n=Boolean(e.trialEnd),i=A(e,t);if(n&&!i)return!0;const r=(0,s().yw)(e),a=(0,s().yw)(t);if("month"===r&&"year"===a)return!0;if("year"===r&&"month"===a)return!1;const u=e.items.find((e=>(0,o().xp)(e))),c=t.items.find((e=>(0,o().xp)(e))),l=j(u,c),d=c&&0===c.price.unitAmount.amount;if(l&&!d)return!0;if(e.trialEnd&&E(e,t))return!0;return!1}(e,t),r=function(e,t){const n=(0,s().yw)(e),i=(0,s().yw)(t);if("month"===n&&"year"===i)return!0;const r=(0,o().HO)(e.items,t.items);return r.some((e=>{let[t,n]=e;const i=!t&&n,r=j(t,n),a=_(t,n)>0,o=n&&n.price.unitAmount.amount>0;return(i||r||a)&&o}))}(e,t);return n?"trial":i?"reset_and_invoice":r?"prorate_and_invoice":"prorate_without_invoice"}(u,n);if("reset_and_invoice"===l)return{type:"reset_and_invoice",immediate:{items:n.items.filter((e=>D(n,e)))},dunningCancellationTime:c};const d=function(e,t,n,i,r,a){const u=(0,s().yw)(n),c=(0,s().yw)(i);let l;l="trial"!==t&&"year"===u?"year":c??u;const d=M(n.items,"seats"),m=M(n.items,"public_domain_custom_hostnames"),p=(0,o().HO)(n.items,i.items),f={seats:{actual:r.numSeats,billed:d},public_domain_custom_hostnames:{actual:r.numCustomHostnames,billed:m}};return p.map((t=>{const n=function(e,t){let[n,i]=e;const r=(0,b().vK)((n??i).price.product),{actual:a,billed:o}=t[r];return Math.max(a,o??0)}(t,f),o=function(e,t,n,i){let r,[a,o]=i;r=o&&j(a,o)?o.price:(a??o).price;return function(e,t,n){if(t.billingInterval===n)return t;const i=e.find((e=>e.product===t.product&&e.unitAmount.currencyCode===t.unitAmount.currencyCode&&e.billingInterval===n));if(!i)throw new Error(`Cannot find PriceData for stripe price id: ${t.externalId} at interval ${n}`);return i}(e,r,n)}(e,0,l,t),[s,u]=t,c=function(e,t){let[n,i]=e;const r=(0,b().vK)((n??i).price.product);return function(e,t){switch(t){case"seats":return e.numSeats;case"public_domain_custom_hostnames":return e.numCustomHostnames;default:(0,y().HB)(t)}}(t,r)}(t,r),d=function(e,t,n,i){let{}=i;if(!n)return;if(!D(t,n))return;const r=n.price;if(b().As.includes(r.externalId))return function(e,t){const n=e.find((e=>e.product===t.product&&e.unitAmount.currencyCode===t.unitAmount.currencyCode&&e.billingInterval===t.billingInterval));if(!n)throw new Error(`Cannot find current PriceData for stripe price id: ${t.externalId}`);return n}(e,r);return r}(e,i,u,a);return{immediate:{price:o,quantity:n},pending:(0,y().O9)(d)&&(0,y().O9)(c)&&c>0?{price:d,quantity:c}:void 0}}))}(e,l,u,n,i,r),m={items:(0,v().oE)(d.map((e=>e.immediate)))},p={items:(0,v().oE)(d.map((e=>e.pending)))},f=n.trialEnd??u.trialEnd;if("trial"===l){if(!f)throw new Error("cannot have trial without trialEnd");return{type:"trial",trialEnd:f,immediate:m,pending:p,dunningCancellationTime:c}}return{type:l,immediate:m,pending:p,dunningCancellationTime:c}}function A(e,t){const n=e.items.find((e=>(0,o().xp)(e))),i=j(n,t.items.find((e=>(0,o().xp)(e)))),r=n&&i||E(e,t);return Boolean(t.trialEnd||e.trialEnd)&&!r}function j(e,t){const n=(0,o().xp)(e)??"free",i=(0,o().xp)(t);return!!i&&w().o3[n]<w().o3[i]}function E(e,t){var n;const i=e.items.find((e=>"sites_custom_hostnames"===(0,o().IE)(e))),r=t.items.find((e=>"sites_custom_hostnames"===(0,o().IE)(e))),a=null===(n=r??i)||void 0===n?void 0:n.price;return!(!a||0===a.unitAmount.amount)&&_(i,r)>0}function _(e,t){return null!=e&&e.price.product&&"seats"===(0,b().vK)(null==e?void 0:e.price.product)||null!=t&&t.price.product&&"seats"===(0,b().vK)(null==t?void 0:t.price.product)?0:((null==t?void 0:t.quantity)??0)-((null==e?void 0:e.quantity)??0)}function M(e,t){return(0,h().Z$)(e.filter((e=>(0,b().vK)(e.price.product)===t)).map((e=>e.quantity)),"A subscription should have a consistent quantity across all its items.")}function D(e,t){if("sites_custom_hostnames"!==(0,o().IE)(t))return!0;const n=e.items.find((e=>(0,o().xp)(e)));return(0,w().y4)((0,o().xp)(n))}var C=()=>n(643819),T=()=>n(959013),B=()=>n(938987),P=()=>n(84817),q=()=>n(802790),L=()=>n(816559),k=()=>n(554509),O=()=>n(581495),N=()=>n(601203),V=()=>n(558094),K=()=>n(27716),U=()=>n(275764),$=()=>n(310212),z=()=>n(137826),H=()=>n(161165),W=(n(908872),()=>n(662303)),Y=()=>n(869190),R=()=>n(323063),Q=()=>n(449506),Z=()=>n(23954),X=()=>n(224701),F=()=>n(847554),G=n(474848);function J(e){let{environment:t,currencyValue:n,address:r,lineItems:a,taxableAmount:o,billingData:s}=e;const[u,c]=(0,i.useState)(0),[l,d]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{!async function(){if(!r||0===a.length||0===o.amount)return;d(!0);const e=await(0,N().qu)({environment:t,taxableAmount:o,lineItems:a,address:r,billingData:s});c(e??0),d(!1)}()}),[t,o,a,r,s]),{tax:new(C().W)(n,u),isLoading:l}}var ee=()=>n(857639),te=()=>n(252105),ne=()=>n(944609),ie=()=>n(730764),re=()=>n(112527),ae=()=>n(995604),oe=()=>n(101118);function se(e){let{desiredState:t,subscription:n,spaceStore:a,showTrialEndDisclaimer:o,modalId:u,primaryButtonText:c}=e;const l=(0,r().v3)(),d=(0,T().tz)(),[p,f]=i.useState(void 0),[g,v]=i.useState(!1);return(0,G.jsx)(oe().i,{textAlign:"center",primaryButtons:[{buttonType:"primary",label:c??(0,G.jsx)(T().sA,{id:"subscriptionUpdateModal.confirmationButton",defaultMessage:"Confirm changes"}),onClick:async()=>{te().wD(l,{modalId:u}),v(!0);const e=await(0,re().getStripe)();if(!e)return(0,ee().log)({level:"error",from:"MidtermCheckoutModal",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}}),f(d.formatMessage({id:"spaceSubscriptionUpgradeModal.stripeNotLoaded",defaultMessage:"We could not reach our payment processor. Please reload the page or try again later."})),void v(!1);if((0,ne().v4)({environment:l,currentState:n,desiredState:t})){if(!(await(0,ae().Z)(l)))return void v(!1)}const i=await async function(e){let{environment:t,spaceStore:n,desiredState:i,stripe:r,coupon:a,intl:o}=e;try{const e=await X().nV({environment:t,from:"midterm_checkout_modal",spaceStore:n,desiredState:i,inAppOffer:a});await X().XO({paymentIntentData:e,stripe:r,onSuccess:()=>{(0,X().L1)(t,Z().w)}})}catch{return{error:o.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})}}}({environment:l,spaceStore:a,desiredState:t,stripe:e,intl:d});if(null!=i&&i.error)return f(i.error),void v(!1);(0,m().A)(l,u)},baseStyleOverride:{borderRadius:8},isDisabled:g,isLoading:g}],termsOfService:(0,G.jsx)(ie().w,{products:(0,s().Fe)(t),showTrialEndDisclaimer:o}),error:p})}var ue=()=>n(710149),ce=()=>n(208993),le=()=>n(517492),de=()=>n(932065);function me(e){let{immediate:t,recurring:n,nextBillingDate:a,accountBalance:o,items:s,chargeType:u={chargeType:"immediate"},modalId:c}=e;const l=(0,r().v3)(),[d,m]=(0,i.useState)(!1),f=(0,p().IS)((e=>({summaryContainer:{background:e.surface.wash,padding:16,borderRadius:8}})),[]),v=t.subtotal.plus(t.tax),y=new(C().W)(g().r[n.subtotal.currencyCode],0),h=(0,H().Bq)({subtotal:n.subtotal,discount:y,balance:o},n.tax),x=0!==h.amount&&0!==v.amount&&h.amount!==v.amount,[b,w,I]="immediate"===u.chargeType?[v,t.subtotal,t.tax]:[h,n.subtotal,n.tax];return(0,G.jsxs)(P().Y1,{gap:8,children:[(0,G.jsx)(de().BB,{useNewStyle:!0,isTotalLoading:t.isLoading,total:b,handleToggleExpanded:()=>{d?te().CK(l,{modalId:c}):te().wJ(l,{modalId:c}),m(!d)},isExpanded:d,discount:y,accountBalance:o,subtitle:"immediate"===u.chargeType?(0,G.jsx)(pe,{recurringTotal:h,periodEnd:a,isNextBillDifferent:x,isLoading:n.isLoading||t.isLoading}):null,...u}),(0,G.jsx)(de()._z,{isExpanded:d,children:(0,G.jsxs)(P().Y1,{gap:8,style:f.summaryContainer,children:[x?(0,G.jsx)(k().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:(0,G.jsx)(T().sA,{id:"checkout.orderSummary.title",defaultMessage:"Prorated charge"})}):null,(0,G.jsxs)(P().Y1,{gap:12,children:[(0,G.jsx)(de().f5,{items:s,showMonthlyPricing:!1}),(0,G.jsx)(q().A,{size:1}),(0,G.jsx)(de().Qs,{subtotal:w,subtotalText:x?(0,G.jsx)(T().sA,{id:"checkout.orderSummary.subtotalProrated",defaultMessage:"Subtotal (prorated)"}):void 0,discount:y,showDiscountLine:!1,accountBalance:o,tax:I})]})]})})]})}function pe(e){let{recurringTotal:t,periodEnd:n,isLoading:i,isNextBillDifferent:r}=e;return i?(0,G.jsx)(ue().A,{style:{width:180,height:16,borderRadius:4}}):r?(0,G.jsxs)(P().Y1,{direction:"horizontal",gap:4,align:"center-left",children:[(0,G.jsx)(T().sA,{id:"checkout.orderSummary.estimatedBill",defaultMessage:"Estimated next bill: {price}",values:{price:(0,G.jsx)(le().v,{cost:t,trailingZeroDisplay:"stripIfInteger"})}}),(0,G.jsx)(ce().W,{tooltipTitle:(0,G.jsx)(T().sA,{id:"checkout.orderSummary.estimatedBillTooltip",defaultMessage:"This is an estimate of your next charge on {date}. If you add/remove members, this amount might change",values:{date:(0,Y().eV)({value:n,preset:"medium",locale:W().locale})}}),tooltipDescription:(0,G.jsx)(T().sA,{id:"checkout.orderSummary.estimatedBillTooltipDescription",defaultMessage:"Click to learn more about billing"}),buttonProps:{href:"https://www.notion.com/help/billing-and-payment-info",external:!0},tooltipWidth:240})]}):null}function fe(e){let{desiredProducts:t,desiredInterval:n,billingData:u,subscription:c,subscriptionData:l,spaceStore:d,modalId:m,prices:h}=e;const x=(0,r().v3)(),w=(0,p().IS)((()=>({headerImage:{width:49,height:52}})),[]),A=(0,p().DP)(),j=(0,o().Ry)(u)??"USD",E=g().r[j],_=(0,U().o2)(l,E),{desiredState:M,quantities:D,newItems:Z}=function(e){let{desiredProducts:t,desiredInterval:n,billingData:r,subscriptionData:a,prices:s}=e;const u=(0,o().Ry)(r)??"USD",c=(0,i.useMemo)((()=>(0,o().lQ)(r)),[r]),l=(0,F().b)(a),d=(0,i.useMemo)((()=>{var e;return{numSeats:l,numCustomHostnames:(null===(e=(0,o().KH)(r,"sites_custom_hostnames"))||void 0===e?void 0:e.quantity)??0}}),[r,l]),m=(0,i.useMemo)((()=>{const e=(0,v().oE)(t.map((e=>s.find((t=>t.product===e&&t.billingInterval===n)))));return 0===e.length?[]:(0,b().Nw)({prices:e,quantity:d.numSeats,domainsQuantity:d.numCustomHostnames})}),[n,t,s,d]),p=(0,i.useMemo)((()=>t.reduce(((e,t)=>(0,R().qq)(m,e,{interval:n,currency:u,product:t})),c)),[t,c,m,n,u]),f=(0,i.useMemo)((()=>(0,v().Lc)(p.items,c.items,"price.externalId")),[p.items,c]);return{desiredState:p,quantities:d,newItems:f}}({desiredProducts:t,desiredInterval:n,billingData:u,subscriptionData:l,prices:h}),X=(0,i.useMemo)((()=>function(e,t){return((null==t?void 0:t.items)??[]).reduce(((e,t)=>{const n=(0,o().q5)(t.price);return e.plus(n.getCostPerBillingInterval({quantity:t.quantity}))}),new(C().W)(e,0))}(E,M)),[E,M]),ee=(0,i.useMemo)((()=>M.items.map(N().Kz).filter(y().O9)),[M.items]),{tax:te,isLoading:ne}=J({environment:x,currencyValue:E,address:u.address,lineItems:ee,taxableAmount:X,billingData:u}),{subtotal:ie,lineItems:re,isLoading:ae}=function(e){const{spaceStore:t,quantities:n,desiredState:o,currencyValue:s}=e,u=(0,a().K8)((()=>t.id),[t]),c=(0,r().v3)(),[l,d]=(0,i.useState)(),[m,p]=(0,i.useState)(),[f,g]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{!async function(){var e;g(!0);const t=await Q().callApi({eventName:"getImmediateUpdateCost",environment:c,data:{spaceId:u,quantities:n,desiredState:{items:(null==o?void 0:o.items.map((e=>({id:e.id,quantity:e.quantity,priceData:{external_id:e.price.externalId,product:e.price.product,billing_interval:e.price.billingInterval,currency:e.price.unitAmount.currencyCode,unit_amount:e.price.unitAmount.amount,state:e.price.state}}))))||[],trialEnd:null===(e=o.trialEnd)||void 0===e?void 0:e.toString()}}});g(!1),"success"===t.type&&(d(C().W.fromValue(t.data.total)),p(t.data.lineItems))}()}),[c,null==o?void 0:o.items,n,u,null==o?void 0:o.trialEnd]),{subtotal:l??new(C().W)(s,0),lineItems:m,isLoading:f}}({spaceStore:d,quantities:D,desiredState:M,currencyValue:E}),oe=(0,i.useMemo)((()=>re&&(0,y().EI)(re)?re.map((e=>(0,N().gM)({line:e}))):[]),[re]),{tax:ue,isLoading:ce}=J({environment:x,currencyValue:E,address:u.address,lineItems:oe,taxableAmount:ie??new(C().W)(E,0),billingData:u}),le=S(h,u,M,D,{}),de=(0,o().TB)(u)&&"reset_and_invoice"===le.type,pe=function(e){let{change:t,interval:n,currentPeriodEnd:i,now:r}=e;return function(e){return"reset_and_invoice"===e.type}(t)&&n?r.plus({months:"month"===n?1:12}):i}({change:le,interval:(0,s().yw)(M),currentPeriodEnd:c.currentPeriodEnd,now:u.clock.now}),fe=(0,i.useMemo)((()=>(0,K().Sk)(u)?(0,v().Lc)(le.immediate.items,c.items,"price.externalId"):Z),[u,le.immediate.items,c.items,Z]),ge=t[0],ve=!(0,K().Sk)(u)&&n!==(0,o().q8)(u),ye=ve?function(e){let{interval:t,effectiveDate:n}=e;return{title:(0,G.jsx)(T().sA,{id:"midtermIntervalChange.title",defaultMessage:"Switch to {interval, select, month {monthly} other {annual}} billing",values:{interval:t}}),subtitle:n?(0,G.jsx)(T().sA,{id:"midtermIntervalChange.subtitle.nextPeriod",defaultMessage:"Effective {periodEnd}",values:{periodEnd:(0,Y().eV)({value:n,preset:"medium",locale:W().locale})}}):(0,G.jsx)(T().sA,{id:"spaceSubscriptionUpgradeModal.effectiveToday.header",defaultMessage:"Effective today"})}}({interval:n,effectiveDate:I(le)?void 0:pe}):(0,H().P8)({product:ge});return(0,G.jsxs)(P().Y1,{gap:28,padding:"28px 32px",children:[(0,G.jsx)($().K,{...ye,title:(0,G.jsx)(k().D,{styleName:"Title-Large-26px/Bold",colorName:"primary",children:ye.title}),image:ve?(0,G.jsx)(L().Ay,{src:"light"===A.mode?f().A.images.pricing.light.changeBillingPeriodPng:f().A.images.pricing.dark.changeBillingPeriodPng,style:w.headerImage}):"ai"===ge?(0,G.jsx)(B().cG,{variant:"medium",style:{}}):(0,G.jsx)(V().X,{product:ge})}),(0,G.jsx)(z().I,{billingData:u}),(0,G.jsxs)(P().Y1,{gap:20,children:[(0,G.jsx)(q().A,{size:1}),(0,G.jsx)(me,{immediate:{subtotal:ie,tax:ue,isLoading:ce||ae},recurring:{subtotal:X,tax:te,isLoading:ne},nextBillingDate:pe,accountBalance:_,items:fe,chargeType:I(le)?{chargeType:"immediate"}:{chargeType:"nextPeriod",periodEnd:pe},modalId:m}),(0,G.jsx)(se,{desiredState:M,subscription:c,spaceStore:d,showTrialEndDisclaimer:de,modalId:m,primaryButtonText:ve?void 0:(0,G.jsx)(T().sA,{id:"subscriptionUpgradeModal.upgradeButton.upgradeAi",defaultMessage:"Upgrade now"})})]}),(0,G.jsx)(O().Rz,{style:{top:16,right:16}})]})}var ge=()=>n(644837);function ve(e){let{spaceStore:t}=e;const n=(0,r().v3)(),i=(0,l().lh)({spaceId:t.id}),p=(0,l().o2)(),f=(0,a().O$)(d().subscriptionDataStoreInstance),g=(0,a().K8)((()=>ge().A.state),[]);if(!(i&&i.subscription&&g.open&&f&&0!==p.length))return null;const v=i.subscription,y=(0,o().lQ)(i),h=g.desiredProducts??(0,s().Fe)(y),x=g.desiredInterval??(0,s().yw)(y)??(0,s().yw)(v)??"month";return(0,G.jsx)(u().s,{ariaLabelledBy:c().Kvs,isOpen:!0,onDismiss:()=>(0,m().A)(n,g.modalId),animateSizeTransition:!1,areaConstraint:{width:{type:"min",length:480},height:{type:"unlimited",scroll:"allow"}},render:()=>(0,G.jsx)(fe,{desiredProducts:h,desiredInterval:x,billingData:i,subscription:v,subscriptionData:f,spaceStore:t,modalId:g.modalId,prices:p})})}},995604:(e,t,n)=>{n.d(t,{Z:()=>v});n(296540);var i=()=>n(449506),r=()=>n(689309),a=()=>n(49210),o=()=>n(989423),s=()=>n(351360),u=()=>n(385346),c=()=>n(959013),l=()=>n(7674),d=()=>n(719147),m=()=>n(836251),p=n(474848);function f(e){let{onAccept:t}=e;return(0,p.jsx)(l().tf,{header:(0,p.jsx)(l().YA,{iconAndTitle:(0,p.jsx)(l().ZQ,{iconGroup:u().q,iconColorName:"uiRedPrimary",title:(0,p.jsx)(c().sA,{id:"voidOfferModal.title",defaultMessage:"Are you sure?"})}),description:(0,p.jsx)(c().sA,{id:"voidOfferModal.subtitle",defaultMessage:"If you continue, your current discount will no longer be applied. See <terms>terms and conditions</terms> for more information.",values:{terms:e=>(0,p.jsx)(d().A,{external:!0,href:(0,m().xS)("resurrectionLearnMore"),children:e})}})}),footer:(0,p.jsx)(l().aO,{layout:"vertical",primaryButtons:[{buttonType:"destructive",label:(0,p.jsx)(c().sA,{id:"voidOfferModal.primaryAction",defaultMessage:"Yes and remove discount"}),onClick:t}],secondaryButtons:[{buttonType:"dismiss",label:(0,p.jsx)(c().sA,{id:"voidOfferModal.cancelButton",defaultMessage:"Cancel"})}]})})}const g=406;async function v(e){var t;const n=null===(t=s().default.state.currentSpaceStore)||void 0===t?void 0:t.id;return await a().T.showAsyncModal((t=>(0,p.jsx)(r().s,{isOpen:t.isOpen,onDismiss:()=>{(0,o().u4)({environment:e,event:{eventName:"void_offer_modal_dismiss",eventProperties:{}}}),t.onDismiss()},onClosed:t.onClosed,areaConstraint:{width:{type:"min",length:g},height:{type:"unlimited",scroll:"allow"}},render:()=>(0,p.jsx)(f,{onAccept:async()=>{(0,o().u4)({environment:e,event:{eventName:"void_offer_modal_accept",eventProperties:{}}}),n&&await i().callApi({eventName:"voidCustomerOffer",environment:e,data:{spaceId:n}}),t.resolve("accepted")}})})))}}}]);