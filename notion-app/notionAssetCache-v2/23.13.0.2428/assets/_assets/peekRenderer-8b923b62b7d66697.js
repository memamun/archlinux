"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[10862,43151,87196,93139],{77395:(e,t,a)=>{a.d(t,{A:()=>A});var o=a(296540),n=()=>a(484714),s=()=>a(56366),i=()=>a(401497),r=()=>a(959013),d=()=>a(496603),l=()=>a(534177),u=()=>a(661920),c=()=>a(778417),g=()=>a(890754),f=()=>a(590027),p=()=>a(747100),h=()=>a(906537),m=()=>a(770906),w=()=>a(900652),L=()=>a(941463),v=()=>a(441199),S=()=>a(869562),T=()=>a(644914),k=()=>a(749687),M=()=>a(737230),C=()=>a(962730),b=()=>a(712505),y=()=>a(35392),x=a(474848);const A=function(e){let{type:t}=e;const i=(0,r().tz)(),u=(0,n().v3)(),[g,p]=(0,a(819121).A)(),m=(0,o.useRef)(null),w=(0,a(93583).A)(g,m),v=(0,o.useRef)(!1),b=(0,o.useCallback)((()=>function(e){E({isResizing:!1},e)}(t)),[t]),y=(0,o.useCallback)((()=>function(e,t,a,o){a.current||R(t,e);E({isResizing:!1},t)}(u,t,v)),[u,t]),A=(0,o.useCallback)((e=>function(e,t,a,o){switch(h().clear(t),o.current=!0,a){case"page":S().setWidth({width:I(e.currentX,a,t),environment:t});break;case"update":S().setUpdateWidth({width:I(e.currentX,a,t),environment:t});break;case"peek":S().setPeekWidth({width:I(e.currentX,a,t),environment:t});break;case"secondary_sidebar":L().Ay.setWidth(I(e.currentX,a,t));break;case"chat":f().MU.update((o=>({...o,width:I(e.currentX,a,t)})));break;default:(0,l().HB)(a)}}(e,u,t,v)),[u,t]),z=(0,o.useCallback)((()=>function(e,t,a){c().IU({environment:e}),a.current=!1,E({...k().sidebarResizingStore.state,isResizing:!0},t)}(u,t,v)),[u,t]),{device:D}=u,O=(0,s().K8)((()=>function(e){const t=P(e);switch(e){case"page":case"secondary_sidebar":return t;case"peek":case"update":case"chat":return window.innerWidth-t;default:(0,l().HB)(e)}}(t)),[t]),N=(0,s().O$)(k().sidebarMouseEnterYStore),V=(0,s().O$)(a(230062).A),H=(0,s().K8)((()=>function(e){return{cursor:"col-resize",height:"100%",width:12,marginLeft:"update"===e?-M().Ay.state.width:-6}}(t)),[t]),W=(0,s().K8)((()=>function(e,t){const a=(0,T().KB)(t),o="peek"===e||"chat"===e;return{position:"absolute",left:o?0:void 0,right:o?void 0:0,width:0,flexGrow:0,zIndex:"peek"===e?109:1,top:a?0:-1,bottom:a?0:-1,pointerEvents:"auto"}}(t,u)),[t,u]),F=(0,s().K8)((()=>function(e){const t=P(e),a=_(e),o=j(e);if(o===a)return 0;return(t-o)/(a-o)}(t)),[t]),U=(0,o.useRef)(!1);function G(e){k().sidebarMouseEnterYStore.setState(e.clientY)}const X=(0,o.useCallback)((()=>{E({isResizerHovered:U.current||p},t)}),[p,t]);function Y(){U.current=!0,X()}function q(){U.current=!1,X()}(0,o.useEffect)((()=>{X()}),[p,X]);const $=(0,o.useCallback)((()=>{B(-10,t,u)}),[t,u]),J=(0,o.useCallback)((()=>{B(10,t,u)}),[t,u]),Z=(0,o.useCallback)((()=>{R(t,u)}),[t,u]);return V||D.isChromebook?null:(0,x.jsx)(a(545805).A,{capture:p,debugName:"SidebarResizer",onLeft:$,onRight:J,onUp:d().D_,onDown:d().D_,onTab:d().D_,onUntab:d().D_,onEnter:Z,children:(0,x.jsx)(a(859428).A,{renderTooltip:()=>(0,x.jsx)(K,{type:t}),originRect:new DOMRect(O,N,0,0),delayThreshold:0,placement:"page"===t||"secondary_sidebar"===t?C().W.Right:C().W.Left,originGap:10,render:e=>(0,x.jsx)("div",{style:W,...(0,a(553965).A)(e,{onMouseMove:Y,onMouseLeave:q,onMouseEnter:G}),children:(0,x.jsx)(a(603820).A,{onDraggableDragStart:z,onDraggableDragMove:A,onDraggableDragEnd:y,onDraggableDragCancel:b,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,x.jsx)("div",{ref:w,role:"separator",tabIndex:0,"aria-label":i.formatMessage({id:"sidebarResizer.tooltip.resizeLabel",defaultMessage:"Resize with left and right arrow keys"}),"aria-orientation":"vertical","aria-valuenow":Math.round(100*F),"aria-valuemin":0,"aria-valuemax":100,style:H,...e})})})})})};function j(e){switch(e){case"page":return k().SIDEBAR_MIN_WIDTH;case"update":return M().Iz;case"peek":return b().SIDEPEEK_MIN_WIDTH;case"secondary_sidebar":return L().WR;case"chat":return f().vr;default:(0,l().HB)(e)}}function _(e){const t=window.innerWidth;switch(e){case"page":return 480;case"update":return Math.min(t/2,T().aL);case"peek":return(0,p().QX)();case"secondary_sidebar":return L().y8;case"chat":return f().Z5;default:(0,l().HB)(e)}}function P(e){switch(e){case"page":return k().sidebarWidthStore.state;case"secondary_sidebar":const t=k().sidebarExpandedStore.state,a=w().n5();return t?k().sidebarWidthStore.state+a:a;case"update":return M().Ay.state.width;case"peek":return b().default.state.preferredSidePeekWidth;case"chat":return f().MU.state.width;default:(0,l().HB)(e)}}function E(e,t){switch(t){case"page":k().sidebarResizingStore.update((t=>({...t,...e})));break;case"update":M().Ay.update((t=>({...t,...e})));break;case"secondary_sidebar":v().default.update((t=>({...t,...e})));break;case"peek":break;case"chat":f().MU.update((t=>({...t,...e})));break;default:(0,l().HB)(t)}}function I(e,t,a){let o;switch(t){case"page":o=e;break;case"secondary_sidebar":o=e-(k().sidebarExpandedStore.state?k().sidebarWidthStore.state:0);break;case"peek":case"update":case"chat":o=window.innerWidth-e;break;default:(0,l().HB)(t)}const n=_(t),s=j(t);return o>n?n:o<s?s:o}function K(e){let{type:t}=e;const a=(0,i().DP)(),o=(0,n().v3)(),d=(0,s().K8)((()=>function(e,t){switch(e){case"page":return(0,T().KB)(t);case"update":return(0,T().Nk)(t);case"peek":return b().default.state.open;case"secondary_sidebar":return v().default.isOpen();case"chat":return(0,g().getIsChatSidebarOpen)(t);default:(0,l().HB)(e)}}(t,o)),[t,o]),u=a.text.contrastSecondary,c=(0,x.jsx)(y().A,{name:"toggleSidebar"}),f=e=>(0,x.jsx)("span",{style:{color:u},children:e});let p;if(d)switch(t){case"secondary_sidebar":case"update":p=(0,x.jsx)(r().sA,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage.noShortcut",values:{invertedcolor:f,keyboardShortcut:c}});break;case"chat":p=void 0;break;default:p=(0,x.jsx)(r().sA,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage",values:{invertedcolor:f,keyboardShortcut:c}})}else if("chat"===t)p=void 0;else p=(0,x.jsx)(r().sA,{defaultMessage:"Lock open <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.lockMessage",values:{invertedcolor:f,keyboardShortcut:c}});return(0,x.jsxs)(x.Fragment,{children:[p?(0,x.jsxs)(x.Fragment,{children:[p,(0,x.jsx)("br",{})]}):null,(0,x.jsx)(r().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"sidebarResizer.tooltip.resizeMessage",values:{invertedcolor:f,keyboardShortcut:c}})]})}function R(e,t){switch(e){case"page":S().setExpand({environment:t,isExpanded:!k().sidebarExpandedStore.state,from:"sidebar_resizer",saveDetailsSidebarPreference:!0}),k().sidebarOpenStore.setState(!1);break;case"update":S().setUpdateExpand({environment:t,isExpanded:!(0,T().Nk)(t),from:"drag",saveDetailsSidebarPreference:!0});break;case"peek":u().VN({environment:t,from:"resizer_click"});break;case"secondary_sidebar":m().VI({environment:t});break;case"chat":break;default:(0,l().HB)(e)}}function B(e,t,a){const o=P(t);switch(t){case"page":S().setWidth({width:I(o+e,t),environment:a});break;case"update":S().setUpdateWidth({width:I(window.innerWidth-o+e,t),environment:a});break;case"peek":S().setPeekWidth({width:I(window.innerWidth-o+e,t),environment:a});break;case"secondary_sidebar":L().Ay.setWidth(I(o+e,t));break;case"chat":f().MU.update((a=>({...a,width:I(window.innerWidth-o+e,t)})));break;default:(0,l().HB)(t)}}},118078:(e,t,a)=>{a.r(t),a.d(t,{closeChatSidebar:()=>u,openChatSidebar:()=>l});var o=()=>a(435009),n=()=>a(492414),s=()=>a(869562),i=()=>a(644914),r=()=>a(890754),d=()=>a(590027);function l(e){const{environment:t,chatThreadId:a,workflowStepId:l}=e,u=(0,i().KB)(t),c=(0,r().getIsChatSidebarOpen)(t);u&&!c&&((0,s().setExpand)({environment:t,isExpanded:!1,from:"show_chat_sidebar",saveDetailsSidebarPreference:!1}),d().MU.setState({...d().MU.state,reopenMainSidebarOnClose:!0}));const g=(0,n().Ef)({environment:t,updates:{chatThreadId:a??r().NEW_CHAT_THREAD_ID,workflowStepId:l}});o().oo({environment:t,url:g})}function u(e){const{environment:t}=e;d().MU.state.reopenMainSidebarOnClose&&((0,s().setExpand)({environment:t,isExpanded:!0,from:"close_chat_sidebar",saveDetailsSidebarPreference:!1}),d().MU.setState({...d().MU.state,reopenMainSidebarOnClose:void 0}));const a=(0,n().Ef)({environment:t,updates:{chatThreadId:void 0,workflowStepId:void 0}});o().oo({environment:t,url:a,redirect:!0})}},146594:(e,t,a)=>{a.d(t,{H:()=>s});var o=()=>a(645873);const n=new(o().O2)("UpdateSidebarTabInfo",(async()=>await Promise.all([a.e(23806),a.e(9304),a.e(81141),a.e(72915),a.e(69689),a.e(43647),a.e(21377)]).then(a.bind(a,722143)))),s=(0,o()._h)(n,(e=>e.UpdateSidebarTabInfo))},152713:(e,t,a)=>{a.d(t,{f:()=>n});var o=()=>a(56366);function n(e){return{modules:(0,o().K8)((()=>{if(!e)return;const t=e.getAssociatedCollectionStore(),a=null==t?void 0:t.getLayoutStore();return null==a?void 0:a.getModules().page_details}),[e])}}},185078:(e,t,a)=>{a.d(t,{FM:()=>l,cE:()=>r,hr:()=>d,kl:()=>g,oQ:()=>c,vQ:()=>u});var o=()=>a(534177),n=()=>a(700500),s=()=>a(644161);const i=["ar","bg","cs","da","de","el","es","et","fi","fr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","ro","ru","sk","sl","sv","tr","uk","zh","en","pt"];function r(e){return(0,o().Xk)(i,e)}const d=["en-US","ko","ja","fr","de","es","pt-BR","pt-PT","fi","da","nl","nb","sv","zh-HANS","zh-HANT","ru","it","id"];function l(e){return function(e){return(0,o().Xk)(d,e)}((0,s().JE)(e))}function u(){return d.map((e=>({key:e,name:(0,s().Bj)(e)})))}function c(e){return(0,n().Db)(e,void 0)?"title":(0,n().z9)(e)?"caption":"table_row"===e||"collection_view"===e||"collection_view_page"===e?"properties":(0,n().Mp)(e)||"column"===e||"column_list"===e||"table"===e?"unmapped":void(0,o().HB)(e)}let g=function(e){return e.NAME="name",e.VIEW_NAME="view_name",e.DESCRIPTION="description",e.SCHEMA_PROPERTY_NAME="schema_property_name",e.SCHEMA_PROPERTY_OPTION="schema_property_option",e}({})},195795:(e,t,a)=>{a.d(t,{A:()=>C});a(898992),a(672577),a(737550);var o=a(296540),n=()=>a(484714),s=()=>a(921385),i=()=>a(741496),r=()=>a(884107),d=()=>a(659602),l=()=>a(335722),u=()=>a(862292),c=()=>a(267430),g=()=>a(494043),f=()=>a(645873),p=()=>a(56366),h=()=>a(961581);var m=()=>a(695625),w=()=>a(407054),L=()=>a(508496),v=()=>a(732770),S=()=>a(871399),T=()=>a(502438),k=()=>a(527606),M=a(474848);function C(e){const t=(0,n().v3)(),{value:i}=(0,f().fJ)(d().g),{value:c}=(0,f().fJ)(l().S),{value:g}=(0,f().fJ)(u().T.formulas),{value:m}=(0,f().fJ)(r().R.clipboardActions),[w,L]=(0,o.useState)([]),S=(0,p().K8)((()=>h().A.state.initialRenderCompleted),[]);(0,o.useEffect)((()=>{(async()=>{if(S){const{lowPriActionsWithKeyboardShortcuts:e}=await a.e(15498).then(a.bind(a,28965));L(e)}})()}),[S]);const T=(0,o.useRef)(),C=(0,o.useRef)();(0,o.useEffect)((()=>{function e(e){e.clientX===T.current&&e.clientY===C.current||(T.current=e.clientX,C.current=e.clientY,v().A.setKeyboardMode(!1))}return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}),[]);const b=(0,o.useMemo)((()=>[...s().D0,...w]),[w]),x=(0,o.useMemo)((()=>function(e,t,a,o,n,s){const i={};for(const r of s)for(const d of r.shortcuts)i[d]=i=>y(d,i,e,t,a,o,n,s);return i}(m,g,i,c,t,b)),[t,g,i,c,m,b]);return(0,M.jsx)(k().k,{debugName:e.debugName,priority:e.priority,enable:e.capture,shortcuts:x})}function b(){return!function(){const e=document.querySelector("#intercom-container");return!(!e||!e.contains(document.activeElement))}()&&!(w().A.state.isActive&&!L().default.checkGate({gateName:"block_menu_shortcut_fix"}))}function y(e,t,a,o,n,s,r,d){if(!b())return;const l=T().default.state.stores,u=T().default.state.pivot||l[0],f=u&&m().T.getRectFromStore(u),p=d.find((t=>!!t.shortcuts.some((t=>t===e))&&c().F6(t,{environment:r,blocks:l,originRect:f,publicEditMode:void 0})));if(p){"keydown"===t.type&&t.preventDefault&&t.preventDefault();const e=w().A.state.isActive;p.action({environment:r,blocks:l,originRect:f,publicEditMode:void 0,analyticsFrom:"keyboard_shortcut",lazyDependencies:{clipboardActions:a,formulasModule:o,markdownLinkifyIt:n,tinyMceMicrosoftWordPasteFilter:s}},t);const d=l[0];let u,c,m,T;var h;if(d)u=d.getType(),c=u?(0,g().Yt)(u,d.getFormat()):void 0,m=null===(h=d.getCollectionStore())||void 0===h?void 0:h.id,T=d.getParentCollectionIdUpToTwoLevels();(0,i().N)(r,{analyticsName:p.analyticsName,action_type:p.analyticsActionType,from:"keyboard_shortcut",block_id:null==d?void 0:d.id,block_type:u,is_toggleable:c,collection_id:m,parent_collection_id:T}),k={resetBlockMenuStore:e},v().A.setKeyboardMode(!0),S().default.reset(),L().default.checkGate({gateName:"block_menu_shortcut_fix"})&&k.resetBlockMenuStore&&w().A.reset()}var k}},212727:(e,t,a)=>{a.r(t),a.d(t,{gearIcon:()=>s,iconDefinition:()=>n});a(296540);var o=a(474848);const n={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M7.29 10c0 1.5 1.22 2.71 2.71 2.71 1.5 0 2.71-1.21 2.71-2.71S11.5 7.29 10 7.29 7.29 8.5 7.29 10m1.25 0c0-.81.66-1.46 1.46-1.46.81 0 1.46.65 1.46 1.46s-.65 1.46-1.46 1.46-1.46-.65-1.46-1.46"}),(0,o.jsx)("path",{d:"M8.49 17.64q.75.15 1.53.15v-.01c.47 0 .94-.04 1.41-.13.26-.05.46-.25.5-.51l.26-1.53.15-.06 1.28.91c.21.14.49.14.71 0 .41-.28.8-.61 1.18-.98.33-.33.63-.7.9-1.09.15-.21.15-.5 0-.71l-.9-1.27.06-.15 1.55-.27c.26-.05.46-.25.51-.5a7.8 7.8 0 0 0 .02-2.94.62.62 0 0 0-.51-.5l-1.53-.26-.06-.15.91-1.28c.14-.21.14-.49 0-.71a7.9 7.9 0 0 0-2.07-2.08.62.62 0 0 0-.71 0l-1.27.9-.15-.06-.27-1.55a.64.64 0 0 0-.5-.51c-.5-.1-1-.15-1.53-.15-.47 0-.95.04-1.41.13-.26.05-.46.25-.5.51l-.26 1.53-.15.06-1.28-.91a.65.65 0 0 0-.71 0 7.9 7.9 0 0 0-2.08 2.07c-.15.21-.15.5 0 .71l.9 1.27-.06.15-1.55.27c-.26.05-.46.25-.51.5-.1.5-.15 1-.15 1.53 0 .47.04.95.13 1.41.05.26.25.46.51.5l1.53.26.06.15-.91 1.28c-.14.21-.15.49 0 .71.29.42.61.81.98 1.18.34.34.7.65 1.09.91.21.15.5.15.71 0l1.27-.9.15.06.27 1.55c.05.26.25.46.5.51m2.29-1.15c-.53.07-1.09.07-1.63 0l-.25-1.47a.62.62 0 0 0-.42-.49 6 6 0 0 1-.68-.28.63.63 0 0 0-.65.04l-1.2.85a6.8 6.8 0 0 1-1.14-1.16l.86-1.21c.13-.19.15-.43.05-.64-.11-.22-.21-.45-.28-.68a.62.62 0 0 0-.49-.43l-1.45-.25a6.7 6.7 0 0 1 0-1.63l1.47-.25c.23-.04.42-.2.49-.42.07-.23.17-.46.28-.68.11-.21.09-.46-.04-.65l-.85-1.2A6.8 6.8 0 0 1 6.01 4.8l1.21.86c.19.13.43.15.64.05.22-.11.45-.21.68-.28s.39-.26.43-.49l.25-1.45c.53-.07 1.09-.07 1.63 0l.25 1.47c.04.23.2.42.42.49.23.07.46.17.68.28.21.11.46.09.65-.04l1.2-.85A6.8 6.8 0 0 1 15.19 6l-.86 1.21c-.13.19-.15.43-.05.64.11.22.21.45.28.68s.26.39.49.43l1.45.25a6.7 6.7 0 0 1 0 1.63l-1.47.25c-.23.04-.42.2-.49.42-.07.23-.17.46-.28.68-.11.21-.09.46.04.65l.85 1.2a6.8 6.8 0 0 1-1.16 1.14l-1.21-.86a.64.64 0 0 0-.64-.05c-.22.11-.45.21-.68.28s-.39.26-.43.49z"})]})},s=(0,a(340498).wt)("gear",n)},321775:(e,t,a)=>{a.d(t,{m:()=>s});var o=()=>a(476492),n=()=>a(645302);function s(e){const t=(0,o().sl)(e.collectionContextStore);t&&t.view_type&&n().jE(e.environment,{from:e.from,from_peek_mode:e.from_peek_mode,...t,view_type:t.view_type})}},378941:(e,t,a)=>{a.d(t,{BS:()=>m,Hf:()=>h,J7:()=>g,NZ:()=>p,XC:()=>w,hs:()=>f});a(16280),a(944114),a(898992),a(354520),a(672577),a(581454);var o=()=>a(857639),n=()=>a(792071),s=()=>a(277816),i=()=>a(534177),r=()=>a(449506),d=()=>a(246826),l=()=>a(317909),u=()=>a(351360),c=()=>a(630116);function g(e){let{trustedDomainIds:t,spaceStore:a}=e;return t.map((e=>{const t=c().LX.createChildStore(a,{table:s().A,id:e,spaceId:a.id});if(t.canRead())return t})).filter(i().O9)}async function f(e){let{environment:t,spaceId:a,currentUserId:n,organizationId:s}=e;const i=await r().callApi({eventName:"getTrustedDomainsNumberOfMembers",environment:t,data:{spaceId:a,organizationId:s},userId:n});return"failed"===i.type?(o().rateLimitedLog({from:"trustedDomainHelpers",level:"error",type:"getTrustedDomainsNumberOfMembersForSpaceFailed"}),[]):i.data.results}function p(e){let{environment:t,trustedEmailDomain:a,trustedDomainStores:o,spaceStore:n,spaceBasicSettingsStore:i}=e,r=o.find((e=>e.getEmailDomain()===a));const u=i.state.emailDomains;return r?(l().createAndCommit({userAction:"trustedDomainActions.setTrustedDomainDLSEnabled",environment:t,canUndo:!0,perform:e=>{d().zv({store:n,data:{email_domains:u},transaction:e}),d().zv({store:r,data:{domain_link_sharing_enabled:!0,join_space_method:"request_to_join"},transaction:e})}}),r):(l().createAndCommit({userAction:"trustedDomainActions.createTrustedDomain",environment:t,canUndo:!0,perform:e=>{d().zv({store:n,data:{email_domains:u},transaction:e});const o={space_id:n.id,join_space_method:"request_to_join",domain_link_sharing_enabled:!0,email_domain:a};r=d().eC({environment:t,table:s().A,value:o,inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,transaction:e})}}),r&&o.push(r),r)}function h(e){let{store:t,environment:a}=e;const{currentSpaceStore:o}=u().default.getState();if(!o)throw new Error("currentSpaceStore does not exist");if(o.id!==t.getSpaceId())throw new Error("Mismatched spaceId");return!!t.isReady()&&(l().createAndCommit({userAction:"trustedDomainActions.deleteTrustedDomain",environment:a,canUndo:!0,perform:e=>{d().zv({store:t,data:{domain_link_sharing_enabled:!1},transaction:e})}}),!0)}function m(e){let{store:t,environment:a,joinSpaceMethod:o}=e;const{currentSpaceStore:n}=u().default.getState();if(!n)throw new Error("currentSpaceStore does not exist");if(n.id!==t.getSpaceId())throw new Error("Mismatched spaceId");return!!t.isReady()&&(t.getJoinSpaceMethod()!==o&&(l().createAndCommit({userAction:"trustedDomainActions.setTrustedDomainJoinSpaceMethod",environment:a,canUndo:!0,perform:e=>{d().zv({store:t,data:{join_space_method:o},transaction:e})}}),!0))}async function w(e){let{environment:t,spaceId:a}=e;const o=await r().callApi({eventName:"getTrustedDomainsForSpace",environment:t,data:{spaceId:a}});if("success"!==o.type)return[];return o.data.results.filter((e=>e.domain_link_sharing_enabled)).map((e=>n().Bj6.fromValue(s().A,e)))}},535845:(e,t,a)=>{a.d(t,{B:()=>n});a(296540);var o=a(474848);const n=(0,a(340498).wt)("chevronUpRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M1.258 6.5L7.203.422a.946.946 0 01.719-.32.99.99 0 01.726.32L14.586 6.5a.89.89 0 01.266.648c0 .524-.407.93-.922.93a.921.921 0 01-.672-.281L7.93 2.32 2.586 7.797a.926.926 0 01-.672.281.915.915 0 01-.922-.93c0-.25.094-.476.266-.648z"})})},644161:(e,t,a)=>{a.d(t,{Bj:()=>u,JE:()=>d});var o=()=>a(959013),n=()=>a(534177);const s=(0,o().YK)({aa:{id:"translation.iso639TwoLetterLanguageCodes.aa",defaultMessage:"Afar"},ab:{id:"translation.iso639TwoLetterLanguageCodes.ab",defaultMessage:"Abkhazian"},af:{id:"translation.iso639TwoLetterLanguageCodes.af",defaultMessage:"Afrikaans"},ak:{id:"translation.iso639TwoLetterLanguageCodes.ak",defaultMessage:"Akan"},sq:{id:"translation.iso639TwoLetterLanguageCodes.sq",defaultMessage:"Albanian"},am:{id:"translation.iso639TwoLetterLanguageCodes.am",defaultMessage:"Amharic"},ar:{id:"translation.iso639TwoLetterLanguageCodes.ar",defaultMessage:"Arabic"},an:{id:"translation.iso639TwoLetterLanguageCodes.an",defaultMessage:"Aragonese"},hy:{id:"translation.iso639TwoLetterLanguageCodes.hy",defaultMessage:"Armenian"},as:{id:"translation.iso639TwoLetterLanguageCodes.as",defaultMessage:"Assamese"},av:{id:"translation.iso639TwoLetterLanguageCodes.av",defaultMessage:"Avaric"},ae:{id:"translation.iso639TwoLetterLanguageCodes.ae",defaultMessage:"Avestan"},ay:{id:"translation.iso639TwoLetterLanguageCodes.ay",defaultMessage:"Aymara"},az:{id:"translation.iso639TwoLetterLanguageCodes.az",defaultMessage:"Azerbaijani"},ba:{id:"translation.iso639TwoLetterLanguageCodes.ba",defaultMessage:"Bashkir"},bm:{id:"translation.iso639TwoLetterLanguageCodes.bm",defaultMessage:"Bambara"},eu:{id:"translation.iso639TwoLetterLanguageCodes.eu",defaultMessage:"Basque"},be:{id:"translation.iso639TwoLetterLanguageCodes.be",defaultMessage:"Belarusian"},bn:{id:"translation.iso639TwoLetterLanguageCodes.bn",defaultMessage:"Bengali"},bh:{id:"translation.iso639TwoLetterLanguageCodes.bh",defaultMessage:"Bihari languages"},bi:{id:"translation.iso639TwoLetterLanguageCodes.bi",defaultMessage:"Bislama"},bs:{id:"translation.iso639TwoLetterLanguageCodes.bs",defaultMessage:"Bosnian"},br:{id:"translation.iso639TwoLetterLanguageCodes.br",defaultMessage:"Breton"},bg:{id:"translation.iso639TwoLetterLanguageCodes.bg",defaultMessage:"Bulgarian"},my:{id:"translation.iso639TwoLetterLanguageCodes.my",defaultMessage:"Burmese"},ca:{id:"translation.iso639TwoLetterLanguageCodes.ca",defaultMessage:"Catalan; Valencian"},ch:{id:"translation.iso639TwoLetterLanguageCodes.ch",defaultMessage:"Chamorro"},ce:{id:"translation.iso639TwoLetterLanguageCodes.ce",defaultMessage:"Chechen"},zh:{id:"translation.iso639TwoLetterLanguageCodes.zh",defaultMessage:"Chinese"},cu:{id:"translation.iso639TwoLetterLanguageCodes.cu",defaultMessage:"Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic"},cv:{id:"translation.iso639TwoLetterLanguageCodes.cv",defaultMessage:"Chuvash"},kw:{id:"translation.iso639TwoLetterLanguageCodes.kw",defaultMessage:"Cornish"},co:{id:"translation.iso639TwoLetterLanguageCodes.co",defaultMessage:"Corsican"},cr:{id:"translation.iso639TwoLetterLanguageCodes.cr",defaultMessage:"Cree"},cs:{id:"translation.iso639TwoLetterLanguageCodes.cs",defaultMessage:"Czech"},da:{id:"translation.iso639TwoLetterLanguageCodes.da",defaultMessage:"Danish"},dv:{id:"translation.iso639TwoLetterLanguageCodes.dv",defaultMessage:"Divehi; Dhivehi; Maldivian"},nl:{id:"translation.iso639TwoLetterLanguageCodes.nl",defaultMessage:"Dutch"},dz:{id:"translation.iso639TwoLetterLanguageCodes.dz",defaultMessage:"Dzongkha"},en:{id:"translation.iso639TwoLetterLanguageCodes.en",defaultMessage:"English"},eo:{id:"translation.iso639TwoLetterLanguageCodes.eo",defaultMessage:"Esperanto"},et:{id:"translation.iso639TwoLetterLanguageCodes.et",defaultMessage:"Estonian"},ee:{id:"translation.iso639TwoLetterLanguageCodes.ee",defaultMessage:"Ewe"},fo:{id:"translation.iso639TwoLetterLanguageCodes.fo",defaultMessage:"Faroese"},fj:{id:"translation.iso639TwoLetterLanguageCodes.fj",defaultMessage:"Fijian"},fi:{id:"translation.iso639TwoLetterLanguageCodes.fi",defaultMessage:"Finnish"},fr:{id:"translation.iso639TwoLetterLanguageCodes.fr",defaultMessage:"French"},fy:{id:"translation.iso639TwoLetterLanguageCodes.fy",defaultMessage:"Western Frisian"},ff:{id:"translation.iso639TwoLetterLanguageCodes.ff",defaultMessage:"Fulah"},ka:{id:"translation.iso639TwoLetterLanguageCodes.ka",defaultMessage:"Georgian"},de:{id:"translation.iso639TwoLetterLanguageCodes.de",defaultMessage:"German"},gd:{id:"translation.iso639TwoLetterLanguageCodes.gd",defaultMessage:"Gaelic; Scottish Gaelic"},ga:{id:"translation.iso639TwoLetterLanguageCodes.ga",defaultMessage:"Irish"},gl:{id:"translation.iso639TwoLetterLanguageCodes.gl",defaultMessage:"Galician"},gv:{id:"translation.iso639TwoLetterLanguageCodes.gv",defaultMessage:"Manx"},el:{id:"translation.iso639TwoLetterLanguageCodes.el",defaultMessage:"Greek"},gn:{id:"translation.iso639TwoLetterLanguageCodes.gn",defaultMessage:"Guarani"},gu:{id:"translation.iso639TwoLetterLanguageCodes.gu",defaultMessage:"Gujarati"},ht:{id:"translation.iso639TwoLetterLanguageCodes.ht",defaultMessage:"Haitian; Haitian Creole"},ha:{id:"translation.iso639TwoLetterLanguageCodes.ha",defaultMessage:"Hausa"},he:{id:"translation.iso639TwoLetterLanguageCodes.he",defaultMessage:"Hebrew"},hz:{id:"translation.iso639TwoLetterLanguageCodes.hz",defaultMessage:"Herero"},hi:{id:"translation.iso639TwoLetterLanguageCodes.hi",defaultMessage:"Hindi"},ho:{id:"translation.iso639TwoLetterLanguageCodes.ho",defaultMessage:"Hiri Motu"},hr:{id:"translation.iso639TwoLetterLanguageCodes.hr",defaultMessage:"Croatian"},hu:{id:"translation.iso639TwoLetterLanguageCodes.hu",defaultMessage:"Hungarian"},ig:{id:"translation.iso639TwoLetterLanguageCodes.ig",defaultMessage:"Igbo"},is:{id:"translation.iso639TwoLetterLanguageCodes.is",defaultMessage:"Icelandic"},io:{id:"translation.iso639TwoLetterLanguageCodes.io",defaultMessage:"Ido"},ii:{id:"translation.iso639TwoLetterLanguageCodes.ii",defaultMessage:"Sichuan Yi; Nuosu"},iu:{id:"translation.iso639TwoLetterLanguageCodes.iu",defaultMessage:"Inuktitut"},ie:{id:"translation.iso639TwoLetterLanguageCodes.ie",defaultMessage:"Interlingue; Occidental"},ia:{id:"translation.iso639TwoLetterLanguageCodes.ia",defaultMessage:"Interlingua (International Auxiliary Language Association)"},id:{id:"translation.iso639TwoLetterLanguageCodes.id",defaultMessage:"Indonesian"},ik:{id:"translation.iso639TwoLetterLanguageCodes.ik",defaultMessage:"Inupiaq"},it:{id:"translation.iso639TwoLetterLanguageCodes.it",defaultMessage:"Italian"},jv:{id:"translation.iso639TwoLetterLanguageCodes.jv",defaultMessage:"Javanese"},ja:{id:"translation.iso639TwoLetterLanguageCodes.ja",defaultMessage:"Japanese"},kl:{id:"translation.iso639TwoLetterLanguageCodes.kl",defaultMessage:"Kalaallisut; Greenlandic"},kn:{id:"translation.iso639TwoLetterLanguageCodes.kn",defaultMessage:"Kannada"},ks:{id:"translation.iso639TwoLetterLanguageCodes.ks",defaultMessage:"Kashmiri"},kr:{id:"translation.iso639TwoLetterLanguageCodes.kr",defaultMessage:"Kanuri"},kk:{id:"translation.iso639TwoLetterLanguageCodes.kk",defaultMessage:"Kazakh"},km:{id:"translation.iso639TwoLetterLanguageCodes.km",defaultMessage:"Central Khmer"},ki:{id:"translation.iso639TwoLetterLanguageCodes.ki",defaultMessage:"Kikuyu; Gikuyu"},rw:{id:"translation.iso639TwoLetterLanguageCodes.rw",defaultMessage:"Kinyarwanda"},ky:{id:"translation.iso639TwoLetterLanguageCodes.ky",defaultMessage:"Kirghiz; Kyrgyz"},kv:{id:"translation.iso639TwoLetterLanguageCodes.kv",defaultMessage:"Komi"},kg:{id:"translation.iso639TwoLetterLanguageCodes.kg",defaultMessage:"Kongo"},ko:{id:"translation.iso639TwoLetterLanguageCodes.ko",defaultMessage:"Korean"},kj:{id:"translation.iso639TwoLetterLanguageCodes.kj",defaultMessage:"Kuanyama; Kwanyama"},ku:{id:"translation.iso639TwoLetterLanguageCodes.ku",defaultMessage:"Kurdish"},lo:{id:"translation.iso639TwoLetterLanguageCodes.lo",defaultMessage:"Lao"},la:{id:"translation.iso639TwoLetterLanguageCodes.la",defaultMessage:"Latin"},lv:{id:"translation.iso639TwoLetterLanguageCodes.lv",defaultMessage:"Latvian"},li:{id:"translation.iso639TwoLetterLanguageCodes.li",defaultMessage:"Limburgan; Limburger; Limburgish"},ln:{id:"translation.iso639TwoLetterLanguageCodes.ln",defaultMessage:"Lingala"},lt:{id:"translation.iso639TwoLetterLanguageCodes.lt",defaultMessage:"Lithuanian"},lb:{id:"translation.iso639TwoLetterLanguageCodes.lb",defaultMessage:"Luxembourgish; Letzeburgesch"},lu:{id:"translation.iso639TwoLetterLanguageCodes.lu",defaultMessage:"Luba-Katanga"},lg:{id:"translation.iso639TwoLetterLanguageCodes.lg",defaultMessage:"Ganda"},mk:{id:"translation.iso639TwoLetterLanguageCodes.mk",defaultMessage:"Macedonian"},mh:{id:"translation.iso639TwoLetterLanguageCodes.mh",defaultMessage:"Marshallese"},ml:{id:"translation.iso639TwoLetterLanguageCodes.ml",defaultMessage:"Malayalam"},mi:{id:"translation.iso639TwoLetterLanguageCodes.mi",defaultMessage:"Maori"},mr:{id:"translation.iso639TwoLetterLanguageCodes.mr",defaultMessage:"Marathi"},ms:{id:"translation.iso639TwoLetterLanguageCodes.ms",defaultMessage:"Malay"},mg:{id:"translation.iso639TwoLetterLanguageCodes.mg",defaultMessage:"Malagasy"},mt:{id:"translation.iso639TwoLetterLanguageCodes.mt",defaultMessage:"Maltese"},mn:{id:"translation.iso639TwoLetterLanguageCodes.mn",defaultMessage:"Mongolian"},na:{id:"translation.iso639TwoLetterLanguageCodes.na",defaultMessage:"Nauru"},nv:{id:"translation.iso639TwoLetterLanguageCodes.nv",defaultMessage:"Navajo; Navaho"},nr:{id:"translation.iso639TwoLetterLanguageCodes.nr",defaultMessage:"Ndebele, South; South Ndebele"},nd:{id:"translation.iso639TwoLetterLanguageCodes.nd",defaultMessage:"Ndebele, North; North Ndebele"},ng:{id:"translation.iso639TwoLetterLanguageCodes.ng",defaultMessage:"Ndonga"},ne:{id:"translation.iso639TwoLetterLanguageCodes.ne",defaultMessage:"Nepali"},nn:{id:"translation.iso639TwoLetterLanguageCodes.nn",defaultMessage:"Norwegian Nynorsk; Nynorsk, Norwegian"},nb:{id:"translation.iso639TwoLetterLanguageCodes.nb",defaultMessage:"Norwegian"},no:{id:"translation.iso639TwoLetterLanguageCodes.no",defaultMessage:"Norwegian"},ny:{id:"translation.iso639TwoLetterLanguageCodes.ny",defaultMessage:"Chichewa; Chewa; Nyanja"},oc:{id:"translation.iso639TwoLetterLanguageCodes.oc",defaultMessage:"Occitan (post 1500)"},oj:{id:"translation.iso639TwoLetterLanguageCodes.oj",defaultMessage:"Ojibwa"},or:{id:"translation.iso639TwoLetterLanguageCodes.or",defaultMessage:"Oriya"},om:{id:"translation.iso639TwoLetterLanguageCodes.om",defaultMessage:"Oromo"},os:{id:"translation.iso639TwoLetterLanguageCodes.os",defaultMessage:"Ossetian; Ossetic"},pa:{id:"translation.iso639TwoLetterLanguageCodes.pa",defaultMessage:"Panjabi; Punjabi"},fa:{id:"translation.iso639TwoLetterLanguageCodes.fa",defaultMessage:"Persian"},pi:{id:"translation.iso639TwoLetterLanguageCodes.pi",defaultMessage:"Pali"},pl:{id:"translation.iso639TwoLetterLanguageCodes.pl",defaultMessage:"Polish"},pt:{id:"translation.iso639TwoLetterLanguageCodes.pt",defaultMessage:"Portuguese"},ps:{id:"translation.iso639TwoLetterLanguageCodes.ps",defaultMessage:"Pushto; Pashto"},qu:{id:"translation.iso639TwoLetterLanguageCodes.qu",defaultMessage:"Quechua"},rm:{id:"translation.iso639TwoLetterLanguageCodes.rm",defaultMessage:"Romansh"},ro:{id:"translation.iso639TwoLetterLanguageCodes.ro",defaultMessage:"Romanian; Moldavian; Moldovan"},rn:{id:"translation.iso639TwoLetterLanguageCodes.rn",defaultMessage:"Rundi"},ru:{id:"translation.iso639TwoLetterLanguageCodes.ru",defaultMessage:"Russian"},sg:{id:"translation.iso639TwoLetterLanguageCodes.sg",defaultMessage:"Sango"},sa:{id:"translation.iso639TwoLetterLanguageCodes.sa",defaultMessage:"Sanskrit"},si:{id:"translation.iso639TwoLetterLanguageCodes.si",defaultMessage:"Sinhala; Sinhalese"},sk:{id:"translation.iso639TwoLetterLanguageCodes.sk",defaultMessage:"Slovak"},sl:{id:"translation.iso639TwoLetterLanguageCodes.sl",defaultMessage:"Slovenian"},se:{id:"translation.iso639TwoLetterLanguageCodes.se",defaultMessage:"Northern Sami"},sm:{id:"translation.iso639TwoLetterLanguageCodes.sm",defaultMessage:"Samoan"},sn:{id:"translation.iso639TwoLetterLanguageCodes.sn",defaultMessage:"Shona"},sd:{id:"translation.iso639TwoLetterLanguageCodes.sd",defaultMessage:"Sindhi"},so:{id:"translation.iso639TwoLetterLanguageCodes.so",defaultMessage:"Somali"},st:{id:"translation.iso639TwoLetterLanguageCodes.st",defaultMessage:"Sotho, Southern"},es:{id:"translation.iso639TwoLetterLanguageCodes.es",defaultMessage:"Spanish"},sc:{id:"translation.iso639TwoLetterLanguageCodes.sc",defaultMessage:"Sardinian"},sr:{id:"translation.iso639TwoLetterLanguageCodes.sr",defaultMessage:"Serbian"},ss:{id:"translation.iso639TwoLetterLanguageCodes.ss",defaultMessage:"Swati"},su:{id:"translation.iso639TwoLetterLanguageCodes.su",defaultMessage:"Sundanese"},sw:{id:"translation.iso639TwoLetterLanguageCodes.sw",defaultMessage:"Swahili"},sv:{id:"translation.iso639TwoLetterLanguageCodes.sv",defaultMessage:"Swedish"},ty:{id:"translation.iso639TwoLetterLanguageCodes.ty",defaultMessage:"Tahitian"},ta:{id:"translation.iso639TwoLetterLanguageCodes.ta",defaultMessage:"Tamil"},tt:{id:"translation.iso639TwoLetterLanguageCodes.tt",defaultMessage:"Tatar"},te:{id:"translation.iso639TwoLetterLanguageCodes.te",defaultMessage:"Telugu"},tg:{id:"translation.iso639TwoLetterLanguageCodes.tg",defaultMessage:"Tajik"},tl:{id:"translation.iso639TwoLetterLanguageCodes.tl",defaultMessage:"Tagalog"},th:{id:"translation.iso639TwoLetterLanguageCodes.th",defaultMessage:"Thai"},bo:{id:"translation.iso639TwoLetterLanguageCodes.bo",defaultMessage:"Tibetan"},ti:{id:"translation.iso639TwoLetterLanguageCodes.ti",defaultMessage:"Tigrinya"},to:{id:"translation.iso639TwoLetterLanguageCodes.to",defaultMessage:"Tonga (Tonga Islands)"},tn:{id:"translation.iso639TwoLetterLanguageCodes.tn",defaultMessage:"Tswana"},ts:{id:"translation.iso639TwoLetterLanguageCodes.ts",defaultMessage:"Tsonga"},tk:{id:"translation.iso639TwoLetterLanguageCodes.tk",defaultMessage:"Turkmen"},tr:{id:"translation.iso639TwoLetterLanguageCodes.tr",defaultMessage:"Turkish"},tw:{id:"translation.iso639TwoLetterLanguageCodes.tw",defaultMessage:"Twi"},ug:{id:"translation.iso639TwoLetterLanguageCodes.ug",defaultMessage:"Uighur; Uyghur"},uk:{id:"translation.iso639TwoLetterLanguageCodes.uk",defaultMessage:"Ukrainian"},ur:{id:"translation.iso639TwoLetterLanguageCodes.ur",defaultMessage:"Urdu"},uz:{id:"translation.iso639TwoLetterLanguageCodes.uz",defaultMessage:"Uzbek"},ve:{id:"translation.iso639TwoLetterLanguageCodes.ve",defaultMessage:"Venda"},vi:{id:"translation.iso639TwoLetterLanguageCodes.vi",defaultMessage:"Vietnamese"},vo:{id:"translation.iso639TwoLetterLanguageCodes.vo",defaultMessage:"Volapük"},cy:{id:"translation.iso639TwoLetterLanguageCodes.cy",defaultMessage:"Welsh"},wa:{id:"translation.iso639TwoLetterLanguageCodes.wa",defaultMessage:"Walloon"},wo:{id:"translation.iso639TwoLetterLanguageCodes.wo",defaultMessage:"Wolof"},xh:{id:"translation.iso639TwoLetterLanguageCodes.xh",defaultMessage:"Xhosa"},yi:{id:"translation.iso639TwoLetterLanguageCodes.yi",defaultMessage:"Yiddish"},yo:{id:"translation.iso639TwoLetterLanguageCodes.yo",defaultMessage:"Yoruba"},za:{id:"translation.iso639TwoLetterLanguageCodes.za",defaultMessage:"Zhuang; Chuang"},zu:{id:"translation.iso639TwoLetterLanguageCodes.zu",defaultMessage:"Zulu"}});const i=["en-US","en-GB","zh-HANS","zh-HANT","pt-BR","pt-PT"];const r={en:"en-US",zh:"zh-HANT",pt:"pt-BR"};function d(e){return(0,n().O)(r,e)?r[e]:e}const l=(0,o().YK)({"en-US":{id:"translation.iso639TwoLetterLanguageCodes.en-US",defaultMessage:"English"},"en-GB":{id:"translation.iso639TwoLetterLanguageCodes.en-GB",defaultMessage:"English (United Kingdom)"},"zh-HANT":{id:"translation.iso639TwoLetterLanguageCodes.zh-HANT",defaultMessage:"Chinese (Traditional)"},"zh-HANS":{id:"translation.iso639TwoLetterLanguageCodes.zh-HANS",defaultMessage:"Chinese (Simplified)"},"pt-BR":{id:"translation.iso639TwoLetterLanguageCodes.pt-BR",defaultMessage:"Portuguese (Brazil)"},"pt-PT":{id:"translation.iso639TwoLetterLanguageCodes.pt-PT",defaultMessage:"Portuguese (Portugal)"}});function u(e){return function(e){return(0,n().Xk)(i,e)}(e)?function(e){return l[e]}(e):function(e){return s[e]}(e)}},691093:(e,t,a)=>{a.r(t),a.d(t,{closeConfigSecondPanel:()=>c,closeWorkflowEditor:()=>p,onConfigItemClick:()=>u,openWorkflowEditor:()=>f,openWorkflowEditorForStore:()=>g,updateWorkflowNavigationState:()=>l});var o=()=>a(534177),n=()=>a(435009),s=()=>a(118078),i=()=>a(890754),r=()=>a(492414),d=()=>a(564037);function l(e){const{environment:t,navigationState:a,viewId:o,redirect:s}=e,i=(0,r().Ef)({environment:t,updates:{...h(a),collectionViewId:o}});n().oo({environment:t,url:i,redirect:s})}function u(e){let{environment:t,navigationState:a}=e;const o=h(a),n=(0,d().getWorkflowNavigationRouteArgs)(t);(null==o?void 0:o.workflowViewType)!==(null==n?void 0:n.workflowViewType)||(null==o?void 0:o.workflowViewKey)!==(null==n?void 0:n.workflowViewKey)?l({environment:t,navigationState:a}):c(t)}function c(e){l({environment:e,navigationState:{type:"configure"}})}function g(e){const{environment:t,store:a,threadId:o}=e;(0,s().openChatSidebar)({environment:t,chatThreadId:o});const i=h({type:"configure"}),d=(0,r().Ef)({environment:t,updates:{...i,store:a}});n().oo({environment:t,url:d})}function f(e){const{environment:t,navigationState:a={type:"preview"},chatThreadId:o=i().NEW_CHAT_THREAD_ID}=e;(0,s().openChatSidebar)({environment:t,chatThreadId:o});const d=(0,r().Ef)({environment:t,updates:h(a)});n().oo({environment:t,url:d,redirect:!0})}function p(e){const{environment:t}=e;(0,s().closeChatSidebar)({environment:t});const a=(0,r().Ef)({environment:t,updates:{workflowViewType:void 0,workflowViewKey:void 0}});n().oo({environment:t,url:a,redirect:!0})}function h(e){const t=e.type;switch(t){case void 0:return{};case"configure":case"debug":case"preview":case"runtime_actor":return{workflowViewType:t,workflowViewKey:void 0};case"function":case"module":case"trigger":case"view_settings":case"view":return{workflowViewType:t,workflowViewKey:e.key};case"runs":return{workflowViewType:t,workflowViewKey:e.runId};case"test":return{workflowViewType:t,workflowViewKey:`${e.functionKey},${e.name}`};default:(0,o().HB)(t)}}},702221:(e,t,a)=>{a.d(t,{default:()=>It});var o=a(296540),n=()=>a(484714),s=()=>a(56366),i=()=>a(401497),r=()=>a(584262),d=()=>a(868840),l=()=>a(959013),u=()=>a(645302),c=()=>a(705540),g=()=>a(661920),f=()=>a(662453),p=()=>a(766081),h=()=>a(519839),m=()=>a(549500),w=()=>a(964345),L=()=>a(989423),v=()=>a(186445),S=()=>a(38337),T=()=>a(747100),k=()=>a(154807),M=()=>a(455994),C=()=>a(346),b=()=>a(567121),y=()=>a(756279),x=()=>a(351360),A=()=>a(661179),j=()=>a(548821),_=()=>a(865241),P=()=>a(712505),E=()=>a(285288),I=()=>a(411671),K=()=>a(502438),R=()=>a(145214),B=()=>a(545805),z=()=>a(625325),D=()=>a(13679),O=(a(898992),a(737550),()=>a(66689)),N=()=>a(418135),V=()=>a(883234),H=()=>a(535845),W=()=>a(996624),F=()=>a(281948),U=()=>a(462113),G=()=>a(869609),X=()=>a(813401),Y=()=>a(783423),q=()=>a(731320),$=()=>a(836251),J=()=>a(175947);function Z(e){const{theme:t,isSidePeekOpen:a,borderRadius:o,isElectronWindows:n,isShowingTabBar:s,zoomFactor:i}=e;return{zIndex:a?100:110,background:t.peekModalBackground,borderTopLeftRadius:o??12,borderTopRightRadius:o??12,paddingRight:n&&a&&!s?(0,N().WS)(i):void 0}}const Q=12;function ee(e){const{environment:t}=e,a=t.device.isMobile?4:Q;return{height:J().ek(t.device.isElectronMac),display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:a,paddingRight:a}}var te=()=>a(891078),ae=()=>a(963589),oe=()=>a(712287),ne=()=>a(204263),se=()=>a(696746),ie=()=>a(663590),re=()=>a(77246),de=()=>a(948914),le=()=>a(508496);const ue=new(a(463830).A);var ce=()=>a(566009),ge=()=>a(609044),fe=()=>a(212640),pe=()=>a(783848),he=()=>a(657982),me=()=>a(285790),we=()=>a(35392),Le=()=>a(859428),ve=()=>a(87181),Se=()=>a(284371),Te=()=>a(750660),ke=()=>a(151744),Me=()=>a(810703);var Ce=()=>a(437622),be=()=>a(630116),ye=()=>a(614505),xe=()=>a(16006),Ae=()=>a(453697),je=a(474848);const _e={display:"flex",alignItems:"center",fontSize:14,minWidth:0};function Pe(e,t){return e&&e instanceof be().SL&&t&&e.id===t.id}function Ee(e){const{parentStore:t,prefixText:a}=e,o=(0,n().v3)(),r=(0,s().K8)((()=>(0,v()._m)(o)),[o]),d=(0,s().K8)((()=>t instanceof be().Bv&&t.isEmptyPage()),[t]),u=(0,s().K8)((()=>t instanceof be().SL?(0,Ce().c2)(o,t):t.getIcon()),[o,t]),c=(0,s().K8)((()=>t instanceof be().SL?(0,Ce().GK)(o,t):void 0),[o,t]),g=(0,s().K8)((()=>{const{currentSpaceStore:e}=x().default.state;return Pe(t,e)}),[t]),f=(0,i().IS)((()=>({privatePagesText:{fontWeight:Se().Wy.medium,marginLeft:4,...Se().RC,overflow:"hidden"},icon:{marginRight:4,marginTop:1},title:{fontWeight:Se().Wy.semibold}})),[]);return(0,je.jsx)(je.Fragment,{children:g?(0,je.jsxs)(je.Fragment,{children:[a,(0,je.jsx)(Ae().A,{size:22,avatarShouldShowShadow:!0,userStore:r}),(0,je.jsx)("span",{style:f.privatePagesText,children:(0,je.jsx)(l().sA,{defaultMessage:"Private pages",id:"peekMoveToMenu.addTo.privatePages"})})]}):(0,je.jsxs)(je.Fragment,{children:[a,(0,je.jsx)(ye().A,{disabled:!0,icon:u,isEmptyPage:d,title:c,size:18,style:f.icon}),(0,je.jsx)(xe().A,{style:f.title,store:t})]})})}const Ie=function(e){let{store:t,prefix:r,buttonStyle:d,saveParent:u,pageType:c,forceUntyped:g}=e;const f=(0,i().DP)(),p=(0,n().v3)(),h=(0,s().K8)((()=>{const e=x().default.state.mainEditorCurrentBlockStore;return e&&(0,se().lU)(e)?"home_tab":e&&(0,v().sj)(e.id)?"aggregated_type":"quick_add"}),[]),m=(0,s().K8)((()=>t.getParentStore()),[t]),w=(0,o.useRef)(null),L=(0,o.useCallback)((e=>function(e,t,a,o,n,s,i,r){e.preventDefault(),t&&Te().ho({environment:a,blocks:[o],originRect:t.getBoundingClientRect(),moveToContext:s,onAccept:e=>{let{value:t}=e;return function(e,t,a,o){const{currentSpaceStore:n}=x().default.state;if(n&&t){let t;!function(e){const{pageType:t,spaceStore:a,currentUserId:o,result:n}=e;(0,Me().lQ)({currentUserId:o,spaceId:a.id,value:n}),t&&(0,Me().tj)({currentUserId:o,spaceId:a.id,databaseType:ke().W7[t],parent:n})}({pageType:t||o,spaceStore:n,currentUserId:a.currentUser.id,result:e})}}(t,n,a,i)},isAddTo:!0,isDefaultPrivateLocation:Ke(o),disableSuccessToast:!0,forceUntyped:r||Re(i)})}(e,w.current,p,t,u,h,c,g)),[w,p,t,u,h,c,g]);if(m&&!(m instanceof be().jg)&&!(m instanceof be().bx)&&!(m instanceof be().vG)&&!(m instanceof be().pS)&&!(m instanceof be().K_)&&!(m instanceof be().ZI)&&!(m instanceof be().gP)){const e=r?(0,je.jsx)("span",{style:{color:f.mediumTextColor,marginRight:4},children:(0,je.jsx)(l().sA,{...r})}):void 0;return(0,je.jsx)(B().A,{debugName:"PeekMoveToMenu",capture:!0,onMoveTo:L,children:(0,je.jsx)("div",{style:_e,children:(0,je.jsx)(Le().A,{renderTooltip:()=>(0,je.jsxs)("div",{children:[(0,je.jsx)(l().sA,{defaultMessage:"Set the default page or database",id:"peekMoveToMenu.tooltip"}),(0,je.jsx)("br",{}),(0,je.jsx)(we().A,{style:{color:f.text.contrastSecondary},name:"moveTo"})]}),render:t=>(0,je.jsxs)(a(493823).p,{onClick:L,ref:w,shouldShrink:!0,style:d,...t,children:[(0,je.jsx)(Ee,{parentStore:m,prefixText:e}),(0,a(668725).b)({width:10,marginLeft:4,fill:f.lightTextColor})]})})})})}return null};function Ke(e){const t=e.getParentStore(),{currentSpaceStore:a}=x().default.state;return Pe(t,a)}function Re(e){return!e||"page"===e}var Be=()=>a(813402),ze=()=>a(764172),De=()=>a(618968),Oe=()=>a(488134),Ne=()=>a(198688),Ve=(a(672577),a(581454),()=>a(735790)),He=()=>a(340498),We=()=>a(120739),Fe=()=>a(496603),Ue=()=>a(321775),Ge=()=>a(686526),Xe=()=>a(544073),Ye=()=>a(492414),qe=()=>a(972435),$e=()=>a(722872),Je=()=>a(108944),Ze=()=>a(760217),Qe=()=>a(406699),et=()=>a(187485),tt=()=>a(928600),at=()=>a(939740),ot=()=>a(14235),nt=()=>a(89924);const st=(0,l().YK)({changeForThisView:{id:"peekTopbar.changePeekOption.changeForThisView",defaultMessage:"Edit view default"}});const it=function(e){let{store:t,onClick:o,onDismissPopup:r,onClosePeek:d}=e;const c=(0,i().DP)(),g=(0,n().v3)();(0,a(852507).l)((()=>{const e=dt(c),t=P().default.getPeekMode();e.find((e=>Fe().n4(e.key,t)))||a(857639).log({level:"warning",from:"TopbarPeekModeButton",type:"InvalidSelectedPeekMode",error:(0,a(229833).n6)("Selected key is invalid.")})}));const f=(0,n().Y0)(),p=dt(c),h=(0,s().K8)((()=>P().default.getPeekMode()),[]);return h?(0,je.jsx)(Qe().Ay,{popupType:f.isMobile?ot().nl.SlideUp:ot().nl.Popup,alignmentToOrigin:Qe().yP.Center,placementToOrigin:Qe().sx.Bottom,style:{minWidth:190},originGap:0,onClick:()=>{!function(e){if(!P().default.state.open)return;const t=P().default.state.collectionContextStore;t?(0,Ue().m)({environment:e,collectionContextStore:t,from:"peek_topbar",peek_target_id:P().default.state.targetStore.id,from_peek_mode:P().default.state.mode}):u().pU(e,{from:"peek_topbar",peek_target_id:P().default.state.targetStore.id,from_peek_mode:P().default.state.mode})}(g),o&&o()},onClose:r,renderOrigin:e=>(0,je.jsx)(Le().A,{renderTooltip:()=>(0,je.jsx)(l().sA,{defaultMessage:"Switch peek mode",id:"peekTopbar.openPagesAs.button"}),render:t=>(0,je.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:2},children:[(0,je.jsx)(Ne().A,{}),(0,je.jsx)(me().A,{...e,...t,icon:(0,Xe().qg)(h),iconStyle:{width:He().Ev.default,height:He().Ev.default,fill:c.mediumIconColor}})]})}),render:e=>(0,je.jsx)(rt,{parent:e,currentPeekMode:h,options:p,store:t,onClosePeek:d})}):null};function rt(e){let{currentPeekMode:t,options:a,store:o,onClosePeek:d,parent:l}=e;const c=(0,n().v3)(),g=(0,n().Y0)(),f=(0,i().DP)();let p;p=g.isMobile?{menuType:$e().gu.ActionSheet}:{menuType:$e().gu.Popup,width:220};const m=(0,s().K8)((()=>{const{RouterStore:e}=c,n=e.state.route;return Fe().oE([...a.map(((e,a)=>{const s=e.key,i=void 0===s||"full_page"===s?void 0:(0,P().getUrlParamFromPeekMode)(s),d="full_page"===s?(0,Ye().Ay)({store:o,fullyQualified:!1,openInCenterPeek:!o.isPost()&&void 0,pageVisitSource:r().y8.Expand}):"team"===n.name?(0,We().a)({teamId:n.teamId,peekInfo:i?{peekMode:i,peekViewBlockId:o.id}:void 0}):function(e,t,a){const{mainEditorCurrentBlockStore:o}=x().default.state,n=Je().fU(a),s=a.isNavigableBlock()?n.slice(1):[...n],i=s.length>0?s[0]:void 0;return(0,h().wy)({environment:e,store:a,mainEditorCurrentBlockStore:i instanceof be().Bv&&!P().default.state.open?i:o,collectionContextStore:P().default.state.collectionContextStore,fullyQualified:!1,overridePeekMode:(0,P().getPeekModeFromCollectionPeekModeFormat)(t)})}(c,s,o);return{key:a,render:a=>(0,je.jsx)(et().A,{href:d,onClick:()=>{var e;u().z9(c,{from:"peek_topbar",peek_mode:s,from_peek_mode:t,target_page_id:null===(e=P().default.peekTargetStore.state)||void 0===e?void 0:e.id}),l.close()},children:(0,je.jsx)(Ze().A,{...a,disabled:!1,title:e.title,icon:e.icon,caption:e.caption,body:e.body,checkState:Fe().n4(e.key,t)})}),action:()=>{}}}))])}),[a,t,c,o,l]),w=(0,s().K8)((()=>P().default.state.open?P().default.state.collectionContextStore:void 0),[]),L=(0,s().K8)((()=>P().default.state.open?P().default.state.targetStore:void 0),[]),v=(0,s().K8)((()=>x().default.state.mainEditorCurrentBlockStore),[]),S=(0,s().K8)((()=>{var e,t,a;const o=v&&v.id===(null==w||null===(e=w.collectionViewBlockStore())||void 0===e?void 0:e.getRecordStoreUIRoot().id);return(null==w||null===(t=w.collectionStore())||void 0===t?void 0:t.id)===(null==L||null===(a=L.getAssociatedCollectionStore())||void 0===a?void 0:a.id)&&(null==w?void 0:w.permissionScopesStore.state.canConfigureBlock)&&o}),[v,w,L]);return(0,je.jsx)(tt().A,{...p,children:(0,je.jsx)(at().Ay,{type:at().Oh.Vertical,sections:Fe().oE([{key:0,render:e=>(0,je.jsx)(nt().A,{enableActionSheetTitle:!0,...e}),items:m},S&&{key:1,render:e=>(0,je.jsx)(nt().A,{enableActionSheetTitle:!0,topBorder:!0,...e}),items:[{key:"change_for_view",render:e=>(0,je.jsx)(Ze().A,{...e,disabled:!1,title:qe().A.formatMessage(st.changeForThisView),icon:(0,Ve().M)({width:He().Ev.default,height:He().Ev.default,fill:f.regularIconColor})}),action:e=>{!function(e,t){const a=P().default.state.open?P().default.state.collectionContextStore:void 0;a&&(P().default.isCenterPeekOpen()&&t&&t(),Ge().Ow({collectionContextStore:a,collectionSettingsStore:a.settingsStore}),Ge().a2({collectionSettingsStore:a.settingsStore,item:{type:"layout"}}),a.settingsStore.setState({...a.settingsStore.state,openButtonPopup:"peekModeFormat"}))}(0,d),l.close()}}]}]),initialFocus:0})})}function dt(e){return["side_peek","center_peek","full_page"].map((t=>({key:t,type:"button",title:(0,Xe().LA)(t),icon:(0,Xe().qg)(t)({width:He().Ev.default,height:He().Ev.default,fill:e.mediumTextColor})})))}var lt=()=>a(126126),ut=()=>a(373156),ct=()=>a(568394),gt=()=>a(586252),ft=()=>a(551780);const pt=(0,l().YK)({moveToPrefixText:{id:"peekMoveToMenu.moveTo.moveTo",defaultMessage:"Move to"},addToPrefixText:{id:"peekMoveToMenu.addTo.addTo",defaultMessage:"Add to"},closeButton:{defaultMessage:"Close",id:"peekTopbar.close.button"},previousPageTooltip:{defaultMessage:"Previous page",id:"peekTopbar.peekNavUpArrow.tooltip"},nextPageTooltip:{defaultMessage:"Next page",id:"peekTopbar.peekNavDownArrow.tooltip"},closeLayoutInfoPanelTooltip:{defaultMessage:"Close panel",id:"peekTopbar.closeLayoutInfoPanelButton.tooltip"}});const ht=function(e){let{store:t,shouldShowMoveToMenu:r,onClose:d,spaceStore:l,spaceViewStore:u,pageVisitStore:c,presenceStore:g}=e;const f=(0,i().DP)(),p=(0,n().v3)(),h=(0,s().K8)((()=>P().default.isSidePeekOpen()),[]),m=(0,s().K8)((()=>a(612587).A.state.banners),[]),w=(0,s().K8)((()=>t.canEdit()),[t]),L=(0,s().K8)((()=>t.canRead()),[t]),{isShowingTabBar:v,zoomFactor:T}=(0,s().K8)((()=>({isShowingTabBar:Boolean(de().A.state.isShowingTabBar),zoomFactor:de().A.state.zoomFactor||N().rx})),[]),k=p.device.isElectron&&!v&&h,C=(0,s().K8)((()=>t.isFormBlock()),[t]),b=(0,s().K8)((()=>M().A.getPanelState("peek").isMouseHoveringPanel),[]),y=(0,s().K8)((()=>"static_sidebar"===M().A.getPanelState("peek").displayStyle&&M().A.getPanelState("peek").isOpen),[]),[x,A]=o.useState(!1),j=(0,s().uB)(void 0,a(455425).A),_=(0,s().K8)((()=>P().default.state.topHoverAreaEntered),[]),E=(0,i().IS)((()=>{const e=_||x;return{peekControlsWrapper:{display:"grid",gridAutoFlow:"column",gridColumnGap:2,alignItems:"center"},hoverBtn:{opacity:e?1:0,pointerEvents:e?"auto":"none",transition:"opacity 100ms ease"}}}),[_,x]),I=y&&(_||b);return(0,je.jsx)(D().A,{store:t,disableRectangularSelection:!0,disableEditNearestBlock:!0,isPeekRenderer:!0,render:e=>{let{selectableEvents:o}=e;return(0,je.jsxs)("div",{...o,style:{height:C?0:void 0,...Z({theme:f,isSidePeekOpen:h,isElectronWindows:p.device.isElectronWindows,isShowingTabBar:v,zoomFactor:T})},className:`${S().S6D} ${k?S().sbV:""}`,children:[(0,je.jsxs)("div",{style:ee({environment:p}),children:[(0,je.jsxs)("div",{style:E.peekControlsWrapper,children:[(0,je.jsx)(Lt,{onClose:d}),!C&&(0,je.jsx)(a(361946).A,{store:t,shouldShowMoveToMenu:r}),(0,je.jsx)(mt,{store:t,shouldShowMoveToMenu:r}),w&&(0,je.jsx)(a(99600).A,{store:t,lockStore:j,buttonStyle:{margin:0}}),!C&&(0,je.jsx)("div",{style:E.hoverBtn,children:(0,je.jsx)(it,{store:t,onClick:()=>A(!0),onDismissPopup:()=>A(!1),onClosePeek:d})}),(0,je.jsx)("div",{style:{...E.hoverBtn,...E.peekControlsWrapper},children:(0,je.jsx)(vt,{shouldShowMoveToMenu:r})})]}),L&&(0,je.jsx)(wt,{store:t,spaceStore:l,spaceViewStore:u,pageVisitStore:c,presenceStore:g,shouldShowLayoutPanelCloseButton:I})]}),(0,je.jsx)(a(885962).x,{banners:m,isMobile:!1,isInPeekRenderer:!0})]})}})};function mt(e){let{store:t,shouldShowMoveToMenu:a}=e;const{open:o,saveParent:n,pageVisitSource:i,collectionContextStore:d}=(0,s().K8)((()=>({open:P().default.state.open,saveParent:!!P().default.state.open&&P().default.state.saveParent,pageVisitSource:P().default.state.open?P().default.state.pageVisitSource:void 0,collectionContextStore:P().default.state.collectionContextStore})),[]),l=(0,s().K8)((()=>{const e=t.getAssociatedCollectionStore();return(null==e?void 0:e.getDatabaseType())===O().dC?"tasks":void 0}),[t]),u=(0,s().K8)((()=>"collectionTypedView"===(null==d?void 0:d.contextType)),[d]);return o&&a?(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(Ne().A,{}),(0,je.jsx)(Ie,{store:t,saveParent:n,prefix:u?pt.moveToPrefixText:pt.addToPrefixText,pageType:l,forceUntyped:i===r().y8.SidebarQuickAdd})]}):null}function wt(e){let{store:t,spaceStore:a,spaceViewStore:r,pageVisitStore:d,presenceStore:u,shouldShowLayoutPanelCloseButton:c}=e;const g=(0,n().v3)(),f=(0,n().Y0)(),p=(0,s().K8)((()=>(0,q().qb)(g,t)),[g,t]),h=(0,s().K8)((()=>a&&a.id!==t.getSpaceId()),[a,t]),m=(0,s().K8)((()=>v().sj(t.id)),[t]),w=(0,s().K8)((()=>(0,se().Nh)(t.id)),[t]),L=(0,s().K8)((()=>(0,ie().hK)()),[]),S=(0,s().K8)((()=>t.isPost()&&!t.isPublishedPost()),[t]),T=(0,s().K8)((()=>t.isFormBlock()),[t]),M=(0,s().K8)((()=>t.isPageBlock()),[t]),C=(0,s().K8)((()=>t.isExternalObjectInstancePageBlockStore()),[t]),b=!f.isMobile&&a&&r&&!p&&!h&&!w&&!T,y=(0,s().K8)((()=>(0,ze().xG)({device:f,isPersonalHomePage:w,isFormBlock:T,store:t})),[f,w,T,t]),x=(0,s().K8)((()=>Boolean(a&&!a.canEdit())),[a]),A=(0,s().K8)((()=>t.canEdit()),[t]),_=(0,s().K8)((()=>t.isRestricted()),[t]),P=(0,s().K8)((()=>{var e;return null===(e=re().Uv.getStateForBlock(t.id))||void 0===e?void 0:e.mode}),[t.id]),{suggestTranslation:E,suggestedPageTranslationLanguage:I,detectedPageLanguage:K,setTranslationSuggestionDismissed:R}=(0,gt().V)(t),B=(0,s().K8)((()=>!f.isMobile&&(M||C)&&!T),[f.isMobile,M,T,C]),z=(0,te().i0)(t),D=a&&r&&!p&&!h&&(0,Be().shouldShowTopbarShareMenu)({isSpaceGuest:x,canEditPage:A,isFormBlock:T,isPersonalHomePage:w,isPersonProfile:!1,isTranslated:"translate_locked"===P}),O=a&&r&&!T&&!p&&!h&&!z&&"translate_locked"!==P,N=(0,l().tz)(),V=o.useCallback((()=>{var e;const a=null===(e=t.getAssociatedCollectionStore())||void 0===e?void 0:e.getLayoutStore();a&&(0,oe().F)({environment:g,layoutStore:a,from:"topbar",panelLocation:"peek"})}),[t,g]),H=(0,ae().X)("comment_sidebar_for_you"),F=(0,s().K8)((()=>!H&&b&&A&&!S&&"on"!==le().default.getEligibleGroup({experimentId:"remove_updates_topbar_button_v2",defaultGroup:"control"})),[H,A,b,S]),J=(0,s().K8)((()=>(0,$().w6)(g)),[g]),Z=(0,s().K8)((()=>t.isPost()),[t]),ee=(0,s().K8)((()=>(0,ve().rK)(g)),[g]),de=function(){const e=(0,n().v3)(),t=(0,s().K8)((()=>{const t=e.device.isMobile?void 0:(0,k().eO)({environment:e,isInPeek:!0});return t?t-Q:void 0}),[e]);return(0,i().IS)((e=>({wrapStyles:{display:"flex",alignItems:"center",flexGrow:0,flexShrink:0,zIndex:1,minWidth:t,paddingLeft:Q,justifyContent:"flex-end"}})),[t]).wrapStyles}();return(0,je.jsxs)("div",{style:de,children:[c?(0,je.jsx)(Le().A,{renderTooltip:()=>(0,je.jsx)("div",{children:N.formatMessage(pt.closeLayoutInfoPanelTooltip)}),disableTooltip:!c,render:e=>(0,je.jsx)(me().A,{...e,ariaLabel:N.formatMessage(pt.closeLayoutInfoPanelTooltip),icon:W().a,iconStyle:{width:16,height:16},onClick:V})}):null,J&&(0,je.jsx)("div",{style:{flexGrow:1}}),_&&!L&&(0,je.jsx)(ut().A,{style:{marginRight:14},onClick:()=>{fe().A.setState({open:!0})}}),I&&K&&(0,je.jsx)(he().Z6,{store:t,isVisible:E,compact:!0,setTranslationSuggestionDismissed:()=>R(!0),suggestedPageTranslationLanguage:I,detectedPageLanguage:K}),(0,je.jsx)(Y().M,{store:t,isVisible:"suggest"===P&&!T,compact:!0}),A&&!T&&!Z&&(0,je.jsx)(lt().Ay,{rootStore:t,pageVisitStore:d,presenceStore:u}),D&&(0,je.jsx)(X().E,{store:t,buttonPopupStore:fe().A}),B&&(0,je.jsx)(Oe().n,{blockStore:t,buttonPopupStore:ce().A,pageViewBlockContext:j().Rr.PeekView}),y&&(0,je.jsx)(ze().Ay,{blockStore:t,spaceStore:a,buttonPopupStore:ue}),F&&(0,je.jsx)(ct().Ay,{blockStore:t,spaceStore:a,buttonPopupStore:pe().A}),O&&(0,je.jsx)(De().TopbarFavoriteButton,{store:t,spaceViewStore:r}),T&&(0,je.jsx)(U().A,{formBlockStore:t,inPeekMode:!0}),m&&(0,je.jsx)(ne().A,{}),b&&(0,je.jsx)(G().u,{store:t,buttonPopupStore:ge().A}),S&&!ee&&(0,je.jsx)(ft().F,{store:t})]})}function Lt(e){let{onClose:t}=e;const a=(0,l().tz)(),o=(0,i().DP)();return(0,s().K8)((()=>P().default.isSidePeekOpen()),[])?(0,je.jsx)(Le().A,{renderTooltip:()=>(0,je.jsxs)("div",{children:[a.formatMessage(pt.closeButton),(0,je.jsx)("br",{}),(0,je.jsx)(we().A,{style:{color:o.text.contrastSecondary},name:"esc"})]}),render:e=>(0,je.jsx)(me().A,{...e,ariaLabel:a.formatMessage(pt.closeButton),icon:W().a,iconStyle:{width:16,height:16},onClick:()=>t("close_button")})}):null}function vt(e){let{shouldShowMoveToMenu:t}=e;const a=(0,l().tz)(),o=(0,i().DP)(),n=(0,s().O$)(P().default),{resultsStore:r}=n,d=(0,s().K8)((()=>null==r?void 0:r.getState()),[r]);if(!n.open)return null;if(t)return null;const u=n.targetStore.id;return d&&d.length>0&&d.some((e=>e.id===u))?(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(Ne().A,{}),(0,je.jsx)(Le().A,{renderTooltip:()=>(0,je.jsxs)("div",{children:[a.formatMessage(pt.previousPageTooltip),(0,je.jsx)("br",{}),(0,je.jsx)(we().A,{style:{color:o.text.contrastSecondary},name:"peekUp"})]}),render:e=>(0,je.jsx)(me().A,{...e,ariaLabel:a.formatMessage(pt.previousPageTooltip),disabled:u===d[0].id,icon:H().B,onClick:()=>F().NQ(),iconStyle:{fill:o.mediumIconColor}})}),(0,je.jsx)(Le().A,{renderTooltip:()=>(0,je.jsxs)("div",{children:[a.formatMessage(pt.nextPageTooltip),(0,je.jsx)("br",{}),(0,je.jsx)(we().A,{style:{color:o.text.contrastSecondary},name:"peekDown"})]}),render:e=>(0,je.jsx)(me().A,{...e,ariaLabel:a.formatMessage(pt.nextPageTooltip),disabled:u===d[d.length-1].id,icon:V()._,onClick:()=>F().ET(),iconStyle:{fill:o.mediumIconColor}})})]}):null}function St(){const e=(0,s().K8)((()=>P().default.state.open),[]),t=(0,s().O$)(A().A),a=(0,i().IS)((e=>({containerStyles:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:99,background:e.overlaySmokescreen},contentStyles:{...yt(e),top:P().PeekModeOuterPadding,left:P().PeekModeOuterPadding,right:P().PeekModeOuterPadding,marginRight:"auto",height:`calc(100% - ${P().PeekModeOuterPadding}px*2)`,maxWidth:P().CenterPeekModeOuterWidth+t,borderRadius:12,overflow:"hidden"}})),[t]);return(0,je.jsx)(z().A,{open:e,children:(0,je.jsx)(Mt,{enableCaptureClick:!0,priority:void 0,showResizer:!1,styles:a})})}function Tt(){const e=(0,n().v3)(),t=(0,s().O$)(P().default),a=(0,s().K8)((()=>P().default.getSidePeekWidth(e.WindowSizeStore.state.width)),[e]),r=(0,C().n_)(),d=(0,i().IS)((e=>({containerStyles:{position:"fixed",top:0,right:0,bottom:0,translateX:a,width:a,zIndex:109},contentStyles:{...yt(e),top:0,right:0,width:"100%",height:r?`calc(100% - ${b().ls}px)`:"100%",borderRadius:0}})),[r,a]),l=(0,s().O$)(_().P),u=o.useRef(null);return(0,je.jsx)(R().A,{tag:Mt,forceCompositeLayer:!0,skip:l,animate:{translateX:t.open&&!t.isClosing?0:a,width:a},initial:{translateX:t.open?0:a},onAnimationStart:()=>{u.current=performance.now()},onAnimationEnd:()=>{const a=u.current?Math.round(performance.now()-u.current):null;if(u.current=null,!t.open)return;const o=t.isClosing?"side_peek_renderer_animation_closing":"side_peek_renderer_animation_opening";t.isClosing?(P().default.setState({...t,isClosing:!1}),g().YH()):t.isOpening&&P().default.setState({...t,isOpening:!1}),a&&(0,L().u4)({environment:e,event:{eventName:o,eventProperties:{duration_ms:a}}})},enableCaptureClick:!1,priority:-1,showResizer:!0,styles:d})}function kt(){const e=(0,n().v3)(),t=(0,s().O$)(P().default),{currentSpaceStore:a,currentSpaceViewStore:o}=(0,s().K8)((()=>{const{currentSpaceStore:e,currentSpaceViewStore:t}=x().default.state;return{currentSpaceStore:e,currentSpaceViewStore:t}}),[]),i=(0,s().K8)((()=>{var e;return!!t.open&&(t.showMoveTo||"collectionTypedView"===(null===(e=t.collectionContextStore)||void 0===e?void 0:e.contextType))}),[t]);return t.open?(0,je.jsx)(ht,{store:t.targetStore,spaceStore:a,spaceViewStore:o,pageVisitStore:t.pageVisitStore,presenceStore:t.presenceStore,shouldShowMoveToMenu:i,onClose:t=>{Pt(e,t)}}):null}const Mt=o.forwardRef((function(e,t){const{priority:i}=e,d=(0,n().v3)(),l=(0,s().O$)(P().default),{shouldShowFrame:c}=(0,s().K8)((()=>(0,v().X4)(d)),[d]),g=(0,s().K8)((()=>T().Gb()),[]),f=(0,s().K8)((()=>l.open&&0===K().default.state.stores.length&&!K().default.state.pivot&&"editing"!==a(24157).default.state.mode&&!a(188669).Ay.state.isOpen),[l.open]),p=(0,o.useCallback)((()=>{Et(d)}),[d]),h=(0,o.useCallback)((()=>{!function(e){P().default.peekTargetStore.state&&(a(857783).uK({environment:e,store:P().default.peekTargetStore.state,pageVisitSource:r().y8.Expand}),u().uO(e,{isNewPage:P().default.state.open&&P().default.state.showMoveTo,peek_mode:P().default.state.mode,from:"command_enter",target_page_id:P().default.peekTargetStore.state.id}),u().Zh(e,{peek_mode:P().default.state.mode,from:"command_enter",target_page_id:P().default.peekTargetStore.state.id,target_parent_id:P().default.peekTargetStore.state.getParentId()}))}(d)}),[d]);return c?l.open?(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(a(195795).A,{debugName:"PeekRenderer",priority:i,capture:g}),(0,je.jsx)(B().A,{debugName:"PeekRenderer",innerKey:l.targetStore.id,capture:f,onEsc:p,onCommandEnter:h,children:(0,je.jsx)(Ct,{...e,ref:t})})]}):(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(je.Fragment,{}),(0,je.jsx)(B().A,{debugName:"PeekRenderer",capture:!1,children:(0,je.jsx)(Ct,{...e,ref:t})})]}):null})),Ct=o.forwardRef((function(e,t){const{enableCaptureClick:r,bottomBar:u,showResizer:g}=e,L=(0,o.useCallback)((e=>{a(347199).A.PeekViewScroller=e??void 0}),[]),v=(0,l().tz)(),C=(0,n().v3)(),b=(0,s().O$)(P().default),A=(0,s().r6)((()=>b.open?I().A.getMode(C,b.targetStore):I().s.disabled),[C,b]),_=(0,s().r6)((()=>(0,a(68465).ZE)(A.state)),[A]),K=(0,s().K8)((()=>{if(!b.open)return;const{currentSpaceStore:e,currentSpaceViewStore:t}=x().default.state;return{pageStore:b.targetStore,spaceStore:e,spaceViewStore:t,presenceStore:b.presenceStore,pageVisitStore:b.pageVisitStore,publicEditModeStore:A,arePublicEditCompletionsEnabledStore:_}}),[b,A,_]),B=(0,o.useCallback)((()=>{Et(C)}),[C]),z=(0,o.useCallback)((e=>{let{startTime:t,endTime:o}=e;const n=b.open?h().UH(b.targetStore):void 0;a(406792).default.DO_NOT_USE_measureLegacy({metricName:"collections.max_scroll_lag_in_session",startTime:t,endTime:o},{environment:C,data:a(476492).kz(n)})}),[C,b]),O=(0,o.useCallback)((()=>{!function(e){Pt(e,"empty_space_click")}(C)}),[C]);(0,o.useEffect)((()=>{b.open&&b.mode===d().O?c().setOverlay(!0):c().setOverlay(!1)}),[b.open,b.mode]);const N=(0,s().K8)((()=>w().ei.state),[]),V=(0,a(671891).l)(b.open?b.targetStore:void 0),{modules:H}=(0,a(152713).f)(b.open?b.targetStore:void 0);(0,k().Du)(C,V);const W=(0,s().K8)((()=>(0,k().eO)({environment:C,isInPeek:!0})),[C]),F=(0,s().K8)((()=>(0,k().Wi)({environment:C,isInPeek:!0})),[C]),U=(0,s().K8)((()=>P().default.isSidePeekOpen()&&w().I1.state),[]),G=(0,s().K8)((()=>M().A.getPanelState("peek").isOpen),[]),X=(0,s().K8)((()=>{if(!b.open)return!1;const e=b.targetStore.getAssociatedCollectionStore();return!!e&&(0,k()._D)({collectionStore:e})}),[b]),Y=(0,i().IS)((t=>({...e.styles,containerStyles:{...e.styles.containerStyles,...e.style},layoutStaticSidebar:{width:W,flexShrink:0,paddingBottom:24,borderLeft:`1px solid ${t.stroke.secondary}`}})),[e.styles,e.style,W]),q=(0,a(721908).d)((e=>{const t=e.target;t instanceof Element&&t.closest(`.${S().S6D}`)?P().default.setTopHoverAreaEntered(!0):P().default.setTopHoverAreaEntered(!1)}),100),$=(0,a(539412).x9)();o.useEffect((()=>(window.addEventListener("mousemove",q),()=>window.removeEventListener("mousemove",q))),[q]);const J=(0,s().O$)(_),Z=(0,s().K8)((()=>!!b.open&&(b.targetStore.isReady()&&!b.targetStore.canRead())),[b]),Q=o.useMemo((()=>a(757695).default.createValue({})),[]),ee=(0,s().K8)((()=>{if(b.open)return Q.state[b.targetStore.id]}),[b,Q]);return(0,o.useEffect)((()=>{if(!b.open||!Z)return;if(void 0!==Q.state[b.targetStore.id])return;const e=b.targetStore;a(507785).Li({environment:C,request:{type:"block-space",blockId:e.id,spaceId:e.getSpaceId()},ignoreLocalResult:!0}).then((t=>{Q.update((a=>({...a,[e.id]:Boolean(null==t?void 0:t.canRequestAccess)})))})).catch((e=>{console.error(e)}))}),[Z,b,C,Q]),(0,je.jsx)(a(452446).q,{value:K,children:(0,je.jsx)("div",{role:"region","aria-label":v.formatMessage({id:"peekRenderer.ariaLabel",defaultMessage:"Side Peek"}),"aria-hidden":!b.open||void 0,style:Y.containerStyles,className:S().Hfz,ref:t,children:b.open&&(0,je.jsxs)(je.Fragment,{children:[r&&(0,je.jsx)("div",{style:{width:"100%",height:"100%"},onClick:O}),(0,je.jsxs)("div",{style:Y.contentStyles,children:[U&&(0,je.jsx)("div",{style:{position:"absolute",top:10,transform:"translateX(-100%)",left:-10},children:(0,je.jsx)(m().a0,{rootStore:N})}),g&&(0,je.jsx)(a(77395).A,{type:"peek"}),(0,je.jsx)(kt,{}),$&&(0,je.jsx)(a(679192).w,{}),(0,je.jsx)(D().A,{store:b.targetStore,isDefaultContainer:!0,droppable:!0,isPeekRenderer:!0,render:e=>{let{selectableEvents:t,selectableHoverMenuOverlay:n}=e;const s={pageStore:b.targetStore,pageVisitStore:b.pageVisitStore,initialChunkSize:a(740456).XS,incrementChunkSize:25,render:e=>{let{ready:s,initialRequestCompleted:i,endOfResultsReached:r,isCollectionInPage:d,scrollerRef:l}=e;return(0,je.jsxs)("div",{style:X?{flexGrow:1,display:"flex",maxHeight:"100%",height:"100%"}:{display:"contents"},children:[!s&&(0,je.jsx)("div",{style:{position:"relative",width:"100%",flexGrow:1},children:(0,je.jsx)(p().A,{peekMode:P().default.getPeekMode(),isVisible:!s,store:b.targetStore})}),Z&&void 0!==ee&&(0,je.jsx)(a(75600).O,{canRequestAccess:ee,block:{id:b.targetStore.id,spaceId:b.targetStore.getSpaceId()}}),!Z&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsxs)(a(2143).H,{ref:e=>{if(L(e),l){const t=null==e?void 0:e.getNode();t instanceof HTMLElement&&(l.current=t)}},onScrollLagMeasure:d?z:void 0,preventType:s?a(620689).u5(C):y().A.All,type:y().A.Y,style:s?xt:At,store:E().A,...t,children:[n,J&&(0,je.jsx)(f().H7,{scrollerStore:E().A}),(0,je.jsx)(m().EO,{scrollerStore:E().A}),i&&(0,je.jsxs)(o.Fragment,{children:[(0,je.jsx)("div",{className:S().S6D,children:(0,je.jsx)(a(738944).x,{blockStore:b.targetStore})}),(0,je.jsx)(a(299772).Ay,{context:j().Rr.PeekView,store:b.targetStore,onTitleEsc:B,forceSelectTitleOnMount:!0,paddingBottom:T().ln,styleOverrides:bt,disabled:!b.open||b.isClosing}),(0,je.jsx)(a(767905).A,{pageVisitStore:b.pageVisitStore,presenceStore:b.presenceStore,isPeekView:!0})]}),s&&!r&&(0,je.jsx)(a(331542).A,{style:_t})]}),J&&(0,je.jsx)(f().X9,{scrollerKey:"PeekView"}),(0,je.jsx)(R().A,{visible:X,forceCompositeLayer:!0,animate:{width:W},initial:{translateX:G?0:W},style:Y.layoutStaticSidebar,children:(0,je.jsx)("div",{style:{width:F,height:"100%"},children:(0,je.jsx)(a(146594).H,{store:b.targetStore,context:j().Rr.PeekView,disabled:!b.open||b.isClosing||!G,shownAs:"static_sidebar",modules:H})})})]})]})}};return(0,je.jsx)(o.Suspense,{fallback:(0,je.jsx)(p().A,{peekMode:P().default.getPeekMode(),isVisible:!0,store:b.targetStore}),children:(0,je.jsx)(a(629537).V,{...s,store:b.loadingContainerStore})})}},b.targetStore.id),u]})]})})})})),bt={pageCoverHeight:"20vh"};function yt(e){return{flexDirection:"column",position:"absolute",display:"flex",marginLeft:"auto",background:e.peekModalBackground,boxShadow:e.shadowMD}}const xt={display:"flex",flexDirection:"column",flexGrow:1,position:"relative",transform:"translateZ(0)"},At={...xt,opacity:0,pointerEvents:"none",height:0},jt="1.375em",_t={zIndex:1,opacity:.5,width:jt,height:jt,marginTop:0,marginBottom:24,marginLeft:"auto",marginRight:"auto"};function Pt(e,t){g().VN({environment:e,from:t})}function Et(e){Pt(e,"esc")}const It=function(){const e=(0,n().v3)(),t=(0,s().K8)((()=>{const e=P().default.state.open?P().default.state.targetStore:void 0;return null==e?void 0:e.getSystemBlockTypeStore().getValue()}),[]),i=(0,o.useCallback)((()=>{P().default.state.open&&P().default.isSidePeekOpen()&&(a(869562).toggleLeftSidebarByWindowSize(e),P().default.setState({...P().default.state,isOpening:!1}))}),[e]);switch((0,o.useEffect)((()=>(e.WindowSizeStore.addListener(i),()=>e.WindowSizeStore.removeListener(i))),[e.WindowSizeStore,i]),(0,o.useEffect)((()=>{(0,a(90023).mi)(t)&&g().VN({environment:e,from:"invalid_peek_page"})}),[e,t]),(0,s().K8)((()=>P().default.getPeekMode()),[])){case d().O:return(0,je.jsx)(St,{});case d().A:return(0,je.jsx)(Tt,{})}}},735790:(e,t,a)=>{a.d(t,{M:()=>s});a(296540);var o=a(474848);const n={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},s=(0,a(340498).wt)("sliders",n)},877788:(e,t,a)=>{a.d(t,{w:()=>n});a(296540);const o={viewBox:"0 0 20 20",svg:(0,a(474848).jsx)("path",{d:"M10 2.399c.27 0 .51.174.594.432l1.507 4.636h4.874a.625.625 0 0 1 .367 1.13L13.4 11.462l1.506 4.636a.625.625 0 0 1-.962.699L10 13.932l-3.943 2.865a.625.625 0 0 1-.962-.699L6.6 11.462 2.658 8.597a.625.625 0 0 1 .367-1.13h4.874L9.406 2.83A.625.625 0 0 1 10 2.399m0 2.647L8.948 8.285a.625.625 0 0 1-.595.432H4.95l2.754 2c.22.16.31.442.227.7l-1.052 3.238 2.755-2.001a.625.625 0 0 1 .734 0l2.755 2-1.052-3.237a.625.625 0 0 1 .227-.7l2.754-2h-3.405a.625.625 0 0 1-.594-.432z"})},n=(0,a(340498).wt)("star",o)},883234:(e,t,a)=>{a.d(t,{_:()=>n});a(296540);var o=a(474848);const n=(0,a(340498).wt)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})}}]);