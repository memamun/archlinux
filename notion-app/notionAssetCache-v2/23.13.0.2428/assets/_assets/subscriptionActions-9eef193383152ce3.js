"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[65213],{47273:(e,o,r)=>{r.d(o,{DS:()=>n,Fe:()=>d,GB:()=>a,Gf:()=>l,V_:()=>u,j1:()=>s,j8:()=>i,yp:()=>p,yw:()=>c});var t=()=>r(762433);function n(e){return(0,t().Fq)({subscription:e})}function i(e){return(0,t().Ry)({subscription:e})}function a(e){let{subscriptionState:o,logFunction:r,spaceId:n}=e;return(0,t().yB)({billingData:{subscription:o},logFunction:r,spaceId:n})}function c(e){return(0,t().q8)({subscription:e})}function s(e){return(0,t().V9)({subscription:e})}function d(e){return(0,t().d$)({subscription:e})}function u(e){return(0,t().ji)({subscription:e})}function l(e){return(0,t().AI)({subscription:e})}function p(e,o){return(0,t().KH)({subscription:e},o)}},112527:(e,o,r)=>{r.r(o),r.d(o,{getLegacyStripeAppearance:()=>B,getStripe:()=>y,injectStripe:()=>k,optionalPaymentMethodIdGivenPaymentData:()=>T,optionalStripeTokenGivenPaymentData:()=>C,stripeElementLocaleGivenNotionLocale:()=>S,translateStripeError:()=>w,useElementsOptions:()=>v});var t=()=>r(624119),n=()=>r(37458),i=r(296540),a=()=>r(484714),c=()=>r(56366),s=()=>r(401497),d=()=>r(402390);var u=()=>r(798880),l=()=>r(807487),p=()=>r(534177),g=()=>r(284371),h=()=>r(780054),x=()=>r(351360),m=()=>r(508496),b=r(474848);let f=null;function k(e){return function(o){const[r]=i.useState(y);return(0,b.jsx)(t().Elements,{stripe:r,children:(0,b.jsx)(t().ElementsConsumer,{children:r=>{let{stripe:t,elements:n}=r;const i={...o,stripe:t,elements:n};return(0,b.jsx)(e,{...i})}})})}}async function y(){return f||(n().loadStripe.setLoadParameters({advancedFraudSignals:!1}),f=(0,n().loadStripe)(h().A.stripe.key)),f}function S(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function v(e){const o=(0,s().DP)(),r=(0,a().v3)(),{type:t}=e,n="setup"===t||"subscription"===t?e.currency:void 0,h="subscription"===t?e.amount:void 0,b=(0,c().K8)((()=>{var e;return(null===(e=x().default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||d().q}),[]),f=(0,c().K8)((()=>"KRW"===n&&function(e){const{experimentService:o,actor:r}=e;return o.checkGate({actor:r,gateName:"kr_card_payment_method"})}({experimentService:m().default,actor:{table:u().oo,id:r.currentUser.id??""}})),[r.currentUser,n]);return(0,i.useMemo)((()=>{const e=function(e){const o=I(e.text.primary),r=I(e.text.secondary),t=I(e.text.tertiary),n=I(e.text.uiRedPrimary),i=I(e.text.uiBluePrimary),a=I(e.icon.contrast),c=I(e.whiteButtonBackground);return{labels:"above",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"12px",spacingGridColumn:"12px",spacingUnit:"4px",spacingTab:"6px",colorPrimary:o,colorPrimaryText:o,colorText:o,colorTextSecondary:r,colorTextPlaceholder:t,colorIcon:o,colorIconCheckmark:a,colorDanger:n,colorBackground:c,colorIconTabHover:o,colorIconTabSelected:i,colorIconChevronDown:o,fontFamily:g().Tf.sans,fontWeightLight:`${g().Wy.light}`,fontWeightNormal:`${g().Wy.regular}`,fontWeightMedium:`${g().Wy.medium}`,fontWeightBold:`${g().Wy.medium}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"500",lineHeight:"16px",color:o,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground},".Tab:focus":{boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:o,boxShadow:"none",outline:"none"},".Tab--selected:hover":{backgroundColor:e.whiteButtonBackground,color:o},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"7px 8px",backgroundColor:e.surface.wash,boxShadow:`0 0 0 1px ${e.stroke.primary}`,border:"none",color:o},".Input--invalid":{color:o,boxShadow:e.outlineRedInputBoxShadow},".Input:focus":{color:o,boxShadow:e.outlineBlueInputBoxShadow},".Label":{fontSize:"12px",lineHeight:"15px",fontWeight:"500",letterSpacing:"-0.154px",color:r,marginBottom:"8px"},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:n},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:o},".PickerItem:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:o,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--selected:hover":{boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:o},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:r,fontSize:"10px",fontWeight:"400",lineHeight:"13px",letterSpacing:"0.12px"},".CheckboxLabel":{color:o,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:o,fontWeight:"400",padding:"4px 8px"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:o},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",padding:"16px"},".Icon":{fill:o}}}}(o),r={appearance:e,locale:S(b)},i={paymentMethodTypes:(0,l().VV)({currency:n,isKrCardFeatureGateEnabled:f})};switch(t){case"address":return r;case"setup":return{...r,...i,currency:null==n?void 0:n.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...r,...i,amount:h,currency:null==n?void 0:n.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session",loader:"never"};default:(0,p().HB)(t)}}),[o,b,n,f,t,h])}function w(e,o){if(!o.code)return o.message||"";switch(o.code){case"invalid_expiry_year_past":return e.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return e.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,o){switch(o){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(e,o.decline_code);default:return o.message||""}}function B(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"4px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:g().Tf.sans,fontWeightLight:`${g().Wy.light}`,fontWeightNormal:`${g().Wy.regular}`,fontWeightMedium:`${g().Wy.medium}`,fontWeightBold:`${g().Wy.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.outlineRedInputBoxShadow},".Label":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"510",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary}}}}function I(e){const[o,r,t,n]=e.match(/[\d.]+/g)??[];return o&&r&&t&&n&&1===parseInt(n)?`rgb(${o}, ${r}, ${t})`:e}function C(e){return"stripeToken"===(null==e?void 0:e.type)?e.value:void 0}function T(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}},271084:(e,o,r)=>{r.d(o,{k:()=>n});class t extends(()=>r(757695))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}}const n=new t},385346:(e,o,r)=>{r.d(o,{q:()=>t});const t=(0,r(340498).xh)("arrowDownCircled",{default:{loader:()=>r.e(21165).then(r.bind(r,21165))},small:{loader:()=>r.e(91343).then(r.bind(r,591343))},mini:{loader:()=>r.e(91681).then(r.bind(r,591681))},large:{loader:()=>r.e(28007).then(r.bind(r,428007))}})},430395:(e,o,r)=>{r.d(o,{A:()=>n});class t extends(()=>r(757695))().default{getInitialState(){return{open:!1,succeeded:!1}}close(){this.setState({open:!1,succeeded:!1})}closeWithSuccess(){this.setState({open:!1,succeeded:!0})}open(e){this.setState({open:!0,temporaryBillingInterval:"month",temporaryAddress:{name:"",businessName:"",addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:""},appliedPromo:void 0,error:void 0,vatApplicable:!1,calculatingTax:!1,payButtonState:"disabled",subscriptionTier:"enterprise",targetPlan:void 0,targetSpace:e,totalUpgradeCost:void 0,onlyShowAddOn:!1,sessionId:r(206267).JW(),type:r(506090).p.TargetSpace})}setAddressField(e){this.state.open&&this.setState({...this.state,temporaryAddress:{...this.state.temporaryAddress,...e},taxCalculationError:void 0})}}const n=new t},529803:(e,o,r)=>{r.d(o,{A:()=>n});class t extends(()=>r(757695))().default{}const n=new t},762299:(e,o,r)=>{r.d(o,{A:()=>n});const t=new(r(848776).U)((e=>{let{spaceId:o}=e;return o}),(async(e,o)=>{let{spaceId:t}=o;const n=await Promise.resolve().then(r.bind(r,449506)),i=await n.callApi({eventName:"getInvoiceData",environment:e,data:{spaceId:t,type:"upcoming"}});return"success"===i.type?i.data.invoiceData:void 0}));r(604341).exposeDebugValue("UpcomingInvoiceStore",t);const n=t}}]);