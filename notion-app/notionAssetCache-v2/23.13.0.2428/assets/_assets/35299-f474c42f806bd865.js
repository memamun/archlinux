"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[35299],{28536:(e,t,a)=>{a.d(t,{I:()=>m,T:()=>f});a(18107),a(967357),a(581454);var s=()=>a(484714),n=()=>a(56366),i=()=>a(692026),r=()=>a(798880),o=()=>a(496603),l=a(296540),u=()=>a(43013);var d=()=>a(630116),c=()=>a(616092),p=()=>a(749240),g=()=>a(646736);function m(e){var t;let{spaceStore:a,request:i}=e;const l=(0,s().v3)(),u=(0,n().K8)((()=>{if(i)return new(d().LU)(l,{id:i.getForActorId(),table:r().oo}).getModel()}),[i,l]),c=i&&u?{accessRequest:i,forActor:u}:void 0;return null===(t=f({spaceStore:a,requests:(0,o().oE)([c])}))||void 0===t?void 0:t.at(0)}function f(e){let{spaceStore:t,requests:a}=e;const r=function(e){let{spaceStore:t,requests:a}=e;const i=(0,s().v3)(),r=function(e){const t=(0,u().K)(e);return(0,l.useCallback)((e=>t.memberEmails.has(e)?"member":t.guestEmails.has(e)?"guest":void 0),[t])}(p().subscriptionDataStoreInstance),o=(0,n().K8)((()=>null==a?void 0:a.map((e=>({email:e.forActor.email,currentRole:r(e.forActor.email)})))),[a,r]),d=i.currentUser.id,m=d?(0,g().dp)(t,d):void 0;return(0,c().Hq)({space:t,spaceUser:m,team:void 0,optimism:"optimistic",invitees:o??[],publicPageDataGuestSetting:void 0})}({spaceStore:t,requests:a});return(0,n().K8)((()=>null==a?void 0:a.map((e=>{var t;const a=(0,i().C)(e.accessRequest),s=null==r||null===(t=r[e.forActor.email])||void 0===t?void 0:t.type;return"guest_invite_request"!==a?a:"cannot_add"===s?"space_membership_request":"guest_invite_request"}))),[a,r])}},43013:(e,t,a)=>{a.d(t,{K:()=>u});a(517642),a(658004),a(733853),a(845876),a(432475),a(515024),a(731698),a(898992),a(354520),a(581454);var s=()=>a(484714),n=()=>a(56366),i=()=>a(798880),r=()=>a(534177),o=()=>a(630116),l=()=>a(134217);function u(e){const t=(0,s().v3)();return(0,n().K8)((()=>{const a=e.state;if(!a)return{memberEmails:new Set,guestEmails:new Set};const s=l().Ye(a),n=l().oe(a),u=e=>new(o().LU)(t,{table:i().oo,id:e.userId}).getEmail();return{memberEmails:new Set(s.map(u).filter(r().O9)),guestEmails:new Set(n.map(u).filter(r().O9))}}),[t,e])}},132855:(e,t,a)=>{a.d(t,{G:()=>n});a(296540);const s={viewBox:"0 0 20 20",svg:(0,a(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},n=(0,a(340498).wt)("arrowInCircleUpFill",s)},196131:(e,t,a)=>{a.d(t,{C7:()=>i,CH:()=>r,JD:()=>n});a(898992),a(672577);var s=()=>a(842599);function n(e,t){return!!e&&i(e.getEmail(),t)}function i(e,t){return void 0!==r(e,t)}function r(e,t){if(!e)return;const a=(0,s().zN)(e);return t.find((e=>e.url===a))}},364499:(e,t,a)=>{a.d(t,{o:()=>u});var s=()=>a(484714),n=()=>a(56366),i=()=>a(519831),r=()=>a(792415),o=()=>a(508496);const l=new(a(848776).U)((e=>{if("block-space"===e.type)return`${e.type}-${e.blockId}-${e.spaceId}`;(0,a(534177).HB)(e.type)}),(async(e,t)=>{const s=await Promise.resolve().then(a.bind(a,449506)),n={[a(436604).B3]:t.spaceId},i=await s.callApi({eventName:"getPublicPageData",environment:e,data:t,headers:n});return"success"===i.type?i.data:void 0}));function u(e){const{store:t}=e,a=(0,s().v3)();return(0,n().K8)((()=>{if(!o().default.checkGate({gateName:"ui_guest_disable_changes"}))return;if(t.table===i().Vl)return{type:"cannot_add"};const e=t.id,s=t.getSpaceId(),n=r().A.state.publicPageData;var u;if((null==n?void 0:n.pageId)===e)return(null==n||null===(u=n.securitySettings)||void 0===u?void 0:u.guestSetting)??{type:"can_add"};{var d;const t=l.getData(a,{type:"block-space",blockId:e,spaceId:s});return(null==t||null===(d=t.securitySettings)||void 0===d?void 0:d.guestSetting)??{type:"can_add"}}}),[t,a])}},366858:(e,t,a)=>{a.d(t,{A:()=>r});a(581454);var s=()=>a(484714),n=()=>a(56366),i=()=>a(592674);function r(e){const t=(0,s().v3)();return(0,n().K8)((()=>{var a;const s=null==e?void 0:e.id;if(s)return null===(a=i().A.getData(t,{spaceId:s}))||void 0===a?void 0:a.map((e=>e.domain))}),[t,e])}},383716:(e,t,a)=>{a.d(t,{n:()=>p});a(296540);var s=()=>a(484714),n=()=>a(56366),i=()=>a(380048),r=()=>a(959013),o=()=>a(284371),l=()=>a(84817),u=()=>a(285790),d=()=>a(8178),c=a(474848);function p(e){const t=(0,r().tz)(),{title:a,goBack:p}=e,g=(0,s().v3)(),m=(0,n().K8)((()=>g.device.isMobile),[g]);return(0,c.jsxs)(l().Y1,{direction:"horizontal",gap:6,children:[p&&(0,c.jsx)(u().A,{ariaLabel:t.formatMessage({id:"requestsPageHeader.back",defaultMessage:"Back"}),icon:i().I,onClick:p}),(0,c.jsx)(d().A,{large:!m,divider:"none",fontSize:16,fontWeight:o().Wy.medium,children:a})]})}},479314:(e,t,a)=>{a.d(t,{K:()=>n});const s={currentPage:"home",setPage:()=>{},isSalesEligible:!1},n=(0,a(296540).createContext)(s);n.displayName="RequestsSettingsPageContext"},529601:(e,t,a)=>{a.d(t,{$S:()=>o,Im:()=>l,SJ:()=>p,sf:()=>g,yQ:()=>c});a(898992),a(354520),a(581454),a(737550);var s=()=>a(496603),n=()=>a(534177),i=()=>a(842599),r=()=>a(196131);function o(e){let{space:t,domains:a,team:i,spaceUser:r,invitees:o,internalGuestFeatureAvailability:u,guestFeatureAvailability:c,publicPageDataGuestSetting:p}=e;const g=l({domains:a,internalGuestFeatureAvailability:u,guestFeatureAvailability:c,invitees:o,space:t,spaceUser:r,team:i,publicPageDataGuestSetting:p}),f=d({domains:a,internalGuestFeatureAvailability:u,guestFeatureAvailability:c,invitees:o,space:t,spaceUser:r,team:i,publicPageDataGuestSetting:p}),v=o.some((e=>{const t=f[e.email],a=g[e.email];return"can_autojoin"!==t.type&&m(a)}));return(0,s().Cr)(o.map((e=>{const{email:t,currentRole:a}=e,s=f[t],i=g[t];if("member"===a)return[t,{type:"member_page_add"}];if("guest"===a&&"can_add"===i.type)return[t,{type:"guest_page_add"}];if("can_autojoin"===s.type)return[t,{type:"member",reason:"autojoin_domain"}];if("cannot_add"===(r=g[t]).type&&"over_general_guest_limit"===r.reason)return[t,{type:"none",reason:"must_upgrade"}];if("can_add"===s.type&&v)return[t,{type:"member",reason:"over_internal_guest_limit"}];if("can_add"===i.type)return[t,{type:"guest"}];if("can_request"===i.type)return[t,{type:"guest_request"}];if("can_add"===s.type)return[t,{type:"member",reason:"guests_disabled"}];if("can_request"===s.type)return[t,{type:"member_request"}];if("cannot_add"===s.type&&"not_authorized_domain"===s.reason)return[t,{type:"none",reason:"not_authorized_domain"}];if("cannot_add"===i.type){return[t,{type:"none",reason:i.reason}]}if("cannot_add"===s.type){return[t,{type:"none",reason:s.reason}]}return(0,n().HB)(s)&&(0,n().HB)(i);var r})))}function l(e){let{space:t,domains:a,team:n,internalGuestFeatureAvailability:i,guestFeatureAvailability:o,optimism:l="pessimistic",spaceUser:d,invitees:p,publicPageDataGuestSetting:m}=e;const f=c({space:t,team:n,spaceUser:d,publicPageDataGuestSetting:m}),v=u(l,o,g(p)),h=function(e,t){return e.filter((e=>(0,r().C7)(e.email,t)&&!e.currentRole)).length}(p,a),b=u(l,i,h);return(0,s().Cr)(p.map((e=>{const t=(0,r().C7)(e.email,a),s=void 0!==e.currentRole;let n;return n=s||v?!t||s||b?"cannot_add"===f.type?{type:"cannot_add",reason:"disabled_by_admins"}:f:{type:"cannot_add",reason:"over_internal_guest_limit"}:{type:"cannot_add",reason:"over_general_guest_limit"},[e.email,n]})))}function u(e,t,a){const s=t.limit,n="unlimited"===s.total?"unlimited":s.total-s.current;return"optimistic"===e?"unlimited"===n||n>=1:"unlimited"===n||n>=a}function d(e){let{space:t,team:a,domains:r,spaceUser:o,invitees:u,internalGuestFeatureAvailability:d,guestFeatureAvailability:c,publicPageDataGuestSetting:g}=e;const f=p({space:t,domains:r,spaceUser:o}),v=l({space:t,domains:r,internalGuestFeatureAvailability:d,guestFeatureAvailability:c,team:a,spaceUser:o,invitees:u,publicPageDataGuestSetting:g}),h=!o.isMember();return(0,s().Cr)(u.map((e=>{const t=(0,i().zN)(e.email);if(!t)return[e.email,{type:"cannot_add",reason:"invalid_email"}];const a=m(v[e.email]),s=f.autojoinDomains;let r;return s.includes(t)?r={type:"can_autojoin"}:"can_add"===f.type?r={type:"can_add"}:"can_request"===f.type||a&&!h?r={type:"can_request"}:s.length>0?r={type:"cannot_add",reason:"not_authorized_domain"}:"cannot_add"===f.type?r={type:"cannot_add",reason:"disabled_by_admins"}:(0,n().HB)(f),[e.email,r]})))}function c(e){let{space:t,team:a,spaceUser:s,publicPageDataGuestSetting:i}=e;const r=s.isWorkspaceOwner(),o=(0,n().O9)(i)?i:function(e){let t,a,{space:s,team:n}=e;t=n&&n.getDisableGuests()?"cannot_add":n&&!n.getDisableGuests()?"can_add":void 0;const i=s.disable_guests,r=s.getSettings().enable_guest_invite_requests;a=r?"can_request":i?"cannot_add":"can_add";return"can_request"===a?{type:"can_request"}:void 0!==t?{type:t}:{type:a}}({space:t,team:a});return r&&"can_request"===o.type?{type:"can_add"}:o}function p(e){let{space:t,domains:a,spaceUser:s}=e;const n=!s.isMember(),i=function(e){let{space:t,domains:a}=e;const s=a.filter((e=>e.isAutojoinable)).map((e=>e.url));return t.getSettings().disable_membership_requests?{type:"cannot_add",autojoinDomains:s}:{type:"can_request",autojoinDomains:s}}({space:t,domains:a});return n?{type:"cannot_add",autojoinDomains:[]}:s.isWorkspaceOwner()?{...i,type:"can_add"}:i}function g(e){return e.filter((e=>!e.currentRole)).length}function m(e){return"cannot_add"===e.type&&"over_internal_guest_limit"===e.reason}},593524:(e,t,a)=>{a.d(t,{Z:()=>W,Y:()=>Z});a(581454);var s=a(296540),n=()=>a(484714),i=()=>a(401497),r=()=>a(613198),o=()=>a(762433),l=()=>a(959013),u=()=>a(534177),d=()=>a(209660),c=()=>a(84817),p=()=>a(641300),g=()=>a(554509),m=()=>a(204063),f=()=>a(702723),v=()=>a(702796),h=()=>a(384100),b=()=>a(479314),y=()=>a(714300),_=()=>a(568688);var x=()=>a(911964),S=()=>a(56366),q=()=>a(798880),M=()=>a(979340),w=()=>a(509628),P=()=>a(493823),j=()=>a(903706),R=()=>a(7674),A=()=>a(107683),I=()=>a(453697),D=()=>a(475971),U=()=>a(2609),C=()=>a(58293),N=()=>a(870092),B=()=>a(128265),k=a(474848);function T(e){let{feature:t,request:a,userId:s,onDismiss:r}=e;const d=(0,l().tz)(),c=(0,C().r)(),p=(0,n().v3)(),f=(0,y().l)({spaceId:null==c?void 0:c.id}),v=(0,i().IS)((e=>({fullWidth:{width:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},cancelButton:{...D().W,height:32,color:e.text.secondary},input:{color:e.text.primary}})),[]),{userStore:h,userDisplayName:b}=(0,S().K8)((()=>{if(!c||!s)return{userStore:void 0,userDisplayName:void 0};const e=N().L.createChildStore(c,{table:q().oo,id:s});return{userStore:e,userDisplayName:e.getDisplayName(d)}}),[c,s,d]),{entrypoint:_}=a,T=(0,S().K8)((()=>"ai_connectors_request_modal"===_?d.formatMessage(G.subtitleAiConnectorsModal):"plans"===_||"settings"===_||"charts"===_||"ai_chat"===_||"teamspace_menu"===_?d.formatMessage(G.subtitlePlans):void(0,u().HB)(_)),[d,_]),K=(0,S().K8)((()=>o().N8(null==f?void 0:f.subscription)),[f]),F=(0,B().n)(),z=Z(a.request,K,F);return z?(0,k.jsx)(A().s,{ariaLabel:d.formatMessage(G.ariaLabel),isOpen:!0,onDismiss:r,showCloseIcon:!0,areaConstraint:{width:{type:"fixed",length:400},height:{type:"unlimited",scroll:"allow"}},render:()=>(0,k.jsx)(R().tf,{showDismissButton:!1,header:(0,k.jsx)(U().rQ,{icon:(0,k.jsx)(I().A,{userStore:h,size:40}),title:d.formatMessage(G.title,{feature:M().v0[t].defaultMessage,user:b}),byline:T}),footer:(0,k.jsx)(w().Y,{gap:16,children:(0,k.jsxs)(w().Y,{gap:8,children:[(0,k.jsx)(m().A,{"aria-label":d.formatMessage(z),onClick:async()=>{await(0,x().F)({environment:p,spaceStore:c,billingData:f,product:a.request,from:"upgrade_requests_page"}),r()},style:{height:32},children:d.formatMessage(z)}),(0,k.jsx)("div",{style:{textAlign:"center"},children:(0,k.jsx)(g().D,{styleName:"Caption-12px/Regular",colorName:"secondary",children:d.formatMessage(G.billingNotice)})}),(0,k.jsx)(P().p,{size:"lg",onClick:r,style:{...v.fullWidth,...v.cancelButton},"aria-label":d.formatMessage(G.cancelButton),children:d.formatMessage(G.cancelButton)})]})}),children:(0,k.jsxs)(w().Y,{gap:8,children:[(0,k.jsx)(g().D,{styleName:"Caption-12px/Medium",colorName:"secondary",children:d.formatMessage(G.noteLabel)}),(0,k.jsxs)(w().Y,{style:{position:"relative"},gap:8,children:[(0,k.jsx)(j().A,{disabled:!0,format:j().C.Large,value:a.reason_for_request,inputStyle:{...v.input,paddingBottom:24},textarea:!0,autosize:!0}),(0,k.jsx)(g().D,{styleName:"Caption-12px/Regular",colorName:"secondary",style:{position:"absolute",bottom:8,left:8},children:d.formatDate(a.created_time,{year:"numeric",month:"long",day:"numeric"})})]})]})})}):null}const G=(0,l().YK)({cancelButton:{id:"viewUpgradeRequestModal.cancelButton",defaultMessage:"Cancel"},billingNotice:{id:"viewUpgradeRequestModal.billingNotice",defaultMessage:"You’ll be able to confirm the updated bill on the next step"},subtitlePlans:{id:"viewUpgradeRequestModal.subtitlePlans",defaultMessage:"This request was made from the Plans page"},subtitleAiConnectorsModal:{id:"viewUpgradeRequestModal.subtitleAiConnectorsModal",defaultMessage:"This request was made from AI Connector onboarding."},title:{id:"viewUpgradeRequestModal.title",defaultMessage:"{user} would like access to Notion {feature}"},ariaLabel:{id:"viewUpgradeRequestModal.modal.ariaLabel",defaultMessage:"View plan request modal"},noteLabel:{id:"viewUpgradeRequestModal.noteLabel",defaultMessage:"Note"}});var K=()=>a(864943);function F(e){let{title:t,loadedIconFunction:a,buttonAction:s,buttonText:n,buttonAriaLabel:r}=e;const o=(0,i().IS)((e=>({icon:{height:48,width:48,fill:e.icon.tertiary}})),[]),l=(0,S().K8)((()=>a(o.icon)),[o.icon,a]);return(0,k.jsxs)(c().Y1,{gap:16,align:"center",direction:"vertical",padding:"32px 0 88px 0",height:"fill",children:[(0,k.jsx)("div",{children:l}),(0,k.jsx)(g().D,{customStyles:{textAlign:"center"},styleName:"UIRegular-14px/Regular",colorName:"secondary",children:t}),(0,k.jsx)(K().A,{size:"lg",onClick:s,ariaLabel:r,children:(0,k.jsx)(g().D,{customStyles:{textAlign:"center"},styleName:"UIRegular-14px/Medium",children:n})})]})}var z=()=>a(383716);function W(e){let{spaceStore:t}=e;const a=(0,l().tz)(),{setPage:n,isSalesEligible:i}=(0,s.useContext)(b().K),{requests:o,isLoading:p}=(0,_().I)({spaceId:t.id});if(p)return null;const g=Object.keys(o).length,m=1===g,f=0===g;return(0,k.jsxs)(c().Y1,{height:"fill",direction:"vertical",gap:32,padding:"36px 60px",children:[(0,k.jsx)(z().n,{title:a.formatMessage(ee.title),goBack:()=>n("home")}),f?(0,k.jsx)(F,{title:a.formatMessage(ee.noRequestsTitle),buttonAriaLabel:"explore plans",buttonText:a.formatMessage(ee.noRequestsButtonTitle),buttonAction:()=>{d().Ow({currentTab:"plans"})},loadedIconFunction:r().Q}):(0,u().WP)(o).map((e=>{let[a,s]=e;return s?(0,k.jsx)(L,{expandByDefault:!0,hasOneRequestType:m,requestType:a,requests:s,spaceStore:t,isSalesEligible:i},a):null}))]})}function L(e){let{expandByDefault:t=!1,requestType:a,requests:i,spaceStore:r,isSalesEligible:u,hasOneRequestType:d}=e;const c=(0,n().v3)(),p=(0,y().l)({spaceId:r.id}),[g,v]=s.useState(t),h=(0,l().tz)(),b=o().N8(null==p?void 0:p.subscription),_=Z(a,b,u);return(0,k.jsxs)("div",{children:[(0,k.jsx)(f().A,{title:(0,k.jsx)(E,{requestType:a,requestCount:i.length,isExpanded:g,handleClick:()=>{v(!g)},shouldHideToggle:d}),type:"custom",isMobile:!1,disableSettingsItemClick:!0,customButton:_&&(0,k.jsx)(m().A,{onClick:async()=>{await(0,x().F)({environment:c,spaceStore:r,billingData:p,product:a,from:"upgrade_requests_page"})},children:h.formatMessage(_)})}),g&&(0,k.jsx)(J,{spaceStore:r,requests:i})]})}function E(e){let{handleClick:t,isExpanded:a,requestType:s,requestCount:n,shouldHideToggle:r}=e;const o=(0,l().tz)(),u=function(e){switch(e){case"ai":return ee.ai;case"business":return ee.business;case"enterprise":return ee.enterprise;default:return null}}(s),d=(0,i().IS)((e=>({toggleButton:{color:e.icon.primary}})),[]);return(0,k.jsxs)(c().Y1,{direction:"horizontal",gap:6,align:"center-left",children:[!r&&(0,k.jsx)(v().A,{isSidebar:!1,fill:!0,onClick:()=>{t()},open:a,color:d.toggleButton.color}),u&&(0,k.jsx)(g().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:o.formatMessage(u)}),(0,k.jsx)(g().D,{styleName:"UIRegular-14px/Regular",colorName:"secondary",children:n})]})}const H={id:"note",headerTitle:(0,k.jsx)(l().sA,{id:"RequestsSettingsPage.UpgradesPage.noteColumn",defaultMessage:"Note"}),renderCell:e=>{let{value:t}=e;return(0,k.jsx)(Y,{value:t})},sortable:!1,widthData:{minWidth:150,maxWidth:310,widthPercent:37}};function Y(e){const t=e.value.reason_for_request??"—",a=(0,i().IS)((e=>({container:{width:"100%"},textWithEllipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),[]);return(0,k.jsx)("div",{style:a.container,children:(0,k.jsx)(g().D,{style:a.textWithEllipsis,styleName:"UIRegular-14px/Regular",children:t})})}function O(e){let{value:t,isRowHovered:n}=e;const r=(0,l().tz)(),[o,u]=s.useState(!1),[d,p]=s.useState(null),g=(0,i().IS)((e=>({icon:{height:14,width:14,color:e.icon.secondary}})),[]),m=r.formatMessage({id:"RequestsSettingsPage.UpgradesPage.viewDetail",defaultMessage:"View Detail"});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c().Y1,{direction:"horizontal",width:"fill",gap:"auto",align:"center",children:n&&(0,k.jsx)(a(859428).A,{placement:a(962730).W.Top,renderTooltip:()=>m,render:e=>(0,k.jsx)(a(285790).A,{ariaLabel:m,hasBackground:!0,icon:a(576250).y,showShadow:!0,iconStyle:g.icon,onClick:e=>{p(t),u(!0),e.stopPropagation()},...e})})}),o&&d&&(0,k.jsx)(T,{feature:d.request,request:d,userId:d.created_by_id,onDismiss:()=>u(!1)})]})}const V={id:"date",headerTitle:(0,k.jsx)(l().sA,{id:"RequestsSettingsPage.UpgradesPage.dateColumn",defaultMessage:"Date"}),renderCell:e=>{let{value:t}=e;return(0,k.jsx)(a(625383).d,{dateTs:t.created_time})},sortable:!1,widthData:{minWidth:150,maxWidth:240,widthPercent:26}},$={id:"dateWithViewDetail",headerTitle:"",renderCell:e=>{let{value:t,isRowHovered:a}=e;return(0,k.jsx)(O,{value:t,isRowHovered:a})},sortable:!1,widthData:{minWidth:30,maxWidth:30,widthPercent:4}},Q=[{id:"requestedBy",headerTitle:(0,k.jsx)(l().sA,{id:"RequestsSettingsPage.UpgradesPage.requestedByColumn",defaultMessage:"Requested By"}),renderCell:e=>{let{userStore:t}=e;return(0,k.jsx)(a(317131).l,{customAvatarStyles:{marginRight:8},userStores:[t]})},sortable:!1,widthData:{minWidth:150,maxWidth:240,widthPercent:30}},H,V,$],X=8;function J(e){let{requests:t,spaceStore:a}=e;const[n,r]=s.useState(!1),[o,l]=s.useState(null),{header:u}=(0,i().IS)((e=>({header:{boxShadow:`inset 0 -1px 0 ${e.tableDividerColor}`}})),[]),d=Q.map((e=>({...e,headerStyle:u}))),c=(0,i().IS)((e=>{const t=(0,p().rC)({columnRenderInfo:d,theme:e,containerMarginTop:8});return{...t,container:{...t.container,width:"100%"}}}),[d]),g=t.map((e=>({value:e,userStore:(0,h().z)({userId:e.created_by_id,currentSpaceStore:a}),id:e.id,isClickable:!0}))),{pageRows:m,loadMoreMethod:f}=function(e){let{rows:t,limit:a}=e;const[n,i]=(0,s.useState)(a),[r,o]=(0,s.useState)(0),l=t.length,u=l>a;return{pageRows:(0,s.useMemo)((()=>u?t.slice(r,n):t),[t,r,n,u]),loadMoreMethod:(0,s.useMemo)((()=>{if(u)return{type:"pages",onLoadNext:()=>{if(n>=l)return;const e=Math.min(n+a,l);i(e),o(r+a)},onLoadPrevious:()=>{0!==r&&(i(r),o(r-a))},hasNextPage:n<l,hasPrevPage:r>0,currentPage:Math.floor(r/a)+1,finalPage:Math.floor(l/a)+1}}),[l,r,n,a,u])}}({rows:g,limit:X});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p().WE,{columnRenderInfo:d,rows:m,hideHeaderRowPadding:!0,renderNoRowsComponent:()=>null,styles:c,loadMoreMethod:f,onRowClick:e=>{l(e.value),r(!0)},showRowBorders:!0}),n&&o&&(0,k.jsx)(T,{feature:o.request,request:o,userId:o.created_by_id,onDismiss:()=>r(!1)})]})}function Z(e,t,a){if(t)return ee.contactSales;if(a&&"enterprise"!==e)return ee.contactSales;if(a&&"enterprise"===e)return ee.planUpgrade;switch(e){case"ai":return ee.aiUpgrade;case"business":case"enterprise":return ee.planUpgrade;default:return null}}const ee=(0,l().YK)({title:{id:"RequestsSettingPage.UpgradePage.title",defaultMessage:"Upgrades"},aiUpgrade:{id:"RequestsSettingsPage.UpgradesPage.aiUpgrade",defaultMessage:"Upgrade AI"},planUpgrade:{id:"RequestsSettingsPage.UpgradesPage.planUpgrade",defaultMessage:"Upgrade Plan"},contactSales:{id:"RequestsSettingsPage.UpgradesPage.contactSales",defaultMessage:"Contact Sales"},ai:{id:"RequestsSettingsPage.UpgradesPage.notionAI",defaultMessage:"Notion AI"},business:{id:"RequestsSettingsPage.UpgradesPage.business",defaultMessage:"Business"},enterprise:{id:"RequestsSettingsPage.UpgradesPage.enterprise",defaultMessage:"Enterprise"},noRequestsTitle:{id:"RequestsSettingsPage.UpgradesPage.NoPendingRequestsTitle",defaultMessage:"No upgrade requests in your workspace"},noRequestsButtonTitle:{id:"RequestsSettingsPage.UpgradesPage.NoPendingRequestsButtonTitle",defaultMessage:"Explore plans"}})},613198:(e,t,a)=>{a.d(t,{Q:()=>n});a(296540);var s=a(474848);const n=(0,a(340498).wt)("speechBubble",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M4.32 15.424c.39 0 .677-.192 1.149-.609l2.344-2.064h4.116c2.057 0 3.213-1.19 3.213-3.22V4.22c0-2.03-1.156-3.22-3.213-3.22H3.213C1.163 1 0 2.19 0 4.22V9.53c0 2.037 1.196 3.22 3.165 3.22h.28v1.675c0 .608.322.998.875.998zm.342-1.531v-1.949c0-.403-.178-.56-.56-.56H3.26c-1.285 0-1.9-.65-1.9-1.894V4.26c0-1.243.615-1.893 1.9-1.893h8.627c1.278 0 1.893.65 1.893 1.894v5.23c0 1.243-.615 1.893-1.893 1.893h-4.15c-.417 0-.622.068-.909.369l-2.167 2.14z"})})},616092:(e,t,a)=>{a.d(t,{Hq:()=>c,mF:()=>d});var s=()=>a(484714),n=()=>a(56366),i=()=>a(529601),r=()=>a(366858),o=()=>a(364499),l=()=>a(151059),u=()=>a(597898);function d(e){let{space:t,team:a,spaceUser:s,invitees:l,store:d}=e;const c=(0,n().K8)((()=>null==s?void 0:s.getUserId()),[s]),f=(0,u()._X)({name:"internal_guests",spaceId:null==t?void 0:t.id,userId:c,amount:0}),v=(0,u()._X)({name:"guests",spaceId:null==t?void 0:t.id,userId:c,amount:0}),h=(0,o().o)({store:d}),b=p(t),y=g(s),_=m(y,a),x=(0,r().A)(t);return(0,n().K8)((()=>{if(b&&y&&v&&f&&x)return(0,i().$S)({space:b,domains:x,team:_,spaceUser:y,invitees:l,internalGuestFeatureAvailability:f,guestFeatureAvailability:v,publicPageDataGuestSetting:h})}),[b,_,f,v,y,l,x,h])}function c(e){let{space:t,team:a,spaceUser:s,invitees:o,optimism:l="pessimistic",publicPageDataGuestSetting:d}=e;const c=(0,n().K8)((()=>null==s?void 0:s.getUserId()),[s]),f=(0,u()._X)({name:"internal_guests",spaceId:null==t?void 0:t.id,userId:c,amount:0}),v=(0,u()._X)({name:"guests",spaceId:null==t?void 0:t.id,userId:c,amount:0}),h=p(t),b=g(s),y=m(b,a),_=(0,r().A)(t);return(0,n().K8)((()=>{if(h&&b&&v&&f&&_)return(0,i().Im)({space:h,domains:_,team:y,spaceUser:b,invitees:o,optimism:l,guestFeatureAvailability:v,internalGuestFeatureAvailability:f,publicPageDataGuestSetting:d})}),[h,b,_,y,o,v,f,l,d])}function p(e){const t=(0,s().v3)(),a=(0,n().K8)((()=>null==e?void 0:e.getModel()),[e]),i=(0,n().K8)((()=>{if(null==e||!e.id)return;const a=l().A.getData(t,{spaceId:e.id});return a?{id:a.id,disable_guests:a.disableGuests,getSettings:()=>({disable_membership_requests:!1,enable_guest_invite_requests:a.enableGuestInviteRequest})}:void 0}),[e,t]);return a??i}function g(e){return(0,n().K8)((()=>null==e?void 0:e.getModel()),[e])??{isMember:()=>!1,isWorkspaceOwner:()=>!1}}function m(e,t){const a=(0,n().K8)((()=>null==t?void 0:t.getModel()),[t]);return(0,n().K8)((()=>null==e?void 0:e.isMember()),[e])?a:{getDisableGuests:()=>!1}}},692026:(e,t,a)=>{a.d(t,{C:()=>n});var s=()=>a(534177);function n(e){return e.isGuestInviteRequest()?"guest_invite_request":e.isPageAccessRequest()?"page_access_request":e.isSpaceMembershipRequest()?"space_membership_request":e.isTeamMembershipRequest()?"team_membership_request":void(0,s().HB)(e)}}}]);