"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[75155],{693163:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});n(898992),n(672577);var o=n(296540),s=()=>n(484714),i=()=>n(56366),r=()=>n(401497),d=()=>n(668725),l=()=>n(66913),a=()=>n(959013),c=()=>n(284371),u=()=>n(977239),h=()=>n(437622),g=()=>n(351360),f=()=>n(994641),p=()=>n(704152),A=()=>n(493823),m=()=>n(760217),x=()=>n(297872),y=()=>n(957986),b=()=>n(933117),B=n(474848);const j=(0,a().YK)({headerTitle:{id:"salesforceAuthModal.header.title",defaultMessage:"Connect to Salesforce"},integrationInfo:{id:"salesforceAuthModal.integrationInfo",defaultMessage:"Connect your Salesforce account to Notion to access your Salesforce data in Notion."},permissions:{id:"salesforceAuthModal.permissions",defaultMessage:"Permissions"},nonAdminUserWarning:{id:"salesforceAuthModal.nonAdminUserWarning",defaultMessage:"Only workspace admins can connect to Salesforce. Contact your admin to setup this integration."}}),v=[{key:"double_auth",title:(0,B.jsx)(a().sA,{id:"salesforceAuthModal.doubleAuth",defaultMessage:"Require authentication"}),description:(0,B.jsx)(a().sA,{id:"salesforceAuthModal.doubleAuthDescription",defaultMessage:"Members will be required to authenticate with Salesforce to use this integration."})},{key:"unrestricted",title:(0,B.jsx)(a().sA,{id:"salesforceAuthModal.unrestricted",defaultMessage:"Allow everyone to use this integration"}),description:(0,B.jsx)(a().sA,{id:"salesforceAuthModal.unrestrictedDescription",defaultMessage:"All members in your workspace will be able to use this integration without additional authentication."})}];function k(){const e=(0,s().v3)(),{open:t,selectedAccess:n,flowId:k,from:w}=(0,i().K8)((()=>{const e=f().A.state;return{open:e.open,selectedAccess:e.open&&v.find((t=>t.key===e.selectedAccess))||v[0],flowId:e.open&&e.flowId,from:e.open&&e.from}}),[]),{spaceId:I,isAdminUser:M}=(0,i().K8)((()=>{const e=g().default.state.currentSpaceStore;return{spaceId:null==e?void 0:e.id,isAdminUser:(0,h().p4)(e)}}),[]),S=(0,o.useCallback)((e=>{const t=f().A.state;t.open&&f().A.setState({...t,selectedAccess:e.key})}),[]),C=(0,o.useCallback)((async()=>{I&&k&&w&&await u().jI({environment:e,spaceId:I,flowId:k,from:w})}),[k,w,e,I]),H=(0,r().IS)((e=>({chevron:{width:12,height:12,color:e.lightIconColor,paddingTop:1,paddingLeft:4,flexShrink:0},wrapper:{padding:"20px 14px 10px 14px",minHeight:300,height:"100%",display:"flex",flexDirection:"column",gap:12},header:{fontWeight:c().Wy.medium,fontSize:17,textAlign:"center"},info:{flexGrow:1,height:"100%",fontSize:13},connectButton:{fontWeight:500,background:e.outlineBlueButtonHoveredBackground,textAlign:"center",justifyContent:"center"},connectButtonHoveredOrPressed:{background:e.outlineBlueButtonPressedBackground},selectButton:{display:"flex",alignItems:"center"},closeButton:{position:"absolute",top:14,right:14,zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:20,height:20},closeButtonHover:{background:e.buttonPressedBackground},closeButtonIcon:{width:14,fill:e.mediumTextColor}})),[]),T={items:v,getKey:e=>e.key,selectedItem:n,onSelect:S,renderItem:e=>(0,B.jsx)(m().A,{...e,style:{width:"100%",paddingTop:6,paddingBottom:6},title:e.value.title,body:e.value.description,focused:!1}),width:"100%",renderOrigin:e=>(0,B.jsxs)(A().p,{...e,style:H.selectButton,children:[n.title,(0,d().b)(H.chevron)]})};return(0,B.jsx)(y().A,{open:t,innerStyle:{width:450,height:"fit-content",borderRadius:5,maxHeight:675,padding:6},render:()=>(0,B.jsx)(x().A,{capture:!0,allowEsc:!0,render:()=>(0,B.jsxs)("div",{style:H.wrapper,children:[(0,B.jsx)(p().A,{onClick:()=>{f().A.reset()},style:H.closeButton,hoveredStyle:H.closeButtonHover,children:(0,l().V)(H.closeButtonIcon)}),(0,B.jsx)("div",{style:H.header,children:(0,B.jsx)(a().sA,{...j.headerTitle})}),M?(0,B.jsxs)("div",{style:H.info,children:[(0,B.jsx)("div",{style:{marginBottom:4},children:(0,B.jsx)(a().sA,{...j.integrationInfo})}),(0,B.jsx)("div",{style:{marginBottom:12},children:(0,B.jsx)(a().sA,{...j.permissions})}),(0,B.jsx)(b().A,{...T})]}):(0,B.jsx)("div",{style:H.info,children:(0,B.jsx)("div",{style:{marginBottom:4},children:(0,B.jsx)(a().sA,{...j.nonAdminUserWarning})})}),(0,B.jsx)(A().p,{isBlue:M,isGray:!M,disabled:!M,style:H.connectButton,hoveredStyle:H.connectButtonHoveredOrPressed,pressedStyle:H.connectButtonHoveredOrPressed,onClick:C,children:(0,B.jsx)(a().sA,{id:"connectedAppSettingsDiscoverItem.connectButton.label",defaultMessage:"Connect"})})]})}),onDismiss:()=>{f().A.reset()}})}}}]);