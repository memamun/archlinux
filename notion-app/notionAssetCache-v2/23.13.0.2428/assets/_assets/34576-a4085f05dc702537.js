"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[34576],{3486:(e,t,o)=>{o.d(t,{d:()=>l});var r=()=>o(278238);const n={light:{gray:{stroke:{secondary:"rgba(84, 72, 49, 0.15)"},fill:{primary:"rgba(84, 72, 49, 0.15)",secondary:"rgba(84, 72, 49, 0.08)",tertiary:"rgba(84, 72, 49, 0.04)"},text:{primary:"#1D1B16"}},red:{stroke:{secondary:"rgba(244, 171, 159, 0.40)"},fill:{primary:"rgba(244, 171, 159, 0.40)",secondary:"rgba(244, 171, 159, 0.40)",tertiary:"rgba(243, 136, 118, 0.07)"},text:{primary:"#5D1715"}},brown:{stroke:{secondary:"rgba(210, 162, 141, 0.35)"},fill:{primary:"rgba(210, 162, 141, 0.35)",secondary:"rgba(210, 162, 141, 0.17)",tertiary:"rgba(210, 162, 141, 0.07)"},text:{primary:"#442A1E"}},orange:{stroke:{secondary:"rgba(224, 124, 57, 0.27)"},fill:{primary:"rgba(224, 124, 57, 0.27)",secondary:"rgba(224, 124, 57, 0.15)",tertiary:"rgba(224, 124, 57, 0.07)"},text:{primary:"#49290E"}},yellow:{stroke:{secondary:"rgba(236, 191, 66, 0.39)"},fill:{primary:"rgba(236, 191, 66, 0.39)",secondary:"rgba(215, 177, 24, 0.15)",tertiary:"rgba(215, 177, 24, 0.07)"},text:{primary:"#402C1B"}},green:{stroke:{secondary:"rgba(123, 183, 129, 0.27)"},fill:{primary:"rgba(123, 183, 129, 0.27)",secondary:"rgba(123, 183, 129, 0.15)",tertiary:"rgba(123, 183, 129, 0.07)"},text:{primary:"#1C3829"}},blue:{stroke:{secondary:"rgba(93, 165, 206, 0.27)"},fill:{primary:"rgba(93, 165, 206, 0.27)",secondary:"rgba(95, 167, 208, 0.15)",tertiary:"rgba(91, 166, 209, 0.07)"},text:{primary:"#183347"}},purple:{stroke:{secondary:"rgba(168, 129, 197, 0.27)"},fill:{primary:"rgba(168, 129, 197, 0.27)",secondary:"rgba(204, 170, 229, 0.15)",tertiary:"rgba(206, 175, 229, 0.07)"},text:{primary:"#412454"}},pink:{stroke:{secondary:"rgba(225, 136, 179, 0.27)"},fill:{primary:"rgba(225, 136, 179, 0.27)",secondary:"rgba(235, 159, 196, 0.15)",tertiary:"rgba(231, 147, 188, 0.07)"},text:{primary:"#4C2337"}}},dark:{gray:{stroke:{secondary:"rgba(255, 255, 255, 0.09)"},fill:{primary:"rgba(255, 255, 255, 0.13)",secondary:"rgba(255, 255, 255, 0.09)",tertiary:"rgba(255, 255, 255, 0.03)"},text:{primary:"rgba(255, 255, 255, 0.81)"}},red:{stroke:{secondary:"rgba(222, 85, 85, 0.25)"},fill:{primary:"rgba(222, 85, 84, 0.30)",secondary:"rgba(222, 85, 84, 0.30)",tertiary:"rgba(222, 85, 88, 0.10)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},brown:{stroke:{secondary:"rgba(184, 101, 69, 0.25)"},fill:{primary:"rgba(184, 101, 68, 0.30)",secondary:"rgba(184, 101, 68, 0.30)",tertiary:"rgba(184, 101, 72, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},orange:{stroke:{secondary:"rgba(233, 126, 37, 0.20)"},fill:{primary:"rgba(233, 126, 36, 0.30)",secondary:"rgba(233, 126, 36, 0.30)",tertiary:"rgba(233, 126, 40, 0.06)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},yellow:{stroke:{secondary:"rgba(179, 129, 61, 0.20)"},fill:{primary:"rgba(231, 161, 55, 0.30)",secondary:"rgba(231, 161, 55, 0.30)",tertiary:"rgba(162, 105, 50, 0.10)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},green:{stroke:{secondary:"rgba(45, 153, 100, 0.20)"},fill:{primary:"rgba(45, 153, 100, 0.30)",secondary:"rgba(45, 153, 100, 0.30)",tertiary:"rgba(45, 153, 100, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},blue:{stroke:{secondary:"rgba(51, 126, 169, 0.20)"},fill:{primary:"rgba(51, 126, 169, 0.33)",secondary:"rgba(51, 126, 169, 0.33)",tertiary:"rgba(51, 126, 169, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},purple:{stroke:{secondary:"rgba(155, 97, 211, 0.18)"},fill:{primary:"rgba(155, 97, 211, 0.28)",secondary:"rgba(155, 97, 211, 0.28)",tertiary:"rgba(155, 97, 211, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},pink:{stroke:{secondary:"rgba(220, 76, 145, 0.22)"},fill:{primary:"rgba(220, 76, 145, 0.30)",secondary:"rgba(220, 76, 145, 0.30)",tertiary:"rgba(220, 76, 145, 0.06)"},text:{primary:"rgba(255, 255, 255, 0.87)"}}}};function l(e,t){const o=(0,r().VA)(e),l="lightgray"===o?"gray":o;return{...n[t.mode][l],icon:{primary:r().l8[t.mode][l]}}}},35091:(e,t,o)=>{o.d(t,{A:()=>n});o(296540);var r=o(474848);const n=function(e){let{switcherProps:t,...n}=e;return(0,r.jsx)(o(497222).A,{right:(0,r.jsx)(o(946548).A,{onClick:n.onClick,disabled:n.disabled,...t}),...n})}},44750:(e,t,o)=>{o.d(t,{Z:()=>C,p:()=>j});o(16280),o(581454),o(296540);var r=()=>o(484714),n=()=>o(56366),l=()=>o(401497),i=()=>o(663077),a=()=>o(970013),c=()=>o(534177),s=()=>o(686526),p=()=>o(317909),d=()=>o(736982),m=()=>o(519839),g=()=>o(989423),u=()=>o(972435),y=()=>o(32454),f=()=>o(101926),S=()=>o(513349),b=()=>o(913454),v=()=>o(204067),h=()=>o(272752),w=()=>o(362941),x=()=>o(960127),I=()=>o(342288),k=()=>o(902842),T=o(474848);function C(e){let{environment:t,template:o,isInSuggestedSection:r,collectionContextStore:n}=e;return{key:o.templateId,action:()=>{if(r)j({environment:t,template:o,collectionContextStore:n,suggestedFeatureAnalytics:void 0});else{const{collectionStore:e,collectionViewStore:r,collectionSettingsStore:l}=(0,h().i)(n);(0,S().UD)({template:o,environment:t,collectionStore:e,collectionViewStore:r,collectionSettingsStore:l,collectionContextStore:n})}},render:e=>(0,T.jsx)(_,{buttonMenuItemProps:e,template:o,isInSuggestedSection:r})}}function j(e){let{environment:t,collectionContextStore:o,template:r,suggestedFeatureAnalytics:n}=e;const l=o.collectionStore();if(!l)throw new Error("collectionStore not found");const a=l.getWorkflowTemplateId();n&&(0,g().u4)({environment:t,event:{eventName:"suggested_feature_template_clicked",eventProperties:{origin:n.origin,selected_index:n.selectedIndex,template_ids_shown:n.shownTemplateIds,template_id_clicked:r.templateId,collection_template_id:a}}});const c=o.settingsStore;if((0,x().isWorkflowTemplateWithConfirmStep)(r))s().a2({collectionSettingsStore:c,item:{type:"confirmAddTemplate",template:r}});else if((0,i().Sz)(r)){const{relatedCollectionTemplateId:e}=r;!function(e){var t;let{environment:o,template:r,collectionStore:n,relatedCollectionTemplateId:l}=e;const i=null===(t=n.getParentBlockStore())||void 0===t?void 0:t.getParentStore();if(!i)throw new Error(`parentStore not found for ${n.id}`);if(!(0,b().isCollectionTemplateParentStore)(i))throw new Error(`Incorrect parent store: ${i.table} ${i.id}`);const a=b().globalWorkflowTemplates.fromIdOfType({templateId:l,type:"collection"});(0,y().openSelectedTemplateOnboardingModalForInAppFlows)({environment:o,template:a,origin:"suggested_feature_template",parentStore:i,navigateToOnFinish:"skip",relationInfos:[{type:"source",collectionStore:n,relationPropertyTemplate:r}],aiPrompt:void 0})}({environment:t,template:r,collectionStore:l,relatedCollectionTemplateId:e})}else p().createAndCommit({userAction:"FeatureTemplateMenuItem.addFeatureTemplateToTarget",environment:t,canUndo:!0,perform:e=>{f().ai({environment:t,transaction:e,collectionStore:l,template:r,logger:new(b().WorkflowTemplateLogger),origin:"suggested_feature"}),n&&(0,g().u4)({environment:t,event:{eventName:"suggested_feature_template_added",eventProperties:{origin:n.origin,template_id_added:r.templateId,collection_template_id:a}}});const i=o.collectionViewStore();i&&S().UD({template:r,environment:t,collectionStore:l,collectionViewStore:i,collectionSettingsStore:c,collectionContextStore:o})}})}function _(e){let{buttonMenuItemProps:t,template:o,isInSuggestedSection:i}=e;const s=(0,l().IS)((e=>({iconContainer:{height:28,width:28,display:"flex",alignItems:"center",justifyContent:"center"},icon:{fill:e.regularIconColor}})),[]),{collectionStore:p}=(0,h().V)(),g=(0,r().v3)(),y=(0,n().K8)((()=>(0,v().NU)({environment:g,collectionStore:p,templateId:o.templateId})),[g,p,o.templateId]),f=(0,n().K8)((()=>function(e){let{template:t,collectionStore:o}=e;const{type:r}=t;switch(r){case"property":const{value:e}=t;if((0,a().DQ)(e)){const r=function(e){let{templateId:t,propertyTemplateSchema:o,collectionStore:r}=e;const n=(0,v().S1)({collectionStore:r,templateId:t,instancePointerType:"property"});if(!n)return o.options??[];const l=r.getSchema()[n.id];if(!l||!(0,a().DQ)(l))return[];return l.options??[]}({templateId:t.templateId,propertyTemplateSchema:e,collectionStore:o}).map((e=>e.value));return(0,b().getWorkflowTemplateItemsCaption)(r)}return;case"collection_view":return`${u().A.formatMessage(m().Xg[t.value.type])} view`;case"compound":return;default:(0,c().HB)(r)}}({template:o,collectionStore:p})),[o,p]),S=(0,b().getWorkflowTemplateName)(o);return i?(0,T.jsx)(d().I,{buttonMenuItemProps:t,title:S,icon:(0,T.jsx)(k().n,{template:o}),right:(0,T.jsx)(I().z,{isAdded:y})}):(0,T.jsx)(d().I,{buttonMenuItemProps:t,title:S,caption:f,icon:(0,T.jsx)("div",{style:s.iconContainer,children:(0,T.jsx)(k().z,{template:o,iconStyle:s.icon})}),right:(0,T.jsx)(w()._,{})})}},200277:(e,t,o)=>{o.d(t,{$:()=>g,N:()=>d});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(823215),o(354520),o(581454);var r=()=>o(428045),n=()=>o(663077),l=()=>o(496603),i=()=>o(534177),a=()=>o(299545),c=()=>o(338907),s=()=>o(913454),p=()=>o(204067);function d(e,t){const o=(0,p().Xg)(e,t),r=new Set(function(e){const t=e.getParentBlockStore();if(null==t||!t.isDefined())return[];return(null==t?void 0:t.getCollectionViewStores().map((e=>e.getName())).filter(i().O9))??[]}(t));return function(e){const t=new Set(e.map((e=>e.templateId))),o=[];for(const r of e)o.push(...m(r).filter((e=>!t.has(e))).map((e=>s().globalWorkflowTemplates.fromId(e))).filter(n().bz).filter((e=>!(0,n().Sz)(e))));return o}(o).filter((e=>"collection_view"!==e.type||!r.has(e.value.name??"")))}function m(e){return"compound"===e.type||"collection"===e.type?e.value.templateItems.filter((e=>"optionalDefaultOn"===e.optionality||"optionalDefaultOff"===e.optionality)).map((e=>e.pointer)):[]}function g(e){let{persona:t,parentStore:o}=e;const n=t?(0,r().Qf)({persona:t,getIsM3_3Enabled:c().Te}):[],i=s().globalWorkflowTemplates.allOfType({templateIds:n??[],type:"collection"}),a=l().hS(u({collectionTemplates:[...i,...s().globalWorkflowTemplates.allOfType({templateIds:(0,r().dj)({isM3_3Enabled:!0}),type:"collection"})],parentStore:o}),(e=>e.templateId)),p=l().hS(u({collectionTemplates:[...i,...s().globalWorkflowTemplates.allOfType({templateIds:(0,r().dj)({isM3_3Enabled:!1}),type:"collection"})],parentStore:o}),(e=>e.templateId));return a.length===p.length&&a.every(((e,t)=>e.templateId===p[t].templateId))?p:(0,c().Te)()?a:p}function u(e){let{collectionTemplates:t,parentStore:o}=e;if(!o)return t;if((0,a().Yu)(o))return t;const r=(0,a().$R)(o)?o.getTeamPageStores():o.getContentStores(),n=new Set,l=new Set;for(const a of r){var i;const e=null===(i=a.getCollectionStore())||void 0===i?void 0:i.getWorkflowTemplateId(),t=e&&(0,s().getCollectionTemplateFromId)(e);t&&(n.add(t.templateId),t.category&&l.add(t.category))}const c=[],p=[];for(const a of t)n.has(a.templateId)||a.category&&l.has(a.category)?c.push(a):p.push(a);return[...p,...c]}},272752:(e,t,o)=>{o.d(t,{V:()=>i,i:()=>a});var r=()=>o(56366),n=()=>o(220719),l=()=>o(175116);function i(){const e=(0,l().ET)(),{collectionStore:t,collectionViewStore:o,collectionSettingsStore:n}=(0,r().K8)((()=>a(e)),[e]);return{collectionStore:t,collectionViewStore:o,collectionSettingsStore:n,collectionContextStore:e}}function a(e){return{collectionStore:(0,n().o9)(e.collectionStore(),"collectionStore not found"),collectionViewStore:(0,n().o9)(e.collectionViewStore(),"collectionViewStore not found"),collectionSettingsStore:e.settingsStore}}},342288:(e,t,o)=>{o.d(t,{z:()=>a});o(296540);var r=()=>o(401497),n=()=>o(831310),l=()=>o(464699),i=o(474848);function a(e){let{isAdded:t}=e;const o=(0,r().IS)((e=>({circle:{height:24,width:24,borderRadius:50,display:"flex",alignItems:"center",justifyContent:"center",background:t?"dark"===e.mode?e.accentColors.blue[100]:e.accentColors.blue[50]:e.lightGrayButtonBackground},plusIcon:{height:15,width:15,fill:e.mediumIconColor},checkIcon:{height:12,width:12,fill:e.blueColor}})),[t]);return(0,i.jsx)("div",{style:o.circle,children:t?(0,n().o)(o.checkIcon):(0,l().b)(o.plusIcon)})}},362941:(e,t,o)=>{o.d(t,{_:()=>i});o(296540);var r=()=>o(401497),n=()=>o(742117),l=o(474848);function i(){const e=(0,r().IS)((e=>({icon:{width:12,fill:e.lightIconColor,marginLeft:6,transition:"transform 200ms ease-in-out"}})),[]);return(0,l.jsx)(l.Fragment,{children:(0,n().V)(e.icon)})}},513349:(e,t,o)=>{o.d(t,{Sj:()=>c,UD:()=>a});o(16280);var r=()=>o(686526),n=()=>o(180762),l=()=>o(204067);const i={property:function(e){let{template:t,collectionStore:n,collectionViewStore:i,collectionSettingsStore:a}=e;const c=(0,l().S1)({collectionStore:n,templateId:t.templateId,instancePointerType:"property"});if(!c)throw new Error(`No property instance found for property template ${t.templateId}`);const s=i.getType();r().a2({collectionSettingsStore:a,item:{type:"property",property:c.id,formatKey:s?o(651124).u9(s):void 0}})},collection_view:function(e){let{template:t,environment:o,collectionStore:r,collectionContextStore:n}=e;const i=(0,l().S1)({collectionStore:r,templateId:t.templateId,instancePointerType:"collection_view"});if(!i)throw new Error(`No collection view instance found for property template ${t.templateId}`);c({environment:o,collectionContextStore:n,collectionViewId:i.id})},compound:function(e){}};function a(e){i[e.template.type](e)}function c(e){var t;let{environment:o,collectionContextStore:l,collectionViewId:i}=e;(null===(t=l.collectionViewStore())||void 0===t?void 0:t.id)!==i&&(0,n().t)({environment:o,collectionContextStore:l,collectionViewId:i,isFullScreen:l.isFullScreenStore.state,isRootChild:l.isRootChildStore.state,isInPeekRenderer:l.isInPeekRendererStore.state}),r().a2({collectionSettingsStore:l.settingsStore,item:{type:"main"}})}},736982:(e,t,o)=>{o.d(t,{I:()=>p,h:()=>s});o(296540);var r=()=>o(484714),n=()=>o(401497),l=()=>o(284371),i=()=>o(760217),a=()=>o(115512),c=o(474848);function s(e){let{environment:t}=e;return{padding:t.device.isMobile?"12px 2px":"6px",alignItems:"center"}}function p(e){let{buttonMenuItemProps:t,title:o,caption:p,icon:d,onClick:m,right:g,isDisabled:u}=e;const y=(0,r().v3)(),f=(0,n().IS)((e=>({menuItem:{display:"flex",...s({environment:y}),opacity:u?.4:void 0},title:{fontSize:(0,a().ny)(y,"UIRegular"),...l().RC},caption:{fontSize:(0,a().ny)(y,"UISmall"),overflow:"hidden",color:e.mediumTextColor,whiteSpace:"nowrap",textOverflow:"ellipsis"}})),[y,u]),S={};return m&&(S.onClick=m),(0,c.jsx)(i().A,{...t,style:f.menuItem,disabled:u,title:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{style:f.title,children:o}),p&&(0,c.jsx)("div",{style:f.caption,children:p})]}),icon:d,right:g,...S})}},902842:(e,t,o)=>{o.d(t,{n:()=>I,z:()=>w});o(16280),o(296540);var r=()=>o(56366),n=()=>o(401497),l=()=>o(663077),i=()=>o(632625),a=()=>o(743176),c=()=>o(278238),s=()=>o(101209),p=()=>o(366295),d=()=>o(462892),m=()=>o(926329),g=()=>o(534177),u=()=>o(745266),y=()=>o(231314),f=()=>o(3486),S=()=>o(913454),b=o(474848);const v=16;function h(e){let{icon:t,theme:o,size:r,style:l}=e;const a=(0,n().IS)((e=>({icon:{fill:(0,f().d)(t,e).icon.primary,...l}})),[t,l]);return(0,b.jsx)(i().A,{icon:t,theme:o,size:r,style:a.icon})}function w(e){var t;let{template:o,size:r,iconStyle:i}=e;const a=r??v,y=(0,n().IS)((()=>({icon:{width:a,height:a,...i}})),[a,i]),f=(0,n().DP)();if((0,l().cB)(o.templateId))return(0,p().L)(y.icon);const{type:S}=o;switch(S){case"property":return(0,b.jsx)(x,{template:o,iconSize:a,styles:y});case"collection_view":return(0,b.jsx)(u().h,{viewIcon:null===(t=o.value.format)||void 0===t?void 0:t.collection_view_icon,viewType:o.value.type,color:"lightGray",style:y.icon});case"layout":return(0,b.jsx)(b.Fragment,{children:(0,d()._)(y.icon)});case"block":return(0,b.jsx)(b.Fragment,{children:(0,m().b)(y.icon)});case"collection":case"compound":const e="collection"===o.type?o.value.targetCollection.icon:o.icon;if(!(0,c().T8)(e))throw new Error("Only Notion static icons are allowed for template icons");return(0,b.jsx)(h,{icon:e,theme:f,size:a,style:y.icon});case"automation":return(0,b.jsx)(b.Fragment,{children:(0,s().v)(y.icon)});default:(0,g().HB)(S)}}function x(e){let{template:t,iconSize:o,styles:l}=e;const i=(0,n().DP)(),c=(0,r().K8)((()=>{const{relatedCollectionTemplateId:e}=t;if("relation"===t.value.type&&e){return S().globalWorkflowTemplates.fromIdOfType({templateId:e,type:"collection"}).value.targetCollection.icon}return t.value.icon}),[t]);return(0,b.jsx)(a().Ay,{type:t.value.type,icon:c,size:o,style:l.icon,theme:i})}function I(e){let{template:t,backgroundSize:o}=e;const r=(0,n().IS)((e=>({iconContainer:{background:k({theme:e,template:t})[30]},icon:{fill:k({theme:e,template:t})[400]}})),[t]);return(0,b.jsx)(y().y,{backgroundColor:r.iconContainer.background,backgroundSize:o,icon:(0,b.jsx)(w,{template:t,iconStyle:r.icon})})}function k(e){let{theme:t,template:o}=e;const{type:r}=o;switch(r){case"collection_view":case"automation":return t.accentColors.blue;case"property":return"relation"===o.value.type?t.accentColors.yellow:t.accentColors.red;case"layout":return t.accentColors.orange;case"block":return t.accentColors.purple;case"compound":return t.accentColors.green;case"collection":return t.accentColors.pink;default:(0,g().HB)(r)}}},960127:(e,t,o)=>{o.r(t),o.d(t,{WorkflowSettingsConfirmAddTemplate:()=>j,isWorkflowTemplateWithConfirmStep:()=>P});o(16280);var r=o(296540),n=()=>o(484714),l=()=>o(401497),i=()=>o(663077),a=()=>o(959013),c=()=>o(496603),s=()=>o(686526),p=()=>o(317909),d=()=>o(735695),m=()=>o(35091),g=()=>o(678553),u=()=>o(204063),y=()=>o(89924),f=()=>o(175116),S=()=>o(989423),b=()=>o(101926),v=()=>o(513349),h=()=>o(913454),w=(o(581454),()=>o(784892)),x=()=>o(399762),I=o(474848);function k(e){let{template:t,style:o}=e;const r=(0,l().IS)((e=>({container:{...o,padding:12,border:`1px solid ${e.regularDividerColor}`,borderRadius:6}})),[o]),n=function(e){if((0,i().Xq)(e,"property")&&(0,i().Io)(e)){const{options:t=[]}=e.value;if(0===t.length)return;return(0,I.jsx)(T,{options:t})}}(t);return n?(0,I.jsx)("div",{style:r.container,children:n}):null}function T(e){let{options:t}=e;const o=(0,l().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:8}})),[]);return(0,I.jsx)("div",{style:o.container,children:t.map((e=>(0,I.jsx)("div",{children:(0,I.jsx)(x().O,{format:w().NY.Medium,isSingle:!0,value:e.value,color:e.color,showRemoveButton:!1})},e.id)))})}var C=()=>o(902842);function j(e){let{template:t,collectionSettingsStore:o}=e;const[i,c]=(0,r.useState)("sample"===t.propertyOptionsType),{device:{isMobile:s}}=(0,n().v3)(),p=(0,l().IS)((e=>{const t={display:"flex",flexDirection:"column",minHeight:0};return{shrinkableHeight:t,noShrink:{flexShrink:0},featurePreviewWrapper:{...t,width:"-webkit-fill-available"},featurePreviewBody:{...t,gap:16,...s?{margin:"16px 0"}:{margin:0}},featurePreview:{...t,overflow:"auto"},addButtonContainer:{...s?{margin:"12px 0"}:{marginBottom:6}}}}),[s]),u=(0,h().getWorkflowTemplateName)(t);return(0,I.jsxs)(d().Ay,{collectionSettingsStore:o,title:(0,I.jsx)(a().sA,{id:"workflowTemplateSettings.confirmAddTemplate.title",defaultMessage:"Turn on {templateName}",values:{templateName:u}}),disableScroller:!0,menuScrollerStyle:p.shrinkableHeight,innerContentWrapperStyle:p.shrinkableHeight,children:[(0,I.jsx)(y().A,{style:p.shrinkableHeight,children:(0,I.jsx)(g().A,{style:p.shrinkableHeight,textWrapperStyle:p.featurePreviewWrapper,bodyStyle:p.featurePreviewBody,body:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(_,{template:t,style:p.noShrink}),(0,I.jsx)(k,{template:t,style:p.featurePreview})]})})}),(0,I.jsx)(y().A,{style:p.noShrink,children:t.value.options&&t.value.options.length>0&&(0,I.jsx)(m().A,{title:(0,I.jsx)(a().sA,{id:"workflowTemplateSettings.confirmAddTemplate.propertyOptionsToggle",defaultMessage:"Set my own options"}),switcherProps:{on:i,disallowTabbing:!0},onClick:()=>{c(!i)}})}),(0,I.jsx)(y().A,{style:p.noShrink,children:(0,I.jsx)(g().A,{body:(0,I.jsx)(A,{template:t,startEmpty:i}),bodyStyle:p.addButtonContainer})})]})}function _(e){let{template:t,style:o}=e;const r=(0,n().Y0)(),a=(0,l().IS)((()=>({container:{...o,display:"flex",alignItems:"center",gap:12},textWrapper:{lineHeight:r.isMobile?"20px":"18px"},title:{fontSize:r.isMobile?16:13},caption:{fontSize:r.isMobile?14:12,overflow:"hidden",color:"gray",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),[r,o]),c=(0,h().getWorkflowTemplateName)(t),s=(0,i().Uy)(t);return(0,I.jsxs)("div",{style:a.container,children:[(0,I.jsx)(C().n,{template:t,backgroundSize:32}),(0,I.jsxs)("div",{style:a.textWrapper,children:[(0,I.jsx)("div",{style:a.title,children:c}),s&&(0,I.jsx)("div",{style:a.caption,children:s})]})]})}function A(e){let{template:t,startEmpty:o}=e;const r=(0,l().IS)((()=>({section:{paddingTop:12,paddingBottom:12},button:{width:"100%"}})),[]),i=(0,n().v3)(),d=(0,f().ET)(),m=(0,h().getWorkflowTemplateName)(t),g=c().mg(t);return o&&delete g.value.options,(0,I.jsx)(u().A,{style:r.button,size:"lg",onClick:()=>{p().createAndCommit({userAction:"WorkflowSettingsConfirmAddTemplate.addFeatureTemplateToTarget",environment:i,canUndo:!0,perform:e=>{const o=d.collectionStore();if(!o)throw new Error("collectionStore not found");b().ai({environment:i,transaction:e,collectionStore:o,template:g,logger:new(h().WorkflowTemplateLogger),origin:"suggested_feature"});const r=d.settingsStore;s().yl({collectionSettingsStore:r});const n=o.getWorkflowTemplateId();(0,S().u4)({environment:i,event:{eventName:"suggested_feature_template_added",eventProperties:{origin:"suggested_properties",template_id_added:t.templateId,collection_template_id:n}}});const l=d.collectionViewStore();l&&(0,v().UD)({template:t,environment:i,collectionStore:o,collectionViewStore:l,collectionSettingsStore:r,collectionContextStore:d})}})},children:(0,I.jsx)(a().sA,{id:"workflowTemplateSettings.confirmAddTemplate.button",defaultMessage:"Add {templateName}",values:{templateName:m}})})}function P(e){return"property"===e.type&&("select"===e.value.type||"multi_select"===e.value.type)}}}]);