"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[68224],{43972:(e,t,s)=>{s.d(t,{w:()=>l});s(296540);var o=()=>s(764880),i=()=>s(534177),n=()=>s(256863),r=()=>s(453697),a=s(474848);function l(e){const{actor:t}=e,s={size:e.size??14,style:{marginRight:2,...e.style}};return(0,o().H3)(t)?(0,a.jsx)(n().A,{botValue:t.asActor,...s}):(0,o().ps)(t)?(0,a.jsx)(r().A,{userValue:t.asActor,...s}):(0,o().h2)(t)?(0,a.jsx)(r().A,{userValue:void 0,...s}):void(0,i().HB)(t)}},67696:(e,t,s)=>{s.d(t,{y:()=>p});var o=s(296540),i=()=>s(56366),n=()=>s(401497),r=()=>s(959013),a=()=>s(745766),l=()=>s(907514),c=()=>s(962730),d=()=>s(706965),u=()=>s(859428),m=s(474848);function p(e){const{store:t,isExpanded:s,isWindowSmall:p,isElectron:h,isShowingTabBar:g,style:b}=e,x=(0,n().DP)(),v=(0,i().K8)((()=>t.getLastEditedTime()),[t]),[S,A]=(0,o.useState)("flex"),[y,f]=(0,o.useState)(0);(0,o.useEffect)((()=>{let e;return s||p?s?(f(0),A("none")):(f(0),e=setTimeout((()=>A("none")),150)):(A("flex"),e=setTimeout((()=>f(1)),150)),()=>clearTimeout(e)}),[s,p]);const j=v?(0,l().nl)(v,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):"";return j?(0,m.jsx)("span",{style:{opacity:y,transition:"opacity 150ms linear",display:S,alignItems:"center",fontSize:14,color:x.lightTextColor,height:28,whiteSpace:"nowrap",lineHeight:1.2,...b},children:(0,m.jsx)("div",{style:{display:"flex",flexFlow:"wrap"},children:(0,m.jsx)(u().A,{placement:c().W.Bottom,alignment:c().C.Start,renderTooltip:()=>(0,m.jsx)(d().A,{store:t,compactFormat:!0}),render:e=>{return(0,m.jsx)("div",{...e,style:{...(0,a().g)({noDrag:h&&!g})},children:(t=j,(0,m.jsx)(r().sA,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:t}}))});var t}})})}):null}},164664:(e,t,s)=>{s.d(t,{A:()=>o});const o=new(s(463830).A)},441712:(e,t,s)=>{s.r(t),s.d(t,{PublicSharingTopbar:()=>w});s(296540);var o=()=>s(484714),i=()=>s(56366),n=()=>s(835066),r=()=>s(67696),a=()=>s(746084),l=()=>s(13679),c=()=>s(764172),d=()=>s(281401),u=()=>s(70191),m=()=>s(863059),p=()=>s(813401),h=()=>s(200562),g=()=>s(783423),b=()=>s(644914),x=()=>s(351360),v=()=>s(77246),S=()=>s(948914),A=()=>s(164664),y=()=>s(795179),f=()=>s(538233),j=s(474848);function w(e){const{store:t,showSidebarButton:s,isInvalidPage:w,isElectron:k}=e,B=(0,o().v3)(),{isMobile:C}=B.device,T=(0,i().K8)((()=>(0,b().Nk)(B)),[B]),P=(0,i().K8)((()=>(0,n().xK)(B,!1)<1150),[B]),E=(0,i().K8)((()=>t.isFormBlock()),[t]),{currentSpaceStore:_}=(0,i().O$)(x().default),{isShowingTabBar:K}=(0,i().O$)(S().A),D=(0,i().K8)((()=>{var e;return"suggest"===(null===(e=v().Uv.getStateForBlock(t.id))||void 0===e?void 0:e.mode)}),[t.id]),F=(0,m().Kh)({shouldRenderTemplateGalleryTopbar:!1});return(0,j.jsx)(l().A,{store:t,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,j.jsxs)("div",{style:F,onDoubleClick:d().mz,children:[s&&(0,j.jsx)(h().z,{}),u().E({isElectron:k,isShowingTabBar:K}),!E&&u().s({store:t,isInvalidPage:w}),(0,j.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),!E&&(0,j.jsx)(r().y,{store:t,isExpanded:T,isWindowSmall:P,isElectron:k,style:{marginRight:12},isShowingTabBar:K??!1}),!C&&(0,j.jsxs)(j.Fragment,{children:[D&&(0,j.jsx)(g().M,{store:t,isVisible:!0}),(0,j.jsx)(c().Ay,{blockStore:t,spaceStore:_,buttonPopupStore:A().A}),(0,j.jsx)(p().E,{store:t,buttonPopupStore:f().A}),(0,j.jsx)(a().A,{store:t,buttonPopupStore:y().A,useEllipsisIcon:!0,isPublicShareLink:!0})]})]})})}},764172:(e,t,s)=>{s.d(t,{Ay:()=>h,tS:()=>p,xG:()=>g});s(898992),s(737550);var o=s(296540),i=()=>s(484714),n=()=>s(56366),r=()=>s(401497),a=()=>s(959013),l=()=>s(100622),c=()=>s(116008),d=()=>s(644914),u=s(474848);const m=(0,a().YK)({updates:{id:"topbar.commentsButton.title",defaultMessage:"Comments"}});function p(){const e=(0,i().v3)(),{isMobile:t}=e.device,{dot:s}=(0,r().IS)((e=>({dot:{position:"absolute",top:t?6:1.8,right:t?10:5.5,height:11,width:11,border:`2px solid ${e.whiteButtonBackground}`,borderRadius:12,background:l().Ay.red,pointerEvents:"none"}})),[t]);return(0,u.jsx)("div",{style:s})}const h=function(e){let{blockStore:t}=e;const r=(0,a().tz)(),l=(0,i().v3)(),{value:h}=(0,s(645873).fJ)(s(774733).commentsDependency),g=(0,n().K8)((()=>{if(!h)return!1;const{discussionViewActions:e,discussionHelpers:{getDiscussionsForSidebar:s,getAndSortCommentStoresByTime:o}}=h;return s({blockStore:t,ignoreAfterTime:Date.now()}).some((t=>!t.getResolved()&&o(t).some((s=>e.isCommentUnread({discussionStore:t,commentStore:s})))))}),[h,t]),b=(0,s(963589).X)("comment_sidebar_for_you"),x=(0,n().K8)((()=>b?d().Nk(l):d().me(l)),[l,b]),v=x?(0,u.jsx)("div",{style:{textAlign:"center"},children:(0,u.jsx)(a().sA,{defaultMessage:"Close all comments",id:"topbar.commentsButton.closeSidebartTooltip"})}):(0,u.jsx)("div",{style:{textAlign:"center"},children:(0,u.jsx)(a().sA,{defaultMessage:"View all comments",id:"topbar.commentsButton.openSidebartTooltip"})}),S=(0,n().K8)((()=>(s(555776).A.state.isActivelyComposing||c().A.hasContent())&&c().A.isDraftCommentOnValidSelection()&&c().A.ifPropertyCommentShouldDisplay()),[]),A=(0,s(863059).gQ)(),y=(0,o.useCallback)((()=>{var e;const o=null==h||null===(e=h.discussionHelpers)||void 0===e?void 0:e.getDiscussions,i=!!o&&o(t).length>0,n=c().A.state.open;(0,s(989423).u4)({environment:l,event:{eventName:"topbar_comments_menu_click",eventProperties:{has_discussions:i,has_unread_indicator:g||n}}}),s(869562).handleSidebarButtonClick(l,t,s(737230).tF.Comments,"topbar")}),[l,t,g,h]);return(0,u.jsx)(s(859428).A,{placement:s(962730).W.Bottom,renderTooltip:()=>v,render:e=>(0,u.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[(0,u.jsx)(s(285790).A,{...e,icon:s(49621).h,iconStyle:A.icon,onClick:y,style:A.iconButton,ariaLabel:r.formatMessage(m.updates),hovered:x&&!s(712505).default.state.open,className:s(38337).rm}),(g||S)&&(0,u.jsx)(p,{})]})})};function g(e){const{device:t,isPersonalHomePage:s,isFormBlock:o,store:i}=e,n=i.isPost()&&!i.isPublishedPost();return!t.isMobile&&!s&&!o&&(!i.isCollectionView()||i.isCollectionViewPageWithContent())&&!n}},813401:(e,t,s)=>{s.d(t,{E:()=>n});var o=()=>s(645873);const i=new(o().O2)("topbarShareButton",(async()=>await Promise.all([s.e(23806),s.e(75134),s.e(43380),s.e(9304),s.e(96346),s.e(36192),s.e(44711),s.e(53321),s.e(16471),s.e(90825),s.e(37353),s.e(49889),s.e(97727),s.e(55373),s.e(29151),s.e(16908),s.e(62475),s.e(3151),s.e(98629),s.e(58550),s.e(22900),s.e(85128),s.e(95555),s.e(90409),s.e(63077),s.e(74562),s.e(95794),s.e(46414),s.e(8184),s.e(99353),s.e(52681),s.e(14518),s.e(17713),s.e(28271),s.e(17254),s.e(4422),s.e(59794),s.e(67435),s.e(75355),s.e(48315),s.e(47123),s.e(847),s.e(5887),s.e(70769),s.e(97965),s.e(17989),s.e(3965),s.e(38911),s.e(9034),s.e(52012),s.e(56985),s.e(50142),s.e(20838),s.e(21627),s.e(88860),s.e(83210),s.e(26090),s.e(82472),s.e(96345),s.e(10596),s.e(73285),s.e(75659),s.e(78846),s.e(47858),s.e(13324),s.e(51860),s.e(15724),s.e(81141),s.e(27274),s.e(99346),s.e(92448),s.e(65638),s.e(72915),s.e(28721),s.e(69689),s.e(23463),s.e(25426),s.e(6463),s.e(91056),s.e(26483),s.e(29333),s.e(5396),s.e(1440),s.e(34576),s.e(95810),s.e(89109),s.e(3560),s.e(77169),s.e(24071),s.e(68610),s.e(67064),s.e(49978),s.e(3720),s.e(47762),s.e(85475),s.e(11740),s.e(97996),s.e(5066),s.e(35299),s.e(68117),s.e(14267),s.e(33731),s.e(30016),s.e(14410),s.e(49471),s.e(31185),s.e(75681)]).then(s.bind(s,136805)))),n=(0,o()._h)(i,(e=>e.TopbarShareButton))}}]);