"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[9295],{173187:(e,t,r)=>{r.d(t,{Z:()=>i});const i=(0,r(340498).xh)("personCropCircleDashed",{default:{loader:()=>r.e(57278).then(r.bind(r,357278))},small:{loader:()=>r.e(91724).then(r.bind(r,291724))},mini:{loader:()=>r.e(46304).then(r.bind(r,846304))},large:{loader:()=>r.e(41440).then(r.bind(r,641440))}})},466017:(e,t,r)=>{r.r(t),r.d(t,{SidebarSwitcherGuestWorkspacePopupButton:()=>k});var i=r(296540),n=()=>r(484714),o=()=>r(401497);const s=(0,r(340498).xh)("arrowChevronSingleRight",{default:{loader:()=>r.e(46039).then(r.bind(r,222334))},small:{loader:()=>r.e(49541).then(r.bind(r,906380))},fill:{loader:()=>r.e(12483).then(r.bind(r,944924))},fillSmall:{loader:()=>r.e(46936).then(r.bind(r,158115))}},["chevron","right","arrow","direction","forward"]);var a=()=>r(959013),l=()=>r(760217),c=()=>r(406699),d=()=>r(460292),u=(r(944114),r(898992),r(354520),()=>r(56366)),p=()=>r(584262),m=()=>r(426116),h=()=>r(939740),b=()=>r(437622),S=()=>r(351360),g=()=>r(320460),f=()=>r(667787),x=()=>r(930561),y=r(474848);function v(e){const{userId:t}=e,s=(0,n().v3)(),c=(0,n().Y0)(),p=(0,u().K8)((()=>r(227440).A.state.online),[]),[m,S]=(0,i.useState)(!1),g=(0,o().IS)((e=>({container:{width:300},menuList:c.isMobile?{paddingTop:10}:{},viewMoreLabel:{color:e.text.secondary}})),[c.isMobile]),f=(0,u().K8)((()=>Array.from(r(214006).A.getSpaceViewStores(s,t).values().filter((e=>(0,b().IL)(e.getSpaceStore()))))),[s,t]);if(0===f.length)return null;const x=[];for(const i of f){if(!m&&3===x.length){x.push({key:"view-more",render:e=>(0,y.jsx)(l().A,{...e,title:(0,y.jsx)(r(125565).A,{isMobile:c.isMobile,style:g.viewMoreLabel,children:(0,y.jsx)(a().sA,{defaultMessage:"View {number} more",id:"GuestWorkspaces.viewMore.text",values:{number:f.length-3}})}),onClick:()=>S(!0),icon:(0,y.jsx)(d().Q,{colorName:"graySecondary",iconGroup:r(870214).c,variantName:"small"})}),action:()=>{}});break}x.push({key:i.id,render:e=>(0,y.jsx)(w,{spaceViewStore:i,userId:t,online:p,menuListItemProps:e}),action:()=>{}})}const v=[{key:"spaces",render:e=>(0,y.jsx)(r(89924).A,{...e,disableMobilePadding:!0,topBorder:c.isMobile}),items:x}];return(0,y.jsx)("div",{style:g.container,children:(0,y.jsx)("div",{style:g.menuList,children:(0,y.jsx)(h().Ay,{type:h().Oh.Vertical,sections:v,initialFocus:void 0})})})}function w(e){const{spaceViewStore:t,userId:r,online:o,menuListItemProps:s}=e,l=(0,n().v3)(),c=(0,a().tz)(),{spaceStore:d,spaceName:h,memberCount:v,subscriptionTierLabel:w,spaceIcon:k}=(0,u().K8)((()=>{const e=t.getSpaceStore();if(!e)return{};const r=(0,b().GK)(l,e),{memberCount:i,subscriptionTierLabel:n}=(0,x().rY)(l,c,e);return{spaceStore:e,spaceName:r,memberCount:i,subscriptionTierLabel:n,spaceIcon:(0,b().c2)(l,e)}}),[l,c,t]),I=(0,u().K8)((()=>{const{currentUserRootStore:e,currentSpaceStore:t}=S().default.state;return r===(null==e?void 0:e.id)&&(null==d?void 0:d.id)===(null==t?void 0:t.id)}),[r,d]),j=(0,i.useCallback)((()=>{I||(m().tR({environment:l,spaceViewStore:t,userSettingsStore:S().default.state.currentUserSettingsStore,userRootStore:S().default.state.currentUserRootStore,pageVisitSource:p().y8.SwitchSpace,navigationType:"switchingToOrLoadingSpace"}),g().A.setState({...g().A.state,open:!1}))}),[I,l,t]);return d?(0,y.jsx)(f().A,{id:d.id,menuListItemProps:s,onClick:j,focused:s.focused,icon:k,spaceName:h,title:h,memberCount:v,subscriptionTierLabel:w,disabled:!o&&l.currentUser.id!==r,isCheck:I}):null}const k=i.forwardRef(((e,t)=>{const{userId:i}=e,u=(0,n().Y0)(),p=(0,o().IS)((()=>({menuItem:{height:32,display:"flex",flexDirection:"row",gap:8},textWrapper:{margin:0},button:{height:32,display:"flex",flexDirection:"row",width:"100%",alignItems:"center",transition:"background 150ms ease",borderRadius:6},icon:{margin:0},chevronIconContainer:{margin:0}})),[]);return(0,y.jsx)(r(811979).A,{...e,ref:t,popupType:u.isMobile?c().z7.BottomSheet:c().z7.Popup,alignmentToOrigin:c().yP.Start,placementToOrigin:c().sx.Right,renderOrigin:t=>(0,y.jsx)(l().A,{...(0,r(553965).A)(e,t),buttonStyle:p.button,style:p.menuItem,textWrapperStyle:p.textWrapper,title:(0,y.jsx)(a().sA,{defaultMessage:"Guest workspaces",id:"sidebarSwitcher.guestWorkspacePopupButton.title"}),icon:(0,y.jsx)(d().Q,{colorName:"graySecondary",iconGroup:r(173187).Z,variantName:"default"}),right:(0,y.jsx)(d().Q,{colorName:"graySecondary",iconGroup:s,variantName:"fillSmall"}),rightStyle:p.chevronIconContainer,desktopIconStyle:p.icon}),render:e=>(0,y.jsx)(v,{userId:i})})}));k.displayName="SidebarSwitcherGuestWorkspacePopupButton"},870214:(e,t,r)=>{r.d(t,{c:()=>i});const i=(0,r(340498).xh)("ellipsis",{default:{loader:()=>r.e(37217).then(r.bind(r,537217))},small:{loader:()=>r.e(19131).then(r.bind(r,419131))},mini:{loader:()=>r.e(30189).then(r.bind(r,630189))},large:{loader:()=>r.e(8675).then(r.bind(r,808675))}})}}]);