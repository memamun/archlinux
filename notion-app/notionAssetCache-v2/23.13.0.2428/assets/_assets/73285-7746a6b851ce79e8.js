"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[73285],{112799:(e,t,n)=>{n.d(t,{a:()=>l,E:()=>c});n(16280);var i=n(296540),o=()=>n(484714),s=(n(898992),n(672577),()=>n(427704));s().GJ.downloadMac,s().GJ.downloadMacUniversal,s().GJ.downloadMacIntel,s().GJ.downloadMacAppleSilicon,s().GJ.downloadWindows,s().GJ.downloadWindowsArm;const r=[{route:s().GJ.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:s().GJ.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:s().GJ.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:s().GJ.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:s().GJ.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:s().GJ.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function a(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toLowerCase();if(t.startsWith("arm"))return"arm";if(t.startsWith("x86")||"intel"===t)return"x86";return null}(e);if(!n||!("mac"===t||"windows"===t))return null;const i=r.find((e=>e.architecture===n&&e.operatingSystem===t));return(null==i?void 0:i.route)||null}function c(){const e=(0,i.useRef)(null),t=(0,o().Y0)();return(0,i.useEffect)((()=>{l(t).then((t=>{e.current=t??null})).catch((e=>{throw new Error(e)}))}),[t]),e}async function l(e){var t;if(!("userAgentData"in navigator))return e.isMac?s().GJ.downloadMacUniversal:s().GJ.downloadWindows;const n=navigator.userAgentData,i=await(null==n||null===(t=n.getHighEntropyValues)||void 0===t?void 0:t.call(n,["architecture"])),o=a(null==i?void 0:i.architecture,e.os);return o||null}},122555:(e,t,n)=>{n.d(t,{p:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("arrowUpLeft",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M0.845703 8.58691L0.852539 1.72363C0.852539 1.48665 0.923177 1.29525 1.06445 1.14941C1.21029 0.999023 1.40625 0.923828 1.65234 0.923828H8.51562C8.74349 0.923828 8.93034 0.999023 9.07617 1.14941C9.22201 1.2998 9.29492 1.47526 9.29492 1.67578C9.29492 1.8763 9.21973 2.04948 9.06934 2.19531C8.91895 2.33659 8.74121 2.40723 8.53613 2.40723H6.10254L3.16309 2.30469L4.40723 3.39844L10.915 9.91992C11.0745 10.084 11.1543 10.264 11.1543 10.46C11.1543 10.5921 11.1178 10.7174 11.0449 10.8359C10.972 10.9544 10.8763 11.0479 10.7578 11.1162C10.6439 11.1891 10.5186 11.2256 10.3818 11.2256C10.1813 11.2256 10.0013 11.1481 9.8418 10.9932L3.32715 4.47852L2.21973 3.23438L2.33594 6.05078V8.60742C2.33594 8.8125 2.26302 8.99251 2.11719 9.14746C1.97591 9.29785 1.80273 9.37305 1.59766 9.37305C1.39714 9.37305 1.22168 9.29785 1.07129 9.14746C0.920898 8.99707 0.845703 8.81022 0.845703 8.58691Z"})})},160817:(e,t,n)=>{n.d(t,{h:()=>i});const i=(0,n(340498).xh)("plus",{default:{loader:()=>n.e(48760).then(n.bind(n,948760))},small:{loader:()=>n.e(29422).then(n.bind(n,129422))},mini:{loader:()=>n.e(1046).then(n.bind(n,701046))},large:{loader:()=>n.e(50150).then(n.bind(n,550150))}})},164891:(e,t,n)=>{n.d(t,{y:()=>s});var i=()=>n(56366),o=()=>n(508496);function s(e){const{experimentId:t,groups:n,disableExposureLogging:s}=e,r=function(e){const{experimentId:t,disableExposureLogging:n,defaultGroup:s}=e;return(0,i().K8)((()=>o().default.getEligibleGroup({experimentId:t,defaultGroup:s??"control",disableExposureLogging:n})),[t,n,s])}({experimentId:t,disableExposureLogging:s});return n[r]}},205809:(e,t,n)=>{n.d(t,{A:()=>M});n(296540);var i=()=>n(484714),o=()=>n(56366),s=()=>n(401497),r=()=>n(584262),a=()=>n(859384),c=()=>n(116225),l=()=>n(959013),d=()=>n(705540),u=()=>n(285790),p=()=>n(35392),g=()=>n(859428),m=()=>n(47373),h=()=>n(728611),b=()=>n(492414),f=()=>n(437622),x=()=>n(963589),S=()=>n(962730),v=()=>n(351360),y=()=>n(551694),w=()=>n(869562),A=n(474848);function M(e){let{from:t,onClick:n,iconStyle:M}=e;const I=(0,i().v3)(),{isTablet:j}=(0,i().Y0)(),k=(0,l().tz)(),C=(0,o().K8)((()=>v().default.state.currentSpaceStore),[]),L=(0,o().K8)((()=>v().default.state.currentUserRootStore),[]),B=(0,o().K8)((()=>(0,f().IL)(C)),[C]),T=(0,o().K8)((()=>(0,m().i3)({environment:I,spaceStore:C,userRootStore:L})),[I,C,L]),_=(0,x().X)("sidebar_add_new_pages_to_bottom"),W=(0,x().X)("tablet_refresh_gate"),z=(0,s().IS)((e=>({shortcutLabel:{color:e.text.contrastSecondary},button:{width:28,height:28,marginTop:j&&W?-15:void 0,marginRight:j&&W?10:void 0,borderRadius:4},icon:{width:22,height:22,fill:e.regularTextColor,...M},iconDisabled:{opacity:.4},hovered:{background:e.sidebarItemSelectedBackground}})),[M,j,W]);return B?"sidebar_new_page_button"===t&&T?(0,A.jsx)(u().A,{icon:a().M,ariaLabel:k.formatMessage(w().newPageMessages.label),onClick:e=>{y().A.open()},style:z.button,iconStyle:{...z.icon,...z.iconDisabled}}):null:(0,A.jsx)(g().A,{renderTooltip:()=>(0,A.jsxs)(A.Fragment,{children:[k.formatMessage(w().newPageMessages.tooltip),I.device.isNative&&(0,A.jsx)("div",{children:(0,A.jsx)(p().A,{style:z.shortcutLabel,name:"newPage"})})]}),originGap:6,placement:S().W.Right,render:e=>(0,A.jsx)(u().A,{...e,icon:a().M,ariaLabel:k.formatMessage(w().newPageMessages.label),onClick:async e=>{if(C){const n=I.device.isElectron&&h().Vr(e),i=await w().quickAddPage({environment:I,from:t,event:e,navigateOnCreate:!n,prependPrivatePage:!_});if(n&&i){const e=(0,b().Ay)({store:i,pageVisitSource:r().y8.SidebarQuickAdd});d().openNotionUrl({makeTabActive:!0,url:e,position:"end",openInNew:n,isNewPage:!0,environment:I})}"sidebar_private_pane"===t&&c().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})}n&&n()},style:z.button,iconStyle:z.icon,hoveredStyle:z.hovered})})}},213962:(e,t,n)=>{n.d(t,{s:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("circleCross",{viewBox:"0 0 30 30",svg:(0,i.jsx)("path",{d:"M15 28.354c7.305 0 13.354-6.049 13.354-13.354 0-7.292-6.062-13.354-13.367-13.354C7.695 1.646 1.646 7.708 1.646 15c0 7.305 6.062 13.354 13.354 13.354zm0-2.226A11.075 11.075 0 013.885 15c0-6.166 4.922-11.128 11.102-11.128 6.18 0 11.128 4.962 11.141 11.128A11.078 11.078 0 0115 26.128zm-4.477-5.577a.99.99 0 00.746-.327l3.718-3.731 3.731 3.73c.197.197.445.328.747.328.576 0 1.047-.484 1.047-1.06a.979.979 0 00-.314-.747l-3.718-3.718 3.73-3.744c.223-.223.315-.445.315-.733 0-.59-.471-1.048-1.047-1.048-.275 0-.498.092-.72.315l-3.771 3.744-3.744-3.731c-.184-.21-.432-.301-.72-.301-.577 0-1.048.445-1.048 1.034a.97.97 0 00.314.733l3.719 3.731-3.719 3.732a.951.951 0 00-.314.733c0 .576.471 1.06 1.048 1.06z"})})},347930:(e,t,n)=>{n.d(t,{H:()=>s});var i=()=>n(645873);const o=new(i().O2)("permissionsInviteWithModal",(async()=>await Promise.all([n.e(23806),n.e(75134),n.e(43380),n.e(9304),n.e(96346),n.e(36192),n.e(44711),n.e(53321),n.e(16471),n.e(90825),n.e(37353),n.e(49889),n.e(97727),n.e(55373),n.e(29151),n.e(16908),n.e(62475),n.e(3151),n.e(98629),n.e(58550),n.e(22900),n.e(85128),n.e(95555),n.e(90409),n.e(63077),n.e(74562),n.e(95794),n.e(46414),n.e(8184),n.e(99353),n.e(52681),n.e(14518),n.e(17713),n.e(28271),n.e(17254),n.e(4422),n.e(59794),n.e(67435),n.e(75355),n.e(48315),n.e(47123),n.e(847),n.e(5887),n.e(70769),n.e(97965),n.e(17989),n.e(3965),n.e(38911),n.e(9034),n.e(52012),n.e(56985),n.e(50142),n.e(20838),n.e(21627),n.e(88860),n.e(83210),n.e(26090),n.e(82472),n.e(96345),n.e(10596),n.e(73285),n.e(75659),n.e(78846),n.e(47858),n.e(13324),n.e(51860),n.e(15724),n.e(81141),n.e(27274),n.e(99346),n.e(92448),n.e(65638),n.e(72915),n.e(28721),n.e(69689),n.e(23463),n.e(25426),n.e(6463),n.e(91056),n.e(26483),n.e(29333),n.e(5396),n.e(1440),n.e(34576),n.e(95810),n.e(89109),n.e(3560),n.e(77169),n.e(24071),n.e(68610),n.e(67064),n.e(49978),n.e(3720),n.e(47762),n.e(85475),n.e(11740),n.e(97996),n.e(5066),n.e(35299),n.e(68117),n.e(14267),n.e(33731),n.e(30016),n.e(14410),n.e(49471),n.e(31185),n.e(75681)]).then(n.bind(n,768935)))),s=(0,i()._h)(o,(e=>e.PermissionsInviteWithModal))},361567:(e,t,n)=>{n.d(t,{QH:()=>Q,z_:()=>$,Ay:()=>te});n(898992),n(803949);var i=n(296540),o=()=>n(484714),s=()=>n(56366),r=()=>n(401497),a=()=>n(175947),c=()=>n(959013),l=()=>n(899963),d=()=>n(496414),u=()=>n(664713),p=()=>n(406699),g=()=>n(284371),m=()=>n(437622),h=()=>n(179534),b=()=>n(802963),f=()=>n(614505),x=n(474848);const S=function(e){const{showIcon:t}=e,i=(0,r().DP)(),o=(0,r().IS)((e=>{const n=Math.ceil(60),i=Math.floor(85),o=`${Math.floor(Math.random()*(i-n+1))+n}%`;return{placeholderPageStyle:{height:28,display:"flex",alignItems:"center",width:"100%",padding:t?"0 15px":"0 0px"},placeholderTextWrapStyle:{flexGrow:1,marginLeft:t?10:0,height:28,display:"flex",alignItems:"center"},placeholderTextStyle:{height:4,background:e.buttonHoveredBackground,width:o}}}),[t]);return(0,x.jsxs)("div",{style:o.placeholderPageStyle,children:[t&&(0,n(926329).b)({width:16,height:16,fill:i.buttonHoveredBackground}),(0,x.jsx)("div",{style:o.placeholderTextWrapStyle,children:(0,x.jsx)("div",{style:o.placeholderTextStyle})})]})},v={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};const y=function(e){const t=(0,r().DP)(),a=(0,o().v3)(),{device:c}=a,l="name"===e.type?e.spaceName:void 0,d="store"===e.type?e.spaceStore:void 0,u=(0,s().K8)((()=>"store"===e.type&&d?(0,m().GK)(a,d):l),[a,e.type,l,d]);return(0,i.useEffect)((()=>{"store"===e.type&&(null==d||d.getValue())}),[d,e.type]),(0,x.jsxs)(n(490044).A,{style:{overflow:"hidden",paddingLeft:8,paddingRight:8,...e.isMobile&&{fontSize:14,padding:0,marginRight:12},...e.style},left:u?(0,x.jsx)(M,{title:u,icon:"store"===e.type?void 0:e.spaceIcon,isMobile:e.isMobile,spaceStore:"store"===e.type?e.spaceStore:void 0}):(0,x.jsx)(w,{}),disableMobileBorder:!0,children:[!u&&(0,x.jsx)(A,{}),u&&(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:e.activeUserEmailAddress?"space-between":"start"},className:"notranslate",children:[(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:6,marginTop:c.isAndroid?3:0,...v},children:[(0,x.jsx)("div",{style:{color:t.regularTextColor,fontWeight:g().Wy.medium,...v,lineHeight:"20px"},children:u}),(0,x.jsx)("div",{style:{color:t.mediumTextColor,fontSize:11,lineHeight:"16px",fontWeight:g().Wy.regular,...v},children:e.activeUserEmailAddress})]}),e.showExpand&&(0,x.jsx)("div",{style:{flexGrow:0,flexShrink:0,width:10,height:10,marginLeft:2,fill:t.mediumIconColor},children:(0,n(883234)._)()})]})]})};function w(){return(0,x.jsx)("div",{style:{opacity:.25},children:(0,x.jsx)(b().A,{size:20,title:void 0})})}function A(){return(0,x.jsx)(S,{showIcon:!1})}function M(e){let{title:t,icon:n,isMobile:i,spaceStore:a}=e;const c=(0,r().DP)(),l=(0,o().v3)(),d=(0,s().K8)((()=>a?(0,m().c2)(l,a):n?{icon:n,pointer:{table:"space",id:"undefined"}}:void 0),[a,l,n]),u=(0,s().K8)((()=>a?(0,m().GK)(l,a):t),[a,l,t]),p=(0,s().K8)((()=>h().A.getUnreadMentionsCountForOtherSpaces()>0),[]);return(0,x.jsxs)("div",{style:{position:"relative"},children:[(0,x.jsx)(f().A,{disabled:!0,icon:d,isEmptyPage:!1,title:u,size:i?24:22,style:{marginTop:1,color:c.regularTextColor,fontWeight:g().Wy.medium}}),p&&(0,x.jsx)(I,{})]})}function I(){const e=(0,r().IS)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:0,right:-3,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[]);return(0,x.jsx)("div",{style:e.unreadBadge})}var j=()=>n(963589),k=()=>n(351360),C=()=>n(263928),L=()=>n(320460),B=()=>n(214006),T=(n(354520),n(581454),()=>n(187174)),_=()=>n(763824),W=()=>n(534177),z=()=>n(449506),P=()=>n(646736);var R=()=>n(66913);const U={viewBox:"0 0 20 20",svg:(0,x.jsx)("path",{d:"m5.897 4.085-.122-.142a.625.625 0 0 0-.95.814l.797.929c-.796.89-1.349 2-1.556 3.228a3.856 3.856 0 0 0 1.056 7.56h9.748l1.356 1.583a.625.625 0 0 0 1.04-.67L5.99 4.228a.6.6 0 0 1-.093-.144m4.577 11.14H5.13a2.605 2.605 0 0 1-.405-5.178l.479-.075.047-.482a5.2 5.2 0 0 1 1.194-2.845l7.354 8.58zm6.963.44a3.492 3.492 0 0 0-.512-5.722 6.475 6.475 0 0 0-9.327-5.757l.847.988a5.225 5.225 0 0 1 7.222 5.12l-.024.443.41.17a2.245 2.245 0 0 1 .57 3.81z"})},O=(0,n(340498).wt)("cloudSlash",U);var G=()=>n(100622),K=()=>n(285790),E=()=>n(864943),N=()=>n(14235),H=()=>n(722038),D=()=>n(962730),V=()=>n(377586),F=()=>n(227440),Y=()=>n(404141);const q=(0,c().YK)({offlineIcon:{id:"offlineIndicator.icon",defaultMessage:"No internet connection"},closeIcon:{id:"offlineIndicator.popup.closeIcon",defaultMessage:"Close"}});function J(){const[e,t]=(0,i.useState)(!1),n=(0,c().tz)(),{isElectron:a}=(0,o().Y0)(),l=(0,H().y)(),d=(0,s().K8)((()=>!F().A.state.online&&a&&l),[a,l]),u=(0,G().O4)({theme:"dark"}),p=(0,r().IS)((e=>({iconButton:{width:28,height:28},icon:{width:22,height:22,fill:e.regularTextColor},iconHover:{background:e.sidebarItemSelectedBackground},popup:{background:e.tooltipBackground,color:e.text.contrastPrimary,width:280,padding:12,fontSize:14},title:{fontWeight:g().Wy.medium},subtitle:{color:e.text.secondary},closeButton:{width:24,height:24,position:"absolute",right:8,top:8},closeIcon:{width:14,height:14,fill:u.accentColors.translucentGray[800]},closeHovered:{background:u.state.hover},closePressed:{background:u.state.pressed},settingsButtonContainer:{display:"flex",justifyContent:"end",paddingTop:10},settingsButton:{border:`1px solid ${u.outlineButtonBorder}`},settingsHover:{background:u.state.hover},settingsPressed:{background:u.state.pressed}})),[u]),m=(0,i.useCallback)((()=>t(!e)),[e]),h=(0,i.useCallback)((()=>t(!1)),[]),b=(0,s().K8)((()=>(0,x.jsx)(K().A,{icon:O,ariaLabel:n.formatMessage(q.offlineIcon),onClick:m,style:p.iconButton,iconStyle:p.icon,hoveredStyle:p.iconHover})),[n,m,p]);return d?(0,x.jsx)(N().Ay,{origin:b,originGap:2,open:e,onClosed:h,onDismiss:h,popupType:V().n.Popup,placementToOrigin:D().W.Bottom,alignmentToOrigin:D().C.Start,popupWrapStyle:p.popup,render:()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:p.title,children:(0,x.jsx)(c().sA,{id:"offlineIndicator.popup.title",defaultMessage:"No internet connection"})}),(0,x.jsx)(K().A,{ariaLabel:n.formatMessage(q.closeIcon),icon:()=>(0,R().V)(p.closeIcon),style:p.closeButton,hoveredStyle:p.closeHovered,pressedStyle:p.closePressed,onClick:h}),(0,x.jsx)("div",{style:p.subtitle,children:(0,x.jsx)(c().sA,{id:"offlineIndicator.popup.subtitle",defaultMessage:"Return online for full access, or manage your offline settings."})}),(0,x.jsx)("div",{style:p.settingsButtonContainer,children:(0,x.jsx)(E().A,{style:p.settingsButton,hoveredStyle:p.settingsHover,pressedStyle:p.settingsPressed,size:"sm",onClick:()=>{Y().A.setState({open:!0,openedFrom:"sidebar_offline_indicator",currentTab:"offline",defaultSubtab:void 0,highlightedSetting:void 0}),h()},children:(0,x.jsx)(c().sA,{id:"offlineIndicator.popup.manageOfflinePagesButton",defaultMessage:"Manage offline pages"})})})]}),trapFocus:!0}):null}let $=function(e){return e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile",e}({});const Q=300,X={[$.Regular]:a().$C-8,[$.DesktopMac]:a().Uu,[$.Mobile]:"auto"},Z={display:"flex",alignItems:"center",minWidth:0,height:"100%",width:"100%"},ee=n(757695).default.createClass(!1,{name:"SidebarSwitcherIsHoveredStore"});const te=function(e){let{shouldShowUnexpandButton:t,shouldShowCreatePageButton:a,disabled:g,format:h,buttonStyle:b,redirectURL:f,disableLoginLink:S,onSpaceClick:v,hideEmail:w,shouldShowCreateWorkspaceButton:A=!1}=e;const M=(0,o().v3)(),I=(0,s().uB)(void 0,ee),R=(0,s().uB)(void 0,n(791627).A),U=(0,s().uB)(void 0,n(20489).A),{device:O}=M,{isTablet:G}=(0,o().Y0)(),{currentSpaceStore:K,currentUserStore:E}=(0,s().K8)((()=>{const{currentSpaceStore:e,currentUserStore:t}=k().default.state;return{currentSpaceStore:e,currentUserStore:t}}),[]),N=(0,s().K8)((()=>{const{mainEditorCurrentBlockStore:e}=k().default.state;return null==e?void 0:e.getSpaceStore()}),[]),H=M.currentUser.loggedInUserIds,D=(0,s().K8)((()=>{if(!w)return H.length>1?null==E?void 0:E.getEmail():void 0}),[H,E,w]),V=(0,s().O$)(I),F=(0,s().K8)((()=>n(846955).default.isTutorialStepActive("create_page_sidebar")&&a),[a]),Y=(0,j().X)("organization_console_ga_enabled"),{organizationsInfo:q}=(0,n(926938).q)(),{spaceInfo:$}=function(e){const{userId:t}=e,n=(0,o().v3)(),i=(0,s().K8)((()=>t?B().A.getSpaceViewStores(n,t):[]),[n,t]),r=(0,s().K8)((()=>i.map((e=>e.getSpaceStore())).filter(W().O9)),[i]),a=(0,s().K8)((()=>t?r.map((e=>{const n=(0,P().dp)(e,t).isWorkspaceOwner(),i="enterprise"===e.getSubscriptionTier();if(n&&i)return e})).filter(W().O9):[]),[r,t]),c=(0,j().X)("organization_console_ga_enabled"),[{value:l,status:d}]=(0,T().Yb)((async()=>{if(c)return(await(0,_().lX)(a,10,(e=>{const t=e.id;return z().callApi({eventName:"getOrganizationOnboardingInfo",environment:n,data:{spaceId:t}}).then((i=>{if("success"===i.type)return"ineligible"===i.data.result.onboardingStatus||"completed"===i.data.result.onboardingStatus?void 0:{spaceId:t,spaceName:(0,m().GK)(n,e)}}))}))).filter(W().O9)}),[n,c,a]);return{spaceInfo:l??[],isLoading:"resolved"!==d}}({userId:M.currentUser.id}),te=(0,i.useMemo)((()=>({organizationsInfo:q,spaceInfo:Y?$:[]})),[Y,q,$]),ie=(0,s().uB)(void 0,n(986229).A),oe=(0,s().K8)((()=>ie.state.modalOpen),[ie]),se=(0,r().IS)((e=>({popup:{...O.isMobile?{}:{width:Q,overflow:"hidden"}},button:{...Z,height:X[h],marginLeft:4,marginRight:4,marginTop:O.isMobile?0:4,width:"calc(100% - 8px)",borderRadius:4,marginBottom:D?O.isMobile?0:8:0,padding:0,...b},spaceName:{marginLeft:0},hoveredStyle:{background:e.sidebarItemSelectedBackground},unexpand:{borderRadius:4,width:28,height:28,marginRight:4},unexpandHover:{fill:e.regularTextColor,background:e.sidebarItemSelectedBackground},rightButtonsContainer:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",marginRight:0},rightButtons:{alignItems:"center",display:"inline-flex",marginRight:2,gap:2}})),[D,b,O.isMobile,h]),re=async()=>n(869562).quickAddPage({environment:M,from:"home_checklist"}),ae=(0,i.useCallback)((()=>{const e=(0,c().YK)({invitingMembers:{id:"sidebarSwitcherMultiAccount.inviteMember.loadingMessage",defaultMessage:"Updating…"}});d().m({message:e.invitingMembers})}),[]),ce=(0,i.useCallback)(((e,t)=>{d().V();const i=e?(0,x.jsx)(c().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.successToastMessage",defaultMessage:"Successfully sent"}):(0,x.jsx)(c().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.failureToastMessage",defaultMessage:"Failed to send invites"});n(436572).D6({label:i})}),[]),le=K||N;if(!le||!E)return null;const de=Boolean(g)||F;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p().Ay,{popupType:O.isMobile?p().z7.SlideUp:p().z7.Popup,buttonPopupStore:L().A,renderOrigin:()=>(0,x.jsxs)(n(704152).A,{style:se.button,mobileFeedback:O.isMobile,onClick:()=>function(e){L().A.setState({...L().A.state,open:!0}),l().PL(e),e.currentUser.loggedInUserIds.forEach((t=>{B().A.getSpaceViewStores(e,t).forEach((n=>{const i=n.getSpaceId();i&&(u().v({environment:e,spaceId:i,userId:t}),C().J({environment:e,spaceId:i,userId:t}))}))}))}(M),disabled:de,className:n(38337).eGX,hovered:V,hoveredStyle:se.hoveredStyle,ignoreLocalHoverState:!0,onMouseEnter:()=>I.setState(!0),onMouseLeave:()=>I.setState(!1),children:[(0,x.jsx)(y,{isMobile:ne(h),spaceStore:le,activeUserEmailAddress:D,showExpand:!de,type:"store",style:se.spaceName}),(0,x.jsx)("div",{style:se.rightButtonsContainer,children:(0,x.jsxs)("div",{style:se.rightButtons,children:[t&&(0,x.jsx)(n(277201).I,{style:se.unexpand,hoveredStyle:se.unexpandHover}),(0,x.jsx)(J,{}),!G&&a&&(0,x.jsx)(n(998109).n,{step:"create_page_sidebar",isFullWidth:!1,onNextButtonClick:re,wrapperStyle:{display:"flex"},children:(0,x.jsx)(n(205809).A,{from:"sidebar_new_page_button"})})]})})]}),originGap:0,disableMutationObserver:!0,forceInitialInbound:!0,style:se.popup,render:e=>(0,x.jsx)(n(362749).UL,{permissionsInviteStore:ie,parent:e,redirectURL:f,disableLoginLink:S,onSpaceClick:v,loginStore:U,loginPermissionsStore:R,organizationEntryPointProps:te,shouldShowCreateWorkspaceButton:A})}),oe&&(0,x.jsx)(n(347930).H,{store:le,permissionsInviteStore:ie,origin:(0,x.jsx)(x.Fragment,{}),membersOnly:!0,shouldGrow:!1,disabled:!1,isSubscribed:!1,upgradeButtonName:"space_permission_settings",onInviteClick:ae,onInviteComplete:ce,analyticsFrom:"space_switcher_invite_button"}),(0,x.jsx)(n(562866).cx,{store:le,origin:(0,x.jsx)(x.Fragment,{}),analyticsFrom:"space_switcher_add_members"})]})};function ne(e){return e===$.Mobile}},394783:(e,t,n)=>{n.d(t,{A:()=>a});n(296540);var i=()=>n(284371),o=()=>n(722872),s=()=>n(406699),r=n(474848);const a=function(e){let{emailAddress:t,disabled:a,accountActions:c,prefix:l}=e;const d=(0,n(484714).v3)(),{device:u}=d,p=(0,n(56366).uB)(void 0,n(463830).A);let g;g=u.isMobile?{menuType:o().gu.ActionSheet}:{menuType:o().gu.Popup};const m=(0,n(401497).IS)((e=>({container:{height:u.isMobile?24:20,marginTop:l?1:u.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:e.mediumTextColor,transition:"opacity 150ms ease"},text:{fontSize:(0,n(115512).ny)(d,"UISmall"),lineHeight:i().K_.UISmall.desktop,fontWeight:i().Wy.medium,marginRight:6},button:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:u.isMobile?24:20,height:u.isMobile?24:20,borderRadius:4},buttonIcon:{width:u.isMobile?18:12,height:u.isMobile?18:12},prefix:{textAlign:"right",height:u.isMobile?16:18,marginTop:u.isMobile?8:4,marginLeft:12,marginRight:18,color:e.mediumTextColor,transition:"opacity 150ms ease"}})),[u.isMobile,d,l]);return(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsx)("div",{style:m.prefix,children:l}),(0,r.jsxs)("div",{style:m.container,children:[(0,r.jsx)(n(265665).j,{style:m.text,children:t}),(0,r.jsx)(s().Ay,{popupType:u.isMobile?s().z7.SlideUp:s().z7.Popup,buttonPopupStore:p,renderOrigin:e=>{if(!a)return(0,r.jsx)(n(704152).A,{...e,style:m.button,children:(0,n(30626)._)(m.buttonIcon)})},render:()=>(0,r.jsx)(n(928600).A,{...g,children:(0,r.jsx)(n(452558).A,{sections:[{key:"option section",render:e=>(0,r.jsx)(n(89924).A,{...e}),actions:c}],context:{environment:d,blocks:[],publicEditMode:void 0}})})})]})]})}},562866:(e,t,n)=>{n.d(t,{$c:()=>a,aI:()=>r,cx:()=>s,uf:()=>o});var i=()=>n(645873);const o={RequestMembersModal:new(i().O2)("RequestMembersModal",(()=>Promise.all([n.e(23806),n.e(75134),n.e(43380),n.e(96346),n.e(36192),n.e(44711),n.e(53321),n.e(16471),n.e(90825),n.e(37353),n.e(49889),n.e(97727),n.e(55373),n.e(29151),n.e(16908),n.e(90409),n.e(63077),n.e(74562),n.e(95794),n.e(46414),n.e(8184),n.e(99353),n.e(52681),n.e(38664),n.e(24587),n.e(14518),n.e(17713),n.e(28271),n.e(17254),n.e(4422),n.e(59794),n.e(67435),n.e(75355),n.e(48315),n.e(47123),n.e(847),n.e(5887),n.e(70769),n.e(97965),n.e(17989),n.e(3965),n.e(38911),n.e(9034),n.e(52012),n.e(56985),n.e(50142),n.e(20838),n.e(21627),n.e(88860),n.e(83210),n.e(26090),n.e(82472),n.e(96345),n.e(10596),n.e(73285),n.e(75659),n.e(78846),n.e(47858),n.e(13324),n.e(51860),n.e(15724),n.e(81141),n.e(27274),n.e(99346),n.e(92448),n.e(65638),n.e(77282)]).then(n.bind(n,123350)))),GoogleImportsInviteWithModal:new(i().O2)("GoogleImportsInviteWithModal",(()=>Promise.all([n.e(23806),n.e(95794),n.e(75355),n.e(51226)]).then(n.bind(n,554605)))),InviteDropdownMenuItemLabel:new(i().O2)("InviteDropdownMenuItemLabel",(()=>n.e(25171).then(n.bind(n,726799)))),personPropertyInviteActions:new(i().O2)("personPropertyInviteActions",(()=>Promise.all([n.e(95794),n.e(75355),n.e(57613)]).then(n.bind(n,980270))))},s=(0,i()._h)(o.RequestMembersModal,(e=>e.RequestMembersModal)),r=(0,i()._h)(o.GoogleImportsInviteWithModal,(e=>e.GoogleImportsInviteWithModal)),a=(0,i()._h)(o.InviteDropdownMenuItemLabel,(e=>e.InviteDropdownMenuItemLabel))},667787:(e,t,n)=>{n.d(t,{A:()=>l});n(898992),n(908872);var i=n(296540),o=()=>n(401497),s=()=>n(614505),r=()=>n(171347),a=()=>n(159588),c=n(474848);const l=function(e){let{id:t,onClick:s,focused:r,title:l,memberCount:u,subscriptionTierLabel:p,disabled:g,isCheck:m,isRightArrow:h,icon:b,spaceName:f,unreadMentions:x,menuListItemProps:S}=e;const v=(0,n(484714).v3)(),[y,w]=(0,i.useState)(!1),{device:A}=v,M=(0,i.useCallback)((()=>w(!0)),[]),I=(0,i.useCallback)((()=>w(!1)),[]),{isMenuListFocusVisible:j}=(0,i.useContext)(n(939740).VU),k=(0,o().IS)((e=>({button:{display:"flex",flexDirection:"row",width:"100%",height:32,alignItems:"center",padding:"4px 8px",gap:8,transition:"background 150ms ease",...!g&&r&&j&&{boxShadow:e.outlineBlueInputBoxShadow},borderRadius:6},iconContainer:{display:"grid",justifyContent:"center",alignItems:"center"},dragHandle:{width:20,gridColumn:1,gridRow:1,opacity:y?1:0,transition:`opacity ${a().bM}`},spaceIcon:{gridColumn:1,gridRow:1,opacity:y?0:1,transition:`opacity ${a().bM}`},checkIcon:{width:14,height:14,marginLeft:"auto"},chevronRightIcon:{width:12,height:12,marginLeft:"auto",marginRight:6},tooltip:{display:"flex",flexDirection:"column"},tooltipCaption:{color:e.text.contrastSecondary}})),[r,j,y,g]),C=(0,c.jsxs)("div",{style:k.tooltip,children:[p,(0,c.jsx)("div",{style:k.tooltipCaption,children:(0,c.jsx)(n(959013).sA,{id:"sidebarSwitcherMenuItem.spaceSubscriptionTier.tooltipMessage",defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",values:{memberCount:u}})})]});return(0,c.jsx)(n(859428).A,{renderTooltip:()=>C,disableTooltip:!p||!u,placement:n(962730).W.Right,render:e=>(0,c.jsxs)(n(704152).A,{...[S??{},e,{onClick:s,onMouseMove:M,onMouseLeave:I}].reduce(n(553965).A),hovered:r||y,disabled:g,style:k.button,children:[(0,c.jsxs)("div",{style:k.iconContainer,children:[(0,c.jsx)(n(57232).A,{iconSize:10,style:k.dragHandle}),(0,c.jsx)("div",{style:k.spaceIcon,children:(0,c.jsx)(d,{id:t,icon:b,size:20,spaceName:f,unreadMentions:x})})]}),(0,c.jsx)(n(125565).A,{className:"notranslate",isMobile:A.isMobile,children:l}),m&&(0,n(413267).b)(k.checkIcon),h&&(0,n(742117).V)(k.chevronRightIcon)]})},`sidebarswitchermenuitem-tooltip-${t}`)};function d(e){let{id:t,icon:n,size:i,spaceName:o,unreadMentions:a}=e;return(0,c.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,c.jsxs)("div",{style:{position:"relative"},children:[t&&(0,c.jsx)(s().A,{disabled:!0,icon:n,isEmptyPage:!1,title:o,size:i,isLarge:!0}),a?(0,c.jsx)(u,{}):(0,c.jsx)(r().A,{color:r().g.Red,count:a,style:{position:"absolute",top:-5,right:-5}})]})})}function u(){const e=(0,o().IS)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:-3,right:-4,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[]);return(0,c.jsx)("div",{style:e.unreadBadge})}},689877:(e,t,n)=>{n.d(t,{A:()=>b});n(16280),n(296540);var i=()=>n(484714),o=()=>n(56366),s=()=>n(401497),r=()=>n(959013),a=()=>n(760217),c=()=>n(406699),l=()=>n(38337),d=()=>n(997513),u=()=>n(215152),p=()=>n(20489),g=()=>n(323914),m=()=>n(214006),h=n(474848);const b=function(e){let{createType:t,icon:s,disableLoginLink:l,redirectURL:d,loginStore:b}=e;const S=(0,i().v3)(),v=(0,r().tz)(),y=(0,o().uB)(void 0,u().A),w=(0,o().uB)(b,p().A);(0,n(852507).l)((()=>{"email"===w.state.loginType&&S.device.isMobile&&w.setState({...w.state,loginType:"google"})}));const A=(0,o().K8)((()=>n(227440).A.state.online),[]),{device:M}=S,I=(0,o().K8)((()=>{var e;return null===(e=S.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[S]),j=(0,n(930561).CF)();return M.isMobile?(0,h.jsx)(c().Ay,{popupType:c().z7.SlideUp,hidesMobileNativeBottomBar:I,preventSlideUpTransition:I,buttonPopupStore:"add-account"===t?g().c:g().y,alignmentToOrigin:c().yP.Start,placementToOrigin:c().sx.Top,originGap:0,isFullWidthOnMobile:!0,render:e=>(y.setState({open:!0}),(0,h.jsx)(x,{intl:v,disableLoginLink:l,redirectURL:d,loginStore:w,loginModalStore:y,createType:t,onDismiss:()=>{I?n(537941).navigateToHomeTab(S,e.close):e.close()}})),preventScaleTransition:!0,renderOrigin:e=>(0,h.jsx)(a().A,{textWrapperStyle:j.buttonWrapper,focused:!1,disabled:!A,title:(0,h.jsx)(f,{createType:t}),icon:s,...e})}):(0,h.jsxs)("div",{onClick:()=>{A&&(n(452939).ff(S,{createType:t}),m().A.setState({...m().A.getState(),createType:t}),y.setState({open:!0}))},children:[(0,h.jsx)(a().A,{textWrapperStyle:j.buttonWrapper,focused:!1,disabled:!A,title:(0,h.jsx)(f,{createType:t}),icon:s}),(0,h.jsx)(x,{intl:v,disableLoginLink:l,redirectURL:d,loginStore:w,loginModalStore:y,createType:t})]})};function f(e){let{createType:t}=e;const n=(0,i().v3)(),o=(0,s().IS)((e=>({accountAction:{display:"flex",color:e.mediumTextColor,whiteSpace:"nowrap",fontSize:n.device.isMobile?16:12}})),[n.device.isMobile]);let a;switch(t){case"create-work":a=(0,h.jsx)(r().sA,{defaultMessage:"Create work account",id:"sidebarSwitcherMultiAccount.menuItem.createWorkAccountButton.label"});break;case"add-account":a=(0,h.jsx)(r().sA,{defaultMessage:"Add another account",id:"sidebarSwitcherMultiAccount.addAccountButton.label"})}return a?(0,h.jsx)("div",{style:o.accountAction,children:a}):null}function x(e){let{createType:t,onDismiss:n,intl:i,disableLoginLink:s,redirectURL:a,loginStore:c,loginModalStore:g}=e;const m=(0,o().uB)(g,u().A),b=(0,o().uB)(c,p().A);let f,x;switch(t){case"add-account":f=(0,h.jsx)(r().sA,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),x=(0,h.jsx)(r().sA,{id:"sidebarSwitcherMultiAccount.addAccount.description",defaultMessage:"Use an existing account, or sign up with a new email. Your current account will remain logged in."});break;case"create-work":f=(0,h.jsx)(r().sA,{id:"sidebarSwitcherMultiAccount.createWork.title",defaultMessage:"Create a work account"}),x=(0,h.jsx)(r().sA,{id:"sidebarSwitcherMultiAccount.createWork.description",defaultMessage:"We’ll check if your teammates are already on Notion. If not, we’ll create a new home for you and your team."});break;default:throw new Error(i.formatMessage({defaultMessage:"Unexpected createType in SidebarSwitcherMultiAccount",id:"sidebarSwitcherMultiAccount.errorMessage"}))}return(0,h.jsx)(d().z,{loginModalStore:m,loginStore:b,title:f,description:x,disableLoginLink:s,className:l().w7$,redirectURL:a,onDismiss:n})}},766343:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(757695))().default{getInitialState(){return{open:!1,focus:"none"}}open(){this.setState({open:!0,focus:"none"})}close(){this.setState({open:!1,focus:"none"})}}const o=new i},791627:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(757695))().default{getInitialState(){return{contacts:!1}}}const o=i},889154:(e,t,n)=>{n.d(t,{G:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("personBadgeExclamationMark",{viewBox:"0 0 24 22",svg:(0,i.jsx)("path",{d:"M14 20.91c1.36 0 2.64-.26 3.838-.781a10.166 10.166 0 003.183-2.158 10.198 10.198 0 002.159-3.174 9.59 9.59 0 00.78-3.848c0-1.36-.263-2.64-.79-3.838a10.165 10.165 0 00-2.158-3.183 10.165 10.165 0 00-3.184-2.158A9.52 9.52 0 0013.99.988c-1.27 0-2.47.228-3.603.684A10.24 10.24 0 007.34 3.566 10.179 10.179 0 005.152 6.39a9.75 9.75 0 00-1.045 3.466c.235-.045.508-.074.82-.087.32-.02.61-.013.87.02.137-1.01.44-1.948.908-2.813A8.088 8.088 0 018.512 4.7a8.261 8.261 0 012.5-1.504 8.095 8.095 0 012.978-.547c1.153 0 2.23.215 3.233.645a8.233 8.233 0 012.646 1.777 8.365 8.365 0 011.787 2.647 8.11 8.11 0 01.645 3.232 8.15 8.15 0 01-2.139 5.557c-.319-.378-.775-.736-1.367-1.074-.593-.345-1.296-.625-2.11-.84-.813-.215-1.712-.322-2.695-.322-.469 0-.918.029-1.347.087-.43.053-.837.124-1.221.215.117.469.176.96.176 1.475 0 .762-.134 1.488-.4 2.178a6.308 6.308 0 01-1.095 1.865c.6.26 1.228.462 1.885.605A9.426 9.426 0 0014 20.91zm-.01-8.3a3.02 3.02 0 001.69-.47 3.53 3.53 0 001.21-1.318c.3-.56.45-1.191.45-1.894 0-.658-.15-1.26-.45-1.807a3.55 3.55 0 00-1.21-1.309 3.035 3.035 0 00-1.69-.488c-.625 0-1.191.163-1.699.489a3.622 3.622 0 00-1.65 3.115c0 .696.15 1.321.449 1.875.3.553.7.993 1.201 1.318a3.194 3.194 0 001.7.488zM5.3 21.017c.67 0 1.305-.13 1.904-.391a5.082 5.082 0 001.582-1.074A5 5 0 009.87 17.97c.26-.6.39-1.237.39-1.914 0-.684-.13-1.325-.39-1.924a4.945 4.945 0 00-1.064-1.582 4.946 4.946 0 00-1.582-1.065 4.772 4.772 0 00-1.924-.39c-.677 0-1.315.13-1.914.39a4.87 4.87 0 00-1.582 1.074A5.082 5.082 0 00.73 14.142a4.707 4.707 0 00-.391 1.914c0 .683.13 1.325.39 1.924a5.07 5.07 0 001.075 1.581c.455.456.983.811 1.582 1.065.599.26 1.237.39 1.914.39zm-.01-1.797a.788.788 0 01-.576-.244.768.768 0 01-.244-.577c0-.227.081-.423.244-.585a.788.788 0 01.576-.245c.234 0 .43.085.586.254a.788.788 0 01.244.576.77.77 0 01-.244.577.8.8 0 01-.586.244zm.01-2.325a.601.601 0 01-.43-.156.613.613 0 01-.166-.41l-.078-2.793a.63.63 0 01.176-.488.673.673 0 01.498-.186.66.66 0 01.488.186.63.63 0 01.176.488l-.078 2.793a.592.592 0 01-.176.41.554.554 0 01-.41.157z"})})},926329:(e,t,n)=>{n.d(t,{b:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("templates",{viewBox:"0 0 20 20",svg:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,i.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,i.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},930561:(e,t,n)=>{n.d(t,{ti:()=>Fe,Ay:()=>De,rY:()=>st,rK:()=>ot,ro:()=>tt,Oy:()=>at,CF:()=>rt});n(944114),n(898992),n(354520),n(672577),n(581454);var i=n(296540),o=()=>n(484714),s=()=>n(56366),r=()=>n(401497),a=()=>n(452540),c=()=>n(160817),l=()=>n(889154),d=()=>n(689094),u=()=>n(696706),p=()=>n(161479),g=()=>n(84520),m=()=>n(294712),h=()=>n(959013),b=()=>n(496603),f=()=>n(284371),x=()=>n(213962),S=()=>n(340498),v=n(474848);const y=(0,S().wt)("squarePlus",{viewBox:"0 0 30 30",svg:(0,v.jsx)("path",{d:"M7.059 27.052H22.94c2.75 0 4.11-1.361 4.11-4.059V7.007c0-2.697-1.36-4.059-4.11-4.059H7.059c-2.736 0-4.111 1.349-4.111 4.059v15.986c0 2.71 1.375 4.06 4.11 4.06zm.026-2.108c-1.31 0-2.03-.694-2.03-2.055V7.112c0-1.362.72-2.056 2.03-2.056h15.83c1.296 0 2.029.694 2.029 2.056v15.777c0 1.361-.733 2.055-2.03 2.055H7.085zm7.895-3.758c.707 0 1.113-.484 1.113-1.243V16.08h4.111c.733 0 1.231-.392 1.231-1.086 0-.707-.471-1.113-1.23-1.113h-4.112V9.769c0-.759-.406-1.243-1.113-1.243-.694 0-1.073.51-1.073 1.243v4.112H9.822c-.773 0-1.257.405-1.257 1.112 0 .694.523 1.087 1.257 1.087h4.085v3.863c0 .733.38 1.243 1.073 1.243z"})});var w=()=>n(243020),A=()=>n(899963),M=()=>n(840153),I=()=>n(719431),j=()=>n(1130),k=()=>n(320460),C=()=>n(227440),L=()=>n(416726);const B=(0,h().YK)({joinOrCreateWorkspace:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"},logOut:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.logOut.label",defaultMessage:"Log out"}});function T(e){return(0,L().Ls)({key:"join or create a workspace",displayName:B.joinOrCreateWorkspace,analyticsName:B.joinOrCreateWorkspace.defaultMessage,svg:y,validators:[],closeParentMenu:!0,action:t=>{let{environment:n}=t;k().A.reset(),n.currentUser.id!==e?M().T({environment:n,newCurrentUserId:e}).then((e=>{j().Ig(e)})):j().Ig(n)}})}function _(e){return(0,L().Ls)({key:"log out of a single account",displayName:B.logOut,analyticsName:B.logOut.defaultMessage,svg:x().s,validators:[],closeParentMenu:!0,action:t=>{let{environment:n}=t;const{online:i}=C().A.state;i&&(I().logoutSingleAccount({environment:n,userId:e,logoutOrigin:w().d.SpaceSwitcher}),A().Pz(n))}})}var W=()=>n(452939),z=()=>n(989423),P=()=>n(508496);var R=()=>n(901389),U=()=>n(435009),O=()=>n(426116),G=()=>n(72234),K=()=>n(317909),E=()=>n(704152),N=()=>n(493823),H=()=>n(760217),D=()=>n(439264),V=()=>n(919172),F=()=>n(928600),Y=()=>n(939740),q=()=>n(45552),J=()=>n(460292),$=()=>n(89924),Q=()=>n(394783),X=()=>n(490044),Z=()=>n(972435),ee=()=>n(722872),te=()=>n(437622),ne=()=>n(112799),ie=()=>n(477293),oe=()=>n(905654),se=()=>n(155959),re=()=>n(351360),ae=()=>n(151059),ce=()=>n(630116),le=()=>n(164891),de=()=>n(644914),ue=()=>n(179534),pe=()=>n(214006),ge=()=>n(645873);const me=(0,ge().jQ)(new(ge().O2)("SidebarSwitcherAggregatedGuest",(async()=>await Promise.all([n.e(23806),n.e(33194),n.e(77869)]).then(n.bind(n,916614)))),(e=>e.SidebarSwitcherGuestWorkspaces)),he=(0,ge().jQ)(new(ge().O2)("SidebarSwitcherGuestWorkspacePopupButton",(async()=>await Promise.all([n.e(23806),n.e(9295)]).then(n.bind(n,466017)))),(e=>e.SidebarSwitcherGuestWorkspacePopupButton));var be=()=>n(122555),fe=()=>n(742117),xe=()=>n(734459),Se=()=>n(713996),ve=()=>n(406699),ye=()=>n(216441),we=()=>n(962730),Ae=()=>n(463830);function Me(e){const{spaceInfo:t}=e,n=e.organizationsInfo.filter((e=>"completed"===e.onboardingStatus)),i=n.map((e=>function(e){const{organizationInfo:t,isOnlyEntry:n}=e;return(0,v.jsx)(je,{url:(0,xe().re)({organizationId:t.id,tabRoute:Se().Vo}),label:n?(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.generic",defaultMessage:"Manage organization"}):(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.name",defaultMessage:"Manage {organizationName}",values:{organizationName:t.name}})})}({organizationInfo:e,isOnlyEntry:1===n.length&&0===t.length}))),o=t.map((e=>function(e){const{spaceInfo:t,isOnlyEntry:n}=e;return(0,v.jsx)(je,{url:(0,xe().re)({organizationId:xe().Zf,tabRoute:Se()._P,queryParams:{[ye().ge]:t.spaceId}}),label:n?(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.setup.generic",defaultMessage:"Set up organization"}):(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.setup.name",defaultMessage:"Set up {spaceName}",values:{spaceName:t.spaceName}})})}({spaceInfo:e,isOnlyEntry:1===t.length&&0===n.length}))),s=[...o,...i];return s.length>0?(0,v.jsx)($().A,{topBorder:!0,children:(0,v.jsx)(Ie,{allMenuItems:s})}):null}function Ie(e){const t=(0,s().uB)(void 0,Ae().A),{allMenuItems:n}=e;if(0===n.length)return null;if(1===n.length)return n[0];const i=n.map(((e,t)=>({key:t,render:()=>e,action:()=>{}})));return(0,v.jsx)(ve().Ay,{placementToOrigin:we().W.Right,popupType:ve().z7.Popup,buttonPopupStore:t,renderOrigin:e=>(0,v.jsx)(je,{events:e,label:(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.manage",defaultMessage:"Manage organizations"}),alternateIconFunc:fe().V}),render:()=>{const e={menuType:ee().gu.Popup,width:250};return(0,v.jsx)(F().A,{...e,children:(0,v.jsx)(Y().Ay,{type:Y().Oh.Vertical,initialFocus:0,sections:[{key:"organizations-management",render:e=>(0,v.jsx)($().A,{...e}),items:i}]})})}})}function je(e){const{url:t,label:n,events:i,alternateIconFunc:s}=e,a=(0,o().v3)(),c=(0,r().IS)((e=>({accountAction:{display:"flex",justifyContent:"space-between",alignItems:"center",color:e.mediumTextColor,whiteSpace:"nowrap",fontSize:12,paddingLeft:0},modalContent:{display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center"},description:{textAlign:"center"},iconStyle:{height:12,width:12,fill:"current"},arrowIconStyle:{marginTop:3,transform:"rotate(90deg)"}})),[]),l=rt();return(0,v.jsx)(H().A,{onClick:t?()=>{U().oo({environment:a,openInNew:"tab",makeTabActive:!0,url:t})}:void 0,textWrapperStyle:l.buttonWrapper,focused:!1,title:(0,v.jsxs)("div",{style:c.accountAction,children:[(0,v.jsx)("div",{style:f().RC,children:n}),s?s(c.iconStyle):(0,be().p)({...c.iconStyle,...c.arrowIconStyle})]}),...i})}const ke={viewBox:"0 0 16 16",svg:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("path",{d:"M8 1.775c-.947 0-1.717.392-2.237 1.04-.508.633-.747 1.47-.747 2.338s.239 1.704.747 2.337c.52.648 1.29 1.04 2.237 1.04s1.717-.392 2.237-1.04c.508-.633.748-1.47.748-2.337 0-.869-.24-1.705-.748-2.338-.52-.648-1.29-1.04-2.237-1.04M6.738 3.597c.28-.348.69-.572 1.262-.572s.983.224 1.263.572c.291.364.472.904.472 1.556 0 .651-.18 1.191-.472 1.555-.28.348-.69.572-1.263.572s-.982-.224-1.262-.572c-.292-.364-.472-.904-.472-1.555 0-.652.18-1.192.472-1.556M8 9.178c-2.196 0-4.166 1.07-5.007 2.713a1.48 1.48 0 0 0 .2 1.677c.356.413.91.657 1.487.657h4.293a.075.075 0 0 0 .07-.104 3.8 3.8 0 0 1-.286-1.08.075.075 0 0 0-.075-.066H4.68a.72.72 0 0 1-.537-.22.3.3 0 0 1-.07-.14.26.26 0 0 1 .033-.154c.583-1.14 2.062-2.033 3.894-2.033.437 0 .855.051 1.245.144a.075.075 0 0 0 .081-.032c.213-.338.477-.64.78-.897a.075.075 0 0 0-.024-.128A6.5 6.5 0 0 0 8 9.178"}),(0,v.jsx)("path",{d:"M12.6 9.525a3.06 3.06 0 0 0-2.474 1.249 3.06 3.06 0 0 0-.566 2.287 3.074 3.074 0 0 0 3.04 2.614 3.075 3.075 0 1 0 0-6.15m-.425 1.409a.425.425 0 0 1 .85 0V12.1c0 .041.034.075.075.075h1.167a.425.425 0 0 1 0 .85H13.1a.075.075 0 0 0-.075.075v1.167a.425.425 0 0 1-.85 0V13.1a.075.075 0 0 0-.075-.075h-1.166a.425.425 0 0 1 0-.85H12.1a.075.075 0 0 0 .075-.075z"})]})},Ce=(0,S().wt)("inviteMemberSmall",ke);var Le=()=>n(385527),Be=()=>n(846899),Te=()=>n(100622),_e=()=>n(134696),We=()=>n(209660),ze=()=>n(864943),Pe=()=>n(125565),Re=()=>n(47373),Ue=()=>n(766343);function Oe(e){let{permissionsInviteStore:t}=e;const i=(0,o().v3)(),a=(0,h().tz)(),c=(0,s().K8)((()=>re().default.state.currentSpaceStore),[]),{spaceName:l,spaceIcon:d,spaceSubtitle:u}=(0,s().K8)((()=>{if(!c)return{};const e=(0,te().IL)(c),t=a.formatMessage({id:"sidebarSwitcherMultiAccount.guestWorkspaceSubtitle",defaultMessage:"Guest"});return{spaceName:(0,te().GK)(i,c),spaceIcon:(0,te().c2)(i,c),spaceSubtitle:e?t:st(i,a,c).subtitle}}),[i,a,c]),p=(0,r().IS)((e=>({container:{padding:12,background:"dark"===e.mode?e.accentColors.gray[200]:e.white},metadata:{display:"flex",flexDirection:"row",gap:10,marginBottom:12,alignItems:"center"},title:{fontWeight:f().Wy.medium},labels:{display:"flex",flexDirection:"column",...f().RC}})),[]);return!c||i.device.isMobile?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{style:p.container,children:[(0,v.jsxs)("div",{style:p.metadata,children:[(0,v.jsx)(n(614505).A,{isLarge:!0,largeIcon:!0,disabled:!0,icon:d,isEmptyPage:!1,title:l,size:36}),(0,v.jsxs)("div",{style:p.labels,children:[(0,v.jsx)(Pe().A,{style:p.title,className:"notranslate",children:l}),(0,v.jsx)(Pe().A,{isSmall:!0,children:u})]})]}),(0,v.jsx)(Ge,{permissionsInviteStore:t})]}),(0,v.jsx)(n(802790).A,{size:1})]})}function Ge(e){let{permissionsInviteStore:t}=e;const n=(0,o().v3)(),{currentSpaceStore:a,currentUserStore:c}=(0,s().K8)((()=>{const{currentSpaceStore:e,currentUserStore:t}=re().default.state;return{currentSpaceStore:e,currentUserStore:t}}),[]),{membersButton:l,canRequestMembers:d}=(0,s().K8)((()=>{if(!a||(0,te().IL)(a))return{membersButton:"none",canRequestMembers:!1};const e=!a.canEditMembership()&&!a.getDisableMembershipRequests()&&(0,Re().x3)();let t="none";return t=a.canEditMembership()||e?"invite_members":"settings_members",{membersButton:t,canRequestMembers:e}}),[a]),u=(0,s().K8)((()=>(0,Re().bW)(n)),[n]),p=(0,i.useCallback)((()=>{We().Ow({openedFrom:"space_switcher",currentTab:"user_settings"}),k().A.reset()}),[]),g=(0,i.useCallback)((()=>{a&&"none"!==l&&(a.canEditMembership()&&(t.setState({...t.state,modalOpen:!0}),_e().vX(n,{type:"invite",from:"space_switcher"})),d&&(Ue().A.setState({open:!0,focus:"none"}),_e().vX(n,{type:"request",from:"space_switcher"})),k().A.reset())}),[d,a,n,l,t]),m=(0,i.useCallback)((()=>{We().Ow({openedFrom:"space_switcher",currentTab:"members"}),k().A.reset()}),[]),b=(0,r().IS)((e=>{const t="dark"===e.mode?Te().Tj.whiteWithAlpha(.81):e.mediumTextColor;return{container:{display:"inline-flex",alignSelf:"center",gap:8},button:{color:t,fontSize:12},icon:{fill:t}}}),[]);return a?(0,v.jsxs)("div",{style:b.container,children:[c&&(0,v.jsx)(ze().A,{size:"md",onClick:p,icon:Be().B,iconStyle:b.icon,style:b.button,children:(0,v.jsx)(h().sA,{defaultMessage:"Settings",id:"sidebarSwitcherMultiAccount.menuItem.settingsButton.label"})}),"invite_members"===l&&(0,v.jsx)(ze().A,{size:"md",icon:Ce,iconStyle:b.icon,style:b.button,onClick:g,children:(0,v.jsx)(h().sA,{defaultMessage:"Invite members",id:"sidebarSwitcherMultiAccount.menuItem.inviteButton.label"})}),"settings_members"===l&&(0,v.jsx)(ze().A,{size:"md",icon:Le().h,iconStyle:b.icon,style:b.button,onClick:m,children:u?(0,v.jsx)(h().sA,{defaultMessage:"People",id:"sidebarSwitcherMultiAccount.menuItem.peopleButton.label"}):(0,v.jsx)(h().sA,{defaultMessage:"Members",id:"sidebarSwitcherMultiAccount.menuItem.membersButton.label"})})]}):null}const Ke=i.memo(Oe);var Ee=()=>n(689877),Ne=()=>n(667787),He=()=>n(361567);function De(e){const{parent:t,redirectURL:n,disableLoginLink:i,onSpaceClick:s,loginStore:a,loginPermissionsStore:c,organizationEntryPointProps:l,permissionsInviteStore:d,shouldShowCreateWorkspaceButton:u}=e;let p;const g=(0,o().v3)(),m=(0,o().Y0)(),b=g.currentUser.loggedInUserIds,f=(0,v.jsx)(Ye,{redirectURL:n,disableLoginLink:i,loginStore:a,loginPermissionsStore:c,organizationEntryPointProps:l,shouldShowCreateWorkspaceButton:u});p=m.isMobile?{menuType:ee().gu.Modal,title:(0,v.jsx)(h().sA,{defaultMessage:"Accounts & Workspaces",id:"sidebarSwitcherMultiAccount.mobileMenu.title"}),right:(0,v.jsx)(q().DoneMenuText,{}),onClickRight:t.close}:{menuType:ee().gu.Popup,minWidth:He().QH,maxWidth:He().QH,maxHeight:"min(60vh, 420px)",footer:f};const x=(0,r().IS)((e=>({container:{background:e.surface.elevated,height:"100%"}})),[]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(le().y,{experimentId:"quick_workspace_creation",groups:{on:(0,v.jsx)(Ve,{}),control:null}}),(0,v.jsxs)("div",{style:x.container,children:[(0,v.jsx)(Ke,{permissionsInviteStore:d}),(0,v.jsxs)(F().A,{...p,children:[b.map(((e,t)=>(0,v.jsx)(Fe,{userId:e,isLastUser:t===b.length-1,onSpaceClick:s},e))),m.isMobile&&f]})]})]})}function Ve(){const e=(0,o().v3)(),t=(0,r().IS)((e=>({button:{boxShadow:`0 -1px 0 ${e.regularDividerColor}`},sidebarItem:{color:e.mediumTextColor,height:45},plusIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},plusIcon:{fill:e.mediumIconColor,width:16,height:16}})),[]);return(0,v.jsx)(E().A,{onClick:()=>function(e){k().A.reset(),j().Ig(e),function(e){z().vd(e,"quick_workspace_creation_click"),P().default.logEvent("quick_workspace_creation_click")}(e)}(e),style:t.button,children:(0,v.jsx)(X().A,{style:t.sidebarItem,left:(0,v.jsx)("div",{style:t.plusIconContainer,children:(0,d().W)(t.plusIcon)}),children:(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"})})})}function Fe(e){const{userId:t,isLastUser:n,onSpaceClick:i,disableAccountActions:c}=e,l=(0,o().v3)(),d=(0,o().Y0)(),u=(0,r().IS)((()=>({menuList:d.isMobile?{paddingTop:10}:{},bottomGap:{paddingBottom:8}})),[d.isMobile]),g=(0,ie().r)("sharing_collaboration_sidebar_guest_aggregation"),[m,f]=(0,s().K8)((()=>{const e=pe().A.getSpaceViewStores(l,t);return"shared_document_picker"===g||"guest_workspace_submenu"===g||"external_pages_sidebar"===g?b().jB(e,(e=>!(0,te().IL)(e.getSpaceStore()))):[e]}),[l,t,g]),x=(0,s().K8)((()=>[...m.map((e=>e.pointer)).map((e=>({id:e.id,spaceId:(0,p().e)(e.spaceId)}))).map(a().sZ),"create-workspace-row",..."guest_workspace_submenu"===g?["guest-workspaces"]:[]]),[m,g]),{currentUserRootStore:S,currentSpaceStore:y}=(0,s().K8)((()=>{const{currentUserRootStore:e,currentSpaceStore:t}=re().default.state;return{currentUserRootStore:e,currentSpaceStore:t}}),[]),w=(0,h().tz)(),M=(0,s().K8)((()=>{if(!S)return[];const e=[];for(const[n,o]of m.entries()){const n=o.getSpaceStore();if(!n)continue;const s=t===S.id&&n.id===(null==y?void 0:y.id),{results:r}=ue().A.state,a=r.find((e=>e.spaceId===n.id)),c=(0,te().GK)(l,n),d=ot(l,n),{memberCount:u,subscriptionTierLabel:p}=st(l,w,n);e.push({key:o.id,render:e=>{const{onClick:i,focused:o}=e;return(0,v.jsx)(Ne().A,{id:n.id,menuListItemProps:e,onClick:i,focused:o,icon:(0,te().c2)(l,n),spaceName:c,title:d,memberCount:u,subscriptionTierLabel:p,isCheck:s,unreadMentions:t===l.currentUser.id&&a&&a.spaceId!==(null==y?void 0:y.id)&&a.unread.mentions>0?a.unread.mentions:void 0,disabled:at(l,t)})},action:async e=>{let{event:t}=e;et();pe().A.isGuestWithZeroSharedPages(o)?it({environment:l,spaceViewStore:o}):(s||await i({event:t,spaceViewStore:o}),A().Bw(l))}})}return"guest_workspace_submenu"===g&&e.push({key:"guest-workspaces",render:e=>(0,v.jsx)(he,{...e,userId:t}),action:()=>{}}),e}),[y,S,l,w,i,m,t,g]),I=0===M.length?[]:[{key:"spaces",render:e=>(0,v.jsx)($().A,{...e,disableMobilePadding:!0,topBorder:d.isMobile,children:d.isMobile?e.children:(0,v.jsx)(D().Ay,{direction:"vertical",keys:x,renderKey:t=>e.children[x.indexOf(t)],onDrop:tt({userId:t,environment:l,appendSpaceViewStores:f}),style:{marginBottom:1}})}),items:M}],j=0===M.length;return(0,v.jsxs)("div",{style:j&&n?u.bottomGap:{},children:[(0,v.jsx)(Je,{userId:t,disableAccountActions:c}),I.length>0?(0,v.jsx)("div",{style:u.menuList,children:(0,v.jsx)(Y().Ay,{type:Y().Oh.Vertical,sections:I,initialFocus:void 0,captureKeyboardOnlyWhenFocused:!0})}):null,("shared_document_picker"===g||"external_pages_sidebar"===g)&&(0,v.jsx)(me,{userId:t})]},t)}function Ye(e){const{redirectURL:t,disableLoginLink:n,loginStore:i,organizationEntryPointProps:a,shouldShowCreateWorkspaceButton:c}=e,l=(0,o().v3)(),d=(0,o().Y0)().isMobile,u=(0,r().IS)((e=>({footer:{background:d?void 0:e.surface.elevated,fontWeight:f().Wy.medium}})),[d]),p=(0,s().K8)((()=>pe().A.hasAtLeastOneTeamPlan(l)),[l]),g=(0,v.jsxs)(v.Fragment,{children:[!p&&(0,v.jsx)(Ee().A,{createType:"create-work",redirectURL:t,disableLoginLink:n,loginStore:i}),!(0,se().T)("supportsNativeHome")&&(0,v.jsx)(Ee().A,{createType:"add-account",redirectURL:t,disableLoginLink:n,loginStore:i})]});return(0,v.jsxs)("div",{style:u.footer,children:[(0,v.jsx)(Me,{organizationsInfo:a.organizationsInfo,spaceInfo:a.spaceInfo}),c&&(0,v.jsx)(qe,{}),(0,v.jsxs)($().A,{topBorder:!0,children:[oe().T_(l)&&g,(0,v.jsx)($e,{})]}),!d&&(0,v.jsx)($().A,{topBorder:!0,children:(0,v.jsx)(Ze,{})})]})}function qe(){const e=(0,r().IS)((e=>({createWorkspaceButton:{background:e.tint.regular,alignItems:"center",justifyContent:"center",gap:4,lineHeight:1,display:"flex",margin:"0px 14px 16px"}})),[]),t=(0,o().v3)();return(0,v.jsxs)(N().p,{onClick:async()=>{const e=window.location.pathname;await j().sy(t,{type:"create-or-join",redirectUrl:e,source:"public_share_link"})},style:e.createWorkspaceButton,children:[(0,v.jsx)(J().Q,{colorName:"graySecondary",iconGroup:c().h,variantName:"small"}),(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.createWorkspace.label",defaultMessage:"Create workspace"})]})}function Je(e){const{userId:t,disableAccountActions:n=!1}=e,i=(0,s().K8)((()=>C().A.state.online),[]),r=(0,o().v3)(),a=(0,s().K8)((()=>pe().A.getUserEmailAddress(r,t)),[r,t]);if(!a)return null;const c=n?[]:[T(t),_(t)];return(0,v.jsx)(Q().A,{emailAddress:a,userId:t,disabled:!i||n,accountActions:c})}function $e(){const e=(0,s().K8)((()=>C().A.state.online),[]),t=(0,o().v3)(),n=t.device.isMobile,a=t.currentUser.loggedInUserIds.length>1,c=(0,r().IS)((e=>({iconStyle:{width:24,height:24,fill:e.regularIconColor},accountAction:{display:"flex",color:e.mediumTextColor,whiteSpace:"nowrap",fontSize:n?16:12,paddingLeft:0},modalContent:{display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center"},description:{textAlign:"center"}})),[n]),d=rt(),u=(0,i.useCallback)((async()=>{const{online:e}=C().A.state,n=(0,v.jsxs)("div",{style:c.modalContent,children:[(0,l().G)(c.iconStyle),(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.confirmationMessage",defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {<bold>Log out of all your accounts?</bold>} other {<bold>Log out of your account?</bold>}}",values:{isLoggedIntoMultipleAccounts:a,bold:e=>(0,v.jsx)("span",{style:{fontWeight:f().Wy.medium,fontSize:18},children:e})}})]}),i=(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.acceptLabel",defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {Log out all accounts} other {Log out}}",values:{isLoggedIntoMultipleAccounts:a}}),o=(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.cancelLabel",defaultMessage:"Cancel"}),s=(0,v.jsx)("div",{style:c.description,children:(0,v.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.description",defaultMessage:"You will need to log back in to access your Notion workspaces."})}),{accept:r}=await R().Gh({message:n,acceptLabel:i,cancelLabel:o,description:s});r&&e&&(k().A.setState({...k().A.state,open:!1}),A().Pz(t),I().logout(t))}),[t,a,c.modalContent,c.description,c.iconStyle]);return(0,v.jsx)(H().A,{onClick:u,focused:!1,disabled:!e,textWrapperStyle:d.buttonWrapper,title:(0,v.jsx)("div",{style:c.accountAction,children:(0,v.jsx)(h().sA,{defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {Log out all accounts} other {Log out}}",id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.label",values:{isLoggedIntoMultipleAccounts:a}})})})}function Qe(){const e=(0,o().Y0)(),t=(0,o().v3)(),n=(0,r().IS)((e=>({title:{color:e.mediumTextColor,fontSize:12}})),[]),s=rt(),a=(0,ne().E)(),c=(0,i.useCallback)((()=>{a.current&&(U().oo({environment:t,url:a.current,openInNew:"tab"}),et())}),[t,a]);return(0,v.jsx)(H().A,{external:!0,onClick:c,textWrapperStyle:s.buttonWrapper,focused:!1,title:(0,v.jsx)("div",{style:n.title,children:e.isWindows?(0,v.jsx)(h().sA,{defaultMessage:"Get Windows app",id:"sidebarMultiSwitcher.windowsAppButton.text"}):(0,v.jsx)(h().sA,{defaultMessage:"Get Mac app",id:"sidebarMultiSwitcher.macAppButton.text"})})})}function Xe(){const e=(0,r().IS)((e=>({title:{color:e.mediumTextColor,fontSize:12}})),[]),t=rt();return(0,v.jsx)(H().A,{external:!0,href:"https://www.notion.com/mobile",onClick:et,textWrapperStyle:t.buttonWrapper,focused:!1,title:(0,v.jsx)("div",{style:e.title,children:(0,v.jsx)(h().sA,{defaultMessage:"Get iOS & Android app",id:"sidebarMultiSwitcher.desktopAppGetMobileApp.prompt"})})})}function Ze(){return(0,o().Y0)().isElectron?(0,v.jsx)(Xe,{}):(0,v.jsx)(Qe,{})}function et(){k().A.setState({...k().A.state,open:!1})}function tt(e){const{userId:t,environment:n,prependSpaceViewStores:i,appendSpaceViewStores:o}=e;return function(e){const s=[...i?i.map((e=>e.pointer)):[],...e.filter((e=>"create-workspace-row"!==e&&"guest-workspaces"!==e)).map(a().gK).map((e=>u().L3.fromSpaceShardRecordId(e,g().mu))),...o?o.map((e=>e.pointer)):[]],r=new(ce().dZ)(n,{table:m().GD,id:t},{userId:t});K().createAndCommit({userAction:"SidebarSwitcherMultiAccount.handleDraggableListDrop",environment:n,canUndo:!0,perform:e=>{O().M1({userRootStore:r,transaction:e,spaceViewIds:s.map((e=>e.id)),spaceViewPointers:s})},userId:t}),W().p(n,{workspace_count:e.length})}}const nt=(0,h().YK)({noAccessAsGuest:{defaultMessage:"You no longer have access to this workspace.",id:"SidebarSwitcherMultiAccountPopup.noAccessAsGuest.label"}});function it(e){let{environment:t,spaceViewStore:n}=e;R().rG({message:Z().A.formatMessage(nt.noAccessAsGuest),onAccept:()=>{G().kg({environment:t,spaceViewStore:n})}})}function ot(e,t){const n=(0,te().GK)(e,t),i=ae().A.getData(e,{spaceId:t.id,userId:t.userId});return i&&"none"===i.role?(0,v.jsxs)("div",{style:{display:"flex"},children:[(0,v.jsx)("span",{style:{flexShrink:1,textOverflow:"ellipsis",overflow:"hidden"},children:n}),(0,v.jsx)("div",{style:{marginLeft:"8px",alignSelf:"center"},children:(0,v.jsx)(V().Q,{})})]}):n}function st(e,t,n){const i=ae().A.getData(e,{spaceId:n.id});if(!i||"none"===i.role)return{subtitle:void 0,subscriptionTier:void 0,memberCount:void 0};const o=(0,de().VG)(i.subscriptionTier),s=t.formatNumber(i.memberCount),r=t.formatMessage(o);return{subtitle:t.formatMessage(de().EN.workspaceSubtitleWithMembers,{numberOfWorkspaceMembers:s,planType:r}),subscriptionTierLabel:r,memberCount:s}}function rt(){const e=(0,o().v3)(),{isMobile:t}=e.device;return(0,r().IS)((()=>({buttonWrapper:{marginLeft:t?12:0}})),[t])}function at(e,t){const{online:n}=C().A.state;return!n&&e.currentUser.id!==t}},986229:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(757695))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:n(179034).ev,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const o=i}}]);