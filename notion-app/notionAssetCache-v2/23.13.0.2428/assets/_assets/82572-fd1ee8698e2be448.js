"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[82572],{63467:(e,t,n)=>{n.d(t,{y:()=>d});var o=()=>n(637997),r=()=>n(267419);const i={ko:()=>n.e(2268).then(n.bind(n,224434)),es:()=>n.e(95264).then(n.bind(n,196425)),de:()=>n.e(35390).then(n.bind(n,653703)),fr:()=>n.e(3272).then(n.bind(n,94677)),pt:()=>n.e(27315).then(n.bind(n,766869)),zh:()=>n.e(69945).then(n.bind(n,516814)),ja:()=>n.e(77757).then(n.bind(n,824432)),da:()=>n.e(9423).then(n.bind(n,440761)),fi:()=>n.e(59337).then(n.bind(n,462135)),nb:()=>n.e(2040).then(n.bind(n,937314)),nl:()=>n.e(51106).then(n.bind(n,530897)),sv:()=>n.e(53631).then(n.bind(n,895222))};let s=!1,a=!1;async function l(e){for(const[n,r]of Object.entries(e.emojiLocaleKeywords)){var t;o().fB[n]={...o().fB[n],keywords:[...r,...(null===(t=o().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await r().A.waitUntilLoaded(),r().A.update((t=>{let{emojiByName:n,...o}=t;return{...o,emojiByName:{...n,...e.emojiByName}}}))}async function c(){if(s)return;const[e]=n(662303).locale.split("-");e in i&&(await l(await i[e]()),s=!0)}const d=(0,n(279900).A)((async()=>{await async function(){a||(await l(await n.e(51872).then(n.bind(n,443716))),a=!0)}(),await c()}))},184966:(e,t,n)=>{n.d(t,{t:()=>h});n(944114),n(809678),n(898992),n(581454),n(737550);var o=()=>n(134025),r=()=>n(142748),i=()=>n(433847),s=()=>n(68263),a=()=>n(96689),l=()=>n(116225),c=()=>n(896628),d=()=>n(44729),p=()=>n(317909),u=()=>n(780054),m=()=>n(71584),f=()=>n(989423),S=()=>n(659915),v=()=>n(747444);function h(e){const{environment:t,draftPostStore:n,onSubmitPost:s,from:h}=e,y=t.currentUser.id;n&&y&&(n.isPublishedPost()||(!function(e){const{environment:t,postStore:n}=e;p().createAndCommit({environment:t,perform:e=>(n.getContentStores().toReversed().some((t=>{if(!(0,S().o)(t))return!0;d().zz({childStore:t,parentStore:n,transaction:e})})),n),userAction:"PostChannel.trimPostDraft",canUndo:!1})}({environment:t,postStore:n}),function(e){const{environment:t,blockToDuplicateStore:n,userId:s}=e;if(!n.isDefined())return;const l=(0,r().Yn)(n.getParentPointer(),n.getRecordModel),f=(0,i().wD)(l).map((e=>({...e,role:g(e.role,"comment_only")})));f.push({type:"restricted_permission"}),f.push({type:"user_permission",user_id:s,role:"editor"}),p().createAndCommit({environment:t,perform:e=>{const[[r],i]=m().duplicateBlock({environment:t,stores:[n],addCopyName:!1,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,targetSpaceId:n.getSpaceId(),baseUrl:u().A.domainBaseUrl,publicDomainName:u().A.publicDomainName,preferDuplicateLocation:"local",createActivities:!0});return p().applyOperation({store:r,operation:o().op.update({pointer:r.pointer,path:[],args:{alive:!0,parent_id:n.getParentId(),parent_table:n.getParentTable(),permissions:f,created_time:Date.now(),last_edited_time:Date.now()}}),transaction:e}),c().zA({stores:[r],update:{draft_status:"published"},transaction:e}),p().applyOperation({store:n,operation:o().op.update({pointer:n.pointer,path:[],args:{alive:!1}}),transaction:e}),e.postSubmitCallbacks.push((()=>i.then((()=>p().createAndCommit({environment:t,perform:e=>(c().zA({stores:[r],update:{draft_status:"published"},transaction:e}),d().s8({blockStore:n,transaction:e}),p().applyOperation({store:n,operation:o().op.update({pointer:n.pointer,path:[],args:{parent_id:n.getSpaceId(),parent_table:a().NX,permissions:[{type:"restricted_permission"}]}}),transaction:e}),n),userAction:"PostChannel.cleanupDraft",canUndo:!1}))))),r},userAction:"PostChannel.publishDraft",canUndo:!1}).performResult}({environment:t,blockToDuplicateStore:n,userId:y}),null==s||s(),v().A.setState({isOpen:!1}),(0,f().u4)({environment:t,event:{eventName:"post_created",eventProperties:{block_id:n.id,parent_collection_id:n.getParentId(),from:h}}}),l().u4({name:"post_created"})))}function g(e,t){if(!e)return e;const n="string"==typeof e&&e in s().TE?s().TE[e]:void 0;if(!n)return e;return n>s().TE[t]?t:e}},279900:(e,t,n)=>{function o(e){let t,n,o;return async function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(o=i,n||(n=t.then((()=>(n=void 0,t=e(...o),t))),n)):(t=e(...i),t)}}n.d(t,{A:()=>o})},312316:(e,t,n)=>{n.d(t,{z:()=>c});var o=()=>n(869558),r=()=>n(854150),i=()=>n(44729),s=()=>n(317909),a=()=>n(351360),l=()=>n(842677);function c(e){const{environment:t,selectedStore:n,currentSpaceViewStore:c,collectionContextStore:d,postStore:p}=e;if(!d)return;const u=d.collectionViewStore(),m=d.collectionViewBlockStore();if(!u||!m||!c)return;const f=n.table===r().yK?n.id:void 0,S=a().default.state.currentSpaceStore;if(!S)return;const v=null==n?void 0:n.getChannelStore();if(!v)return;const h=l().RecordStores.createUniqueRootStore(t,{table:"block",id:null==v?void 0:v.id,spaceId:S.id}),g=null==h?void 0:h.getCollectionStore();s().createAndCommit({environment:t,userAction:"PersonalHomeFeedTab.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{g&&(p&&i().X$({childStore:p,parentStore:g,transaction:e}),s().applyOperation({store:u,operation:{pointer:{id:u.id,table:o().Gy},path:["format","collection_view_source","teamId"],command:"set",args:f},transaction:e}))}})}},478146:(e,t,n)=>{n.d(t,{eO:()=>x});n(898992),n(803949);var o=n(296540),r=()=>n(484714),i=()=>n(56366),s=()=>n(401497),a=()=>n(668725),l=()=>n(959013),c=()=>n(284371),d=()=>n(704152),p=()=>n(760217),u=()=>n(933117),m=()=>n(87181),f=()=>n(115512),S=()=>n(351360),v=()=>n(898808),h=()=>n(312316),g=()=>n(952412),y=n(474848);const b=4;function x(e){let{postStore:t}=e;const n=(0,r().v3)(),{currentSpaceViewStore:s,currentSpaceStore:a}=(0,i().K8)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=S().default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),{selectedTeamStore:l,subscribedUserTeamStores:c,collectionContextStore:d}=(0,i().K8)((()=>g().u.state),[]),m=(0,o.useCallback)((e=>{(0,h().z)({environment:n,currentSpaceViewStore:s,selectedStore:e,collectionContextStore:d,postStore:t})}),[n,d,s,t]),f=(0,i().K8)((()=>{if(!a)return{};const e={};return e[a.id]=null==a?void 0:a.getName(),null==c||c.forEach((t=>{e[t.id]=t.getName()})),e}),[a,c]);return s&&a&&l&&c&&d?(0,y.jsx)(u().A,{items:c,getKey:e=>e.id,selectedItem:l,onSelect:m,renderItem:e=>{const t=e.value;return(0,y.jsx)(p().A,{...e,title:f[t.id],icon:(0,y.jsx)(v().x,{store:t,size:16,disabled:!0})})},renderOrigin:e=>(0,y.jsx)(C,{...e,selectedStore:l}),width:300}):null}function C(e){const t=(0,r().v3)(),{device:n}=t,{selectedStore:o,...i}=e,l=(0,s().IS)((e=>({dropdownButton:{padding:"6px 8px",color:e.text.secondary,fontSize:(0,f().ny)(t,"UISmall"),display:"inline-flex",justifyContent:"end",alignItems:"center",borderRadius:b},dropdownIcon:{width:10,marginLeft:4,fill:e.lightIconColor},dropdownText:{display:"inline-flex",alignItems:"center",fontWeight:c().Wy.medium,overflow:"hidden"}})),[t]);return(0,y.jsxs)(d().A,{mobileFeedback:n.isMobile,style:l.dropdownButton,...i,children:[(0,y.jsx)("div",{style:l.dropdownText,children:(0,y.jsx)(w,{selectedStore:o})}),(0,a().b)(l.dropdownIcon)]})}function w(e){let{selectedStore:t}=e;const n=(0,r().v3)(),o=(0,i().K8)((()=>null==t?void 0:t.getName()),[t]),a=(0,i().K8)((()=>(0,m().rK)(n)),[n]),d=(0,s().IS)((()=>({icon:{marginLeft:a?0:4,marginRight:4},teamName:{...c().RC}})),[a]),p=(0,y.jsx)(v().x,{store:t,size:16,disabled:!0,style:d.icon});return o?(0,y.jsxs)(y.Fragment,{children:[!a&&(0,y.jsx)(l().sA,{id:"postsComposer.teamDropdownTitle.in",defaultMessage:"In "}),(0,y.jsx)(l().sA,{id:"postsComposer.teamDropdownTitle.teamInfo",defaultMessage:"{teamIcon} {teamName}",values:{teamIcon:p,teamName:(0,y.jsx)("div",{style:d.teamName,children:o})}})]}):(0,y.jsx)(l().sA,{id:"postsComposer.teamDropdownTitle.withoutTeamName",defaultMessage:"In your teamspace"})}},522500:(e,t,n)=>{n.d(t,{q:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("megaphone",{viewBox:"0 0 64 64",svg:(0,o.jsx)("path",{d:"m54,10v40h-4l-20-10h-4l4,16h-10l-4-16c-4.94,0-8-3.06-8-8v-4c0-4.94,3.06-8,8-8h14l20-10h4Z"})})},555555:(e,t,n)=>{n.d(t,{n:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("import",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},659799:(e,t,n)=>{n.d(t,{A:()=>l});n(296540);var o=()=>n(401497),r=()=>n(284371),i=()=>n(962730),s=()=>n(859428),a=n(474848);function l(e){let{text:t,tooltipText:n,icon:l}=e;const c=(0,o().IS)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.shadowSM},container:{display:"flex",alignItems:"center",fontWeight:r().Wy.regular,color:e.mediumTextColor,fontSize:r().J.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return(0,a.jsx)(s().A,{style:c.tooltip,render:e=>(0,a.jsx)("div",{style:c.text,...e,children:t}),renderTooltip:()=>(0,a.jsxs)("div",{style:c.container,children:[l(c.icon),(0,a.jsx)("div",{children:n})]}),alignment:i().C.Start,placement:i().W.Bottom})}},659915:(e,t,n)=>{n.d(t,{o:()=>r,s:()=>i});n(898992),n(430670);var o=()=>n(919709);function r(e){return!e.isTransclusionType()&&!e.isCollectionView()&&!e.hasContent()&&e.isEmptyTitle()}function i(e){const t=(0,o().tyK)(e.getTitleValue()),n=e.getContentStores().flatMap((e=>(0,o().tyK)(e.getTitleValue())));return t.length>0||n&&n.length>0}},661945:(e,t,n)=>{n.d(t,{A:()=>r});class o extends(()=>n(757695))().default{getInitialState(){return{isOpen:!1}}}const r=new o},732800:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(296540),r=()=>n(959013),i=n(474848);function s(e){const t=(0,n(56366).K8)((()=>{if(!e.postStore)return 0;const t=(0,n(108944).yQ)(e.postStore);return t?null==t?void 0:t.getRawMembership().length:0}),[e.postStore]);return(0,i.jsx)(n(957986).A,{open:e.isOpen,onDismiss:e.onDismiss,render:()=>(0,i.jsx)(n(887480).Ay,{icon:n(522500).q,title:(0,i.jsx)(r().sA,{id:"posts.confirmMentionEveryoneModal.title",defaultMessage:"Notify {sizeOfTeam} people?",values:{sizeOfTeam:t}}),subtitle:(0,i.jsx)(r().sA,{id:"posts.confirmMentionEveryoneModal.subtitle",defaultMessage:"Using @everyone notifies everyone in the teamspace. Are you sure you want to send this?"}),confirmText:(0,i.jsx)(r().sA,{id:"posts.confirmMentionEveryoneModal.confirmText",defaultMessage:"Send"}),cancelText:(0,i.jsx)(r().sA,{id:"posts.confirmMentionEveryoneModal.cancelText",defaultMessage:"Edit message"}),confirmTextStyle:"red",radioOptions:[],onDismiss:e.onDismiss,onConfirm:e.onConfirm})})}const a=o.memo(s)},747444:(e,t,n)=>{n.d(t,{A:()=>r});class o extends(()=>n(757695))().default{getInitialState(){return{isOpen:!1,blockStore:void 0}}}const r=new o},809678:(e,t,n)=>{var o=n(746518),r=n(437628),i=n(225397),s=n(206469),a=Array;o({target:"Array",proto:!0},{toReversed:function(){return r(i(this),a)}}),s("toReversed")},848565:(e,t,n)=>{n.d(t,{FB:()=>u,Ql:()=>m,SM:()=>f,Wv:()=>i,Yz:()=>a,ds:()=>r,e4:()=>o,eQ:()=>s,im:()=>c,jw:()=>l,k2:()=>p,uG:()=>d});const o=8,r=10,i=8,s=24,a=6,l=1.5,c=(s-l)/2,d=s+a,p=`calc(100% + ${i+(o-a)-d}px)`,u=s+8,m=-16;function f(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},952412:(e,t,n)=>{n.d(t,{u:()=>r});class o extends(()=>n(757695))().default{getInitialState(){return{selectedTeamStore:void 0,subscribedUserTeamStores:void 0,collectionContextStore:void 0,isPostsCollectionLoaded:!1,setComposerStyle:void 0}}reset(){this.setState({selectedTeamStore:void 0,subscribedUserTeamStores:void 0,collectionContextStore:void 0,isPostsCollectionLoaded:!1,setComposerStyle:void 0})}}const r=new o}}]);