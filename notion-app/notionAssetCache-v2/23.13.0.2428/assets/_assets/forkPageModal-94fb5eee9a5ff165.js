"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[27761],{73223:(e,t,n)=>{n.r(t),n.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>m,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var i=()=>n(541235),o=()=>n(317909),r=()=>n(755199),s=()=>n(739135),a=()=>n(351360);function l(e,t){var n;const{currentUserSettingsStore:i}=a().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,s().i9)(i,t)}}})},userId:i.id})}function d(e,t){var n;const{currentUserSettingsStore:i}=a().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,s().KD)(i,t)}}})},userId:i.id})}function c(e,t){var n;const{currentUserSettingsStore:o}=a().default.state;if(!o)return;const s=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...s,[t]:i().YD}}})},userId:o.id})}function u(e){const{currentUserSettingsStore:t}=a().default.state;t&&g({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,n){var o;const{currentUserSettingsStore:l}=a().default.state;if(!l||(0,s().x$)(l,t))return;const d=(0,s().gt)(l,t);i().c$[t].steps.findIndex((e=>e.id===d))>=i().c$[t].steps.findIndex((e=>e.id===n))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(o=l.getSettings())||void 0===o?void 0:o.tutorials,[t]:n}}})}function m(e,t,n){if((0,s().ll)(n))return;const i=(0,s().tb)(t,n);i&&p(e,t,i)}function g(e){return o().createAndCommit({...e,canUndo:!1})}},87726:(e,t,n)=>{n.d(t,{Hk:()=>m,Iw:()=>x,kc:()=>h,un:()=>f});n(898992),n(354520),n(581454);var i=()=>n(979340),o=()=>n(255591),r=()=>n(228271),s=()=>n(797573),a=()=>n(534177),l=()=>n(780054),d=()=>n(47373),c=()=>n(972435),u=()=>n(951340),p=()=>n(508496);const m=(0,n(959013).YK)({addToTeamspace:{id:"templateGalleryHelpers.addToTeamspace",defaultMessage:"Add to a teamspace"},addToPrivate:{id:"teamPickerButton.addToPrivate",defaultMessage:"Add to Private"}}),g=(0,a().uv)(o().PY);function x(e){let{userPersona:t,subscriptionTier:n}=e;return[...g].sort(((e,o)=>function(e,t,n,o){const r=(0,i().Pg)(o),s=(0,u().NI)({persona:n,defaultToLife:r});if("suggested"===e||"suggested"===t)return"suggested"===e?-1:1;if(s===e||s===t)return s===e?-1:1;if(("life"===e||"life"===t)&&r)return"life"===e?-1:1;if(("student"===e||"student"===t)&&function(e){let{persona:t,isPersonalishPlan:n}=e;const i=n?["other","unfilled","personal","undefined"]:["personal"];return i.includes(t??"undefined")}({persona:n,isPersonalishPlan:r}))return"student"===e?-1:1;return 0}(e,o,t,n)))}function f(e){let{subscriptionTier:t,environment:n}=e;const l=c().A.getIntl(),u=(0,d().WC)({environment:n}),m=u?function(e){return(0,i().Pg)(e)?o().sw:o().ht}(t):o().PY.suggested;return(0,a().s8)(o().PY,((e,t)=>"suggested"===t?m.map((e=>(0,s().B)(e,l))):e.filter((e=>(0,r().vc)(e,p().default))).map((e=>u?(0,r().G2)(e):e)).filter((e=>!m.includes(e))).map((e=>(0,s().B)(e,l)))))}function h(e){return`${l().A.domainBaseUrl}/@${e}`}},112795:(e,t,n)=>{n.d(t,{A:()=>k,Z:()=>v});n(944114),n(898992),n(354520),n(581454);var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(177167),l=()=>n(959013),d=()=>n(760217),c=()=>n(406699),u=()=>n(928600),p=()=>n(939740),m=()=>n(460292),g=()=>n(89924),x=()=>n(722872),f=()=>n(287351),h=n(474848);function k(e){const{renderOrigin:t,onTeamAccept:n,sectionTitle:i,showMemberCount:k,right:S,onPrivateAccept:y,captionItem:b}=e,j=(0,o().Y0)().isMobile,A=(0,s().IS)((e=>({privateItemLockIconContainer:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:6,border:`1px solid ${e.stroke.secondary}`,background:e.surface.wash},privateItemLockIcon:{width:24,height:24,fill:e.icon.primary},caption:{color:e.lightTextColor}})),[]),I=(0,f().U)(),T=(0,r().K8)((()=>I.filter((e=>e.canAddOrRemoveTopLevelPages()))),[I]),w=[];if(b){const e={key:"caption",render:e=>(0,h.jsx)(g().A,{...e,topBorder:!1}),items:[b]};w.push(e)}if(0!==T.length){const e={key:"teams",render:e=>(0,h.jsx)(g().A,{...e,title:i,topBorder:Boolean(b)}),items:[{key:"private",action:()=>{},render:e=>(0,h.jsx)(d().A,{...e,icon:(0,h.jsx)("div",{style:A.privateItemLockIconContainer,children:(0,h.jsx)(m().Q,{iconGroup:a().x,variantName:"large",colorName:"primary"})}),title:(0,h.jsx)(l().sA,{id:"teamPickerButton.addToPrivate",defaultMessage:"Add to Private"}),onClick:()=>{null==y||y()},right:S,caption:(0,h.jsx)("span",{})})},...T.map((e=>({key:e.id,action:()=>{n(e)},render:t=>(0,h.jsx)(v,{...t,teamStore:e,onAccept:n,showMemberCount:k,right:S})})))]};w.push(e)}return(0,h.jsx)(c().Ay,{...e,popupType:j?c().z7.SlideUp:c().z7.Popup,renderOrigin:t,render:e=>{let t;return t=j?{menuType:x().gu.ActionSheet}:{menuType:x().gu.Popup,width:"100%"},(0,h.jsx)(u().A,{...t,children:(0,h.jsx)(p().Ay,{style:{width:j?void 0:256},type:p().Oh.Vertical,initialFocus:void 0,sections:w})})}})}const v=i.forwardRef((function(e,t){const{teamStore:i,onAccept:o,showMemberCount:r,right:s,...a}=e,c=(0,n(192940).h)(i);return(0,h.jsx)(d().A,{...a,ref:t,onClick:e=>o(i),icon:(0,h.jsx)(n(898808).x,{store:i,size:32,disabled:!0}),title:(0,h.jsx)(n(768148).j,{teamStore:i,shouldUseStyledText:!0}),right:s,caption:r?(0,h.jsx)(n(554509).D,{styleName:"UISmall-12px/Regular",colorName:"secondary",children:(0,h.jsx)(l().sA,{defaultMessage:"{numberOfMembers, plural, one {{numberOfMembers} member} other {{numberOfMembers} members}}",id:"teamPickerButton.teamItem.teamMemberCount",values:{numberOfMembers:c}})}):null})}))},171347:(e,t,n)=>{n.d(t,{A:()=>a,g:()=>r});n(296540);var i=n(474848);const o={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:n(284371).Wy.semibold,borderRadius:4,color:n(100622).Ay.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"};let r=function(e){return e[e.Red=0]="Red",e[e.Gray=1]="Gray",e}({});function s(e){return!!e&&e>0}const a=function(e){let{count:t,color:a,style:d,numberStyle:c,fadeIn:u}=e;const p=a===r.Red,m=(0,n(401497).IS)((e=>({badge:{...o,...d,...(t??0)>99&&{width:void 0,padding:2},background:p?e.redBadgeBackground:e.lightIconColor,...u&&{transition:"opacity 0.1s",opacity:s(t)?1:0}}})),[t,u,p,d]);return u||s(t)?(0,i.jsx)("div",{style:m.badge,children:(0,i.jsx)(l,{count:t,numberStyle:c})}):null};function l(e){let{count:t,numberStyle:n}=e;return t?1===t?(0,i.jsx)("span",{style:{marginLeft:-.5,...n},children:"1"}):t>99?(0,i.jsx)("span",{style:{letterSpacing:-.5,...n},children:"99+"}):t>9?(0,i.jsx)("span",{style:{letterSpacing:-.5,marginLeft:-.5,...n},children:t}):(0,i.jsx)("span",{style:{...n},children:t}):null}},177167:(e,t,n)=>{n.d(t,{x:()=>i});const i=(0,n(340498).xh)("lockClosedFill",{default:{loader:()=>n.e(61466).then(n.bind(n,161466))},small:{loader:()=>n.e(6960).then(n.bind(n,106960))},mini:{loader:()=>n.e(26180).then(n.bind(n,26180))},large:{loader:()=>n.e(37636).then(n.bind(n,37636))}})},192940:(e,t,n)=>{n.d(t,{h:()=>r});var i=()=>n(56366),o=()=>n(37433);function r(e){return(0,i().K8)((()=>{var t;return void 0===e?0:(null===(t=(0,o().PF)(e))||void 0===t?void 0:t.memberCountWithGuests)??0}),[e])}},255591:(e,t,n)=>{n.d(t,{PY:()=>a,bJ:()=>s,ht:()=>d,sw:()=>l});var i=()=>n(66689),o=()=>n(837384),r=()=>n(544008);const s={suggested:r().DZ.suggestedCategory,design:r().DZ.designer,eng:r().DZ.engineering,product:r().DZ.productManagement,marketing:r().DZ.marketing,sales:r().DZ.sales,support:r().DZ.support,hr:r().DZ.hr,life:r().DZ.life,student:r().DZ.student},a=(i().Vq,i().WX,i().I0,i().Y8,i().ud,i().I0,i().WX,i().I0,i().WX,i().WX,i().WX,i().WX,{suggested:[o().kx.defaultWiki],product:[o().kx.oneOnOneNotes,o().kx.productWiki,o().kx.productSpec,o().kx.visionAndStrategy,o().kx.presentation,o().kx.investorUpdate,o().kx.userResearch,o().kx.experimentResults,o().kx.brainstorm,o().kx.productLaunchBrief],design:[o().kx.designSprint,o().kx.designSystem,o().kx.designPortfolio,o().kx.userResearch,o().kx.brainstorm],eng:[o().kx.engineeringWiki,o().kx.engineeringTechSpec,o().kx.experimentResults,o().kx.brainstorm],marketing:[o().kx.presentation,o().kx.brandAssets,o().kx.brainstorm,o().kx.contentCalendar,o().kx.blogEditorialCalendar,o().kx.socialMediaCalendar,o().kx.campaignBrief,o().kx.moodBoard,o().kx.mediaList],hr:[o().kx.companyHome,o().kx.newHireOnboarding,o().kx.employeeBenefits,o().kx.interviewGuide,o().kx.recruitingTracker,o().kx.jobBoard,o().kx.applicantTracker,o().kx.peopleDirectory],sales:[o().kx.salesWiki,o().kx.salesCRM,o().kx.salesAssets,o().kx.competitiveAnalysis],support:[o().kx.productFAQs,o().kx.helpCenter],life:[o().kx.readingListV2,o().kx.habitTrackerV2,o().kx.simpleBudgetV2,o().kx.weeklyTodoV2,o().kx.travelPlannerV2,o().kx.journalV2,o().kx.resumeV2,o().kx.personalHomeV3,o().kx.quickNoteV2,o().kx.jobApplicationsV2,o().kx.lifeWikiV2,o().kx.moodBoardV2,o().kx.blogPostV2,o().kx.personalCRMV2],student:[o().kx.studentPlanner,o().kx.classNotesV2,o().kx.courseScheduleV2,o().kx.gradeCalculatorV2,o().kx.cornellNotesSystemV2,o().kx.syllabusV2,o().kx.lessonPlansV2,o().kx.classDirectoryV2,o().kx.classroomHomeV2,o().kx.clubHomepageV2]}),l=[o().kx.todoListMobile,o().kx.quickNoteMobile,o().kx.habitTrackerMobile,o().kx.journalMobile,o().kx.weeklyPlanMobile,o().kx.classNotesMobile],d=[o().kx.todoListMobile,o().kx.quickNoteMobile,o().kx.oneOnOneNotesMobile,o().kx.weeklyPlanMobile]},287351:(e,t,n)=>{n.d(t,{U:()=>s});var i=()=>n(484714),o=()=>n(56366),r=()=>n(186445);function s(){var e;const t=(0,i().v3)();return(null===(e=(0,o().O$)((0,r().rp)(t)))||void 0===e?void 0:e.userJoinedTeamsStores)??[]}},345578:(e,t,n)=>{n.d(t,{A:()=>l});n(296540);var i=()=>n(449552),o=()=>n(959013),r=()=>n(859428),s=()=>n(962730),a=n(474848);function l(e){let{iconStyle:t}=e;return(0,a.jsx)(r().A,{textWrap:!0,style:{width:210},placement:s().W.Bottom,renderTooltip:()=>(0,a.jsx)(o().sA,{id:"teamLockIcon.tooltip",defaultMessage:"Private teamspaces can only be accessed or joined by invitation"}),render:e=>(0,a.jsx)("div",{...e,children:(0,i().g)(t)})})}},448908:(e,t,n)=>{n.r(t),n.d(t,{ForkPageModalWrapper:()=>$});var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(753035),a=()=>n(401497),l=n(474848);const d=(0,n(340498).wt)("addFilterGroup",{viewBox:"0 0 16 16",svg:(0,l.jsx)("path",{d:"M2.374 12.42h1.293v1.157c0 1.557.787 2.344 2.375 2.344h7.591c1.573 0 2.367-.787 2.367-2.344V5.924c0-1.557-.794-2.344-2.367-2.344h-1.3V2.423C12.333.866 11.539.08 9.966.08H2.374C.786.08 0 .866 0 2.423v7.653c0 1.557.786 2.344 2.374 2.344zm.015-1.218c-.756 0-1.172-.408-1.172-1.194V2.49c0-.786.416-1.194 1.172-1.194h7.554c.749 0 1.172.408 1.172 1.194v1.09H6.042c-1.588 0-2.375.778-2.375 2.343v5.278H2.39zm3.668 3.501c-.749 0-1.172-.408-1.172-1.194V5.991c0-.786.423-1.194 1.172-1.194h7.554c.748 0 1.172.408 1.172 1.194v7.516c0 .787-.424 1.195-1.172 1.195H6.057zm3.773-1.565c.4 0 .643-.272.643-.71v-2.042h2.17c.423 0 .718-.227.718-.628 0-.408-.272-.643-.718-.643h-2.17V6.938c0-.447-.242-.719-.643-.719-.4 0-.628.288-.628.719v2.177h-2.17c-.438 0-.718.235-.718.643 0 .4.295.628.718.628h2.17v2.041c0 .424.227.711.628.711z"})});var c=()=>n(959013),u=()=>n(284371),p=()=>n(160568),m=()=>n(957986),g=()=>n(48848),x=()=>n(351360),f=()=>n(34542),h=(n(898992),n(354520),n(581454),()=>n(449552)),k=()=>n(760217),v=()=>n(939740),S=()=>n(204063),y=()=>n(89924),b=()=>n(453697),j=()=>n(112795),A=()=>n(287351),I=()=>n(87726),T=()=>n(464699);const w=(0,c().YK)({addIconButton:{id:"forkPageDestinationSelect.add",defaultMessage:"Add"}});function C(){const e=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",justifyContent:"center",height:24,borderRadius:100,paddingLeft:8,paddingRight:8,gap:4,backgroundColor:e.outlineBlueButtonHoveredBackground,color:e.blueColor,fontWeight:u().Wy.medium,letterSpacing:.5},icon:{width:14,height:14,fill:e.blueColor}})),[]);return(0,l.jsxs)("span",{style:e.container,children:[(0,T().b)(e.icon),(0,l.jsx)(c().sA,{...w.addIconButton})]})}function M(e){let{onSelect:t}=e;const n=(0,r().K8)((()=>x().default.state.currentUserStore),[]),{open:o,spaceStore:d}=(0,r().K8)((()=>s().A.state),[]),p=(0,a().IS)((e=>({menuContainer:{minHeight:60,maxHeight:"30vh",overflowY:"auto"},menuItem:{height:45,paddingTop:6,paddingBottom:4},addToText:{fontSize:12,lineHeight:u().K_.UISmall.desktop,fontWeight:u().Wy.medium,color:e.mediumTextColor,marginLeft:8},loadMoreText:{fontSize:u().J.UISmall.desktop,color:e.mediumTextColor},resetMenuItem:{marginLeft:0,marginRight:0,marginTop:0,marginBottom:0,width:"100%"},privateMenuItem:{height:35},privateMenuTitle:{...u().RC,color:e.darkTextColor,fontSize:u().J.UIRegular.desktop,fontWeight:u().Wy.medium},privateMenuCaption:{color:e.lightTextColor},privateIconContainer:{position:"relative",width:20,height:20,padding:1},privateLockIcon:{position:"absolute",bottom:-2,right:-2,zIndex:1,width:10,height:10,fill:e.accentColors.red[500]}})),[]),m=(0,A().U)(),g=(0,r().K8)((()=>m.filter((e=>e.canAddOrRemoveTopLevelPages()&&!e.getArchivedBy()))),[m]),f=(0,i.useMemo)((()=>(0,l.jsx)(C,{})),[]),S=(0,r().K8)((()=>{var e;const{currentSpaceViewStore:t}=x().default.state;return!t||t.getSpaceId()!==(null===(e=s().A.state.spaceViewStore)||void 0===e?void 0:e.getSpaceId())}),[]),T=(0,i.useMemo)((()=>[{key:"private_or_teams",render:e=>(0,l.jsx)(y().A,{...e}),items:[{key:"private",action:()=>{},render:e=>(0,l.jsx)(k().A,{...e,style:p.menuItem,icon:(0,l.jsxs)("div",{style:p.privateIconContainer,children:[(0,l.jsx)(b().A,{hasTooltip:!1,userStore:n}),(0,h().g)(p.privateLockIcon)]}),title:(0,l.jsx)("div",{style:p.privateMenuTitle,children:(0,l.jsx)(c().sA,{...I().Hk.addToPrivate})}),caption:(0,l.jsx)("div",{style:p.privateMenuCaption,children:(0,l.jsx)(c().sA,{id:"forkPageDestinationSelect.privateTooltip",defaultMessage:"Visible only to you"})}),right:e.focused?f:null,buttonStyle:p.resetMenuItem,onClick:()=>{t({type:"private"})},disabled:S})},...g.map((e=>({key:e.id,action:()=>{},render:n=>(0,l.jsx)(j().Z,{...n,style:p.menuItem,buttonStyle:p.resetMenuItem,showMemberCount:!0,right:n.focused?f:null,teamStore:e,onAccept:()=>{t({type:"team",teamStore:e})},disabled:S})})))]}]),[n,g,t,S,f,p.menuItem,p.resetMenuItem,p.privateIconContainer,p.privateLockIcon,p.privateMenuCaption,p.privateMenuTitle]);return o&&n&&d?g.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:p.addToText,children:(0,l.jsx)(c().sA,{id:"forkPageDestinationSelect.addTo",defaultMessage:"Add to"})}),(0,l.jsx)(v().Ay,{style:p.menuContainer,type:v().Oh.Vertical,initialFocus:void 0,sections:T})]}):(0,l.jsx)(P,{onClick:()=>{t({type:"private"})},disabled:S}):(0,l.jsx)(l.Fragment,{})}function P(e){const t=(0,a().IS)((()=>({addToPrivatePrimaryButtonContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingLeft:8,paddingRight:8},addToPrivatePrimaryButton:{width:"100%"}})),[]);return(0,l.jsx)("div",{style:t.addToPrivatePrimaryButtonContainer,children:(0,l.jsx)(S().A,{...e,size:"lg",style:t.addToPrivatePrimaryButton,children:(0,l.jsx)(c().sA,{id:"forkPageDestinationSelect.addToPrivate",defaultMessage:"Add to Private"})})})}n(944114);var V=()=>n(798880),B=()=>n(294712),R=()=>n(534177),D=()=>n(406699),W=()=>n(928600),K=()=>n(394783),U=()=>n(722872),L=()=>n(437622),O=()=>n(667787),N=()=>n(930561),z=()=>n(700250),H=()=>n(630116);function Y(e){let{templateBlockId:t}=e;const n=(0,o().v3)(),i=(0,a().IS)((e=>({selectedSpace:{border:`1px solid ${e.regularDividerColor}`,borderRadius:6},expandIcon:{fill:e.mediumIconColor,width:12,marginLeft:"auto"}})),[]),d=(0,r().K8)((()=>n.currentUser.loggedInUserIds),[n]),c=(0,r().K8)((()=>x().default.state.currentUserStore),[]),u=(0,r().K8)((()=>s().A.state.spaceStore),[]),m=(0,r().K8)((()=>c?d.map((e=>c.getRecordModel({table:V().oo,id:e}))).filter(R().O9):[]),[c,d]),{spaceIcon:g,spaceName:h,title:k}=(0,r().K8)((()=>u?{spaceIcon:(0,L().c2)(n,u),spaceName:(0,L().GK)(n,u),title:(0,N().rK)(n,u)}:{spaceIcon:void 0,spaceName:"",title:""}),[n,u]);return(0,l.jsx)(D().Ay,{popupType:D().z7.Popup,renderOrigin:e=>(0,l.jsx)("div",{style:i.selectedSpace,children:(0,l.jsx)(O().A,{id:null==u?void 0:u.id,icon:g,spaceName:h,title:k,focused:!1,...e})}),render:e=>(0,l.jsx)(W().A,{menuType:U().gu.Popup,children:m.map((i=>{const o=i.id;return(0,l.jsx)(Z,{userId:o,onSpaceClick:async i=>{let{spaceViewStore:o}=i;p().bk(n,{templateBlockId:t,templateDestinationSpaceId:o.getSpaceId(),numOfUsers:m.length}),e.close(),await f().yO({environment:n,spaceViewStore:o,switchCurrentSpace:!1})},selectedSpaceId:null==u?void 0:u.id},o)}))}),onClick:()=>{p().hS(n,{templateBlockId:t,numOfUsers:m.length})},placementToOrigin:z().UV.Bottom,sameWidthAsOrigin:!0})}function Z(e){const{userId:t,onSpaceClick:n,selectedSpaceId:s}=e,a=(0,o().v3)(),d=(0,o().Y0)(),c=(0,r().K8)((()=>x().default.state.currentUserRootStore),[]),u=(0,r().K8)((()=>new(H().dZ)(a,{table:B().GD,id:t},{userId:t}).getSpaceViewStores()),[a,t]),p=(0,r().K8)((()=>new(H().LU)(a,{table:V().oo,id:t},{userId:t}).getEmail()),[a,t]),m=(0,r().K8)((()=>{if(!c)return[];const e=[];for(const i of u.values()){const o=i.getSpaceStore();if(null!=o&&o.isDefined()&&null!=o&&o.canEdit()){const r=t===c.id&&o.id===s,d=(0,L().GK)(a,o),u=(0,N().rK)(a,o);e.push({key:i.id,render:e=>(0,l.jsx)(O().A,{...e,id:o.id,icon:(0,L().c2)(a,o),spaceName:d,title:u,isCheck:r}),action:async e=>{let{event:t}=e;await n({event:t,spaceViewStore:i})}})}}return e}),[c,a,n,s,u,t]),g=0===m.length?[]:[{key:"spaces",render:e=>(0,l.jsx)(y().A,{...e,disableMobilePadding:!0,topBorder:d.isMobile}),items:m}];return g.length>0?(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(K().A,{emailAddress:p??"",userId:t,disabled:!1,accountActions:[]}),(0,l.jsx)("div",{children:(0,l.jsx)(v().Ay,{type:v().Oh.Vertical,sections:g,initialFocus:void 0})})]},t):null}const F=function(){const e=(0,o().v3)(),t=(0,c().tz)();(0,i.useEffect)((()=>{var e;s().A.state.open&&!s().A.state.spaceStore&&s().A.setState({...s().A.state,spaceStore:null===(e=x().default.state.currentSpaceViewStore)||void 0===e?void 0:e.getSpaceStore(),spaceViewStore:x().default.state.currentSpaceViewStore})}),[]);const{open:n,blockStore:h,spaceViewStore:k}=(0,r().K8)((()=>s().A.state),[]),v=(0,r().K8)((()=>g().Ow(h,t)),[h,t]),S=(0,a().IS)((e=>({container:{width:360,paddingTop:20,paddingBottom:16},topContainer:{paddingLeft:20,paddingRight:20},bottomContainer:{paddingLeft:12,paddingRight:12},modalTitle:{display:"flex",flexDirection:"column",alignItems:"center",gap:10},modalTitleIcon:{width:24,height:24,fill:e.mediumTextColor},modalTitleText:{fontSize:17,fontWeight:u().Wy.semibold,textAlign:"center"},spaceSwitcher:{marginTop:16,marginBottom:16},spaceSwitcherText:{fontSize:u().J.UISmall.desktop,fontWeight:u().Wy.medium,color:e.mediumTextColor,marginBottom:4}})),[]);return(0,l.jsx)(m().A,{open:n,showCloseIcon:!0,onDismiss:()=>{s().A.reset(),p().oF(e,{templateBlockId:null==h?void 0:h.id})},render:()=>h?(0,l.jsxs)("div",{style:S.container,children:[(0,l.jsxs)("div",{style:S.topContainer,children:[(0,l.jsxs)("div",{style:S.modalTitle,children:[d(S.modalTitleIcon),(0,l.jsx)("div",{style:S.modalTitleText,children:(0,l.jsx)(c().sA,{...g().DZ.whereToDuplicate,values:{blockTitle:v}})})]}),(0,l.jsxs)("div",{style:S.spaceSwitcher,children:[(0,l.jsx)("div",{style:S.spaceSwitcherText,children:(0,l.jsx)(c().sA,{...g().DZ.selectWorkspace})}),(0,l.jsx)(Y,{templateBlockId:h.id})]})]}),k&&(0,l.jsx)("div",{style:S.bottomContainer,children:(0,l.jsx)(M,{onSelect:t=>{"team"===t.type&&s().A.setState({...s().A.state,teamStore:t.teamStore}),f().f6(e)}})})]}):null})};const G=function(e){const t=(0,o().v3)(),d=(0,o().Y0)(),u=(0,c().tz)(),p=(0,a().IS)((()=>({container:{width:"100vw",height:"100vh",paddingLeft:16,paddingRight:16,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})),[]),{open:x,blockStore:f}=(0,r().K8)((()=>s().A.state),[]),h=(0,r().K8)((()=>g().Ow(f,u)),[f,u]),k=(0,r().K8)((()=>x?[{key:"spaces",render:e=>(0,l.jsx)(y().A,{title:(0,l.jsx)(c().sA,{...g().DZ.selectWorkspace}),...e}),items:(0,n(996594).getSpaceViewMenuItems)(t,f)}]:[]),[t,f,x]),S=(0,i.useMemo)((()=>d.isMobile?{menuType:U().gu.Modal,title:(0,l.jsx)(c().sA,{...g().DZ.whereToDuplicate,values:{blockTitle:h}}),width:"100vw"}:{menuType:U().gu.Popup,height:"auto"}),[d.isMobile,h]);return x?(0,l.jsx)(m().A,{open:!0,transitionAppearance:"none",render:()=>(0,l.jsx)("div",{style:p.container,children:(0,l.jsx)(W().A,{...S,children:(0,l.jsx)(v().Ay,{type:v().Oh.Vertical,sections:k,initialFocus:1})})})}):null};function $(){const e=(0,o().Y0)(),t=(0,r().K8)((()=>s().A.state.open?{open:!0,variant:s().A.state.variant,blockStore:s().A.state.blockStore}:{open:!1}),[]);return t.open?e.isMobile||"screen"===t.variant?(0,l.jsx)(G,{}):(0,l.jsx)(F,{}):null}},477293:(e,t,n)=>{n.d(t,{r:()=>r});var i=()=>n(56366),o=()=>n(508496);function r(e){return(0,i().K8)((()=>o().default.getGroup(e)),[e])}},541235:(e,t,n)=>{n.d(t,{YD:()=>r,c$:()=>i,q_:()=>o});const i={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},o="completed",r="dismissed"},739135:(e,t,n)=>{n.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>s,tb:()=>a,x$:()=>r});var i=()=>n(541235),o=()=>n(496603);function r(e,t){return s(c(e,t))}function s(e){return void 0!==e&&(e===i().q_||e===i().YD)}function a(e,t){if(s(t))return;const n=i().c$[e],o=n.steps.findIndex((e=>e.id===t));return-1===o?n.steps[0].id:o===n.steps.length-1?i().q_:n.steps[o+1].id}function l(e,t){const n=c(e,t);if(n&&!s(n))return a(t,n)}function d(e,t){const n=c(e,t);if(n)return function(e,t){const n=i().c$[e];var r;if(s(t))return null===(r=(0,o().HV)(n.steps))||void 0===r?void 0:r.id;const a=n.steps.findIndex((e=>e.id===t));return-1!==a&&0!==a?n.steps[a-1].id:void 0}(t,n)}function c(e,t){var n;if(!e)return;const o=((null===(n=e.getSettings())||void 0===n?void 0:n.tutorials)||{})[t];return void 0===o?i().c$[t].steps[0].id:o}},768148:(e,t,n)=>{n.d(t,{j:()=>u});n(296540);var i=()=>n(484714),o=()=>n(56366),r=()=>n(401497),s=()=>n(284371),a=()=>n(554509),l=()=>n(37433),d=()=>n(345578),c=n(474848);function u(e){let{teamStore:t,withSelectedStyle:n,style:u,shouldUseStyledText:p}=e;const m=(0,i().Y0)(),g=(0,o().K8)((()=>{var e;return{teamName:t.getName()??"",shouldShowLock:(0,l().tM)(null==t||null===(e=t.getSettingsStore())||void 0===e?void 0:e.getValue())}}),[t]),x=(0,r().IS)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden"},lockIcon:{width:15,marginLeft:6,marginBottom:1,fill:e.mediumIconColor},labelText:{...s().RC,color:n?e.regularTextColor:e.darkTextColor,fontWeight:s().Wy.medium,fontSize:m.isMobile?s().J.UIRegular.mobile:s().J.UIRegular.desktop,...u}})),[m.isMobile,n,u]);return g?(0,c.jsxs)("div",{style:x.container,children:[p?(0,c.jsx)(a().D,{styleName:"UIRegular-14px/Regular",colorName:"primary",children:g.teamName}):(0,c.jsx)("div",{style:x.labelText,children:g.teamName}),g.shouldShowLock&&(0,c.jsx)(d().A,{iconStyle:x.lockIcon})]}):null}},951340:(e,t,n)=>{n.d(t,{DC:()=>a,NI:()=>s});n(898992),n(354520),n(581454);var i=()=>n(837384),o=()=>n(255591),r=()=>n(228271);function s(e){let{persona:t,defaultToLife:n}=e;if(!t)return;if(t in o().bJ)return t;const i={customer_support:"support",designer:"design",educator:"student",entrepreneur:"hr",freelancer:"design",hr_recruiting:"hr",it:"eng",marketing_sales:"marketing",media:"marketing",operations:"hr",operations_hr:"hr",personal:"life",product_manager:"product",programmer:"eng",other:n?"life":void 0,unfilled:n?"life":void 0,undefined:n?"life":void 0,creative:"design",founderCeo:"hr",internalCommunication:"hr",productDesign:"design",projectProgramMgmt:"product",finance:void 0,itAdmin:"eng",knowledgeManagement:"hr"};return(null==i?void 0:i[t])??void 0}function a(e,t){const n=s({persona:t,defaultToLife:!0});return(n?null==l?void 0:l[n]:[]).filter((t=>(0,r().vc)(t,e)))}const l={...o().PY,design:[i().kx.designSprint,i().kx.designPortfolio],product:[i().kx.productSpec,i().kx.productWiki,i().kx.visionAndStrategy],marketing:[i().kx.blogEditorialCalendar,i().kx.socialMediaCalendar,i().kx.presentation],hr:[i().kx.companyHome,i().kx.employeeBenefits,i().kx.peopleDirectory],sales:[i().kx.salesWiki,i().kx.presentation,i().kx.oneOnOneNotes],support:[],life:[]}},996594:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b,getSpaceViewMenuItems:()=>j});n(944114),n(296540);var i=()=>n(484714),o=()=>n(56366),r=()=>n(959013),s=()=>n(624550),a=()=>n(34542),l=(n(898992),n(354520),()=>n(496603));var d=()=>n(722872),c=()=>n(437622),u=()=>n(719431),p=()=>n(377586),m=()=>n(351360),g=()=>n(520257),x=()=>n(760217),f=()=>n(928600),h=()=>n(939740),k=()=>n(45552),v=()=>n(614505),S=()=>n(89924),y=n(474848);const b=function(){const e=(0,i().v3)(),{device:t}=e,r=(0,o().O$)(g().A);return(0,y.jsx)(n(14235).Ay,{popupType:t.isMobile?p().n.SlideUp:p().n.Popup,open:r.open,render:()=>(0,y.jsx)(A,{}),originGap:8,onDismiss:s().Ew,originRect:r.originRect,enableRounding:!0})};function j(e,t){const{device:n}=e,{currentUserRootStore:i}=m().default.state;if(!i)return[];const{editableStores:o}=function(e){const t=l().hS(e.getSpaceViewStores(),(e=>e.getSpaceId())),n=t.filter((e=>{const t=e.getSpaceStore();return e.isReady()&&(null==t?void 0:t.isReady())})),i=n.filter((e=>{const t=e.getSpaceStore();return e.isReady()&&(null==t?void 0:t.isReady())&&t.canEdit()}));return{total:t.length,loaded:n.length,editable:i.length,editableStores:i}}(i),r=[];for(const s of o){const i=s.getSpaceStore();if(null!=i&&i.isReady()&&i.canEdit()){const o=(0,c().GK)(e,i),l=(0,c().c2)(e,i);r.push({key:s.id,action:async()=>{await a().Fq({environment:e,blockStore:t,spaceStore:i,spaceViewStore:s})},render:e=>(0,y.jsx)(x().A,{title:o,icon:(0,y.jsx)(v().A,{icon:l,isEmptyPage:!1,title:o,size:n.isMobile?24:20,disabled:!0}),...e})})}}return r}function A(){const e=(0,i().v3)(),{device:t}=e,n=(0,o().O$)(g().A),a=(0,o().K8)((()=>m().default.state.currentUserRootStore),[]),l=(0,o().K8)((()=>n.store?j(e,n.store):[]),[e,n]);if(!n.open||!a)return null;const c=[{key:"spaces",render:e=>(0,y.jsx)(S().A,{title:t.isMobile?void 0:(0,y.jsx)(r().sA,{defaultMessage:"Choose a workspace",id:"duplicatePagePopup.chooseWorkspace.menuItem.title"}),...e}),items:l},{key:"logout",render:e=>(0,y.jsx)(S().A,{...e,topBorder:!0}),items:[{key:"logout",action:()=>u().logout(e),render:e=>(0,y.jsx)(I,{...e})}]}];let p;return p=t.isMobile?{menuType:d().gu.Modal,title:(0,y.jsx)(r().sA,{defaultMessage:"Choose a workspace",id:"duplicatePagePopup.choooseWorkspaceMobileMenu.title"}),right:(0,y.jsx)(k().CancelMenuText,{}),onClickRight:s().Ew}:{menuType:d().gu.Popup},(0,y.jsx)(f().A,{...p,children:(0,y.jsx)(h().Ay,{type:h().Oh.Vertical,sections:c,initialFocus:1})})}function I(e){const t=(0,o().K8)((()=>{const{currentUserStore:e}=m().default.state;return(null==e?void 0:e.getEmail())||""}),[]);return(0,y.jsx)(x().A,{caption:(0,y.jsx)(r().sA,{defaultMessage:"Log out ({email})",id:"duplicatePagePopup.buttonMenuItem.logoutButton.label",values:{email:t}}),...e})}}}]);