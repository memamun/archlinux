"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[47381,71204,92448],{65250:(e,t,n)=>{n.d(t,{Mw:()=>p,QD:()=>h,uM:()=>m});n(16280),n(296540);var i=()=>n(56366),o=()=>n(441738),s=()=>n(959013),a=()=>n(534177),r=()=>n(985395),c=()=>n(351360),l=()=>n(972418),d=()=>n(749240),u=()=>n(753735),g=n(474848);function p(e,t,n,i){switch(e){case"ai":return{addOnCostItem:(0,g.jsx)("div",{children:(0,g.jsx)(s().sA,{id:"addOnUpgrade.confirmation.costSection.unlimitedAI",defaultMessage:"<bold>Notion AI</bold>",values:{bold:e=>(0,g.jsx)("b",{children:e})}})}),addOnCostItemWithMembers:(0,g.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,g.jsx)(s().sA,{id:"addOnUpgrade.confirmation.costSection.unlimitedAI.memberInfo",defaultMessage:"({memberCount, plural, one {{memberCount} member} other {{memberCount} members}} x {price} per month{interval, select, month {} other { x 12 months}})",values:{memberCount:t,interval:n,price:i}})})};case"sites_custom_hostnames":throw new Error("not implemented");default:(0,a().HB)(e)}}function h(){const e=(0,i().K8)((()=>{var e;return null===(e=c().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]),t=(0,l().lh)({spaceId:e}),n=(0,u().uq)(t),o=(0,r().n)(),s=(0,l().EF)(d().subscriptionDataStoreInstance);return!n&&!o&&s}function m(){return(0,i().K8)((()=>{var e,t;const n=(null===(e=d().subscriptionDataStoreInstance.state)||void 0===e?void 0:e.addOns)??[],i=(0,o().GI)(n),s=c().default.state.currentSpaceStore;return!(!s||!i)&&!Boolean(null===(t=s.getSettings())||void 0===t?void 0:t.embedding_index_is_live)}),[])}},154585:(e,t,n)=>{n.d(t,{B:()=>C});n(898992),n(354520),n(581454),n(296540);var i=()=>n(56366),o=()=>n(401497),s=()=>n(849974),a=()=>n(846899),r=()=>n(413267),c=()=>n(959013),l=()=>n(284371),d=()=>n(576590),u=()=>n(760217),g=()=>n(928600),p=()=>n(939740),h=()=>n(89924),m=()=>n(21140),f=()=>n(722872),v=()=>n(176983),b=()=>n(99254),y=n(474848);function C(e){const{parent:t,from:n}=e,C=(0,o().IS)((e=>({icon:{width:16,height:16},bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginBottom:48,marginRight:4},caption:{color:e.lightTextColor,fontSize:l().J.UISmall.desktop,textWrap:"wrap"},bannerLikeCaption:{display:"flex",alignItems:"top",justifyContent:"center",color:e.lightTextColor,whiteSpace:"normal",fontSize:l().J.UISmall.desktop},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},bannerLikeLabel:{fontSize:14,marginBottom:2,whiteSpace:"normal"},disabledOptionLabel:{color:e.lightTextColor,fontSize:14,marginBottom:2}})),[]),x=(0,v().J)(),S=(0,i().K8)((()=>b().y.state.jiraSyncState),[]),A=(0,i().K8)((()=>b().y.state.analyticsFrom),[]),_="completed"===S,j=[{key:"jira-connection-section",render:e=>(0,y.jsx)(h().A,{...e}),items:[{key:"jira-ingestion-status-connecting",label:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.connecting",defaultMessage:"Connecting"}),caption:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.subtext",defaultMessage:"Your workspace owner is connecting Jira. This can take up to 36 hours"}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,s().y)(C.bannerLikeIcon)}),disabled:!0,hidden:!("in_progress"===S||"editing"===S),action:()=>{}},{key:"jira-ingestion-status-connected",label:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.connected",defaultMessage:"Connected"}),caption:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:r().b,disabled:!0,hidden:!_,action:()=>{}},{key:"jira-ingestion-disconnect",label:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnect",defaultMessage:"Disconnecting..."}),caption:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected Jira. This can take up to 3 hours."}),iconElement:(0,y.jsx)(y.Fragment,{children:(0,s().y)(C.bannerLikeIcon)}),disabled:!0,hidden:"disconnecting"!==S,action:()=>{}},{key:"jira-ingestion-settings",label:(0,y.jsx)(c().sA,{id:"assistantOverflowMenu.jiraIngestion.settings",defaultMessage:"Settings"}),icon:a().B,disabled:!1,hidden:"completed"!==S||!x,action:()=>{null==t||t.close(),(0,d().navigateToJiraUniversalScreen)({screenToShow:"settings_screen",analyticsFrom:n||A||"chat_menu"})}}].filter((e=>!e.hidden)).map((e=>{const{key:t,label:n,caption:i,icon:o,iconElement:s,disabled:a,action:r,labelStyleOverride:c,captionStyleOverride:l,iconStyleOverride:d}=e,g=o?o({width:12,height:12}):s;return{key:t,action:()=>r(),render:e=>(0,y.jsx)(u().A,{...e,disabled:a,title:(0,y.jsx)(m().Ye,{children:(0,y.jsxs)("div",{style:C.option,children:[(0,y.jsx)("div",{style:c??(a?C.disabledOptionLabel:C.optionLabel),children:n}),i&&(0,y.jsx)("div",{style:l??C.caption,children:i})]})}),left:g,leftStyle:d})}}))}];return(0,y.jsx)(g().A,{menuType:f().gu.Popup,minWidth:230,children:(0,y.jsx)(p().Ay,{type:p().Oh.Vertical,sections:j,initialFocus:void 0})})}},207207:(e,t,n)=>{n.d(t,{J:()=>o});n(296540);const i={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},o=(0,n(340498).wt)("magnifyingGlass",i)},245464:(e,t,n)=>{n.d(t,{A:()=>f});var i=n(296540),o=()=>n(484714),s=()=>n(56366),a=()=>n(959013),r=()=>n(284371),c=()=>n(317909),l=()=>n(864943),d=()=>n(21140),u=()=>n(989423),g=()=>n(291075),p=()=>n(351360),h=n(474848);const m=(0,a().YK)({githubAIConnectorOauthPopupTitle:{id:"githubAIConnector.oauthPopup.title",defaultMessage:"GitHub Authentication"},mobileNotAvailable:{id:"githubAIConnector.mobileNotAvailable",defaultMessage:"Not available on mobile"}});const f=function(e){var t;let{showDismiss:f,parent:v,minimizePopup:b,setHiddenNotifications:y}=e;const[C,x]=(0,i.useState)(!1),S=(0,s().K8)((()=>g().o.state),[]),A=(0,s().K8)((()=>{var e;return null===(e=p().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),_=(0,o().v3)(),j=(0,s().K8)((()=>p().default.state.currentUserSettingsStore),[]),{isMobile:w}=(0,o().Y0)(),I=(0,s().K8)((()=>p().default.state.currentSpaceViewStore),[]),M=(0,i.useCallback)((()=>{j&&I&&c().createAndCommit({userAction:"githubAIConnector.onboarding.dismissPersonalAuthPrompt",environment:_,canUndo:!0,perform:e=>{c().applyOperation({store:I,operation:{pointer:I.pointer,path:["settings"],command:"update",args:{...I.getSettings(),dismissed_github_personal_auth_prompt:!0}},transaction:e})}})}),[j,I,_]),k=(0,i.useCallback)((()=>{(0,u().u4)({environment:_,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_auth_dismiss",integration_type:"github",setup_session_id:g().o.state.sessionId,from:"connect_nudge"}}}),g().o.setState({...S,forceShowGithubAuthNotificationTriggeredAt:void 0}),M()}),[M,_,S]),R=f?"connect_nudge":"chat_menu";(0,n(852507).l)((()=>{(0,u().u4)({environment:_,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"show_github_personal_auth_prompt",integration_type:"github",setup_session_id:g().o.state.sessionId,from:R}}})}));const L=(0,n(401497).IS)((e=>({actionRequiredPopupIconStyle:{width:w?18:16,height:w?18:16,fill:e.icon.orangePrimary},connectionStatusHeader:{fontSize:w?r().J.UIRegular.mobile:r().J.UIRegular.desktop,fontWeight:r().Wy.regular,lineHeight:w?r().K_.UIRegular.mobile:r().K_.UIRegular.desktop,textAlign:"left"},connectionStatusCaption:{fontSize:w?r().J.UISmall.mobile:r().J.UISmall.desktop,fontWeight:r().Wy.regular,lineHeight:w?r().K_.UISmall.mobile:r().K_.UISmall.desktop,color:e.text.secondary,textAlign:"left"},actionButton:{fontSize:w?r().J.UIRegular.mobile:r().J.UIRegular.desktop,fontWeight:r().Wy.medium,lineHeight:w?r().K_.UIRegular.mobile:r().K_.UIRegular.desktop,display:"flex",alignItems:"center",maxWidth:97,maxHeight:28,borderRadius:6,gap:3,border:"dark"===e.mode?`1px solid ${e.accentColors.gray[700]}`:`1px solid ${e.accentColors.gray[200]}`,marginTop:6},popupBlock:{paddingBottom:3},iconDivStyles:{paddingTop:1}})),[w]);return(0,h.jsxs)(d().Ye,{gap:8,style:L.popupBlock,children:[(0,h.jsx)("div",{style:L.iconDivStyles,children:(0,n(750559).f)(L.actionRequiredPopupIconStyle)}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{style:L.connectionStatusHeader,children:(0,h.jsx)(a().sA,{id:"assistantChat.ingestion.githubConnectionStatusActionRequiredForLogin",defaultMessage:"Log in to GitHub"})}),(0,h.jsx)("div",{style:L.connectionStatusCaption,children:(0,h.jsx)(a().sA,{id:"assistantChat.ingestion.githubConnectionStatusActionRequiredForLoginDescription",defaultMessage:"Authenticate to get answers from repositories in {githubOrgName}",values:{githubOrgName:null===(t=S.githubOrg)||void 0===t?void 0:t.name}})}),(0,h.jsxs)(d().Ye,{gap:8,children:[w?(0,h.jsx)("div",{style:L.connectionStatusCaption,children:(0,h.jsx)(a().sA,{...m.mobileNotAvailable})}):(0,h.jsx)(l().A,{size:"lg",style:L.actionButton,disabled:C,onClick:async()=>{if(!A)return;const e=Boolean(S.forceShowGithubAuthNotificationTriggeredAt);g().o.setState({...S,analyticsFrom:R,forceShowGithubAuthNotificationTriggeredAt:void 0}),(0,u().u4)({environment:_,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_auth_connect",integration_type:"github",setup_session_id:g().o.state.sessionId,from:e?"connect_nudge_from_find_in":R}}}),e||null==y||y((e=>[...e,"github_user_mapping"])),x(!0);const t=await n(449506).callApi({eventName:"getGithubUserAuthUrl",environment:_,data:{spaceId:A,isDesktop:_.device.isElectron,sessionId:g().o.state.sessionId}});"success"===t.type&&(_.device.isElectron?n(705540).openExternalUrl(t.data.url):n(957416).P(_,{width:800,height:600,url:t.data.url,titleMessage:m.githubAIConnectorOauthPopupTitle}),null==v||v.close(),null==b||b()),x(!1)},children:(0,h.jsx)(a().sA,{id:"assistantChat.ingestion.ctaForGithubPersonalAuth",defaultMessage:"Log in"})}),f?(0,h.jsx)(l().A,{size:"lg",style:L.actionButton,onClick:k,children:(0,h.jsx)(a().sA,{id:"assistantChat.ingestion.dimissGithubAuthNotification",defaultMessage:"Dismiss"})}):(0,h.jsx)(h.Fragment,{})]})]})]})}},270483:(e,t,n)=>{n.d(t,{g:()=>r});n(296540);var i=()=>n(654601),o=()=>n(278589),s=n(474848);const a=16/(0,o().N)("small");function r(e){const{variant:t}=e,n=function(e){return(0,o().N)(e)*a}(t);return(0,s.jsx)(s.Fragment,{children:(0,i().X)({width:n,pointerEvents:"none"})})}},299177:(e,t,n)=>{n.d(t,{A:()=>s});class i extends(()=>n(757695))().default{getInitialState(){return{}}}const o=new i;n(604341).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",o);const s=o},311004:(e,t,n)=>{e.exports=n.p+"edfba4a6d1ff7acd.png"},353147:(e,t,n)=>{n.d(t,{b:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("at",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M.911 8.034c0 4.505 3.049 7.24 7.246 7.24 1.135 0 2.215-.158 2.885-.376.472-.15.622-.397.622-.65a.44.44 0 00-.451-.444 1.3 1.3 0 00-.321.048c-.834.205-1.552.341-2.516.341-3.74 0-6.29-2.255-6.29-6.118 0-3.698 2.407-6.275 6.03-6.275 3.206 0 5.886 1.975 5.886 5.523 0 2.072-.697 3.466-1.825 3.466-.752 0-1.176-.437-1.176-1.183V4.972c0-.37-.205-.595-.554-.595-.341 0-.553.226-.553.595v.779h-.062c-.349-.84-1.203-1.374-2.222-1.374-1.77 0-3.014 1.51-3.014 3.678 0 2.187 1.237 3.712 3.042 3.712 1.06 0 1.88-.575 2.276-1.545h.062c.13.963.943 1.551 2.023 1.551 1.907 0 3.09-1.873 3.09-4.498 0-3.971-2.92-6.548-6.96-6.548C3.886.727.912 3.632.912 8.034zm6.911 2.652c-1.223 0-2.003-1.018-2.003-2.638 0-1.593.786-2.611 2.01-2.611 1.258 0 2.05.998 2.05 2.584 0 1.62-.813 2.665-2.057 2.665z"})})},377955:(e,t,n)=>{n.d(t,{A:()=>_});n(898992),n(354520),n(581454);var i=n(296540),o=()=>n(484714),s=()=>n(852507),a=()=>n(56366),r=()=>n(401497),c=()=>n(849974),l=()=>n(846899),d=()=>n(413267),u=()=>n(959013),g=()=>n(576590),p=()=>n(760217),h=()=>n(331542),m=()=>n(928600),f=()=>n(939740),v=()=>n(89924),b=()=>n(21140),y=()=>n(722872),C=()=>n(176983),x=()=>n(351360),S=()=>n(756315),A=n(474848);function _(e){const{parent:t,callGetStatusAPI:n,from:_}=e,j=!!n,[w,I]=i.useState(j),M=(0,r().IS)((e=>({icon:{width:16,height:16},bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginTop:12,marginRight:4},caption:{color:e.lightTextColor,fontSize:12,textWrap:"wrap"},bannerLikeCaption:{display:"flex",alignItems:"top",justifyContent:"center",color:e.lightTextColor,whiteSpace:"normal",fontSize:12},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},bannerLikeLabel:{fontSize:14,marginBottom:2,whiteSpace:"normal"},disabledOptionLabel:{color:e.lightTextColor,fontSize:14,marginBottom:2}})),[]),k=(0,C().J)(),R=(0,a().K8)((()=>S().d.state.isDisconnecting),[]),L=(0,a().K8)((()=>S().d.state.isEditing),[]),E=(0,a().K8)((()=>S().d.state.initialSyncState),[]),O=(0,a().K8)((()=>x().default.state.currentSpaceStore),[]),T=(0,a().K8)((()=>S().d.state.analyticsFrom),[]),B=(0,o().v3)();if((0,s().l)((async()=>{O&&j&&(I(!0),await(0,g().updateGoogleDriveQnAConnectionState)({environment:B,spaceId:O.getSpaceId()}),I(!1))})),w)return(0,A.jsx)(b().Ye,{style:{width:200,height:50,justifyContent:"center",alignItems:"center"},children:(0,A.jsx)(h().A,{})});const H="in_progress"===E||L,D="completed"===E,U=[{key:"google-connection-section",render:e=>(0,A.jsx)(v().A,{...e}),items:[{key:"google-drive-ingestion-status-connecting",label:(0,A.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.connecting",defaultMessage:"Connecting"}),caption:(0,A.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.subtext",defaultMessage:"This can take up to 36 hours"}),disabled:!0,hidden:!H||R,action:()=>{}},{key:"google-drive-ingestion-status-connected",label:(0,A.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.connected",defaultMessage:"Connected"}),caption:(0,A.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:d().b,disabled:!0,hidden:!D||R,action:()=>{}},{key:"google-drive-ingestion-status-disconnecting",label:(0,A.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.disconnecting",defaultMessage:"Google Drive is disconnecting from Notion"}),caption:(0,A.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected Google Drive. This can take up to 3 hours."}),disabled:!0,hidden:!R,iconElement:(0,A.jsx)(A.Fragment,{children:(0,c().y)(M.bannerLikeIcon)}),action:()=>{},labelStyleOverride:M.bannerLikeLabel,captionStyleOverride:M.bannerLikeCaption},{key:"google-drive-ingestion-settings",label:(0,A.jsx)(u().sA,{id:"assistantOverflowMenu.googleIngestion.settings",defaultMessage:"Settings"}),icon:l().B,disabled:R,hidden:H||R||!k,action:()=>{null==t||t.close(),(0,g().navigateToGoogleDriveUniversalScreen)({screenToShow:"settings_screen",analyticsFrom:_||T||"chat_menu"})}}].filter((e=>!e.hidden)).map((e=>{const{key:t,label:n,caption:i,icon:o,iconElement:s,disabled:a,action:r,labelStyleOverride:c,captionStyleOverride:l,iconStyleOverride:d}=e,u=o?o({width:12,height:12}):s;return{key:t,action:()=>{r()},render:e=>(0,A.jsx)(p().A,{...e,title:(0,A.jsx)(b().Ye,{children:(0,A.jsxs)("div",{style:M.option,children:[(0,A.jsx)("div",{style:c??(a?M.disabledOptionLabel:M.optionLabel),children:n}),i&&(0,A.jsx)("div",{style:l??M.caption,children:i})]})}),left:u,leftStyle:d,disabled:a})}}))}];return(0,A.jsx)(m().A,{menuType:y().gu.Popup,minWidth:230,children:(0,A.jsx)(f().Ay,{type:f().Oh.Vertical,sections:U,initialFocus:void 0})})}},390527:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>L,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>A,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>S,MAX_RECURRENCE_INTERVAL:()=>v,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>b,RRULE_WEEKDAYS_MAP:()=>f,adjustedStartDateIfPossible:()=>j,areRecurrenceSchedulesEqual:()=>H,convertFromUnpersistedRecurrenceConfig:()=>B,convertToUnpersistedRecurrenceConfig:()=>E,getFormattedEndCondition:()=>R,getFormattedNextRecurrenceTime:()=>k,getNewEndTimestamp:()=>O,getNextDateUtc:()=>M,getRecurrenceAfter:()=>w,isRunningBetweenMidnightAnd3AM:()=>I,isValidRecurrenceInterval:()=>y,isValidRecurrenceNumberOfRuns:()=>C,rruleFromRecurrence:()=>x,templateAncestorsViolateRecurrenceNesting:()=>_});n(898992),n(354520),n(581454);var i=()=>n(244641);n(944114);function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(0===n.length)return e.map((e=>[e]));const s=[];for(const a of e)s.push(...o(n[0],...n.slice(1)).map((e=>[a,...e])));return s}var s=()=>n(496603),a=()=>n(534177),r=()=>n(720665),c=()=>n(597777),l=()=>n(869190),d=()=>n(416504),u=()=>n(402390);class g extends(()=>n(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var p=()=>n(912720);const h=(0,n(959013).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12â€“3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),m={day:g.DAILY,week:g.WEEKLY,month:g.MONTHLY,year:g.YEARLY},f={MO:g.MO,TU:g.TU,WE:g.WE,TH:g.TH,FR:g.FR,SA:g.SA,SU:g.SU},v=99,b=999;function y(e){return(0,r().Et)(e)&&Number.isInteger(e)&&e>0&&e<=v}function C(e){return(0,r().Et)(e)&&Number.isInteger(e)&&e>0&&e<=b}function x(e){const{start_date:t,frequency:n,interval:i,weekdays:s,timezone:r,hour:l,minute:d}=e,u="week"===n&&s?s.map((e=>f[e])):void 0,p={};return(0,a().O9)(e.end_condition)&&("date"===e.end_condition.type?p.until=(0,c().eU)(e.end_condition.end_at):"number"===e.end_condition.type?p.count=e.end_condition.number_of_occurrences:(0,a().HB)(e.end_condition)),"month"===e.frequency&&(0,a().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?p.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?p.byweekday=o(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,n]=e;return f[t].nth(n)})):(0,a().HB)(e.monthly_restriction)),new g({freq:m[n],dtstart:(0,c().eU)(t),interval:i,byweekday:u,tzid:r,byhour:l??0,byminute:d??0,bysecond:0,...p})}const S=1,A=1;function _(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const n=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),i=e.length,o=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,s=i>S,a=n.length>=A;return{violatesConstraint:s||a,templateNestingExceedsMaxDepth:s,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:i,immediateAncestorRecurrenceType:o}}function j(e){var t;const{recurrence:n,afterDate:o}=e;if("number"===(null===(t=n.end_condition)||void 0===t?void 0:t.type)||n.start_date>=o)return n;let s=i().c9.fromMillis(n.start_date,{zone:"utc"});const a=i().c9.fromMillis(o,{zone:"utc"});switch(n.frequency){case"year":{const e=Math.floor(a.diff(s,"years").years/n.interval);s=s.plus({years:e*n.interval});break}case"month":{const e=Math.floor(a.diff(s,"months").months/n.interval);s=s.plus({months:e*n.interval});break}case"week":{const e=Math.floor(a.diff(s,"weeks").weeks/n.interval);s=s.plus({weeks:e*n.interval});break}case"day":{const e=Math.floor(a.diff(s,"days").days/n.interval);s=s.plus({days:e*n.interval});break}}return{...n,start_date:(0,c().DH)(s.toMillis())}}function w(e){const{recurrence:t,afterDate:n}=e;if((0,p().wt)(t)){const e=(0,c().l1)(n);return t.start_date>=e?new Date(t.start_date):void 0}{const e=x(j({recurrence:t,afterDate:n})).after((0,c().eU)(n));if(!e)return;return(0,c().h1)(e)}}function I(e){return 0===e.hour||1===e.hour||2===e.hour}function M(e){return x(e).after((0,c().eU)((0,c().Rz)()))||void 0}function k(e){const{recurrence:t,intl:n}=e,o=M(B(t));if(!o)return;const s=I(t),a=i().c9.fromJSDate(o).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,u().H)(n)).setZone(t.timezone),r=(0,l().Yq)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:n,shortenDate:!0});if(s)return n.formatMessage(h.dateBetweenMidnightAnd3AM,{date:r});{let e=a.toLocaleString(i().c9.TIME_SIMPLE);return t.timezone!==(0,d().P)()&&(e+=` ${a.toFormat("ZZZZ")}`),n.formatMessage(h.dateAtTime,{date:r,time:e})}}function R(e,t){return(0,a().O9)(e)?"number"===e.type?t.formatMessage(h.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,l().Yq)({date:i().c9.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,a().HB)(e):t.formatMessage(h.noEndCondition)}const L=100;function E(e){return{...e,start_date:(0,c().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,c().l1)(e.end_condition.end_at)}:(0,a().HB)(e.end_condition):void 0}}function O(e,t,n){return e.plus(n-t)}function T(e,t){const n=i().c9.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,c().Rz)(n.toJSDate())}}function B(e){return{...e,start_date:(0,c().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?T(e,e.end_condition):(0,a().HB)(e.end_condition):void 0}}function H(e,t){const n=s().fN(e,(e=>void 0!==e)),i=s().fN(t,(e=>void 0!==e));return s().n4(n,i)}},424139:(e,t,n)=>{n.r(t),n.d(t,{emojiFaceIcon:()=>s,iconDefinition:()=>o});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M8.045 11.706a.625.625 0 0 0-1.036.698A3.6 3.6 0 0 0 10.005 14c1.245 0 2.35-.637 2.996-1.596a.625.625 0 0 0-1.036-.698 2.37 2.37 0 0 1-1.96 1.044 2.36 2.36 0 0 1-1.96-1.044m-.68-2.041c.49 0 .88-.46.88-1.02s-.39-1.02-.88-1.02-.88.46-.88 1.02.39 1.02.88 1.02m6.15-1.02c0 .56-.39 1.02-.88 1.02s-.88-.46-.88-1.02.39-1.02.88-1.02.88.46.88 1.02"}),(0,i.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},s=(0,n(340498).wt)("emojiFace",o)},498474:(e,t,n)=>{n.d(t,{q:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("arrowUp",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 14.5586C8.44434 14.5586 8.74512 14.251 8.74512 13.7998V5.30957L8.69043 3.83984L10.4951 5.84961L12.0469 7.38086C12.1836 7.51074 12.3682 7.59961 12.5801 7.59961C12.9902 7.59961 13.291 7.28516 13.291 6.86816C13.291 6.66992 13.2158 6.49219 13.0586 6.32812L8.55371 1.81641C8.40332 1.66602 8.20508 1.57715 8 1.57715C7.79492 1.57715 7.59668 1.66602 7.44629 1.81641L2.94141 6.32812C2.78418 6.49219 2.70898 6.66992 2.70898 6.86816C2.70898 7.28516 3.0166 7.59961 3.42676 7.59961C3.63184 7.59961 3.82324 7.51074 3.95312 7.38086L5.50488 5.84961L7.30957 3.83301L7.25488 5.30957V13.7998C7.25488 14.251 7.5625 14.5586 8 14.5586Z"})})},614415:(e,t,n)=>{n.d(t,{Wx:()=>a,fM:()=>i,l9:()=>o,sM:()=>s});const i=new(n(645873).O2)("framer-motion",(async()=>await Promise.all([n.e(44711),n.e(53321),n.e(37043)]).then(n.bind(n,399791))));function o(e){return e.useAnimate()}function s(e){return e.useAnimation()}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.useInView(...n)}},687646:(e,t,n)=>{n.d(t,{k:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("searchInPage",{viewBox:"0 0 12 14",svg:(0,i.jsx)("path",{d:"M2.877 13.365h6.24c.63 0 1.104-.164 1.424-.492.32-.324.48-.8.48-1.43V6.13c0-.274-.015-.504-.046-.691a1.531 1.531 0 00-.182-.522 2.185 2.185 0 00-.387-.498l-3.07-3.123a2.11 2.11 0 00-.48-.38 1.528 1.528 0 00-.51-.183A3.464 3.464 0 005.7.68H2.877c-.629 0-1.104.164-1.424.492-.32.324-.48.8-.48 1.43v8.841c0 .633.16 1.112.48 1.436.32.324.795.486 1.424.486zm.094-1.154c-.282 0-.492-.072-.633-.217-.14-.144-.211-.351-.211-.621V2.678c0-.27.07-.479.21-.627.142-.149.354-.223.64-.223h2.496V5.04c0 .418.101.73.304.938.207.207.52.31.938.31h3.158v5.086c0 .27-.07.477-.21.621-.142.145-.354.217-.64.217H2.971zm3.855-6.938c-.12 0-.209-.027-.263-.082-.051-.054-.077-.142-.077-.263V1.986l3.229 3.287H6.826z"})})},691298:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(296540),o=()=>n(502438),s=()=>n(24157);const a=function(e){let{shouldPreserveTextSelection:t,shouldPreserveBlockSelection:a,shouldRestoreSelection:r,onClearSelection:c}=e;const l=(0,n(484714).v3)(),d=(0,i.useRef)(t),u=(0,i.useRef)(""),g=(0,i.useRef)({selectionState:null,textSelectionState:null}),p=(0,i.useCallback)((()=>g.current),[]),h=(0,i.useCallback)((()=>{u.current=window.location.href,s().default.hasSelection()&&(g.current.textSelectionState=s().default.cloneState()),n(725614).clear({preventDismissMobileKeyboard:!0,environment:l}),a&&(o().default.isSelected()&&(g.current.selectionState=o().default.cloneState()),n(778417).IU({preventDismissMobileKeyboard:!0,environment:l}))}),[l,a]),m=(0,i.useCallback)((()=>{g.current={selectionState:null,textSelectionState:null},u.current="",null==c||c()}),[c]),f=(0,i.useCallback)((()=>{const{selectionState:e,textSelectionState:t}=g.current;window.location.href===u.current&&(t&&"mode"in t&&"editing"===t.mode&&s().default.setState({...s().default.state,...t}),a&&e&&o().default.setState({...o().default.state,...e})),m()}),[m,a]);return(0,n(852507).l)((()=>{d.current=t,t&&h()})),(0,i.useEffect)((()=>(d.current&&!t?r?f():m():!d.current&&t&&h(),d.current=t,()=>{r?f():m()})),[t,m,f,h,r]),{clearSavedSelection:m,restoreSavedSelection:f,getSavedSelection:p}}},751109:(e,t,n)=>{n.d(t,{z:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("slackLogo",{viewBox:"0 0 16 16",svg:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:"M1.68078 11.7915C2.60586 11.7915 3.36156 11.0358 3.36156 10.1107V8.42993H1.68078C0.755701 8.42993 0 9.18563 0 10.1107C0 11.0358 0.755701 11.7915 1.68078 11.7915Z",fill:"#E01E5A"}),(0,i.jsx)("path",{d:"M5.88928 8.42993C4.9642 8.42993 4.2085 9.18563 4.2085 10.1107V14.3192C4.2085 15.2443 4.9642 16 5.88928 16C6.81436 16 7.57006 15.2443 7.57006 14.3192V10.1107C7.57006 9.18563 6.81436 8.42993 5.88928 8.42993Z",fill:"#E01E5A"}),(0,i.jsx)("path",{d:"M4.2085 1.68078C4.2085 2.60586 4.9642 3.36156 5.88928 3.36156H7.57006V1.68078C7.57006 0.755701 6.81436 0 5.88928 0C4.9642 0 4.2085 0.755701 4.2085 1.68078Z",fill:"#36C5F0"}),(0,i.jsx)("path",{d:"M7.57003 5.88928C7.57003 4.9642 6.81433 4.2085 5.88925 4.2085H1.68078C0.755701 4.2085 0 4.9642 0 5.88928C0 6.81436 0.755701 7.57006 1.68078 7.57006H5.88925C6.81433 7.57006 7.57003 6.81436 7.57003 5.88928Z",fill:"#36C5F0"}),(0,i.jsx)("path",{d:"M10.1107 7.57003C11.0358 7.57003 11.7915 6.81433 11.7915 5.88925V1.68078C11.7915 0.755701 11.0358 0 10.1107 0C9.18563 0 8.42993 0.755701 8.42993 1.68078V5.88925C8.42993 6.81433 9.18563 7.57003 10.1107 7.57003Z",fill:"#2EB67D"}),(0,i.jsx)("path",{d:"M14.3192 4.2085C13.3941 4.2085 12.6384 4.9642 12.6384 5.88928V7.57006H14.3192C15.2443 7.57006 16 6.81436 16 5.88928C16 4.9642 15.2443 4.2085 14.3192 4.2085Z",fill:"#2EB67D"}),(0,i.jsx)("path",{d:"M8.42993 10.1107C8.42993 11.0358 9.18563 11.7915 10.1107 11.7915H14.3192C15.2443 11.7915 16 11.0358 16 10.1107C16 9.18563 15.2443 8.42993 14.3192 8.42993H10.1107C9.18563 8.42993 8.42993 9.18563 8.42993 10.1107Z",fill:"#ECB22E"}),(0,i.jsx)("path",{d:"M11.7915 14.3192C11.7915 13.3941 11.0358 12.6384 10.1107 12.6384H8.42993V14.3192C8.42993 15.2443 9.18563 16 10.1107 16C11.0358 16 11.7915 15.2443 11.7915 14.3192Z",fill:"#ECB22E"})]})})},849974:(e,t,n)=>{n.d(t,{y:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("sync",{viewBox:"0 0 21 21",svg:(0,i.jsx)("path",{d:"M10.4913 20.6992C9.12373 20.6992 7.83685 20.4378 6.63059 19.9151C5.42433 19.3988 4.35999 18.6792 3.43755 17.7563C2.52157 16.8335 1.80233 15.7686 1.27984 14.5618C0.757342 13.3549 0.496094 12.0674 0.496094 10.6992C0.496094 9.33103 0.757342 8.04352 1.27984 6.83668C1.80233 5.62984 2.52157 4.56821 3.43755 3.65178C4.35999 2.72891 5.42111 2.00609 6.62091 1.48334C7.82717 0.960593 9.11406 0.699219 10.4816 0.699219C11.8556 0.699219 13.1457 0.960593 14.3519 1.48334C15.5582 2.00609 16.6225 2.72891 17.545 3.65178C18.4674 4.56821 19.1899 5.62984 19.7124 6.83668C20.2348 8.04352 20.4961 9.33103 20.4961 10.6992C20.4961 12.0674 20.2348 13.3549 19.7124 14.5618C19.1899 15.7686 18.4674 16.8335 17.545 17.7563C16.6225 18.6792 15.5582 19.3988 14.3519 19.9151C13.1457 20.4378 11.8588 20.6992 10.4913 20.6992ZM10.53 16.1784C11.1363 16.1784 11.7201 16.0848 12.2813 15.8977C12.8425 15.7105 13.3295 15.4524 13.7423 15.1232C13.9939 14.9232 14.1455 14.7005 14.1971 14.4553C14.2552 14.21 14.1971 13.9906 14.0229 13.797C13.8552 13.5969 13.6585 13.4937 13.4327 13.4872C13.2069 13.4808 12.9812 13.555 12.7554 13.7099C12.42 13.968 12.0749 14.1649 11.7201 14.3004C11.3653 14.4295 10.9686 14.494 10.53 14.494C9.91716 14.494 9.34628 14.3714 8.81733 14.1261C8.29484 13.8744 7.84975 13.5356 7.48206 13.1097C7.11438 12.6773 6.85636 12.1868 6.708 11.6382H7.6659C7.91103 11.6382 8.06261 11.5414 8.12067 11.3478C8.18518 11.1542 8.14647 10.9606 8.00456 10.767L6.39837 8.5695C6.25646 8.37589 6.07906 8.27908 5.8662 8.27908C5.65978 8.27263 5.48239 8.36943 5.33402 8.5695L3.74718 10.767C3.61172 10.9606 3.57302 11.1542 3.63107 11.3478C3.68913 11.5414 3.84072 11.6382 4.08584 11.6382H5.0631C5.22436 12.5353 5.55979 13.3259 6.06939 14.01C6.58543 14.6941 7.22727 15.2265 7.99488 15.6073C8.7625 15.988 9.60753 16.1784 10.53 16.1784ZM10.5203 5.19099C9.91393 5.19099 9.33015 5.28457 8.76895 5.47173C8.20775 5.65888 7.72074 5.92026 7.3079 6.25585C7.04988 6.44946 6.89506 6.67211 6.84346 6.92381C6.7983 7.16905 6.85958 7.38525 7.0273 7.5724C7.19501 7.77247 7.39176 7.87895 7.61753 7.89186C7.8433 7.89832 8.06907 7.82087 8.29484 7.65953C8.63027 7.40783 8.97215 7.21745 9.32048 7.08838C9.67526 6.95285 10.0752 6.88509 10.5203 6.88509C11.1331 6.88509 11.7007 7.01093 12.2232 7.26263C12.7457 7.50787 13.1908 7.84669 13.5585 8.27908C13.9262 8.70503 14.1842 9.19228 14.3326 9.74084H13.336C13.0844 9.74084 12.9296 9.83765 12.8715 10.0313C12.8135 10.2249 12.8554 10.4153 12.9973 10.6024L14.6035 12.8096C14.739 12.9967 14.9131 13.0935 15.126 13.1C15.3389 13.1064 15.5195 13.0096 15.6678 12.8096L17.2547 10.6024C17.3901 10.4088 17.4288 10.2184 17.3708 10.0313C17.3192 9.83765 17.1676 9.74084 16.916 9.74084H15.9871C15.8259 8.84378 15.4872 8.05643 14.9712 7.37879C14.4616 6.6947 13.823 6.15904 13.0554 5.77182C12.2877 5.3846 11.4427 5.19099 10.5203 5.19099Z"})})},874963:(e,t,n)=>{n.d(t,{f:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("openTeamSearch",{viewBox:"0 0 16 14",svg:(0,i.jsx)("path",{d:"M9.506 13.342h4.447c.348 0 .621-.11.82-.328.2-.22.3-.516.3-.891V4.852c0-.375-.1-.67-.3-.885-.199-.219-.472-.328-.82-.328H9.922v1.136h3.709c.101 0 .178.026.228.077.051.05.076.127.076.228v6.815c0 .101-.025.177-.076.228-.05.05-.127.076-.228.076H9.506v1.143zm2.28-6.358h.925c.129 0 .193-.064.193-.193v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .129.062.193.187.193zm0 2.168h.925c.129 0 .193-.066.193-.199v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .133.062.2.187.2zm0 2.163h.925c.129 0 .193-.067.193-.2v-.896c0-.13-.064-.194-.193-.194h-.926c-.125 0-.187.065-.187.194v.896c0 .133.062.2.187.2zm-10.864.808c0 .375.1.672.299.89.199.22.474.329.826.329H9.44c.348 0 .621-.11.82-.328.204-.22.305-.516.305-.891V1.928c0-.38-.101-.676-.304-.89-.2-.22-.473-.329-.82-.329H2.046c-.352 0-.627.11-.826.328-.2.215-.3.512-.3.89v10.196zm1.142-.228V2.162c0-.105.026-.183.077-.234.05-.051.127-.076.228-.076h6.75c.102 0 .178.025.229.076.05.05.076.129.076.234v9.733c0 .101-.026.177-.076.228-.051.05-.127.076-.229.076H2.37c-.101 0-.178-.025-.228-.076-.051-.05-.077-.127-.077-.228zm1.588.85h.891v-1.946c0-.117.06-.176.182-.176h2.039c.12 0 .181.059.181.176v1.945h.89V10.5c0-.25-.058-.435-.175-.557-.117-.125-.295-.187-.533-.187H4.36c-.238 0-.416.062-.533.187-.117.122-.176.307-.176.557v2.244zm.17-8.362h1.12c.156 0 .234-.078.234-.235v-1.09c0-.156-.078-.234-.235-.234H3.822c-.148 0-.222.078-.222.235v1.09c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.235v-1.09c0-.156-.077-.234-.229-.234H6.541c-.152 0-.229.078-.229.235v1.09c0 .156.077.234.229.234zM3.822 6.627h1.12c.156 0 .234-.078.234-.234V5.309c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.234V5.309c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .156.077.234.229.234zm-2.719 2.25h1.12c.156 0 .234-.08.234-.24V7.553c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .16.074.24.222.24zm2.719 0h1.12c.152 0 .228-.08.228-.24V7.553c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .16.077.24.229.24z"})})},888325:(e,t,n)=>{function i(e){return`${e.table}:${e.id}`}n.d(t,{_:()=>i})},938987:(e,t,n)=>{n.d(t,{H2:()=>v,iB:()=>b,cG:()=>h,UY:()=>y,x3:()=>m});var i=n(296540),o=()=>n(56366),s=()=>n(401497),a=()=>n(654601),r=()=>n(430483),c=()=>n(270483),l=()=>n(783793),d=()=>n(311004);const u=n.p+"c9223887dcb57b7d.gif",g=n.p+"7e9cbd56b1eca7b9.gif";var p=n(474848);function h(e){const{variant:t,style:n,forceSparkles:i}=e,s=(0,o().O$)(r().ts);let a;return a=!i&&s?(0,p.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,p.jsx)(l().o,{variant:t,shadowVariant:"light"})}):(0,p.jsx)(c().g,{variant:i?"small":t}),(0,p.jsx)("div",{style:n,children:a})}function m(e){const{variant:t}=e,n=(0,o().O$)(r().ts),i=(0,s().IS)((()=>({sparklesWrapper:{borderRadius:"100%",border:"2px solid RGB(182,208,240)",marginRight:8,marginLeft:8,padding:4},badge:{position:"absolute",left:"27px",top:"-5px"},faceWrapper:{marginRight:8}})),[]);return n?(0,p.jsx)("div",{style:i.faceWrapper,children:(0,p.jsx)(f,{variant:t})}):(0,p.jsxs)("div",{style:i.sparklesWrapper,children:[(0,p.jsx)(c().g,{variant:t}),(0,p.jsx)("div",{style:i.badge,children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"11",viewBox:"0 0 10 11",fill:"none",children:(0,p.jsx)("circle",{cx:"5",cy:"5.5",r:"4",fill:"#2383E2",stroke:"white",strokeWidth:"2"})})})]})}function f(e){const{variant:t}=e,n="dark"===(0,s().DP)().mode,[o,a]=(0,i.useState)(!0);(0,i.useEffect)((()=>{setTimeout((()=>{a(!1)}),6e3)}),[]);const r=(0,i.useMemo)((()=>{if(o)return n?u:g}),[n,o]);return(0,p.jsx)("div",{style:{marginLeft:8},children:(0,p.jsx)(l().o,{variant:t,shadowVariant:"light",wrapWithPadding:!0,imgSource:r})})}function v(){const e=(0,o().O$)(r().ts),t=(0,s().IS)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,p.jsx)("img",{style:t.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,a().X)(t.sparklesIconStyle)}function b(){const e=(0,o().O$)(r().ts),t=(0,s().IS)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,p.jsx)("img",{style:t.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,a().X)(t.sparklesIconStyle)}function y(){const e=(0,o().O$)(r().ts),t=(0,s().IS)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`,marginLeft:-2,marginRight:2},sparklesIconStyle:{width:16,height:16,marginRight:2},sparklesIconWrapper:{borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return e?(0,p.jsx)("img",{style:t.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,p.jsx)("div",{style:t.sparklesIconWrapper,children:(0,a().X)(t.sparklesIconStyle)})}},957963:(e,t,n)=>{n.d(t,{j:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("editPropertyType",{viewBox:"0 0 16 16 ",svg:(0,i.jsx)("path",{d:"M11.5615 4.84473L12.2998 4.11328C12.6689 3.74414 12.6826 3.34082 12.3545 3.00586L12.0879 2.73926C11.7529 2.4043 11.3428 2.43848 10.9736 2.79395L10.2354 3.52539L11.5615 4.84473ZM3.22168 13.1641L10.9053 5.4873L9.59277 4.16797L1.90918 11.8516L1.23926 13.4512C1.16406 13.6562 1.37598 13.875 1.57422 13.7998L3.22168 13.1641ZM3.92578 13.8066H14.1045C14.4736 13.8066 14.7744 13.499 14.7744 13.1367C14.7744 12.7676 14.4736 12.4668 14.1045 12.4668H5.27246L3.92578 13.8066Z"})})},973238:(e,t,n)=>{n.d(t,{G:()=>s});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M6.958 10.446a.625.625 0 0 1 .884 0l1.533 1.533V6.513a.625.625 0 1 1 1.25 0v5.466l1.533-1.533a.625.625 0 1 1 .884.883l-2.6 2.6a.625.625 0 0 1-.884 0l-2.6-2.6a.625.625 0 0 1 0-.883"}),(0,i.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},s=(0,n(340498).wt)("arrowInCircleDown",o)},975323:(e,t,n)=>{n.d(t,{Q:()=>w});n(944114),n(581454),n(296540);var i=()=>n(484714),o=()=>n(56366),s=()=>n(401497),a=()=>n(874963),r=()=>n(846899),c=()=>n(413267),l=()=>n(735384),d=()=>n(959013),u=()=>n(449506),g=()=>n(705540),p=()=>n(317909),h=()=>n(760217),m=()=>n(928600),f=()=>n(939740),v=()=>n(89924),b=()=>n(21140),y=()=>n(989423),C=()=>n(722872),x=()=>n(176983),S=()=>n(291075),A=()=>n(351360),_=()=>n(245464),j=n(474848);function w(e){var t,n,w;let{parent:I}=e;const M=(0,s().IS)((e=>({icon:{width:16,height:16},caption:{color:e.lightTextColor,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.lightTextColor,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),k=(0,x().J)(),R=(0,i().v3)(),L=(0,o().K8)((()=>A().default.getState().currentSpaceViewStore),[]),E=(0,o().K8)((()=>{var e;return null===(e=A().default.getState().currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]),O=(0,o().O$)(S().o),T=[];var B;null!==(t=O.githubOrg)&&void 0!==t&&t.isSyncComplete&&T.push({key:"github-admin-auth-connected",label:(0,j.jsx)(d().sA,{defaultMessage:"Connected",id:"githubAIConnector.connectionOptions.publicRepositories"}),caption:(0,j.jsx)(d().sA,{defaultMessage:"The {orgName} GitHub has been connected by your workspace owner",id:"githubAIConnector.connectionOptions.connectedByAdmin",values:{orgName:null===(B=O.githubOrg)||void 0===B?void 0:B.name}}),icon:(0,a().f)(M.icon),disabled:!0,connected:!0,hidden:!1,action:()=>{}});null!==(n=O.githubOrg)&&void 0!==n&&n.isSyncComplete||T.push({key:"github-admin-auth-connecting",label:(0,j.jsx)(d().sA,{defaultMessage:"Connecting GitHub...",id:"githubAIConnector.connectionOptions.connectingGitHub"}),caption:(0,j.jsx)(d().sA,{defaultMessage:"This can take up to 72 hours.",id:"githubAIConnector.connectionOptions.connectingGitHubCaption"}),icon:(0,a().f)(M.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}}),O.isPersonalAuthComplete||T.push({key:"github-personal-auth-not-complete",hidden:!1,component:(0,j.jsx)("div",{style:{marginLeft:6,marginRight:6,paddingLeft:8,paddingRight:8},children:(0,j.jsx)(_().A,{parent:I,showDismiss:!1})})});const H=[{key:"github-connection-section",render:e=>(0,j.jsx)(v().A,{...e}),items:T.filter((e=>!e.hidden)).map((e=>{if("component"in e){const{key:t,component:n}=e;return{key:t,action:()=>{},render:()=>n}}const{key:t,label:n,caption:i,icon:o,disabled:s,connected:a,action:r}=e;return{key:t,action:async()=>{await r(),null==I||I.close()},render:e=>(0,j.jsx)(h().A,{...e,title:(0,j.jsxs)(b().Ye,{gap:4,children:[(0,j.jsx)("div",{style:M.iconWrapper,children:o}),(0,j.jsxs)("div",{style:M.option,children:[(0,j.jsx)("div",{style:s?M.disabledOptionLabel:M.optionLabel,children:n}),(0,j.jsx)("div",{style:M.caption,children:i})]})]}),right:a&&(0,c().b)({width:12,height:12}),disabled:s})}}))}];if(O.isPersonalAuthComplete&&H.push({key:"github-user-disconnect-section",render:e=>(0,j.jsx)(v().A,{...e,topBorder:!0}),items:[{key:"github-user-auth-disconnect",render:e=>(0,j.jsx)(h().A,{...e,title:(0,j.jsxs)(b().Ye,{gap:4,children:[(0,j.jsx)("div",{style:M.iconWrapper,children:(0,l().I)(M.icon)}),(0,j.jsx)("div",{style:M.option,children:(0,j.jsx)("div",{children:(0,j.jsx)(d().sA,{id:"githubAIConnector.disconnectPersonalAuth",defaultMessage:"Disconnect your account"})})})]}),disabled:!1}),action:async()=>{if(!E)return;(0,y().u4)({environment:R,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_auth_disconnect",integration_type:"github",setup_session_id:S().o.state.sessionId,from:S().o.state.analyticsFrom}}}),null==I||I.close();const e=await u().callApi({eventName:"disconnectGithub",environment:R,data:{spaceId:E,disconnectUserAuth:!0}});p().createAndCommit({userAction:"githubAIConnector.onboarding.dismissPersonalAuthPrompt",environment:R,canUndo:!0,perform:e=>{L&&p().applyOperation({store:L,operation:{pointer:L.pointer,path:["settings"],command:"update",args:{...L.getSettings(),dismissed_github_personal_auth_prompt:!0}},transaction:e})}}),S().o.setState({...S().o.state,isPersonalAuthComplete:!1}),"success"===e.type&&e.data.redirectUrl&&(R.device.isElectron?g().openExternalUrl(e.data.redirectUrl):window.open(e.data.redirectUrl,"_blank"))}}]}),null!==(w=O.githubOrg)&&void 0!==w&&w.isSyncComplete&&k&&H.push({key:"github-settings-section",render:e=>(0,j.jsx)(v().A,{...e,topBorder:!0}),items:[{key:"github-settings",action:()=>{E&&((0,y().u4)({environment:R,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"open_settings",integration_type:"github",setup_session_id:S().o.state.sessionId,from:S().o.state.analyticsFrom}}}),S().o.setState({...S().o.state,currentScreen:"settings"}),null==I||I.close())},render:e=>(0,j.jsx)(h().A,{...e,title:(0,j.jsxs)(b().Ye,{gap:4,children:[(0,j.jsx)("div",{style:M.iconWrapper,children:(0,r().B)(M.icon)}),(0,j.jsx)("div",{style:M.option,children:(0,j.jsx)("div",{style:M.optionLabel,children:(0,j.jsx)(d().sA,{id:"githubAIConnector.settings",defaultMessage:"Settings"})})})]})})}]}),O.isDisconnecting){for(;H.length>0;)H.pop();H.push({key:"github-disconnecting-section",render:e=>(0,j.jsx)(v().A,{...e,topBorder:!0}),items:[{key:"github-disconnecting",action:()=>{},render:e=>(0,j.jsx)(h().A,{...e,disabled:!0,title:(0,j.jsxs)(b().Ye,{gap:4,children:[(0,j.jsx)("div",{style:M.iconWrapper,children:(0,l().I)(M.icon)}),(0,j.jsxs)("div",{style:M.option,children:[(0,j.jsx)("div",{style:M.optionLabel,children:(0,j.jsx)(d().sA,{id:"githubAIConnector.disconnecting",defaultMessage:"Disconnecting..."})}),(0,j.jsx)("div",{style:M.caption,children:(0,j.jsx)(d().sA,{id:"githubAIConnector.disconnectingCaption",defaultMessage:"This can take up to 3 hours."})})]})]})})}]})}return(0,j.jsx)(m().A,{menuType:C().gu.Popup,width:220,children:(0,j.jsx)(f().Ay,{type:f().Oh.Vertical,sections:H,initialFocus:void 0})})}}}]);