"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[17989],{315221:(e,t,o)=>{o.d(t,{D:()=>s});o(944114),o(581454);var r=()=>o(179034),n=()=>o(630116),i=()=>o(317001),a=()=>o(755673);function s(e){var t,o;const{environment:s,collectionContextStore:l,before:c,insertStores:m,store:d,groupsPointer:u,transaction:S}=e,p=l.collectionViewStore(),v=(null===(t=l.groupsStore.getGroupState(u))||void 0===t?void 0:t.resultsStore.state)||[],f=null===(o=l.groupsStore.getGroupState(u))||void 0===o?void 0:o.groupUiParentStore;if(!f)return[];const g=[];for(const a of m){const t=e.collectionStore??a.getAssociatedCollectionStore();t&&((0,i().j)({environment:s,store:a,collectionStore:t,collectionContextStore:l,groupsPointer:u,shouldCoerce:!0,transaction:S}),g.push(n().Bv.createChildStore(f,{table:r().ev,id:a.id})))}const y=v.indexOf(d),h=c?y:y+1,_=[...v.slice(0,h),...g,...v.slice(h)];return p&&(0,a().z)({resultIds:_.map((e=>e.id)),collectionViewStore:p,collectionContextStore:l,transaction:S}),l.groupsStore.setLimitIfGreater(u,_.length),g}},357643:(e,t,o)=>{function r(e){const{searchQuery:t,collectionContextStore:o}=e;o.collectionViewStore()&&(o.searchQueryStore.setState(t||""),o.groupsStore.resetAllLimits())}o.d(t,{S:()=>r})},716728:(e,t,o)=>{o.d(t,{i:()=>n});var r=()=>o(899453);function n(e){const{environment:t,collectionContextStore:o,subitemPath:n,collectionStore:i,store:a,before:s,insertBlockStore:l,insertDirection:c,transaction:m}=e,d=o.currentSubitemFormatStoreForCollectionStore.state;if(!d)return;const u=i.getSchema()[d.property];if(!u||"relation"!==u.type)return;if("into"===c){var S;const e=n[n.length-1],o=e.value.store;return void r().j$({environment:t,sourceStore:o,destStore:l,position:s?{type:"before",before:null===(S=e.children[0])||void 0===S?void 0:S.value.store.id}:{type:"after"},propertyWithInverse:d,transaction:m})}const p=n[n.length-2];if(!p)return;const v=p.value.store;r().j$({environment:t,sourceStore:v,destStore:l,propertyWithInverse:d,position:s?{type:"before",before:a.id}:{type:"after",after:a.id},transaction:m})}},717989:(e,t,o)=>{o.d(t,{$N:()=>E,GB:()=>Y,GZ:()=>X,L_:()=>N,MQ:()=>K,P7:()=>H,Pt:()=>j,Tq:()=>Z,Xt:()=>q,bu:()=>G,cd:()=>J,dO:()=>ee,eW:()=>Q,k3:()=>U,n_:()=>F,sd:()=>$,v7:()=>O,vt:()=>W});o(944114),o(898992),o(672577),o(803949),o(581454),o(737550);var r=()=>o(244641),n=()=>o(908006),i=()=>o(584262),a=()=>o(66689),s=()=>o(636090),l=()=>o(604995),c=()=>o(416504),m=()=>o(763884),d=()=>o(496603),u=()=>o(534177),S=()=>o(299709),p=()=>o(612008),v=()=>o(315221),f=()=>o(843306),g=()=>o(878060),y=()=>o(686526),h=()=>o(896628),_=()=>o(246826),C=()=>o(899453),b=()=>o(857783),w=()=>o(281948),P=()=>o(778417),x=()=>o(606952),T=()=>o(725614),R=()=>o(317909),V=()=>o(357643),D=()=>o(519839),I=()=>o(476492),k=()=>o(227440),A=()=>o(630116),z=()=>o(502438),B=()=>o(611371),L=()=>o(690471),M=()=>o(839106);function F(e){const{collectionViewStore:t,collectionContextStore:o,timelineState:r,environment:n}=e,i=n.currentUser.id,a=(0,L().UA)(t.id),s=(0,L().yG)(t,n),l=o.permissionScopesStore.state,c=d().sg((()=>{if(r.destroyed)return;const e={zoomLevel:r.zoomLevelStore.state,centerTimestamp:(0,L().o$)(r)};m().A.set({userId:i,key:a,value:e})}),1e3),u=d().sg((()=>{if(r.destroyed||!k().A.state.online||!n.currentUser.isLoggedIn()||!l.canConfigureBlock)return;const e={zoomLevel:r.zoomLevelStore.state,centerTimestamp:(0,L().o$)(r)},o=t.getFormat().timeline_preference;d().n4(o,e)||R().createAndCommit({userAction:"collectionTimelineViewActions.setRemotePreference",environment:n,canUndo:!0,perform:o=>{h().zA({stores:[t],update:{timeline_preference:e},transaction:o})}})}),5e3);r.savePreference=()=>{c(),u()},U({timelineState:r,environment:n,...s})}function U(e){const{timelineState:t,zoomLevel:o,centerTimestamp:r,environment:i}=e;t.zoomLevelStore.setState(o);const a=i.WindowSizeStore.state.width+2*L().E6,s=(0,L().C1)(o,a),l=r-s/2,c=r+s/2;t.currentRangeStore.setState({startTimestamp:l,endTimestamp:c});const{savePreference:m}=t;n().default.afterNextFlush((()=>{G({timelineState:t,centerTimestamp:r}),m&&m()}))}function G(e){const{timelineState:t,centerTimestamp:o}=e,{horizontalScroller:r,outerSizeObserver:n}=t;if(!r)return;const i=t.zoomLevelStore.state,{startTimestamp:a,endTimestamp:s}=t.currentRangeStore.state,l=n.rect.state.width;if(l===(0,L().w0)(i,s-a))return;const c=(0,L().w0)(i,o-a)-l/2;r.scrollLeft=c,t.scrollLeftStore.setState(c)}function q(e){const{environment:t,store:o,query:r,date:n,schema:i,transaction:a}=e,{timeline_by:s}=r;if(!s)return;const l=o.getAssociatedCollectionStore(),c=(null==l?void 0:l.getMappedProperty(s))??s,m=r.timeline_by_end?(null==l?void 0:l.getMappedProperty(r.timeline_by_end))??r.timeline_by_end:void 0,d=(0,L().u9)({store:o,dateValue:n,query:r,schema:(null==l?void 0:l.getSchema())??i}),u=o.getPropertyValue(c),S=m?o.getPropertyValue(m):void 0;return _().zv({store:o.getPropertiesStore(),data:d,transaction:a}),g().O({environment:t,store:o,dateProperty:{id:c,newValue:(null==d?void 0:d[c])??[],oldValue:u},otherDateProperty:m?{id:m,newValue:(null==d?void 0:d[m])??[],oldValue:S}:void 0}),o}function E(e){var t;const{environment:o,timelineState:n,collectionStore:i,collectionContextStore:a,store:s,query:m,groupFormat:d,transaction:u}=e,S=n.zoomLevelStore.state,p=(0,L().o$)(n),{snapUnit:f,getDateRangePlaceholderDuration:g}=L().eM[S],{timeline_by:y}=m;if(!y)return;const h=null===(t=a.groupsStore.getGroupState(d))||void 0===t?void 0:t.resultsStore.state;if(!h)return;const _=r().c9.fromMillis(p),C=(0,L().DY)(_,f),b=(0,L().DY)(g(_),f),w=(0,L().oJ)({startValue:(0,l().Ec)((0,c().P)()),snapUnit:f,desiredStart:C,desiredEnd:b});return q({environment:o,store:s,query:m,schema:i.getSchema(),date:w,transaction:u}),(0,v().D)({environment:o,collectionStore:i,before:!0,store:h[0],insertStores:[s],collectionContextStore:a,groupsPointer:d?[d]:[],transaction:u}),s}function O(e){const{type:t,timelineState:o,store:r,startX:n,query:i,schema:a,intl:s,environment:l}=e,{horizontalScroller:c}=o,{startTimestamp:m}=o.currentRangeStore.state;if(!c)return;P().Lt({environment:l,store:r});const u=c.scrollLeft,{stores:S}=z().default.state,p=d().oE(S.map((e=>{const t=(0,L().GM)({store:e,query:i,schema:a,userId:l.currentUser.id,intl:s,formulasModule:void 0});if(t)return{startValue:t,store:e}})));o.dragStateStore.setState({type:t,startStore:r,stores:p.map((e=>{let{store:t}=e;return t})),startValues:p.map((e=>{let{startValue:t}=e;return t})),temporaryValues:p.map((e=>{let{startValue:t}=e;return t})),startX:n,startStartTimestamp:m,startScrollLeft:u})}function W(e){const{timelineState:t,store:o,startX:r,startY:n,schema:i,collectionContextStore:a,verticalScroller:s}=e,{horizontalScroller:l}=t,{startTimestamp:c}=t.currentRangeStore.state;if(!l||!s)return;const m=l.scrollLeft,d=s.scrollTop,u=(0,L().GW)(a,o,i);t.drawStateStore.setState({startStore:o,startDependencyRelationPointers:u,temporaryDependencyRelationPointers:[...u],startX:r,startY:n,startScrollLeft:m,startScrollTop:d,startStartTimestamp:c,xOffsetPx:0,yOffsetPx:0,tryToCompleteDrawnArrow:!1})}function Y(e){const{timelineState:t,currentX:o}=e,{horizontalScroller:r}=t,n=t.zoomLevelStore.state,i=t.dragStateStore.state,{startTimestamp:a}=t.currentRangeStore.state;if(!i||!r)return;const{type:s,startStartTimestamp:c,startValues:m,startScrollLeft:S,startX:p,startStore:v,stores:f}=i,g=L().eM[n],{snapUnit:y}=g,h=r.scrollLeft-S+(o-p)+(0,L().w0)(n,a-c),_=(0,L().C1)(n,h),C=m[f.indexOf(v)];let b;if(s===L().MB.LeftResizer){const{start:e}=(0,L().yl)(C,y),t=e.plus(_);b=m.map((e=>{const o=(0,L().oJ)({startValue:e,snapUnit:y,desiredStart:t});return(0,l().u7)(o)}))}else if(s===L().MB.RightResizer){const{end:e}=(0,L().yl)(C,y),t=e.plus(_);b=m.map((e=>{const o=(0,L().oJ)({startValue:e,snapUnit:y,desiredEnd:t});return(0,l().rL)(o)}))}else s===L().MB.ItemDrag?b=m.map((e=>{const{start:t,end:o}=(0,L().yl)(e,y),r=t.plus(_),n=r.plus(o.valueOf()-t.valueOf());return(0,L().oJ)({startValue:e,snapUnit:y,desiredStart:r,desiredEnd:n})})):(0,u().HB)(s);d().n4(i.temporaryValues,b)||t.dragStateStore.setState({...i,temporaryValues:b})}function X(e){const{timelineState:t,currentX:o,currentY:r,verticalScroller:n}=e,i=t.drawStateStore.state,a=t.zoomLevelStore.state,{startTimestamp:s}=t.currentRangeStore.state,{horizontalScroller:l}=t;if(!i||!l||!n)return;const{startDependencyRelationPointers:c,startStore:m,startX:u,startY:S,startScrollLeft:p,startScrollTop:v,startStartTimestamp:f}=i,g=l.scrollLeft,y=n.scrollTop,h=g-p+(o-u)+(0,L().w0)(a,s-f),_=y-v+(r-S),C=t.hoveredItemStore.state;if(C&&C!==m&&!c.some((e=>e.id===C.id))){const e=[...c,{table:"block",id:C.id,spaceId:C.getSpaceId()}];d().n4(i.temporaryDependencyRelationPointers,e)||t.drawStateStore.setState({...i,temporaryDependencyRelationPointers:e,xOffsetPx:void 0,yOffsetPx:void 0})}else t.drawStateStore.setState({...i,temporaryDependencyRelationPointers:[...c],xOffsetPx:h,yOffsetPx:_})}function Q(e){const{environment:t,collectionContextStore:o,timelineState:r,query:n,schema:i,transaction:a}=e,s=r.dragStateStore.state,{timeline_by:l}=n;if(!s||!l)return;const{temporaryValues:c,stores:m}=s;c.forEach(((e,r)=>{const s=m[r];q({environment:t,store:s,query:n,schema:i,transaction:a,date:e}),(0,S().E)({environment:t,collectionContextStore:o,block_id:s.id,property:l,property_type:"date",from:"timeline"})})),r.dragStateStore.setState(void 0)}function $(e){var t;const{timelineState:o,environment:r,transaction:n,collectionContextStore:i,isFullScreen:a,isRootChild:s}=e,l=o.drawStateStore.state,c=o.dateRangePlaceholderStore.state;if(!l)return;const{startStore:m,startDependencyRelationPointers:d,temporaryDependencyRelationPointers:u}=l;if(!m)return void o.drawStateStore.setState(void 0);let p;if(c.active){const{date:e,store:t,parentStore:a,groupFormat:s,newTimelineItemProps:l,existingTimelineItemProps:d}=c;if(t&&d){const{query:o,schema:i}=d;q({environment:r,store:t,query:o,schema:i,date:e,transaction:n}),p={table:"block",id:t.id,spaceId:m.getSpaceId()}}else if(l){const{query:o,schema:c,isFullScreen:d,canEditTimelineItems:u,subitemPath:S}=l,v=ee({environment:r,date:e,store:t,parentStore:a,query:o,schema:c,isFullScreen:d,groupFormat:s,canEditTimelineItems:u,collectionContextStore:i,subitemPath:S,transaction:n,from:"timeline_complete_draw"});v&&(p={table:"block",id:v.id,spaceId:m.getSpaceId()})}o.dateRangePlaceholderStore.setState({active:!1})}else p=u.find((e=>!d.includes(e)));const v=(0,L().VC)(i);if(v){const{property:e}=v;p&&(C().j$({environment:r,propertyWithInverse:v,sourceStore:m,destStore:A().Bv.createChildStore(m,p),position:{type:"after"},transaction:n}),(0,S().E)({environment:r,collectionContextStore:i,block_id:m.id,property:e,property_type:"relation",from:"timeline",isFromBulkActionsToolbar:!1,isUnthrottled:!0})),o.drawStateStore.setState(void 0)}else y().R8({item:{type:"dependencies",from:"view_options"},collectionSettingsStore:i.settingsStore}),o.drawStateStore.setState({...l,tryToCompleteDrawnArrow:!0});const f=null===(t=p)||void 0===t?void 0:t.id;f&&(0,M().xY)(r,{...(0,I().sl)(i),...(0,M().ZR)({environment:r,collectionContextStore:i,timelineState:o,isFullScreen:a,isRootChild:s}),dependenciesPropertyID:null==v?void 0:v.property,blockedByStoreID:m.id,blockingStoreID:f})}function j(e){const{timelineState:t,environment:o}=e;t.dragStateStore.state&&(t.dragStateStore.setState(void 0),P().IU({environment:o}))}function H(e){const{timelineState:t,environment:o}=e;t.drawStateStore.state&&(t.drawStateStore.setState(void 0),P().IU({environment:o}))}function K(e){const{stores:t,collectionViewStore:o,schema:r,transaction:n}=e,i=o.getType(),a=o.getQuery(r),s=[];a&&("calendar"===i?a.calendar_by&&s.push(a.calendar_by):"timeline"===i&&(a.timeline_by&&s.push(a.timeline_by),a.timeline_by_end&&s.push(a.timeline_by_end)));for(const l of t)for(const e of s)x().KY({environment:l.environment,store:l.getPropertyStore(e),value:void 0,transaction:n})}function J(e){const{dependency:t,collectionContextStore:o,environment:r,timelineState:n,isFullScreen:i,isRootChild:a}=e,s=(0,L().VC)(o),l=o.collectionStore();if(!s||!l)return;const{property:c}=s,{store:m,relationPointer:d}=t,u=m.getSchema()[c];u&&"relation"===u.type&&(R().createAndCommit({userAction:"CollectionTimelineDependenciesOverlay.handleRemoveRelation",environment:r,canUndo:!0,perform:e=>{C().c3({environment:r,propertyWithInverse:s,sourceStore:m,destStore:A().Bv.createChildStore(m,d),transaction:e}),(0,S().E)({environment:r,block_id:d.id,property:c,property_type:u.type,from:"timeline",collectionContextStore:o,isFromBulkActionsToolbar:!1,isUnthrottled:!0})}}),(0,M().m2)(r,{...(0,I().sl)(o),...(0,M().ZR)({environment:r,collectionContextStore:o,timelineState:n,isFullScreen:i,isRootChild:a}),dependenciesPropertyID:c,blockedByStoreID:m.id,blockingStoreID:d.id}))}function Z(e){const{collectionViewStore:t,newProperty:o,transaction:r}=e;h().zA({stores:[t],update:{timeline_arrows_by:{property:o}},transaction:r})}function N(e){var t;const{collectionContextStore:o,relationPropertyId:r,transaction:n}=e,i=o.collectionStore();if(!i)return;const l=r?i.getSchema()[r]:void 0,c="relation"===(null==l?void 0:l.type)&&l.property&&"relation"===(null===(t=i.getSchema()[l.property])||void 0===t?void 0:t.type)?l.property:void 0;h().zA({stores:[i],update:{collection_default_arrows_by:r,...i.getFormat().app_config_uri===s().dC?{app_uri_map:{...i.getFormat().app_uri_map?i.getFormat().app_uri_map:{},[a().yx.BlockingRelation]:r,[a().yx.BlockedRelation]:c}}:{}},transaction:n})}function ee(e){const{environment:t,transaction:o,date:r,parentStore:n,query:a,schema:s,isFullScreen:l,groupFormat:c,canEditTimelineItems:m,collectionContextStore:d,from:u}=e;if(!(0,B().EF)(t))return;const S=c?[c]:[],v=d.groupsStore.getGroupState(S);if(!v)return;if(n)return function(e){const{environment:t,transaction:o,date:r,store:n,parentStore:a,query:s,schema:l,groupFormat:c,canEditTimelineItems:m,collectionContextStore:d,subitemPath:u}=e;if(!n||!a)return;const S=c?[c]:[],p=(0,f().u)({environment:t,collectionContextStore:d,groupsPointer:S,store:n,before:!1,collectionStore:a,transaction:o,subitemPath:u,subitemInsertDirection:"into"});if(p){if(q({environment:t,store:p,query:s,schema:l,date:r,transaction:o}),t.device.isMobile)b().uK({environment:t,store:p,pageVisitSource:i().y8.Create});else if(p&&m){const e=p.getBlockTitleStore();T().setSelectionAtStart({store:e})}return p}}(e);d.searchQueryStore.state&&(0,V().S)({searchQuery:"",collectionContextStore:d,isFullScreen:l});const g=(0,p().Q)({environment:t,collectionContextStore:d,groupsPointer:S,shouldCoerce:!0,templateStore:d.defaultPageTemplateStore.state,transaction:o,from:{createBlock:u},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache});if(!g)return;const y=g.coercionSucceeded,h=g.newStore;if(q({environment:t,store:h,query:a,schema:s,date:r,transaction:o}),t.device.isMobile)b().uK({environment:t,store:h,pageVisitSource:i().y8.Create});else if(y&&m){const e=h.getBlockTitleStore();T().setSelectionAtEnd({store:e})}else w().VU({environment:t,store:h,peekMode:(0,D().hH)(d),resultsStore:null==v?void 0:v.resultsStore,collectionContextStore:d,pageVisitSource:i().y8.Create});return h}},839106:(e,t,o)=>{o.d(t,{AP:()=>s,VD:()=>c,ZR:()=>p,gp:()=>d,i6:()=>l,iH:()=>i,iT:()=>m,m2:()=>S,xY:()=>u,z2:()=>a});o(898992),o(354520);var r=()=>o(989423),n=()=>o(690471);function i(e,t){r().WU(e,"timeline_view","timeline_view",5,t)}function a(e,t){r().vd(e,"timeline_zoom_level_update",t)}function s(e,t){r().vd(e,"timeline_today_click",t)}function l(e,t){r().vd(e,"timeline_shift_time_click",t)}function c(e,t){r().vd(e,"timeline_toggle_table_click",t)}function m(e,t){r().vd(e,"timeline_item_scroll_arrow_click",t)}function d(e,t){r().vd(e,"timeline_item_resize",t)}function u(e,t){r().vd(e,"timeline_dependency_arrow_add",t)}function S(e,t){r().vd(e,"timeline_dependency_arrow_delete",t)}function p(e){const{environment:t,collectionContextStore:o,timelineState:r,isFullScreen:i,isRootChild:a}=e,s=r.zoomLevelStore.state,l=o.normalizedFormatStore.state,c=(0,n().iw)({environment:t,format:l,isFullScreen:i,isRootChild:a}),m=c&&l.timeline_table_properties?l.timeline_table_properties.length:0,d=l.timeline_properties||[],u=d.filter((e=>"title"!==e.property));return{zoom_level:s,show_table:c,show_table_properties_count:m,show_timeline_title:d.length!==u.length,show_timeline_properties_count:u.length}}},843306:(e,t,o)=>{o.d(t,{u:()=>y});o(581454);var r=()=>o(584262),n=()=>o(700500),i=()=>o(179034),a=()=>o(519839),s=()=>o(476492),l=()=>o(630116),c=()=>o(970330),m=()=>o(557281),d=()=>o(246826),u=()=>o(281948),S=()=>o(778417),p=()=>o(317001),v=()=>o(716728),f=()=>o(976405),g=()=>o(755673);function y(e){const{environment:t,collectionContextStore:o,before:y,store:h,groupsPointer:_,collectionStore:C,transaction:b,subitemPath:w,subitemInsertDirection:P,from:x}=e,T=o.collectionViewStore();if(!T)return;const R=o.groupsStore.getGroupState(_),V=null==R?void 0:R.groupUiParentStore,D=(null==R?void 0:R.resultsStore.state)||[];if(!V)return;const I=d().Wv({environment:t,type:n().xd.page,inMemoryRecordCache:h.inMemoryRecordCache,transaction:b,spaceId:T.pointer.spaceId});if(x){const e="collectionTypedView"===o.contextType?I.getAssociatedCollectionId():void 0;c().v(t,{from:x,type:"page",new_page_id:I.id,creating_block_id:I.id,...s().sl(o,e)})}const k=(0,p().j)({environment:t,store:I,collectionStore:C,collectionContextStore:o,groupsPointer:_,shouldCoerce:!0,transaction:b}),A=o.defaultPageTemplateStore.state;A&&m().n5({title:"template",environment:t,store:I,templateStore:A,isKeyboard:!1,isCreateIn:!1,transaction:b,from:"collection_group_actions"});const z=l().Bv.createChildStore(V,{table:i().ev,id:I.id});w&&w.length>0&&(0,v().i)({environment:t,collectionContextStore:o,subitemPath:w,collectionStore:C,store:h,before:!1,insertBlockStore:z,insertDirection:P,transaction:b});const B=D.indexOf(h),L=y?B:B+1,M=[...D.slice(0,L),z,...D.slice(L)];if((0,g().z)({resultIds:M.map((e=>e.id)),collectionViewStore:T,collectionContextStore:o,transaction:b}),k){if(w){var F;const e="into"===P?h:null===(F=w[w.length-2])||void 0===F?void 0:F.value.store;return e?l().Bv.createChildStore(e,z.pointer):z}return S().Lt({environment:t,store:z}),(0,f().f)({environment:t,collectionContextStore:o}),z}u().VU({environment:t,store:z,peekMode:a().hH(o),resultsStore:null==R?void 0:R.resultsStore,collectionContextStore:o,pageVisitSource:r().y8.Create})}},878781:(e,t,o)=>{o.d(t,{D:()=>r});const r=(0,o(959013).YK)({removeSortingConfirmation:{id:"databaseActions.removeSortingConfirmationDialog.prompt",defaultMessage:"Would you like to remove sorting?"},removeSortingButton:{id:"databaseActions.removeSortingConfirmationDialog.removeSortingButton.label",defaultMessage:"Remove"},removeSortingCancel:{id:"databaseActions.removeSortingConfirmationDialog.cancelRemoveSortingButton.label",defaultMessage:"Don’t remove"},removeGroupSortingConfirmation:{id:"databaseActions.remoteGroupSortingConfirmationDialog.prompt",defaultMessage:"Would you like to remove {sortType} group sorting?"},removeGroupSortingButton:{id:"databaseActions.removeGroupSortingConfirmationDialog.removeButton.label",defaultMessage:"Remove"},removeGroupSortingCancel:{id:"databaseActions.removeGroupSortingConfirmationDialog.cancelButton.label",defaultMessage:"Don’t remove"}})},976405:(e,t,o)=>{o.d(t,{f:()=>m});var r=()=>o(314660),n=()=>o(873050),i=()=>o(682146),a=()=>o(972435),s=()=>o(901389),l=()=>o(317909),c=()=>o(878781);function m(e){const{environment:t,collectionContextStore:o}=e,m=o.collectionViewBlockStore(),d=o.collectionViewStore();if(!d||!m)return!1;const u=o.currentViewHasSort(),S=(0,n().gv)(o),p=u||S,v=d.getType(),f=o.permissionScopesStore.state;return!!(p&&v&&i().gP[v]&&f.canConfigureBlock)&&(s().ui({message:a().A.formatMessage(c().D.removeSortingConfirmation),items:[{label:a().A.formatMessage(c().D.removeSortingButton),color:"red",onAccept:()=>{l().createAndCommit({userAction:"collectionGroupActions.offerToRemoveSort",environment:t,canUndo:!0,perform:e=>{(0,r().f)({collectionViewStore:d,update:{sort:[]},transaction:e})}});const e=o.temporaryStateStore.state;o.temporaryStateStore.setState({...e,sorts:void 0})}},{label:a().A.formatMessage(c().D.removeSortingCancel),onAccept:()=>{}}],showCancel:!1,keepFocus:!0}),!0)}}}]);