"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[95281],{9658:(e,t,n)=>{n.d(t,{Z:()=>o,t:()=>r});var i=()=>n(645873);const s=new(i().O2)("outlinerViewAll",(async()=>{const{OutlinerViewAllButton:e}=await Promise.all([n.e(23806),n.e(51609)]).then(n.bind(n,341628)),{OutlinerViewAllPopup:t}=await Promise.all([n.e(23806),n.e(51609)]).then(n.bind(n,499960));return{OutlinerViewAllButton:e,OutlinerViewAllPopup:t}})),o=(0,i()._h)(s,(e=>e.OutlinerViewAllButton)),r=(0,i()._h)(s,(e=>e.OutlinerViewAllPopup))},167334:(e,t,n)=>{n.d(t,{A:()=>l});n(296540);var i=()=>n(484714),s=()=>n(401497),o=()=>n(500066),r=()=>n(614505),a=n(474848);function l(e){const{icon:t,isAlias:n,isEmptyPage:l,iconStyle:d,size:c}=e,u=function(){const e=(0,i().v3)();return(0,s().IS)((t=>({wrap:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:e.device.isMobile?28:22,height:e.device.isMobile?24:18,position:"relative"},pageLinkInicator:{position:"absolute",width:"50%",height:"50%",right:0,bottom:-1,fill:"dark"===t.mode?t.regularTextColor:"#3E3C38",stroke:"dark"===t.mode?t.surface.wash:"white",strokeWidth:"dark"===t.mode?"1.85px":"1.5px"}})),[e])}();return(0,a.jsxs)("div",{style:u.wrap,children:[(0,a.jsx)(r().A,{disabled:!0,icon:t,isEmptyPage:l,size:c??19,style:d}),n&&(0,a.jsx)("div",{children:(0,o().G)(u.pageLinkInicator)})]})}},307296:(e,t,n)=>{n.d(t,{BU:()=>o,LS:()=>s,Z0:()=>i().Z,tA:()=>i().t});var i=()=>n(9658);const s=30,o=20},552445:(e,t,n)=>{n.d(t,{N:()=>s});n(296540);var i=n(474848);const s=(0,n(340498).wt)("pin",{viewBox:"0 0 13 19",svg:(0,i.jsx)("path",{d:"M1.25 12.875h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.304-3.359-4.109L8.617 4c.992-.648 1.93-1.383 2.328-1.914.211-.266.305-.531.305-.758 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .227.093.492.297.758.398.531 1.343 1.266 2.328 1.914L3.46 7.664C1.42 8.47.1 10.125.1 11.774c0 .664.446 1.101 1.149 1.101zm4.922-5.719c-.5 0-.984.047-1.438.14l.235-3.874c.008-.11-.008-.149-.086-.188-1.172-.601-2.078-1.312-2.14-1.468-.063-.102 0-.164.085-.164h6.68c.086 0 .148.062.086.164-.063.156-.969.867-2.14 1.468-.071.04-.095.079-.079.188l.234 3.875a7.177 7.177 0 00-1.437-.14zm-4.61 4.54c-.18 0-.257-.102-.226-.313.172-1.406 1.969-3.086 4.836-3.086 2.86 0 4.656 1.68 4.828 3.086.031.21-.047.312-.227.312h-9.21z"})})},611651:(e,t,n)=>{n.d(t,{A:()=>C});n(581454);var i=n(296540),s=()=>n(484714),o=()=>n(179034),r=()=>n(959013),a=()=>n(899963),l=()=>n(857783),d=()=>n(728611),c=()=>n(396301),u=()=>n(869562),p=()=>n(630116),h=()=>n(939740),g=()=>n(89924),m=()=>n(56366),y=n(474848);function S(e){const t=(0,r().tz)(),{isPinned:i,store:o,spaceViewStore:l,type:d}=e,c=(0,s().v3)(),p=(0,s().WS)(),h=(0,m().K8)((()=>n(227440).A.state.online),[]),g=(0,m().K8)((()=>n(351360).default.state.currentUserSettingsStore),[]),S=(0,n(401497).IS)((e=>({pinned:{width:p?18:16,height:p?18:16,fill:e.mediumIconColor},unpinned:{width:p?18:16,height:p?18:16,fill:e.mediumIconColor}})),[p]);return(0,y.jsx)(n(285790).A,{icon:i?n(788941).b:n(552445).N,style:h?void 0:{cursor:"default"},iconStyle:i?S.unpinned:S.pinned,onClick:()=>{g&&n(317909).createAndCommit({userAction:"OutlinerViewAllMenuListItem2.onClick",environment:c,canUndo:!0,perform:e=>{i?(u().unpinSharedPage({environment:c,store:o,spaceViewStore:l,userSettingsStore:g,transaction:e}),a().Nj(c,{type:d,from:"sidebar_dropdown_menu"})):(u().pinSharedPage({environment:c,store:o,spaceViewStore:l,userSettingsStore:g,transaction:e}),a().k0(c,{type:d}))}})},disabled:!h,ariaLabel:t.formatMessage({defaultMessage:"Pin or unpin page",id:"outlinerViewAllPopover.pinButton.ariaLabel"})})}const x=i.forwardRef((function(e,t){const{store:i,timestamp:o,actorPointer:r,type:a,...l}=e,d=(0,m().K8)((()=>i.getIcon()),[i]),c=(0,m().K8)((()=>i.isEmptyPage()),[i]),u=(0,s().v3)();(0,m().K8)((()=>{(0,n(819493).b)(i)}),[i]);const p=(0,m().K8)((()=>(0,n(47373).Ck)()),[]);return(0,y.jsx)(n(859428).A,{placement:n(962730).W.Right,render:s=>(0,y.jsx)(n(760217).A,{...(0,n(553965).A)(l,s),ref:t,title:(0,y.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,y.jsx)(n(16006).A,{store:i})}),icon:(0,y.jsx)(n(167334).A,{icon:d,isEmptyPage:c,isAlias:!1}),right:(l.focused||e.isPinned||u.device.isMobile)&&(0,y.jsx)("div",{style:{display:"flex"},children:"shared"===e.type&&!p&&(0,y.jsx)(S,{...e})})}),renderTooltip:()=>(0,y.jsx)(n(706965).A,{store:i})})}));function v(e){const{sections:t}=e,n=1===t.length;return t.map(((t,i)=>{let{key:s,pages:o}=t;return{key:s,items:f({...e,pages:o}),render:e=>(0,y.jsx)(g().A,{...e,topBorder:0!==i,title:n?void 0:(0,c().OJ)({section:s,isFirst:0===i})})}}))}function f(e){const{environment:t,spaceStore:n,pages:i,visiblePageIds:s,onClose:r,type:h,state:g}=e,m=s.length;return i.map((i=>{let{blockId:S,timestamp:v,authorPointer:f,index:C}=i;const b=p().Bv.createChildStore(n,{table:o().ev,id:S}),w=s.includes(S);return{key:S,action:e=>{let{event:n}=e;const i=d().Vr(n);i||r(),l().uK({environment:t,store:b,openInNew:i,pageVisitSource:(0,c().NX)({type:h,from:"secondary_sidebar"})}),t.device.isPhone&&u().close(),a().Qq(t,{type:h,queryStringLength:g.query.length,selectedItemIndex:C})},render:t=>(0,y.jsx)(x,{...t,...e,store:b,timestamp:v,actorPointer:f,isPinned:w,spaceId:n.id,pinnedAmount:m})}}))}const C=function(e){const{sections:t,onClose:o,state:a,menuListStore:l,setState:d,renderSections:c,...u}=e,p=(0,s().v3)(),m=n(496603).xu(t,(e=>e.pages.length)),S=Math.min(m,a.numPagesShown),x=(0,i.useMemo)((()=>{let e=S;return t.map((t=>{const n={...t,pages:t.pages.slice(0,e)};return e=Math.max(0,e-t.pages.length),n}))}),[S,t]);return 0===t.length?(0,y.jsx)(g().A,{style:{height:"40vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,y.jsx)(n(299797).A,{icon:n(654587).V,title:(0,y.jsx)(r().sA,{defaultMessage:"No matches",id:"outlinerViewAllPopover.search.noMatchesTitle"}),description:(0,y.jsx)(r().sA,{defaultMessage:"Try checking for typos",id:"outlinerViewAllPopover.search.noMatchesDescription"})})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h().Ay,{type:h().Oh.Vertical,initialFocus:void 0,sections:c?c(x):v({...u,setState:d,state:a,environment:p,onClose:o,sections:x,menuListStore:l}),store:l}),(0,y.jsx)(n(958846).A,{fetchSize:S,resultSize:m,loading:!1,onLoadMore:()=>{d({query:a.query,numPagesShown:Math.min(m,S+n(307296).BU)})}})]})}},654587:(e,t,n)=>{n.d(t,{V:()=>s});n(296540);var i=n(474848);const s=(0,n(340498).wt)("docMagnifyingGlass",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M4.87695 14.1426C4.25195 14.1426 3.77734 13.9805 3.45312 13.6562C3.13281 13.332 2.97266 12.8535 2.97266 12.2207V3.38477C2.97266 2.75586 3.13281 2.2793 3.45312 1.95508C3.77734 1.62695 4.25195 1.46289 4.87695 1.46289H11.123C11.748 1.46289 12.2207 1.625 12.541 1.94922C12.8613 2.27344 13.0215 2.75195 13.0215 3.38477V9.30273C12.8652 9.13086 12.6895 8.97656 12.4941 8.83984C12.2988 8.70312 12.0918 8.59375 11.873 8.51172V3.45508C11.873 3.18555 11.7988 2.97852 11.6504 2.83398C11.5059 2.68555 11.2969 2.61133 11.0234 2.61133H4.97656C4.69531 2.61133 4.48242 2.68555 4.33789 2.83398C4.19727 2.97852 4.12695 3.18555 4.12695 3.45508V12.1621C4.12695 12.4355 4.19727 12.6426 4.33789 12.7832C4.48242 12.9238 4.69531 12.9941 4.97656 12.9941H7.40234C7.48438 13.2129 7.5918 13.4199 7.72461 13.6152C7.86133 13.8105 8.01562 13.9863 8.1875 14.1426H4.87695ZM5.86133 4.99609C5.74805 4.99609 5.65625 4.95898 5.58594 4.88477C5.51562 4.81055 5.48047 4.72266 5.48047 4.62109C5.48047 4.51953 5.51562 4.43359 5.58594 4.36328C5.65625 4.29297 5.74805 4.25781 5.86133 4.25781H10.1445C10.25 4.25781 10.3379 4.29297 10.4082 4.36328C10.4824 4.43359 10.5195 4.51953 10.5195 4.62109C10.5195 4.72266 10.4824 4.81055 10.4082 4.88477C10.3379 4.95898 10.25 4.99609 10.1445 4.99609H5.86133ZM5.86133 6.99414C5.74805 6.99414 5.65625 6.95898 5.58594 6.88867C5.51562 6.81445 5.48047 6.72461 5.48047 6.61914C5.48047 6.51758 5.51562 6.43164 5.58594 6.36133C5.65625 6.29102 5.74805 6.25586 5.86133 6.25586H10.1445C10.25 6.25586 10.3379 6.29102 10.4082 6.36133C10.4824 6.43164 10.5195 6.51758 10.5195 6.61914C10.5195 6.72461 10.4824 6.81445 10.4082 6.88867C10.3379 6.95898 10.25 6.99414 10.1445 6.99414H5.86133ZM10.4434 14.1426C9.9707 14.1426 9.53906 14.0254 9.14844 13.791C8.75781 13.5605 8.44336 13.25 8.20508 12.8594C7.9707 12.4688 7.85352 12.0371 7.85352 11.5645C7.85352 11.0879 7.9707 10.6543 8.20508 10.2637C8.44336 9.86914 8.75781 9.55664 9.14844 9.32617C9.53906 9.0918 9.9707 8.97461 10.4434 8.97461C10.9199 8.97461 11.3535 9.0918 11.7441 9.32617C12.1348 9.55664 12.4453 9.86719 12.6758 10.2578C12.9102 10.6484 13.0273 11.084 13.0273 11.5645C13.0273 12.0371 12.9102 12.4688 12.6758 12.8594C12.4453 13.25 12.1348 13.5605 11.7441 13.791C11.3535 14.0254 10.9199 14.1426 10.4434 14.1426ZM10.4434 13.252C10.752 13.252 11.0332 13.1758 11.2871 13.0234C11.5449 12.8711 11.75 12.666 11.9023 12.4082C12.0547 12.1543 12.1309 11.873 12.1309 11.5645C12.1309 11.252 12.0547 10.9688 11.9023 10.7148C11.75 10.4609 11.5449 10.2578 11.2871 10.1055C11.0332 9.94922 10.752 9.87109 10.4434 9.87109C10.1309 9.87109 9.8457 9.94922 9.58789 10.1055C9.33398 10.2578 9.12891 10.4609 8.97266 10.7148C8.82031 10.9688 8.74414 11.252 8.74414 11.5645C8.74414 11.873 8.82031 12.1543 8.97266 12.4082C9.12891 12.666 9.33398 12.8711 9.58789 13.0234C9.8457 13.1758 10.1309 13.252 10.4434 13.252ZM13.5078 15.209C13.3398 15.209 13.1895 15.1426 13.0566 15.0098L11.4629 13.416L12.2715 12.6719L13.8594 14.2598C13.9141 14.3105 13.957 14.3711 13.9883 14.4414C14.0195 14.5117 14.0352 14.582 14.0352 14.6523C14.0352 14.8125 13.9844 14.9453 13.8828 15.0508C13.7812 15.1562 13.6562 15.209 13.5078 15.209Z"})})},715011:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(296540),s=()=>n(959013),o=()=>n(409268),r=n(474848);function a(e){const t=(0,i.useMemo)((()=>(0,o().s)(e.store)),[e.store]);return(0,r.jsx)(s().sA,{id:"pageWordCount.wordCount",defaultMessage:"{count, plural, one {# word} other {# words}}",values:{count:t}})}},788941:(e,t,n)=>{n.d(t,{b:()=>s});n(296540);var i=n(474848);const s=(0,n(340498).wt)("pinFilled",{viewBox:"0 0 13 19",svg:(0,i.jsx)("path",{d:"M.102 11.773c0 .665.445 1.102 1.148 1.102h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.39-3.515-4.187L8.46 4c1.14-.648 2.078-1.383 2.484-1.906.203-.266.305-.531.305-.766 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .234.093.5.297.766.406.523 1.343 1.258 2.484 1.906l-.258 3.586C1.422 8.383.102 10.125.102 11.773z"})})},819493:(e,t,n)=>{n.d(t,{$:()=>b,b:()=>w});n(898992),n(908872),n(296540);var i=()=>n(662303),s=()=>n(484714),o=()=>n(56366),r=()=>n(401497),a=()=>n(764880),l=()=>n(869190),d=()=>n(959013),c=()=>n(777092),u=()=>n(921855),p=()=>n(972435),h=()=>n(963589),g=()=>n(962730),m=()=>n(706965),y=()=>n(678553),S=()=>n(89924),x=()=>n(859428),v=()=>n(125565),f=()=>n(715011),C=n(474848);function b(e){let{isPageMoreButton:t,hideTopBorder:n,store:i,wordCountStores:l,showWordCount:c}=e;const u=(0,o().K8)((()=>w(i)),[i]),{device:h}=(0,s().v3)(),b=(0,o().K8)((()=>h.isPhone),[h]),A=p().A.getIntl(),I=(0,r().IS)((()=>({menuItem:{paddingTop:b?8:n?0:6,paddingBottom:b?8:16}})),[n,b]);return u&&!u.canAccess?null:(0,C.jsx)(S().A,{topBorder:!t&&!n,style:{paddingTop:t?0:8,paddingBottom:t?0:8},children:(0,C.jsx)(y().A,{style:u?void 0:I.menuItem,shouldWrapTitle:!0,title:u?(0,C.jsx)(x().A,{placement:g().W.Right,render:e=>(0,C.jsxs)("div",{...e,children:[c&&(0,C.jsx)(v().A,{isSmall:!0,isSecondaryColor:!0,isMobile:h.isPhone,isMultiline:!0,style:{marginBottom:4,marginTop:8},children:(0,C.jsx)(d().sA,{id:"pageMoreButton.wordCount.caption",defaultMessage:"Word count: {count}",values:{count:(0,C.jsx)(f().A,{store:i})}})}),l&&(0,C.jsx)(j,{stores:l}),(0,C.jsx)(v().A,{isSmall:!0,isSecondaryColor:!0,isMobile:h.isPhone,isMultiline:!0,style:{marginBottom:4},children:(0,C.jsx)(d().sA,{id:"blockAuthorInfo.label",defaultMessage:"Last edited by {author}",values:{author:u.lastEditedBy.asActor?(0,a().lR)(A,u.lastEditedBy):void 0}})}),(0,C.jsx)(v().A,{isSmall:!0,isSecondaryColor:!0,isMobile:h.isPhone,style:{marginBottom:c?8:0},children:u.lastEditedTime})]}),renderTooltip:()=>(0,C.jsx)(m().A,{store:i,compactFormat:!0})}):void 0,loading:!u})})}function w(e){const t=e.getCreatedByPointer(),n=e.getCreatedTime(),s=e.getLastEditedByPointer(),o=e.getLastEditedTime(),r=p().A.getIntl();if(!e.canRead())return{canAccess:!1};if(t&&n&&o&&s){const a=(0,c().vt)({parentStore:e,pointer:t}),d=(0,l().jE)(n,i().locale,r),u=(0,c().vt)({parentStore:e,pointer:s}),p=(0,l().jE)(o,i().locale,r);if(!u)return;return{canAccess:!0,createdBy:a,createdTime:d,lastEditedBy:u,lastEditedTime:p}}}function j(e){const{stores:t}=e,n=(0,h().X)("selectable_word_count"),i=(0,o().K8)((()=>n?A(t):0),[n,t]);return n?(0,C.jsx)(v().A,{isSmall:!0,isSecondaryColor:!0,style:{marginBottom:4},children:(0,C.jsx)(d().sA,{id:"blockMetadataMenuItem.wordCount",defaultMessage:"{count, plural, one {# word} other {# words}}",values:{count:i}})}):null}function A(e){return e.reduce(((e,t)=>{const n=(0,u().r4)(t.getTitleValue(),t);return e+(0,u().sQ)(n)+A(t.getContentStores())}),0)}},918048:(e,t,n)=>{n.r(t),n.d(t,{SecondarySidebar:()=>se});var i=n(296540),s=()=>n(484714),o=()=>n(56366),r=()=>n(401497),a=()=>n(72307),l=()=>n(418133),d=()=>n(145214),c=()=>n(545805),u=()=>n(77395),p=()=>n(631611),h=()=>n(477293),g=()=>n(577009),m=()=>n(929469),y=()=>n(346),S=()=>n(567121),x=()=>n(362749),v=()=>n(644914),f=()=>n(770906),C=(n(898992),n(354520),n(581454),()=>n(959013)),b=()=>n(534177),w=()=>n(899963),j=()=>n(872539),A=()=>n(857783),I=()=>n(778417),k=()=>n(218557),P=()=>n(805751),M=()=>n(419357),B=()=>n(928600),V=()=>n(2143),T=()=>n(89924),L=()=>n(550125),O=()=>n(307296),K=()=>n(611651),E=()=>n(13679),_=()=>n(728611),z=()=>n(722872),R=()=>n(396301),N=()=>n(437622),D=()=>n(33194),H=()=>n(756279),W=()=>n(351360),F=()=>n(337567),Z=()=>n(970585),q=()=>n(714818),Q=()=>n(712505),$=()=>n(17090),X=()=>n(441199),U=n(474848);const G=(0,C().YK)({searchPlaceholder:{id:"morePagesSecondarySidebar.search.placeholder",defaultMessage:"Search for a page..."}});function J(e){let{type:t}=e;const n=(0,C().tz)(),a=(0,s().v3)(),l=(0,o().uB)(void 0,$().A),{currentSpaceStore:d,currentSpaceViewStore:c}=(0,o().O$)(W().default),{allPagesStores:u}=(0,o().K8)((()=>{const{currentUserSettingsStore:e}=W().default.state;return c&&e?(0,N().au)({environment:a,spaceViewStore:c,userSettingsStore:e,type:t}).state:{allPagesStores:[]}}),[c,a,t]),p=(0,i.useMemo)((()=>({query:"",numPagesShown:O().LS})),[]),[h,g]=i.useState(p),m=(0,o().uB)(void 0,Z().A),y=(0,o().K8)((()=>{if(!c)return"manual";return(0,R().RQ)({spaceViewStore:c,type:t}).sortOption}),[c,t]),S=(0,o().K8)((()=>{const e=(0,R().L$)({allPages:u,state:h,intl:n});return"manual"===y?e:(0,R().$e)({pageItems:e})}),[u,h,n,y]),x=(0,i.useMemo)((()=>"manual"===y?S.length>0?[{key:"all",pages:S.map(((e,t)=>({...e,index:t})))}]:[]:(0,R().Lh)(S)),[y,S]),v=(0,r().IS)((()=>({container:{width:"100%",height:"100%",overflow:"hidden"},scroller:{height:"100%"}})),[]),w=(0,o().K8)((()=>X().default.state.mode),[]),I=(0,o().K8)((()=>Q().default.isCenterPeekOpen()||q().A.state.open),[]),P=(0,o().K8)((()=>X().default.isVisible()),[]),M=(0,i.useCallback)((()=>{f().VI({environment:a})}),[a]),D=(0,o().K8)((()=>void 0!==c&&(0,R().XA)({spaceViewStore:c})),[c]),G=(0,o().K8)((()=>(0,F().Vk)()),[]),J=(0,o().K8)((()=>{if(c&&d)return(0,R().rE)({typeWithTeam:{type:"private"},currentSpaceStore:d,currentSpaceViewStore:c})}),[c,d]),te=(0,i.useCallback)((e=>{let{draggingStores:n}=e;return"private"===t&&(!!D&&(!!d&&(0,R().ox)({environment:a,draggingStores:n,parentStore:J,currentSpaceStore:d})))}),[t,D,d,a,J]),ne=(0,i.useCallback)((async e=>{J&&await j().RM({dropArgs:e,environment:a,type:"private",isDroppingOnFullSection:!0,parentStore:J})}),[a,J]);return d&&c&&P?(0,U.jsx)(E().A,{droppable:!0,disableEditNearestBlock:!0,store:d,disable:I,disableRectangularSelection:!0,render:e=>{let{selectableEvents:n}=e;return(0,U.jsx)("div",{style:v.container,...n,children:(0,U.jsxs)(B().A,{menuType:z().gu.Popup,disableScroller:!0,header:(0,U.jsx)(Y,{state:h,setState:g,menuListStore:m,type:t}),maxHeight:"100%",children:[(0,U.jsx)(L().A,{scrollerStore:l}),(0,U.jsx)(V().H,{store:l,type:H().A.Y,style:v.scroller,children:(0,U.jsx)(k().Tl,{dropTargetKey:"secondarySidebarPrivateSection",canDropOnto:!0,canDropBelow:!1,canAcceptDrop:te,onSelectableDrop:ne,shouldShowDropZone:D,children:(0,U.jsx)(K().A,{sections:x,state:h,setState:g,type:t,spaceStore:d,spaceViewStore:c,visiblePageIds:[],onClose:M,menuListStore:m,renderSections:e=>function(e){const{sections:t,onClose:n,environment:i,mode:s,type:o,assistantCreatedPageIds:r}=e,a=1===t.length;return t.map(((e,l)=>{let{key:d,pages:c}=e;return{key:d,items:c.map((e=>{let{blockId:t,store:a,index:l}=e;if(!(0,b().O9)(r)||!r.includes(t))return{key:t,action:e=>{let{event:t}=e;const r=_().Vr(t);r||"peek"!==s||n(),A().uK({environment:i,store:a,openInNew:r,pageVisitSource:(0,R().NX)({type:o,from:"secondary_sidebar"})})},render:()=>(0,U.jsx)(ee,{store:a,itemIndex:l,type:o})}})).filter(b().O9),render:e=>(0,U.jsx)(T().A,{...e,desktopTitleStyle:{paddingLeft:16,paddingTop:0===l?0:4},topBorder:!1,title:a?void 0:(0,R().OJ)({section:d,isFirst:!1}),style:{paddingTop:0,marginTop:0,paddingBottom:l===t.length-1?30:0}})}}))}({spaceStore:d,environment:a,onClose:M,sections:e,mode:w,type:t,assistantCreatedPageIds:G})})})})]})})}}):null}function Y(e){let{state:t,setState:n,menuListStore:o,type:a}=e;const l=(0,i.useRef)(null),d=(0,s().v3)(),c=(0,C().tz)(),u=(0,r().IS)((e=>({inputOuter:{borderRadius:6,backgroundColor:e.whiteButtonBackground,padding:"4px 8px"},menuItem:{paddingBottom:8}})),[]),p=(0,i.useCallback)((e=>{n({query:e.target.value,numPagesShown:O().LS}),o.setState({...o.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}}),w().I(d,{sidebar_section_type:a,search_query:e.target.value,flow_id:X().default.state.flowId})}),[d,o,n,a]),h=(0,i.useCallback)((()=>{l.current&&I().IU({environment:d})}),[d]);return(0,U.jsx)(T().A,{style:u.menuItem,children:(0,U.jsx)(P().A,{debugName:"MorePagesSecondarySidebarContentInput",capture:!0,allowSearch:!0,allowOpenLinkMenu:!0,allowEsc:!0,children:(0,U.jsx)(M().Ay,{ref:l,focusInitial:!0,onFocus:h,showClearButton:!0,inputOuterStyle:u.inputOuter,itemMarginLeft:0,itemMarginRight:0,placeholder:c.formatMessage(G.searchPlaceholder),value:t.query,onChange:p})})})}function ee(e){const t=(0,s().v3)(),{store:n,itemIndex:a,type:l}=e,{currentSpaceViewStore:d,currentSpaceStore:c}=(0,o().O$)(W().default),u=(0,o().K8)((()=>{if(d&&c)return(0,R().rE)({typeWithTeam:{type:l},currentSpaceStore:c,currentSpaceViewStore:d})}),[d,c,l]),p=(0,o().K8)((()=>{if(!d)return"manual";return(0,R().RQ)({spaceViewStore:d,type:l}).sortOption}),[d,l]),h=(0,r().IS)((()=>({outlinerContainer:{borderRadius:12,paddingLeft:4,paddingRight:4,width:"inherit",marginBottom:1}})),[]),g=(0,i.useCallback)((()=>{(0,R().xy)({environment:t,store:n,type:l})}),[t,n,l]);return(0,U.jsx)("div",{style:h.outlinerContainer,children:(0,U.jsx)(D().Ay,{from:"secondary_sidebar",parentStore:u,variant:"manual"===p?"primary":"secondary",type:l,disabled:!1,store:n,itemIndex:a,itemDepth:0,onNavigate:g},n.id)})}var te=()=>n(313427),ne=()=>n(941463);const ie={duration:200};function se(){const e=(0,s().v3)(),t=(0,o().K8)((()=>(0,v().km)(e)),[e]),{mode:n,openState:l,contentType:p,isOpen:h,isVisible:g,isTransitioningState:m,isPeekDismissable:x}=(0,o().K8)((()=>{const{mode:e,openState:t,contentType:n}=X().default.state;return{mode:e,openState:t,contentType:n,isOpen:X().default.isOpen(),isVisible:X().default.isVisible(),isTransitioningState:X().default.isTransitioningState(),isPeekDismissable:X().default.isPeekDismissableState()}}),[]),C=(0,i.useId)();(0,i.useEffect)((()=>{setTimeout((()=>{"closing"===l&&X().default.setState({...X().default.state,openState:"closed"}),"opening"===l&&X().default.setState({...X().default.state,openState:"open"})}),ie.duration+100)}),[l]);const b=(0,o().K8)((()=>ne().Ay.getWidth()),[]),w=(0,o().K8)((()=>X().default.state.isResizerHovered&&X().default.isOpen()),[]),j=(0,y().n_)(),A=(0,r().IS)((e=>{const i={transition:"box-shadow 300ms ease",boxShadow:w?e.secondarySidebarResizerBoxShadow:e.secondarySidebarBoxShadow};return{container:{order:a().A.appCursorListener.secondarySidebar,cursor:"default",zIndex:g&&!m?201:105,width:b,height:j?`calc(100% - ${S().ls}px)`:"100%",background:e.contentBackground,flexShrink:0,display:"flex",visibility:g?"visible":"hidden",position:"fixed",left:t,..."peek"===n&&{boxShadow:e.shadowMD,clipPath:"inset(0px -24px 0px 0px)"}},overlayBackground:{cursor:"default",position:"fixed",top:0,left:t,width:`calc(100vw - ${t}px)`,height:"100vh",zIndex:200},resizer:{position:"absolute",top:0,right:0,zIndex:1,height:"100%",width:2,...i}}}),[w,g,m,b,j,t,n]),I=(0,i.useCallback)((()=>{x&&f().VI({environment:e})}),[e,x]),k=(0,i.useCallback)((()=>{X().default.setState({...X().default.state,isMouseEntered:!0})}),[]),P=(0,i.useCallback)((()=>{X().default.setState({...X().default.state,isMouseEntered:!1})}),[]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(c().A,{debugName:"SecondarySidebar",capture:x,onEsc:()=>{f().gO({environment:e})}},String(x)),x&&(0,U.jsx)("div",{style:A.overlayBackground,onClick:I,role:"presentation",tabIndex:-1}),(0,U.jsxs)(d().A,{forceCompositeLayer:!0,visible:h,initial:{opacity:.7,translateX:-b},exit:{opacity:.7,translateX:-b},animate:{opacity:1,translateX:0,width:b},skip:!m,config:ie,onAnimationEnd:()=>{"opening"===l?X().default.setState({...X().default.state,openState:"open"}):"closing"===l&&X().default.setState({...X().default.state,openState:"closed"})},style:A.container,onMouseMove:k,onMouseLeave:P,role:"region","aria-labelledby":C,"aria-hidden":!g||void 0,children:[(0,U.jsx)(oe,{titleId:C},p),(0,U.jsx)("div",{style:A.resizer}),(0,U.jsx)(u().A,{type:"secondary_sidebar"})]})]})}function oe(e){const{titleId:t}=e,{contentType:n}=(0,o().O$)(X().default),i=(0,r().IS)((()=>({content:{display:"flex",flexDirection:"column",width:"100%",height:"100vh"}})),[]),s="on"===(0,h().r)("inbox_activity_split");switch(n){case"private_pages":return(0,U.jsxs)("div",{style:i.content,children:[(0,U.jsx)(te().Q,{type:"private_pages",titleId:t}),(0,U.jsx)(J,{type:"private"})]});case"shared_pages":return(0,U.jsxs)("div",{style:i.content,children:[(0,U.jsx)(te().Q,{type:"shared_pages",titleId:t}),(0,U.jsx)(J,{type:"shared"})]});case"inbox":return(0,U.jsx)(m().B.Provider,{value:s?"inbox":void 0,children:(0,U.jsx)(g().JN,{titleId:t})});case"activity":return(0,U.jsx)(m().B.Provider,{value:s?"activity":void 0,children:(0,U.jsx)(g().JN,{titleId:t})});case"assistant":return(0,U.jsx)(p().hP,{surface:p().wy.fullPage,children:(0,U.jsxs)("div",{style:i.content,children:[(0,U.jsx)(te().Q,{type:"assistant",titleId:t}),(0,U.jsx)(l().Ay,{})]})});case"teams":return(0,U.jsxs)("div",{style:i.content,children:[(0,U.jsx)(te().Q,{type:"teams",titleId:t}),(0,U.jsx)(x().hO,{})]});default:return(0,U.jsx)(re,{})}}function re(){return(0,U.jsx)("div",{})}}}]);