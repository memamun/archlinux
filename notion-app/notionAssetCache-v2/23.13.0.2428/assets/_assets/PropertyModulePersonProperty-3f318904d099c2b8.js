"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[82120],{150987:(e,t,o)=>{o.d(t,{A:()=>y});o(898992),o(354520),o(581454),o(737550);var r=o.n(o(844751)),l=o(296540),n=()=>o(970013),s=()=>o(713998),a=()=>o(959013),i=()=>o(496603),d=()=>o(722872),u=()=>o(939740),c=()=>o(89924),p=()=>o(250202),m=o(474848);const y=function(e){let{selectedProperty:t,onAccept:y,schema:h,onClose:x,allowProperty:g,isRelationProperty:f}=e;const b=(0,o(484714).v3)(),v=(0,a().tz)(),[j,A]=(0,l.useState)("");let S=Object.keys(h);const w=S.some(o(443239).u);S=i().Ul(S,(e=>{const t=(0,s()._g)({schema:h,property:e});return t?t.name:""}));const k=w?n().Ho:n().rn;if(S=i().FF(S,k),S.unshift(k),g&&(S=S.filter((e=>{const t=(0,s()._g)({schema:h,property:e});return t&&g(t)}))),j){let e=S.map((e=>{const t=(0,s()._g)({schema:h,property:e});return t&&t.name}));e=r().filter(j,e).map((e=>{let{original:t}=e;return t})),S=S.filter((t=>{const o=(0,s()._g)({schema:h,property:t});return o&&o.name&&e.includes(o.name)}))}const M=j||S.length>o(525432).R8,C=i().oE(S.map((e=>{const o=(0,s()._g)({schema:h,property:e});if(!o)return null;return{key:e,render:r=>(0,m.jsx)(p().G,{...r,propertySchema:o,format:p().e.Name,checkState:e===t}),action:()=>y(e)}}))),P=[{key:0,render:e=>(0,m.jsx)(c().A,{...e}),items:C}],{device:R}=b,N=M?(0,m.jsx)(c().A,{isInput:!0,children:(0,m.jsx)(o(419357).Ay,{focus:!R.isMobile||void 0,focusAfterAnimation:!0,value:j,onChange:e=>A(e.target.value),placeholder:f?v.formatMessage({defaultMessage:"Search for a relation property…",id:"propertySelectMenu.searchForProperty.relation.placeholder"}):v.formatMessage({defaultMessage:"Search for a property…",id:"propertySelectMenu.searchForProperty.default.placeholder"})})}):null;let I;return I=R.isMobile?{menuType:d().gu.Modal,title:f?v.formatMessage({defaultMessage:"Relation property",id:"propertySelectMenu.mobileMenu.relationProperty.header"}):v.formatMessage({defaultMessage:"Property",id:"propertySelectMenu.mobileMenu.property.header"}),right:(0,m.jsx)(o(45552).CancelMenuText,{}),onClickRight:x,header:N}:{menuType:d().gu.Popup,width:280,maxHeight:480,header:N},(0,m.jsx)(o(928600).A,{...I,children:0===C.length?(0,m.jsx)(c().A,{children:(0,m.jsx)(o(64e3).A,{title:(0,m.jsx)(a().sA,{defaultMessage:"No results",id:"propertySelectMenu.search.noResults.title"})})}):(0,m.jsx)(u().Ay,{type:u().Oh.Vertical,sections:P,onAccept:x,initialFocus:j.length>0?0:void 0})})}},170356:(e,t,o)=>{o.d(t,{NS:()=>c,Pq:()=>y,Z3:()=>u,sw:()=>p});o(296540);var r=()=>o(484714),l=()=>o(297872),n=()=>o(928600),s=()=>o(678553),a=()=>o(45552),i=()=>o(722872),d=o(474848);const u=8,c=8,p=32,m={height:p+u-2,paddingTop:u-2};function y(e){let{title:t,helpButton:o,onCancel:s,desktopMinWidth:u,desktopMaxWidth:c,desktopWidth:p,children:m}=e;const{device:y}=(0,r().v3)();return(0,d.jsx)(l().A,{capture:!0,allowEsc:!0,allowUndo:!0,render:e=>{let r;return r=y.isMobile?{menuType:i().gu.Modal,title:t,right:(0,d.jsx)(a().DoneMenuText,{}),onClickRight:s,...e}:{menuType:i().gu.Popup,...u&&{minWidth:u},...c&&{maxWidth:c},...p&&{width:p},...e},(0,d.jsx)(n().A,{...r,header:t&&(0,d.jsx)(h,{title:t,helpButton:o}),children:m})}})}function h(e){let{title:t,helpButton:o}=e;return(0,r().v3)().device.isMobile?null:(0,d.jsx)(s().A,{style:m,title:t,right:o})}},250202:(e,t,o)=>{o.d(t,{G:()=>a,e:()=>s});var r=o(296540),l=()=>o(401497),n=o(474848);let s=function(e){return e[e.Name=0]="Name",e[e.Type=1]="Type",e}({});const a=r.forwardRef((function(e,t){const{propertySchema:r,format:a,locked:i}=e,{name:d,type:u,icon:c}=r,{isMobile:p}=(0,o(484714).Y0)(),m=(0,l().IS)((e=>({propertyIcon:{fill:e.regularIconColor,marginLeft:6,marginRight:2}})),[]),y=(0,l().DP)(),h=a===s.Name?d:o(682146).dC[u];return(0,n.jsx)(o(760217).A,{title:h,icon:(0,n.jsx)(o(743176).Ay,{icon:c,type:u,size:p?18:16,theme:y,style:m.propertyIcon}),disabled:i,...e})}))},255824:(e,t,o)=>{o.d(t,{g:()=>n});var r=()=>o(56366),l=()=>o(449476);function n(){return(0,r().K8)((()=>l().A.state.isOpen),[])}},274652:(e,t,o)=>{o.d(t,{A:()=>n});var r=o(296540),l=o(474848);const n=r.forwardRef((function(e,t){const r=(0,o(401497).IS)((t=>({base:{color:e.isBlue?o(100622).Ay.blue:t.mediumTextColor},disabled:{cursor:"not-allowed"},buttonMenuItem:{...e.style,...e.disabled?{cursor:"not-allowed"}:{}}})),[e.disabled,e.isBlue,e.style]),{color:n}=r.base;return(0,l.jsx)(o(760217).A,{ref:t,...e,title:(0,l.jsx)("div",{style:{color:n,fill:n},children:e.title}),icon:(0,l.jsx)(o(8980).I,{icon:o(617668).plusIcon,style:{fill:n}}),style:r.buttonMenuItem})}))},444823:(e,t,o)=>{o.r(t),o.d(t,{PersonPropertyModule:()=>D});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(581454);var r=o(296540),l=()=>o(484714),n=()=>o(56366),s=()=>o(401497),a=()=>o(764880),i=()=>o(187174),d=()=>o(212050),u=()=>o(798880),c=()=>o(919709),p=()=>o(959013),m=()=>o(496603),y=()=>o(534177),h=()=>o(284371),x=()=>o(720665),g=()=>o(886680),f=()=>o(753199),b=()=>o(722872),v=()=>o(554283),j=()=>o(106628),A=()=>o(962730),S=()=>o(653048),w=()=>o(422464),k=()=>o(859118),M=()=>o(234359),C=()=>o(704152),P=()=>o(760217),R=()=>o(406699),N=()=>o(285790),I=()=>o(419357),_=()=>o(331542),B=()=>o(928600),T=()=>o(939740),W=()=>o(64e3),V=()=>o(89924),z=()=>o(125565),O=()=>o(457688),U=o(474848);const D=r.memo((function(e){let{property:t,store:l,propertyValues:n,propertySchema:a,module:i,format:d}=e;const[u,c]=(0,o(997583).z)(),m=(0,o(255824).g)(),g={style:"large"};(0,o(778781).E2)(i)&&i.style&&(g.style=i.style);const f="large"===g.style?200:164,b=(0,r.useMemo)((()=>Math.floor((c+4)/(f+4))),[f,c]),v="person"===(null==a?void 0:a.type)&&((0,y().O9)(a.limit)&&0===n.length||(0,x().pN)(a.limit)),[j,A]=(0,r.useState)(!1),S=1===b?8:5,w=Math.max(1,S*b-(v?1:0)),k=(0,s().IS)((e=>({showAllFewerButton:{borderRadius:6,padding:"2px 8px",marginTop:4,display:"inline-flex",flexWrap:"nowrap",gap:4,color:e.mediumTextColor,fontWeight:h().Wy.medium,fontSize:14,alignItems:"center",justifyContent:"start"}})),[]),M=(0,U.jsx)(C().A,{onClick:()=>A(!j),style:k.showAllFewerButton,children:j?(0,U.jsx)(p().sA,{id:"PersonPropertySectionValues.showMoreButton.text",defaultMessage:"Show fewer"}):(0,U.jsx)(p().sA,{id:"PersonPropertySectionValues.showFewerButton.text",defaultMessage:"Show more"})}),P=n.length>0;return(0,U.jsxs)("div",{ref:u,children:[(0,U.jsx)(o(817942).WL,{minWidth:P?f:void 0,style:{gridGap:4,marginTop:P&&!m?4:0},children:(0,U.jsx)(F,{values:n,blockStore:l,propertyId:t,propertySchema:a,itemsShownPerRow:b,showAddButton:v,limit:j?void 0:w,setShowingAllValues:A,renderOptions:g,format:d})}),n.length>w&&M]})}));function F(e){let{values:t,blockStore:s,propertyId:i,propertySchema:d,itemsShownPerRow:u,showAddButton:p,limit:h,setShowingAllValues:g,renderOptions:f,format:b}=e;const v=(0,l().v3)(),j=(0,l().Y0)(),{collectionContextStore:S}=(0,r.useContext)(M().L8),w=(0,r.useCallback)((function(e){o(317909).createAndCommit({userAction:"PersonPropertyModule.updateValue",environment:v,canUndo:!0,perform:t=>{const r=o(713998).RV(e);o(606952).KY({environment:v,store:s.getPropertyStore(i),value:r,transaction:t})}});const t=s.getAssociatedCollectionStore();S&&d&&t&&(0,o(299709).E)({environment:v,collectionContextStore:S,block_id:s.id,property:i,property_type:null==d?void 0:d.type,from:"property_module",collection_id:t.id,isFromBulkActionsToolbar:!1,value_count:e.length})}),[s,S,v,i,d]),k=(0,r.useCallback)((function(e){w(t.filter((t=>(0,a().Pu)(e)?(0,c().MMZ)(t)||e.id!==t.id:e!==t)))}),[w,t]),P=(0,r.useCallback)((function(e){w([...t,e])}),[w,t]),N=(0,r.useCallback)((function(e){w([e])}),[w]),[I,_]=(0,r.useState)(""),B=(0,r.useMemo)((()=>new(o(463830).A)),[]),T=t.length&&t.length<=u-1?(0,m().y1)(u-t.length-1).map((e=>(0,U.jsx)("div",{},e))):[],W=(0,n().K8)((()=>s.isTemplate()),[s]),V=(0,n().K8)((()=>s.canEdit()&&!s.isNonEditableState()),[s]);if((0,x().pN)(d))return null;if("created_by"===(null==d?void 0:d.type)||"last_edited_by"===(null==d?void 0:d.type))return(0,U.jsx)(L,{personValues:t,disabled:!0,onRemove:m().lQ,renderOptions:f,propertySchema:d});const z=h?t.slice(0,h):t;return V?(0,U.jsxs)(U.Fragment,{children:[(0,y().O9)(d.limit)?(0,U.jsx)(R().Ay,{buttonPopupStore:B,alignmentToOrigin:A().C.Start,onClose:()=>{_("")},popupType:j.isMobile?R().z7.SlideUp:R().z7.Popup,renderOrigin:e=>(0,U.jsx)(C().A,{...e,children:(0,U.jsx)(L,{personValues:t,onRemove:k,disabled:!V,renderOptions:f,propertySchema:d})}),render:()=>(0,U.jsx)(K,{query:I,setQuery:_,current:t,onAdd:e=>{N(e),B.setState({open:!1})},inTemplate:W,limit:d.limit,format:b})}):(0,U.jsx)(L,{personValues:z,onRemove:k,disabled:!V,renderOptions:f,propertySchema:d}),p?(0,U.jsx)(E,{renderOptions:f,isEmpty:!t.length,menu:(0,U.jsx)(K,{query:I,setQuery:_,current:t,onAdd:P,inTemplate:W,limit:d.limit,format:b}),onClose:()=>{_(""),g(!1)},onClick:()=>{(0,y().O9)(h)&&g(!0)}}):null,T]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(L,{personValues:z,disabled:!0,onRemove:m().lQ,renderOptions:f,propertySchema:d}),T]})}const E=r.memo((function(e){let{menu:t,onClick:n,onClose:a,renderOptions:i,isEmpty:d}=e;const u=(0,l().Y0)(),c=(0,s().IS)((e=>({button:{borderRadius:6,padding:"5px 0 5px 4px",display:"flex",flexWrap:"nowrap",gap:4,color:e.text.tertiary,fontSize:14,alignItems:"center"},buttonBorder:{padding:"large"===i.style?11:5,borderRadius:9999,border:`1px solid ${e.stroke.secondary}`},icon:{color:e.icon.tertiary}})),[i.style]),{baseStyles:m}=(0,r.useContext)(M().L8);return(0,U.jsx)(R().Ay,{alignmentToOrigin:A().C.Start,onClick:n,onClose:a,popupType:u.isMobile?R().z7.SlideUp:R().z7.Popup,renderOrigin:e=>(0,U.jsx)(C().A,{...e,style:d?m.emptyButtonStyle:c.button,testId:"person_property_module__add_button",children:d?(0,U.jsx)(k().ao,{}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:c.buttonBorder,children:(0,o(689094).W)({width:12,...c.icon})}),(0,U.jsx)(p().sA,{id:"personProperty.addPersonButtonText",defaultMessage:"Add person"})]})}),render:()=>t})}));function K(e){let{query:t,setQuery:o,onAdd:s,current:d,inTemplate:h,limit:x,format:f}=e;const v=(0,l().Y0)(),A=(0,p().tz)(),k=function(e){let{query:t}=e;const o=(0,l().v3)(),r=(0,p().tz)(),[n]=(0,i().Yb)((async()=>{const e=await j().T.searchActions.load(),{users:l}=await e.searchSpaceActors({environment:o,query:t,membersOnly:!1,userLocale:r.locale});return l.map((e=>(0,a().D3)({table:u().oo,value:e})))}),[o,t,r.locale]);return n}({query:t}),M=(0,r.useMemo)((()=>new Set(d.map((e=>{if((0,a().Pu)(e))return e.id})).filter(y().O9))),[d]),C=(0,r.useCallback)((e=>e.filter((e=>!M.has(e.id)))),[M]),R=(0,U.jsx)(V().A,{isInput:!0,style:{padding:8},children:(0,U.jsx)(I().Ay,{customElementAttributes:{"data-testid":"person_property_module__search_input"},textWrapperStyle:{margin:0},inputOuterStyle:{margin:v.isMobile?"0 16px":void 0},focus:!v.isMobile||void 0,focusAfterAnimation:!0,value:t||"",onChange:e=>o(e.target.value),placeholder:A.formatMessage({id:"personPropertySectionValues.search.placeholder",defaultMessage:"Search for a person..."})})}),N=c().Wov.filter((e=>!d.includes(e))),z={key:"shortcuts",items:N.length>0?N.map((e=>({key:`relative_person_shortcut_${e}`,action:()=>{},render:t=>(0,U.jsx)(P().A,{...t,title:(0,U.jsx)(w().W,{templateVariableType:e}),inline:!0,onClick:()=>{s(e)}})}))):[{key:"no_template_variables",action:()=>{},render:e=>(0,U.jsx)(W().A,{...e,style:{margin:"2px 0px 2px 6px",fontSize:12},title:(0,U.jsx)(p().sA,{id:"database.personPropertyMenu.noShorcuts.message",defaultMessage:"No shortcuts"})})}],render:e=>(0,U.jsx)(V().A,{...e,title:"Shortcuts"})},[D,F]=(0,r.useMemo)((()=>{const e=[];let t;if("pending"===k.status||"idle"===k.status)e.push({key:"loading",action:()=>{},render:e=>(0,U.jsx)(W().A,{...e,title:(0,U.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,U.jsx)(_().A,{})})})});else if("resolved"===k.status){const r=C(k.value??[]);t=r.length>0?0:void 0,0===r.length?e.push({key:"no_results",action:()=>{},render:e=>(0,U.jsx)(W().A,{...e,title:(0,U.jsx)(p().sA,{id:"PersonPropertySectionValues.searchMenu.noResults",defaultMessage:"No results."})})}):e.push(...r.map((e=>({key:e.id,action:()=>{s(e.pointer),o("")},render:t=>(0,U.jsx)(O().A,{...t,actor:(0,a().A7)(e)})}))))}else"rejected"===k.status?e.push({key:"no_results",action:()=>{},render:e=>(0,U.jsx)(W().A,{...e,title:(0,U.jsx)(p().sA,{id:"PersonPropertySectionValues.searchMenu.somethingWentWrong",defaultMessage:"Something went wrong."})})}):(0,y().HB)(k);return[e,t]}),[s,C,o,k]),E=(0,n().K8)((()=>{if(!(0,g().NN)(f))return(0,S().t)(x)}),[f,x]);return(0,U.jsx)(B().A,{menuType:v.isMobile?b().gu.ActionSheet:b().gu.Popup,header:R,width:275,maxHeight:400,minWidth:275,children:(0,U.jsx)(T().Ay,{type:T().Oh.Vertical,sections:(0,m().oE)([h?z:void 0,{key:"results",items:D.slice(0,20),render:e=>(0,U.jsx)(V().A,{...e,title:E})}]),initialFocus:F})})}const L=r.memo((function(e){let{personValues:t,onRemove:o,disabled:l,renderOptions:n,propertySchema:s}=e;const i=(0,r.useCallback)((e=>{"person"===s.type&&s.limit||(0,f().SQ)({event:e,context:f().y$.EditorClick,callback:m().lQ})}),[s]);return 0===t.length&&l?(0,U.jsx)("div",{style:{fontSize:14,paddingLeft:6},children:(0,U.jsx)(k().ao,{})}):(0,U.jsx)(U.Fragment,{children:t.map((e=>(0,a().Pu)(e)?(0,U.jsx)(Y,{actorPointer:e,handleRemove:o,disabled:l,renderOptions:n,onClick:i},e.id):(0,c().MMZ)(e)?(0,U.jsx)(H,{value:e,handleRemove:o,disabled:l},`template_variable_${e}`):void(0,y().HB)(e)))})})),H=r.memo((function(e){let{value:t,handleRemove:r,disabled:l}=e;const n=(0,p().tz)(),[a,i]=(0,v().B)(),u=(0,s().IS)((e=>({actorName:{fontWeight:h().Wy.regular,color:e.blueColor,lineHeight:1.1},uiToken:{display:"flex",gap:10,alignItems:"center",background:i&&!l?e.outlineBlueButtonPressedBackground:e.outlineBlueButtonHoveredBackground,color:e.blueColor,justifyContent:"space-between",position:"relative",padding:"5px 28px 5px 5px",borderRadius:4},avatar:{borderRadius:6,display:"flex",flexWrap:"nowrap",gap:4,fontSize:14,alignItems:"center"},avatarBorder:{padding:8,borderRadius:9999,background:e.accentColors.uiBlue[i&&!l?100:200],color:e.accentColors.uiBlue[600]}})),[l,i]);return(0,U.jsxs)("div",{ref:a,style:u.uiToken,children:[(0,U.jsx)("div",{style:u.avatar,children:(0,U.jsx)("div",{style:u.avatarBorder,children:(0,o(91451).z)({width:14})})}),(0,U.jsx)("div",{style:{display:"flex",gap:4,flexGrow:1},children:(0,U.jsx)(z().A,{className:"notranslate",style:u.actorName,isMultiline:!0,children:(0,U.jsx)(p().sA,{id:"PropertyModulePersonTemplateVariableValue.templateVariables.text.me",defaultMessage:"Person who{br}duplicated page",values:{br:(0,U.jsx)("br",{})}})})}),i&&!l?(0,U.jsx)(N().A,{icon:d().u,ariaLabel:n.formatMessage({id:"PropertyModulePersonTemplateVariableValue.close",defaultMessage:"Close"}),style:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",width:20,height:20},iconStyle:{width:11},onClick:()=>r(t)}):null]})})),Y=r.memo((function(e){let{actorPointer:t,handleRemove:l,disabled:i,renderOptions:u,onClick:c}=e;const m=(0,p().tz)(),{store:y}=(0,r.useContext)(M().L8),x="large"===u.style?36:24,g="large"===u.style?10:4,f=(0,n().K8)((()=>{const e=null==y?void 0:y.getRecordModel;if(e)return(0,a().xC)({pointer:t,getRecordModel:e})}),[t,null==y?void 0:y.getRecordModel]),b=null==f?void 0:f.asActor,j=(0,n().K8)((()=>null==b?void 0:b.getDisplayName(m)),[b,m]),[A,S]=(0,v().B)(),w=(0,s().IS)((e=>({actorName:{fontWeight:h().Wy.medium},container:{display:"flex",gap:g,alignItems:"center",justifyContent:"space-between",position:"relative",padding:"5px 28px 5px 5px",borderRadius:4,background:S&&!i?e.buttonHoveredBackground:void 0}})),[g,i,S]),k=(0,n().K8)((()=>null!=b&&b.isUser()?(0,U.jsx)(o(453697).A,{userValue:b,size:x}):null!=b&&b.isBot()?(0,U.jsx)(o(256863).A,{botValue:b,size:x}):null),[x,b]);return(0,U.jsxs)("div",{ref:A,onClick:c,style:w.container,children:[k,(0,U.jsx)("div",{style:{display:"flex",gap:4,flexGrow:1,...h().RC},children:(0,U.jsx)(z().A,{className:"notranslate",style:w.actorName,showTooltipWhenTruncated:!0,children:j})}),S&&!i?(0,U.jsx)(N().A,{icon:d().u,ariaLabel:m.formatMessage({id:"PropertyModulePersonValue.removeUser.ariaLabel",defaultMessage:"Remove {name}"},{name:j}),style:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",width:20,height:20},iconStyle:{width:11},onClick:()=>l(t)}):null]})}))},457688:(e,t,o)=>{o.d(t,{A:()=>h,S:()=>m});var r=o(296540),l=()=>o(484714),n=()=>o(56366),s=()=>o(764880),a=()=>o(959013),i=()=>o(962730),d=()=>o(554509),u=()=>o(453697),c=o(474848);const p=r.forwardRef(((e,t)=>{const{actor:r,userTitle:d,defaultUserTitle:p="name_only",defaultUserCaption:h,useEmailAsTooltip:x,tooltip:g,tooltipPlacement:f,hoveredStyle:b,disabledFeedback:v,customUserTitleStyles:j}=e,A=(0,l().v3)(),S=(0,a().tz)(),w=(0,n().K8)((()=>r.asActor&&r.asActor.getDisplayName(S)),[r,S]),{email:k,showEmail:M}=(0,n().K8)((()=>{const e=r.asActor&&r.isUser()?r.email:void 0;return{email:e,showEmail:w!==e}}),[r,w]),C=x&&k?k:g;let P=20;A.device.isMobile&&(P=24),"email"===h&&(P=32);const R=("name_and_email"===p||"name_and_email_unless_right"===p&&!Boolean(e.right))&&void 0===h?(0,c.jsx)(y,{actor:null==r?void 0:r.asActor,customStyles:j}):(0,c.jsx)(m,{bold:"name_only_semibold"===p,customStyles:j,actor:null==r?void 0:r.asActor}),N=d??R,I="email"===h&&M?k:void 0;let _;return(0,s().H3)(r)?_=(0,c.jsx)(o(256863).A,{botValue:null==r?void 0:r.asActor,size:P}):(0,s().ps)(r)?_=(0,c.jsx)(u().A,{userValue:null==r?void 0:r.asActor,size:P}):(0,s().h2)(r)?_=(0,c.jsx)(u().A,{userValue:void 0,size:P}):(0,o(534177).HB)(r),(0,c.jsx)(o(859428).A,{placement:f??i().W.Bottom,alignment:i().C.Start,textWrap:!0,render:r=>(0,c.jsx)(o(760217).A,{...(0,o(553965).A)(r,e),icon:_,title:N,disabledFeedback:v,className:"notranslate",right:e.right,ref:t,hoveredStyle:b,caption:I}),disableTooltip:!C,renderTooltip:()=>C})}));function m(e){const{actor:t,bold:o,customStyles:r}=e,s=(0,l().v3)(),i=(0,a().tz)(),u=(0,n().K8)((()=>t&&t.id===s.currentUser.id),[s,t]),p=(0,n().K8)((()=>t&&t.getDisplayName(i)),[t,i]),m=o?"UIRegular-14px/Semibold":"UIRegular-14px/Regular";return u?(0,c.jsx)(a().sA,{id:"UserMenuItem.fullName.authorLabel",defaultMessage:"<author>{fullName}</author> <you>(You)</you>",values:{author:e=>(0,c.jsx)(d().D,{as:"span",styleName:m,customStyles:r,children:e}),fullName:p,you:e=>(0,c.jsx)(d().D,{as:"span",colorName:"secondary",styleName:"UIRegular-14px/Regular",customStyles:r,children:e})}}):p?(0,c.jsx)(d().D,{styleName:m,customStyles:r,children:p}):(0,c.jsx)(d().D,{styleName:m,customStyles:r,children:(0,c.jsx)(a().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}function y(e){const{actor:t,customStyles:o}=e,r=(0,a().tz)(),l=(0,n().K8)((()=>t&&t.getDisplayName(r)),[t,r]),{email:s,showEmail:i}=(0,n().K8)((()=>{const e=t&&t.asActor&&t.isUser()?t.email:void 0;return{email:e,showEmail:l!==e}}),[t,l]);return l?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d().D,{styleName:"UIRegular-14px/Semibold",customStyles:o,children:l}),i&&(0,c.jsx)(d().D,{styleName:"UIRegular-14px/Regular",customStyles:o,children:s})]}):(0,c.jsx)(d().D,{styleName:"UIRegular-14px/Semibold",customStyles:o,children:(0,c.jsx)(a().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}p.displayName="UserMenuItem";const h=p},617668:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>r,plusIcon:()=>l});o(296540);const r={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M10.625 3.75a.625.625 0 1 0-1.25 0v5.625H3.75a.625.625 0 1 0 0 1.25h5.625v5.625a.625.625 0 1 0 1.25 0v-5.625h5.625a.625.625 0 1 0 0-1.25h-5.625z"})},l=(0,o(340498).wt)("plus",r)},817942:(e,t,o)=>{o.d(t,{A5:()=>g,MR:()=>M,Mx:()=>p,Pb:()=>v,WL:()=>k,Yi:()=>w,hg:()=>m,kZ:()=>j,pv:()=>y,vV:()=>b});o(581454);var r=o.n(o(32485)),l=o(296540),n=()=>o(819121),s=()=>o(401497),a=()=>o(534177),i=()=>o(11048),d=()=>o(364280),u=()=>o(455994),c=o(474848);const p=l.forwardRef((function(e,t){const{children:l,type:n,gap:s,withBottomPadding:a,style:i,onMouseDown:d,onClick:p,onDoubleClick:m,onContextMenu:y}=e,h=(0,o(551619).n$)(n),x=(0,o(56366).K8)((()=>u().A.getPanelState("peek").isOpen&&"static_sidebar"===u().A.getPanelState("peek").displayStyle),[]);return(0,c.jsx)("div",{className:r()("layout",{"layout-wide":"wide"===n,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===n,"layout-side-peek":"side-peek"===n,"layout-center-peek":"center-peek"===n&&!x,"layout-center-peek-with-layout-panel":"center-peek"===n&&x,"layout-home":"home"===n,"layout-home-phone":"home-phone"===n,"layout-home-redesign-desktop":"home-redesign-desktop"===n,"layout-form":"form"===n,"layout-form-viewer":"form-viewer"===n,"layout-form-viewer-embed":"form-viewer-embed"===n,"layout-phone":"phone"===n,"layout-tablet":"tablet"===n,"layout-template-preview":"template-preview"===n,"layout-chat":"chat"===n,"layout-layout-editor":"layout-editor"===n,"layout-layout-editor-wide":"layout-editor-wide"===n,"layout-layout-editor-narrow":"layout-editor-narrow"===n,"layout-marketplace":"marketplace"===n,"layout-marketplace-mobile":"marketplace-mobile"===n,"layout-team-home":"team-home"===n,"layout-team-home-mobile":"team-home-mobile"===n,"layout-create-post":"create-post"===n,"layout-fullscreen-ai":"fullscreen-ai"===n,"layout-narrowscreen-ai":"narrowscreen-ai"===n,"layout-presentation-mode":"presentation-mode"===n}),style:{paddingBottom:a?h:void 0,gap:s,...i},ref:t,onMouseDown:d,onClick:p,onDoubleClick:m,onContextMenu:y,children:l})})),m="layout-content",y="layout-full",h="layout-margin-right",x="layout-nested-grid",g="hide-scrollbar",f="layout-column",b=l.forwardRef((function(e,t){return(0,c.jsx)("div",{className:r()(m,e.className),style:e.style,ref:t,children:e.children})}));function v(e){return(0,c.jsx)("div",{className:y,style:e.style,children:e.children})}function j(e){return(0,c.jsx)("div",{className:h,style:{...e.style,pointerEvents:"none"},children:e.children})}const A=(0,l.forwardRef)((function(e,t){return(0,c.jsx)("div",{className:r()(x,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function S(e){return"left-aligned"===e?"flex-start":"centered"===e?"center":"right-tabs"===e?"flex-end":void(0,a().HB)(e)}function w(e){const{items:t,style:o,index:r,setIndex:a,title:u}=e,p=(0,l.useRef)([]),m="centered"===o||"right-tabs"===o,[y,h]=(0,n().A)(),x=(0,s().IS)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},header:"right-tabs"===o?{display:"flex",justifyContent:"space-between",alignItems:"baseline"}:{},tablist:"right-tabs"===o?{display:"flex"}:{},tab:m?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:m?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor},tabFocusVisible:{boxShadow:e.outlineBlueInputBoxShadow}})),[m,o]),g=(0,l.useId)(),f=(0,l.useCallback)((e=>`${g}-tab-${e}`),[g]),v=(0,l.useCallback)((e=>`${g}-tabpanel-${e}`),[g]),j=(0,l.useCallback)((e=>{let o;var l;("ArrowLeft"===e.key?(e.preventDefault(),o=(r+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),o=(r+1)%t.length),void 0!==o)&&(a(o),null===(l=p.current[o])||void 0===l||l.focus())}),[r,a,t.length]);return(0,c.jsx)(i().A,{name:"PageLayoutTabs",children:(0,c.jsxs)(A,{children:[(0,c.jsx)(b,{children:(0,c.jsxs)("div",{style:x.header,children:["right-tabs"===o&&u,(0,c.jsx)("div",{role:"tablist",style:x.tablist,children:(0,c.jsx)(d().fI,{justifyContent:S(o),children:t.map(((e,t)=>{var o;return(0,c.jsx)("button",{ref:e=>{e&&(p.current[t]=e),t===r&&y(e)},id:f(t),role:"tab","aria-controls":v(t),"aria-selected":t===r,tabIndex:t===r?void 0:-1,onKeyDown:j,style:{...x.tab,...t===r&&x.tabSelected,...t===r&&h&&x.tabFocusVisible},onClick:e=>{e.stopPropagation(),a(t)},children:(0,c.jsxs)(d().fI,{gap:4,alignItems:"center",children:[null===(o=e.icon)||void 0===o?void 0:o.call(e,x.icon),e.label&&(0,c.jsx)("div",{style:x.label,children:e.label})]})},e.key)}))})})]})}),(0,c.jsx)(A,{id:v(r),role:"tabpanel","aria-labelledby":f(r),children:t[r]?t[r].children:null})]})})}function k(e){return(0,c.jsx)("div",{className:r()(f,e.className),style:{"--min-column-width":e.minWidth?`${e.minWidth}px`:"100%",...e.style},children:e.children})}function M(e){return(0,c.jsxs)(k,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})}},992510:(e,t,o)=>{o.d(t,{A:()=>s});o(296540);var r=()=>o(959013),l=()=>o(250202),n=o(474848);const s=function(e){const t=(0,o(484714).v3)(),{device:s}=t;if(s.isMobile)return e.propertySchema?(0,n.jsx)(l().G,{propertySchema:e.propertySchema,onClick:e.onClick,focused:!1,format:l().e.Name,showExtensionArrow:!e.disabled}):(0,n.jsx)(o(760217).A,{focused:!1,title:(0,n.jsx)(r().sA,{defaultMessage:"Property",id:"database.mobileFilterAndSortMenu.property.buttonMenuItem.label"})});{const t=e.propertySchema&&(0,n.jsx)(o(717402).Ay,{propertySchema:e.propertySchema,showIcon:!0,style:{lineHeight:1.4}}),l=(0,n.jsx)(r().sA,{defaultMessage:"Property",id:"database.filterAndSortMenu.propertyButton.label"});return(0,n.jsx)(o(272630).A,{title:t,placeholder:l,onClick:e.onClick,disabled:e.disabled,disableMargins:e.disableMargins,desktopStyle:e.textWrapperStyle})}}}}]);