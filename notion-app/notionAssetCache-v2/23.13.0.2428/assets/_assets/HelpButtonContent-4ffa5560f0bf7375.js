"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[42481],{137493:(e,t,n)=>{n.d(t,{j:()=>o});const o=new(n(178624).R)({key:"SimulateOffline",namespace:"Offline",important:!0,trackingType:"necessary"})},615696:(e,t,n)=>{n.d(t,{w:()=>s});n(296540);var o=n(474848);const s=(0,n(340498).wt)("helpButtonMessage",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M4.74609 15.6934C5.13574 15.6934 5.42285 15.502 5.89453 15.085L8.23926 13.0205H12.3545C14.4121 13.0205 15.5674 11.8311 15.5674 9.80078V4.48926C15.5674 2.45898 14.4121 1.26953 12.3545 1.26953H3.63867C1.58789 1.26953 0.425781 2.45898 0.425781 4.48926V9.80078C0.425781 11.8379 1.62207 13.0205 3.59082 13.0205H3.87109V14.6953C3.87109 15.3037 4.19238 15.6934 4.74609 15.6934ZM5.08789 14.1621V12.2139C5.08789 11.8105 4.91016 11.6533 4.52734 11.6533H3.68652C2.40137 11.6533 1.78613 11.0039 1.78613 9.75977V4.53027C1.78613 3.28613 2.40137 2.63672 3.68652 2.63672H12.3135C13.5918 2.63672 14.207 3.28613 14.207 4.53027V9.75977C14.207 11.0039 13.5918 11.6533 12.3135 11.6533H8.16406C7.74707 11.6533 7.54199 11.7217 7.25488 12.0225L5.08789 14.1621ZM4.70508 8.29004C5.26562 8.29004 5.7168 7.83203 5.7168 7.27148C5.7168 6.71094 5.26562 6.25293 4.70508 6.25293C4.1377 6.25293 3.67969 6.71094 3.67969 7.27148C3.67969 7.83203 4.1377 8.29004 4.70508 8.29004ZM8 8.29004C8.56055 8.29004 9.01855 7.83203 9.01855 7.27148C9.01855 6.71094 8.56055 6.25293 8 6.25293C7.43945 6.25293 6.98145 6.71094 6.98145 7.27148C6.98145 7.83203 7.43945 8.29004 8 8.29004ZM11.3018 8.29004C11.8623 8.29004 12.3203 7.83203 12.3203 7.27148C12.3203 6.71094 11.8623 6.25293 11.3018 6.25293C10.7412 6.25293 10.2832 6.71094 10.2832 7.27148C10.2832 7.83203 10.7412 8.29004 11.3018 8.29004Z"})})},667667:(e,t,n)=>{n.r(t),n.d(t,{HelpButtonContent:()=>F});var o=n(296540),s=()=>n(484714),r=()=>n(56366),i=()=>n(110750),a=n(474848);const d=(0,n(340498).wt)("helpButtonSales",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M8 8.19c2.009 0 3.636-1.777 3.636-3.952C11.636 2.097 10.009.395 8 .395c-2 0-3.644 1.727-3.636 3.86C4.373 6.42 5.991 8.189 8 8.189zm0-1.453c-1.146 0-2.117-1.088-2.117-2.482C5.875 2.894 6.846 1.848 8 1.848c1.162 0 2.117 1.029 2.117 2.39 0 1.395-.963 2.499-2.117 2.499zm-5.18 9.172h10.351c1.436 0 2.125-.456 2.125-1.436 0-2.283-2.847-5.32-7.296-5.32-4.45 0-7.305 3.037-7.305 5.32 0 .98.69 1.436 2.125 1.436zm-.257-1.453c-.2 0-.274-.066-.274-.215 0-1.27 2.05-3.636 5.711-3.636 3.652 0 5.703 2.366 5.703 3.636 0 .15-.075.216-.274.216H2.563z"})});var l=()=>n(427704),c=()=>n(959013),u=()=>n(496603),p=()=>n(148024),m=()=>n(884107),f=()=>n(755636),v=()=>n(537941),g=()=>n(994877),x=()=>n(404482),h=()=>n(722872),j=()=>n(553965),b=()=>n(836251),A=()=>n(760217);var y=()=>n(962730),I=()=>n(875856),w=()=>n(351360),M=()=>n(732797),C=()=>n(19575),k=()=>n(847554),T=()=>n(749240),S=()=>n(773270),R=()=>n(928600),V=()=>n(939740),N=()=>n(89924),B=()=>n(859428);const U=function(e){const{locale:t,children:s}=e;return t===n(662303).locale?(0,a.jsx)(o.Fragment,{children:s}):null};function F(e){const{fromForAnalytics:t,onAcceptMessageSupport:n,hideSupportButton:o}=e,d=(0,s().v3)(),p=(0,r().O$)(T().subscriptionDataStoreInstance),j=(0,k().b)(p),A=(0,r().K8)((()=>function(e){const{memberCount:t,environment:n,from:o,onAcceptMessageSupport:s}=e,r=t>1,i=!1,d=!I().default.state.isZendeskEnabled||(e.hideSupportButton??!1);return u().oE([{key:"guide",render:e=>(0,a.jsx)(N().A,{...e}),items:u().oE([i?{key:"copyDebugging",action:()=>async function(e){var t,n,o,s;const r=null===(t=w().default.state.currentSpaceStore)||void 0===t?void 0:t.id,i=null===(n=w().default.state.currentUserStore)||void 0===n?void 0:n.id,a=null===(o=w().default.state.mainEditorCurrentBlockStore)||void 0===o?void 0:o.id,d=null===(s=w().default.state.mainEditorCurrentBlockStore)||void 0===s||null===(s=s.getCollectionPointer())||void 0===s?void 0:s.id,l=`spaceId: ${r}\nuserId: ${i}\npageId: ${a}\ncollectionId: ${d}`,c=await m().R.clipboardActions.load();c.copyString({stringValue:l,environment:e,copiedMessage:c.clipboardMessages.copiedToClipboard})}(n),render:e=>(0,a.jsx)(D,{...e})}:void 0,{key:"guide",action:()=>function(e,t){Q(e,"guides",t),f().f({environment:e,url:(0,b().xS)("guides.guides")}),G(e)}(n,o),render:e=>(0,a.jsx)(H,{...e})},d?void 0:{key:"message",action:()=>{!function(e,t){Q(e,"help_feedback",t),g().SI({environment:e,from:"help_button"}),Y()}(n,o),null==s||s()},render:e=>(0,a.jsx)(W,{...e})},r?{key:"sales",action:()=>function(e,t){Q(e,"sales_chat",t),(0,C().lK)({openedFrom:"help_menu"}),Y()}(n,o),render:e=>(0,a.jsx)(E,{...e})}:void 0])},{key:"middle section",render:e=>(0,a.jsx)(N().A,{...e,topBorder:!0}),items:u().oE([{key:"keyboardshortcut",action:()=>function(e,t){Q(e,"keyboard_shortcuts",t),f().f({environment:e,url:(0,b().xS)("guides.keyboardShortcuts")}),G(e)}(n,o),render:e=>(0,a.jsx)(P,{...e})},{key:"news",action:()=>function(e,t){const n=(0,x().Nw)(l().JZ.releases);f().f({environment:e,url:n}),Q(e,"whats_new",t),G(e)}(n,o),render:e=>(0,a.jsx)(Z,{...e})},{key:"join-us",action:()=>function(e,t){Q(e,"join_us",t),f().f({environment:e,url:l().JZ.careers}),G(e)}(n,o),render:e=>(0,a.jsx)($,{...e})}])},{key:"botttom section",render:e=>(0,a.jsx)(N().A,{...e,topBorder:!0}),items:u().oE([{key:"twitter",action:()=>function(e,t){Q(e,"twitter",t),f().f({environment:e,url:l().JZ.notionTwitter}),G(e)}(n,o),render:e=>(0,a.jsx)(_,{...e})},{key:"terms",action:()=>function(e,t){f().f({environment:e,url:l().JZ.termsAndPrivacy}),Q(e,"terms",t),G(e)}(n,o),render:e=>(0,a.jsx)(K,{...e})},{key:"status",action:()=>function(e,t){Q(e,"status",t),f().f({environment:e,url:l().JZ.statusPage}),G(e)}(n,o),render:e=>(0,a.jsx)(J,{...e})},void 0,(n.device.isElectron,void 0),(n.device.isElectron,void 0)])},{key:"version",render:e=>(0,a.jsx)(N().A,{...e,topBorder:!0}),items:u().oE([{key:"version",action:()=>{},render:e=>{let{ref:t,...n}=e;return(0,a.jsx)(S().A,{...n})}}])}])}({environment:d,from:t,onAcceptMessageSupport:n,hideSupportButton:o,memberCount:j})),[d,t,n,o,j]),y=(0,r().K8)((()=>M().A.state.open),[]),B=(0,r().K8)((()=>{const e=(0,i().Xz)(d.TabbedRouterStore.state);if("web"===e.type){var t,n;if("nativeTab"===(null===(t=e.redirectedTo)||void 0===t?void 0:t.route.name))return null===(n=e.redirectedTo)||void 0===n?void 0:n.route.tab;if("nativeTab"===e.route.name)return e.route.tab}}),[d]);if(!y&&"help"!==B)return null;let U;return U=d.device.isMobile?{menuType:h().gu.Modal,title:(0,a.jsx)(c().sA,{defaultMessage:"Help & support",id:"helpButton.mobile.title"}),right:(0,a.jsx)(c().sA,{defaultMessage:"Done",id:"helpButton.mobile.rightActionButton.done"}),onClickRight:()=>function(e){X(e)?v().navigateToHomeTab(e,Y):Y()}(d),whiteBackground:!0}:{menuType:h().gu.Popup,minWidth:208},(0,a.jsx)(R().A,{...U,children:(0,a.jsx)(V().Ay,{type:V().Oh.Vertical,initialFocus:void 0,sections:A})})}const D=o.forwardRef(((e,t)=>(0,a.jsx)(B().A,{renderTooltip:()=>(0,a.jsx)(c().sA,{defaultMessage:"Copies important IDs like spaceId, userId,{br}current pageId, and current collectionId.",id:"helpButton.copyDebugging.tooltip",values:{br:(0,a.jsx)("br",{})}}),delayThreshold:0,placement:y().W.Right,render:o=>(0,a.jsx)(A().A,{...(0,j().A)(e,o),ref:t,icon:(0,a.jsx)(L,{iconFunc:n(925907).n}),title:(0,a.jsx)(c().sA,{defaultMessage:"(Dev) Copy debugging info",id:"helpButton.copyDebuggingInfo.menuItem"})})})));D.displayName="CopyDebuggingInfoItem";const E=o.forwardRef(((e,t)=>(0,a.jsx)(A().A,{...e,ref:t,isTokenTitle:!0,icon:(0,a.jsx)(L,{iconFunc:d}),title:(0,a.jsx)(c().sA,{defaultMessage:"Contact sales",id:"helpButton.salesChat.menuItem"})})));E.displayName="SalesItem";const H=o.forwardRef(((e,t)=>(0,a.jsx)(A().A,{...e,ref:t,isTokenTitle:!0,icon:(0,a.jsx)(L,{iconFunc:n(494167).n}),title:(0,a.jsx)(c().sA,{defaultMessage:"Help & documentation",id:"helpButton.helpSupportGuide.menuItem"})})));H.displayName="GuideItem";const $=o.forwardRef(((e,t)=>(0,a.jsx)(U,{locale:"en-US",children:(0,a.jsx)(A().A,{...e,ref:t,title:(0,a.jsx)(c().sA,{defaultMessage:"Join us",id:"helpButton.joinUs.menuItem"})})})));$.displayName="JoinUsItem";const P=o.forwardRef(((e,t)=>(0,a.jsx)(A().A,{...e,ref:t,title:(0,a.jsx)(c().sA,{defaultMessage:"Keyboard shortcuts",id:"helpButton.keyboardShortcuts.menuItem"})})));P.displayName="KeyboardShortcutsItem";const Z=o.forwardRef(((e,t)=>(0,a.jsx)(A().A,{...e,ref:t,title:(0,a.jsx)(c().sA,{defaultMessage:"What's new?",id:"helpButton.whatsNew.menuItem"})})));Z.displayName="NewsItem";const K=o.forwardRef(((e,t)=>(0,s().v3)().device.isMobile?(0,a.jsx)(A().A,{...e,ref:t,title:"Terms & privacy"}):(0,a.jsx)(A().A,{...e,ref:t,caption:"Terms & privacy"})));K.displayName="TermsItem";const _=o.forwardRef(((e,t)=>(0,s().v3)().device.isMobile?(0,a.jsx)(A().A,{...e,ref:t,title:(0,a.jsx)(c().sA,{defaultMessage:"Twitter – @{notionHandle}",id:"helpButton.mobileTwitter.menuItem",values:{notionHandle:"NotionHQ"}})}):(0,a.jsx)(A().A,{...e,ref:t,caption:(0,a.jsx)(c().sA,{defaultMessage:"Twitter – @{notionHandle}",id:"helpButton.twitter.menuItem",values:{notionHandle:"NotionHQ"}})})));_.displayName="TwitterItem";const J=o.forwardRef(((e,t)=>(0,s().v3)().device.isMobile?(0,a.jsx)(A().A,{...e,ref:t,title:"Status"}):(0,a.jsx)(A().A,{...e,ref:t,caption:"Status"})));J.displayName="StatusItem";function O(){return(0,a.jsx)("span",{children:(0,a.jsx)(c().sA,{defaultMessage:"Messaging is not supported on mobile apps.{br}For message support, use our web or desktop apps.{br} You can also contact us via email at team@makenotion.com.",values:{br:(0,a.jsx)("br",{})},id:"helpButton.sendUsAMessage.tooltip.intercom.disabled"})})}o.forwardRef(((e,t)=>(0,s().v3)().device.isMobile?(0,a.jsx)(A().A,{...e,ref:t,title:"Developers"}):(0,a.jsx)(A().A,{...e,ref:t,caption:"Developers"}))).displayName="DevelopersItem";const W=o.forwardRef(((e,t)=>(0,a.jsx)(B().A,{renderTooltip:()=>(0,a.jsx)(O,{}),delayThreshold:0,disableTooltip:!0,placement:y().W.Right,render:n=>(0,a.jsx)(z,{disabled:!1,...(0,j().A)(e,n),ref:t})})));W.displayName="MessageItem";const z=o.forwardRef(((e,t)=>{let{disabled:o,...s}=e;return(0,a.jsx)(A().A,{...s,ref:t,isTokenTitle:!0,icon:(0,a.jsx)(L,{iconFunc:n(615696).w}),title:(0,a.jsx)(c().sA,{defaultMessage:"Get Notion support",id:"helpButton.sendMessage.menuItem"}),disabled:o})}));function L(e){let{size:t,iconFunc:o}=e;const{iconStyle:s}=(0,n(401497).IS)((e=>{const n=t??16,o=16-n;return{iconStyle:{width:n,height:n,color:e.regularTextColor,fill:e.regularTextColor,marginRight:o}}}),[t]);return o(s)}function Q(e,t,n){p().wF(e,{item:t,from:n})}function G(e){X(e)||Y()}function X(e){const{mobileNative:t}=e;return(null==t?void 0:t.supportsNativeHomeOnPhone())||!1}function Y(){M().A.setState({...M().A.state,open:!1})}z.displayName="MessageButton"},710096:(e,t,n)=>{n.d(t,{A:()=>s});class o extends(()=>n(757695))().default{getInitialState(){return{open:!1}}}const s=new o},773270:(e,t,n)=>{n.d(t,{A:()=>C});var o=n(296540),s=()=>n(662303),r=()=>n(484714),i=()=>n(56366),a=()=>n(869190),d=()=>n(711059),l=()=>n(959013),c=()=>n(884107),u=(n(944114),n(898992),n(354520),n(803949),n(581454),()=>n(857639)),p=()=>n(179034),m=()=>n(763824),f=()=>n(534177),v=()=>n(186445),g=()=>n(444943),x=()=>n(508496),h=()=>n(589994),j=()=>n(276470);async function b(e){const{environment:t}=e,n=function(e){function t(e,n){if(!e)return;if(!n.currentUser.id)return;const o={pointer:e.pointer,userId:n.currentUser.id},s=n.defaultRecordCache.inMemoryRecordCache.getVersion(o),r=e.getRenderableContentIds().length>0,i={id:e.id,type:e.getType(),spaceId:e.getSpaceId(),parentId:e.getParentId(),version:s};return r?{...i,content:e.getRenderableContentStores().map((e=>t(e,n))).filter(f().O9)}:i}return t((0,v().ao)(),e)}(t),o=await async function(e,t){if(!e)return;function n(e){const t={id:e.id,table:p().ev,spaceId:e.spaceId};if(e.content){return e.content.map((e=>n(e))).flat().concat([t])}return[t]}const o=n(e).map((e=>({pointer:e,version:-1}))),s={};return await(0,m().lX)(o,20,(async e=>{const n=await(0,j().e)(t,{pointer:e.pointer,version:e.version,userId:t.currentUser.id});e.pointer.table===p().ev&&null!=n&&n.value&&(s[e.pointer.id]=n.value.version)})),s}(n,t),s=function(e){const{clientRecord:t,serverRecordVersions:n}=e;if(!t||!n)return[];const o=[],s={};function r(e){var t;const{record:n,parentRecord:i,isRootPage:a}=e;s[n.id]&&o.push(`[clientRecord] Encountered ${n.id} multiple times`),n.parentId&&(i||a||o.push(`[clientRecord] Encountered ${n.id} with parent id ${n.parentId}, but missing parent`),i&&i.id!==n.parentId&&o.push(`[clientRecord] Encountered ${n.id} with parent id ${n.parentId}, but parent has id ${i.id}`)),s[n.id]=n.version,null===(t=n.content)||void 0===t||t.forEach((e=>r({record:e,parentRecord:n,isRootPage:!1})))}return r({record:t,isRootPage:!0}),Object.entries(s).forEach((e=>{let[t,s]=e;const r=n[t];r||o.push(`[serverRecord] Server record for ${t} does not exist`),r&&r!==s&&o.push(`[serverRecord] Server record version for ${t} is different. Server=${r} vs Client=${s}`)})),o}({clientRecord:n,serverRecordVersions:o}),r=await h().transactionQueue.getTotalNumberOfTasks(),i={clientRecord:n,serverRecord:o,warnings:s,webMessageStore:{...(0,g().FA)(Date.now()),subscriptions:(0,g().i$)()},webExperiments:x().default.getExperimentsMap(),txnQueue:{numTasks:r}};return u().log({level:"info",from:"pageDebuggingActions",type:"debugPageInfo",data:{miscDataToConvertToString:{info:i}}}),i}(0,n(466103).exposeDebugEnvironmentValue)("getDebugPageInfo",(e=>()=>b({environment:e})));var A=()=>n(780054);class y extends(()=>n(757695))().default{getInitialState(){return{showUpdateInfo:!1}}}const I=y;var w=()=>n(678553),M=n(474848);const C=function(){const e=(0,n(401497).DP)(),t=(0,r().v3)(),c=(0,i().uB)(void 0,I),u=(0,o.useCallback)((()=>function(e,t){b({environment:e}),t.setState({showUpdateInfo:!0})}(t,c)),[t,c]),p=(0,i().K8)((()=>c.state.showUpdateInfo),[c]),{device:m}=t,f=`Notion 2.48.${A().A.version}`,v=(0,M.jsx)(l().sA,{id:"appVersionMenuItem.lastUpdatedTime.menuItem",defaultMessage:"Updated {lastUpdatedTime}",values:{lastUpdatedTime:(0,a().v9)(A().A.lastUpdatedTime,s().locale)}});let g=(0,M.jsxs)(o.Fragment,{children:[f,(0,M.jsx)("br",{}),v]});if(m.isMobileNative){const e=n(475133).getMobileVersion(t),s=(0,M.jsx)(l().sA,{defaultMessage:"Mobile {reactNativeVersionFormatted}",values:{reactNativeVersionFormatted:(0,d().formatVersion)(e)},id:"appVersionMenuItem.lastUpdatedReactNativeVersion.menuItem"});g=(0,M.jsxs)(o.Fragment,{children:[f,(0,M.jsx)("br",{}),s,(0,M.jsx)("br",{}),v]})}if(m.isElectron){const e=n(705540).getDesktopVersion(),t=(0,M.jsx)(l().sA,{defaultMessage:"Desktop {desktopVersionFormatted}",values:{desktopVersionFormatted:(0,d().formatVersion)(e)},id:"appVersionMenuItem.desktopVersion.menuItem"});g=(0,M.jsxs)(o.Fragment,{children:[f,(0,M.jsx)("br",{}),t,(0,M.jsx)("br",{}),v]})}const x=A().A.isLocalhost||!1;if(m.isMobile){const o=p&&(0,M.jsxs)("div",{children:[(0,M.jsx)(S,{}),x?(0,M.jsx)(n(704152).A,{style:{paddingTop:4},onClick:()=>function(e){const{AppUpdateStore:t,mobileNative:n}=e;t.setState({appUpdate:void 0,electronUpdate:t.state.electronUpdate}),n&&n.resetAssetCache()}(t),children:(0,M.jsx)(l().sA,{defaultMessage:"Clear cache",id:"appVersionMenuItem.mobile.clearCache.message"})}):void 0]});return(0,M.jsx)(w().A,{caption:(0,M.jsxs)("div",{style:{color:e.lightTextColor},children:[(0,M.jsx)("div",{style:{userSelect:"none",WebkitUserSelect:"none"},children:g}),o]}),onClick:u})}return x?(0,M.jsx)(n(859428).A,{renderTooltip:()=>(0,M.jsx)(S,{}),placement:n(962730).W.Left,render:n=>(0,M.jsx)(w().A,{onClick:()=>T(f,t),caption:(0,M.jsx)("div",{style:{color:e.lightTextColor},children:g}),...n})}):(0,M.jsx)(w().A,{onClick:()=>T(f,t),caption:(0,M.jsx)("div",{style:{color:e.lightTextColor},children:g})})};function k(e){let{prefix:t,update:n}=e;const o=(0,l().tz)();return"checking"===n.state?(0,M.jsxs)("div",{children:[t," ",(0,M.jsx)(l().sA,{defaultMessage:"Checking for updates…",id:"appVersionMenuItem.updateStateForApp.checking.message"})]}):"no-update"===n.state?(0,M.jsxs)("div",{children:[t," ",(0,M.jsx)(l().sA,{defaultMessage:"No update {timeFromNow}",id:"appVersionMenuItem.noUpdatesForApp.message",values:{timeFromNow:(0,a().v9)(n.timestamp,s().locale)}})]}):"downloading"===n.state?(0,M.jsxs)("div",{children:[t," ",(0,M.jsx)(l().sA,{defaultMessage:"Downloading {version} {percentComplete}",id:"appVersionMenuItem.downloadingUpdate.message",values:{percentComplete:o.formatNumber(n.progress,{style:"percent",maximumFractionDigits:0}),version:(0,d().formatVersion)(n.version)}})]}):"ready"===n.state?(0,M.jsxs)("div",{children:[t," ",(0,M.jsx)(l().sA,{defaultMessage:"Update ready {version}",id:"appVersionMenuItem.updateReady.message",values:{version:(0,d().formatVersion)(n.version)}})]}):"error"===n.state?(0,M.jsxs)("div",{children:[t," ",(0,M.jsx)(l().sA,{defaultMessage:"Update error {errorMessage}",id:"appVersionMenuitem.updateError.message",values:{errorMessage:n.error&&n.error.message}})]}):null}async function T(e,t){b({environment:t});const n=await c().R.clipboardActions.load();await n.copyWithToast(t,e)}function S(){const e=(0,r().v3)(),{AppUpdateStore:t}=e,n=(0,i().K8)((()=>t.state.appUpdate),[t]),o=(0,i().K8)((()=>t.state.electronUpdate),[t]),s=n?(0,M.jsx)(k,{prefix:"App.js - ",update:n}):(0,M.jsx)(l().sA,{defaultMessage:"App.js - Waiting…",id:"appVersionMenuItem.waitingForAppJsUpdate.message"}),a=o&&(0,M.jsx)(k,{prefix:"Electron - ",update:o});return(0,M.jsxs)("div",{children:[s,a]})}}}]);