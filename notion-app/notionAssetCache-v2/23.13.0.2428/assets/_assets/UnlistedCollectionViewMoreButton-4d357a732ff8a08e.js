"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44745],{126617:(e,i,t)=>{t.d(i,{Y:()=>n});t(296540);const o={viewBox:"0 0 16 16",svg:(0,t(474848).jsx)("path",{d:"M3.2 6.725a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55m4.8 0a1.275 1.275 0 1 0 0 2.55 1.275 1.275 0 0 0 0-2.55"})},n=(0,t(340498).wt)("ellipsisSmall",o)},617668:(e,i,t)=>{t.r(i),t.d(i,{iconDefinition:()=>o,plusIcon:()=>n});t(296540);const o={viewBox:"0 0 20 20",svg:(0,t(474848).jsx)("path",{d:"M10.625 3.75a.625.625 0 1 0-1.25 0v5.625H3.75a.625.625 0 1 0 0 1.25h5.625v5.625a.625.625 0 1 0 1.25 0v-5.625h5.625a.625.625 0 1 0 0-1.25h-5.625z"})},n=(0,t(340498).wt)("plus",o)},656134:(e,i,t)=>{t.d(i,{j:()=>d});var o=()=>t(484714),n=()=>t(56366),l=()=>t(14235);function d(e){const i=(0,o().Y0)();return(0,n().K8)((()=>i.isPhone||"slideUp"===(null==e?void 0:e.tabletBehavior)&&i.isTablet?l().nl.SlideUp:l().nl.Popup),[i,null==e?void 0:e.tabletBehavior])}},766558:(e,i,t)=>{t.d(i,{j:()=>n,y:()=>l});var o=()=>t(284371);function n(e){const{theme:i,isInHomeWidget:t}=e;return{display:"flex",alignItems:"center",fontSize:14,padding:6,...t?{height:24,width:24,color:i.lightTextColor,fill:i.lightIconColor}:{height:28,width:28,color:i.mediumIconColor,fill:i.mediumIconColor},fontWeight:o().Wy.regular,lineHeight:1,borderRadius:6}}function l(e){const{theme:i}=e;return{display:"flex",alignItems:"center",fontSize:14,height:28,padding:6,color:i.mediumIconColor,fontWeight:o().Wy.regular,lineHeight:1,borderRadius:6}}},781697:(e,i,t)=>{t.d(i,{e:()=>a,v:()=>d});var o=()=>t(484714),n=()=>t(56366),l=()=>t(722872);function d(e){return e.device.isPhone||"actionSheet"===e.tabletBehavior&&e.device.isTablet?{menuType:l().gu.ActionSheet}:{menuType:l().gu.Popup,maxHeight:e.maxHeight,maxWidth:e.maxWidth,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,width:e.width,minWidth:e.minWidth}}function a(e){const i=(0,o().Y0)();return(0,n().K8)((()=>d({device:i,maxHeight:null==e?void 0:e.maxHeight,maxWidth:null==e?void 0:e.maxWidth,paddingTop:null==e?void 0:e.paddingTop,paddingBottom:null==e?void 0:e.paddingBottom,width:null==e?void 0:e.width,minWidth:null==e?void 0:e.minWidth,tabletBehavior:null==e?void 0:e.tabletBehavior})),[i,null==e?void 0:e.maxHeight,null==e?void 0:e.maxWidth,null==e?void 0:e.paddingTop,null==e?void 0:e.paddingBottom,null==e?void 0:e.width,null==e?void 0:e.minWidth,null==e?void 0:e.tabletBehavior])}},796722:(e,i,t)=>{t.r(i),t.d(i,{default:()=>k});var o=t(296540),n=()=>t(484714),l=()=>t(56366),d=()=>t(401497),a=()=>t(584262),r=()=>t(955363),s=()=>t(126617),c=()=>t(617668),u=()=>t(340498),h=()=>t(959013),g=()=>t(496603),v=()=>t(534177),m=()=>t(384856),p=()=>t(781697),x=()=>t(656134),S=()=>t(681445),w=()=>t(700250),f=()=>t(760217),b=()=>t(285790),C=()=>t(928600),y=()=>t(939740),B=()=>t(14235),j=()=>t(614505),I=()=>t(16006),W=()=>t(89924),A=()=>t(766558),H=t(474848);const T=(0,h().YK)({moreButtonAriaLabel:{id:"unlistedCollectionView.moreButton.icon",defaultMessage:"More"}});function k(e){const{collectionContextStore:i,shouldHideSaveViewOption:t}=e,n=(0,h().tz)(),a=o.useRef(null),[r,c]=o.useState(!1),g=(0,l().O$)(i.isInHomeWidgetStore),v=o.useCallback((()=>{c(!r)}),[r]),m=(0,x().j)(),p=(0,d().IS)((e=>({icon:{height:u().Ev.sm,width:u().Ev.sm,fill:e.mediumIconColor},button:(0,A().j)({theme:e,isInHomeWidget:g})})),[g]);return(0,H.jsx)(B().Ay,{popupType:m,alignmentToOrigin:w().MY.Center,placementToOrigin:w().UV.Bottom,open:r,onDismiss:v,origin:(0,H.jsx)(b().A,{ref:a,icon:s().Y,ariaLabel:n.formatMessage(T.moreButtonAriaLabel),onClick:v,iconStyle:p.icon,style:p.button}),render:()=>{var e;return(0,H.jsx)(V,{collectionContextStore:i,originRect:null===(e=a.current)||void 0===e?void 0:e.getBoundingClientRect(),shouldHideSaveViewOption:t})}})}function V(e){const{collectionContextStore:i,originRect:t,shouldHideSaveViewOption:l}=e,d=(0,n().v3)(),a=(0,h().tz)(),[r,s]=o.useState("origin"),c=o.useCallback((()=>{s("copy");const e=S().S.state.isOpen&&"chart_drilldown"===S().S.state.type;m().G({collectionContextStore:i,environment:d,originRect:t,isChartDrilldown:e,intl:a})}),[d,t,i,a]);return"origin"===r?(0,H.jsx)(O,{collectionContextStore:i,onAddViewToClick:c,shouldHideSaveViewOption:l}):"copy"===r?null:(0,v().HB)(r)}function O(e){const{collectionContextStore:i,onAddViewToClick:t,shouldHideSaveViewOption:o}=e,{isMobile:s}=(0,n().Y0)(),v=(0,n().v3)(),x=(0,l().K8)((()=>i.collectionStore()),[i]),w=(0,l().K8)((()=>null==x?void 0:x.getIcon()),[x]),b=(0,l().K8)((()=>{var e;return null==x||null===(e=x.getParentBlockStore())||void 0===e?void 0:e.getNavigableBlockStore()}),[x]),B=(0,l().K8)((()=>S().S.state.isOpen&&"chart_drilldown"===S().S.state.type),[]),A=(0,d().IS)((e=>({icon:{color:e.regularIconColor,width:u().Ev.default,height:u().Ev.default},title:{display:"flex",alignItems:"center"},collectionIcon:{marginLeft:4,marginRight:2}})),[]),T=(0,p().e)({maxWidth:250}),k=[o?void 0:{key:"save",render:e=>(0,H.jsx)(f().A,{...e,icon:(0,c().plusIcon)(A.icon),title:(0,H.jsx)(h().sA,{id:"unlistedCollectionView.moreButton.save",defaultMessage:"Save as view inâ€¦"})}),action:()=>{t()}},b?{key:"open",render:e=>(0,H.jsx)(f().A,{...e,icon:(0,r().N)(A.icon),title:(0,H.jsx)("div",{style:A.title,children:(0,H.jsx)(h().sA,{id:"unlistedCollectionView.moreButton.open",defaultMessage:"Open {databaseName}",values:{databaseName:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(j().A,{isEmptyPage:!1,size:s?18:16,disabled:!0,icon:w,style:A.collectionIcon}),x&&(0,H.jsx)(I().A,{store:x})]})}})})}),action:()=>{m().B({environment:v,blockStore:b,pageVisitSource:B?a().y8.ChartsDrilldown:a().y8.AIEphemeralView})}}:void 0],V={key:"options",render:e=>(0,H.jsx)(W().A,{...e}),items:g().oE(k)};return(0,H.jsx)(C().A,{...T,children:(0,H.jsx)(y().Ay,{type:y().Oh.Vertical,initialFocus:0,sections:[V]})})}}}]);