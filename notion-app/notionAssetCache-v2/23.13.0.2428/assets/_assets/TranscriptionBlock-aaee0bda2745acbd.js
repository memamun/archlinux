"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22464,43647,54518],{346:(e,t,n)=>{n.d(t,{MG:()=>m,T1:()=>g,a1:()=>S,dt:()=>h,kg:()=>f,lC:()=>v,n_:()=>b});var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(187174),a=()=>n(645873),l=()=>n(941463),d=()=>n(441199),c=()=>n(749687),u=()=>n(737230),p=()=>n(756114);const g=new(a().O2)("PerformanceToolbar",(()=>Promise.all([n.e(23806),n.e(16471),n.e(47123),n.e(17989),n.e(56985),n.e(48680),n.e(45624)]).then(n.bind(n,140401)))),m=(0,a()._h)(g,(e=>e.PerformanceToolbar)),h=(0,a()._h)(g,(e=>e.PerformanceToolbarSettings));function f(){const e=(0,o().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function b(){const e=(0,o().v3)(),t=y("PerformanceToolbarStore"),n=y("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function v(){const e=y("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function S(){const e=(0,o().v3)(),t=y("createPerformanceToolbarMouseListeners"),n=y("PerformanceToolbarStore"),{sidebarExpanded:s,sidebarWidth:a,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:m,updateSidebarWidth:h}=(0,r().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,i.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),s,a,p,g,m,h)}),[t,e,n,s,a,p,g,m,h])}function y(e){const t=f(),[{value:n}]=(0,s().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},43972:(e,t,n)=>{n.d(t,{w:()=>l});n(296540);var i=()=>n(764880),o=()=>n(534177),r=()=>n(256863),s=()=>n(453697),a=n(474848);function l(e){const{actor:t}=e,n={size:e.size??14,style:{marginRight:2,...e.style}};return(0,i().H3)(t)?(0,a.jsx)(r().A,{botValue:t.asActor,...n}):(0,i().ps)(t)?(0,a.jsx)(s().A,{userValue:t.asActor,...n}):(0,i().h2)(t)?(0,a.jsx)(s().A,{userValue:void 0,...n}):void(0,o().HB)(t)}},51367:(e,t,n)=>{n.d(t,{DL:()=>s,Sq:()=>l,Y5:()=>a,gc:()=>c,wo:()=>d});var i=()=>n(917629),o=()=>n(989423),r=()=>n(508496);function s(e,t){const n=(0,i().h2)(t.callout_key);n&&(t.placement_key=(0,i().t9)(n)),(0,o().u4)({environment:e,event:{eventName:"callout_show",eventProperties:t}}),r().default.logEvent("callout_show",t.callout_key)}function a(e,t){const n=(0,i().h2)(t.callout_key);n&&(t.placement_key=(0,i().t9)(n)),(0,o().u4)({environment:e,event:{eventName:"callout_click",eventProperties:t}}),r().default.logEvent("callout_click",t.callout_key)}function l(e,t){const n=(0,i().h2)(t.callout_key);n&&(t.placement_key=(0,i().t9)(n)),(0,o().u4)({environment:e,event:{eventName:"callout_dismiss",eventProperties:t}}),r().default.logEvent("callout_dismiss",t.callout_key)}function d(e,t){const{eligible_callouts:n,required_arg_timeout:i,required_args_run_duration:r,eligibility_timeouts:s,blocklist:a}=t;(0,o().u4)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:n,required_arg_timeout:i,required_args_run_duration:r,eligibility_timeouts:s,blocklist:a}}})}function c(e,t){(0,o().u4)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}},58293:(e,t,n)=>{n.d(t,{r:()=>r});var i=()=>n(56366),o=()=>n(351360);function r(){return(0,i().K8)((()=>o().default.state.currentSpaceStore),[])}},63467:(e,t,n)=>{n.d(t,{y:()=>c});var i=()=>n(637997),o=()=>n(267419);const r={ko:()=>n.e(2268).then(n.bind(n,224434)),es:()=>n.e(95264).then(n.bind(n,196425)),de:()=>n.e(35390).then(n.bind(n,653703)),fr:()=>n.e(3272).then(n.bind(n,94677)),pt:()=>n.e(27315).then(n.bind(n,766869)),zh:()=>n.e(69945).then(n.bind(n,516814)),ja:()=>n.e(77757).then(n.bind(n,824432)),da:()=>n.e(9423).then(n.bind(n,440761)),fi:()=>n.e(59337).then(n.bind(n,462135)),nb:()=>n.e(2040).then(n.bind(n,937314)),nl:()=>n.e(51106).then(n.bind(n,530897)),sv:()=>n.e(53631).then(n.bind(n,895222))};let s=!1,a=!1;async function l(e){for(const[n,o]of Object.entries(e.emojiLocaleKeywords)){var t;i().fB[n]={...i().fB[n],keywords:[...o,...(null===(t=i().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await o().A.waitUntilLoaded(),o().A.update((t=>{let{emojiByName:n,...i}=t;return{...i,emojiByName:{...n,...e.emojiByName}}}))}async function d(){if(s)return;const[e]=n(662303).locale.split("-");e in r&&(await l(await r[e]()),s=!0)}const c=(0,n(279900).A)((async()=>{await async function(){a||(await l(await n.e(51872).then(n.bind(n,443716))),a=!0)}(),await d()}))},72307:(e,t,n)=>{n.d(t,{A:()=>i});const i={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},84161:(e,t,n)=>{n.d(t,{S:()=>u});n(944114),n(296540);var i=()=>n(675910),o=()=>n(926401),r=()=>n(441977),s=()=>n(654601),a=()=>n(959013),l=()=>n(37433),d=()=>n(430483),c=n(474848);function u(){const e=(0,l().nk)(),t=d().zD.isFullPageAssistantInStartOptions(),n=[];return e&&n.push({key:"personal_home",label:(0,c.jsx)(a().sA,{id:"pageOnAppStoreSetting.home.label",defaultMessage:"Home"}),renderIcon:e=>(0,r().J)({width:20,height:20,...e})}),n.push({key:"last_visited_page",label:(0,c.jsx)(a().sA,{id:"pageOnAppStoreSetting.lastVisitedPage.label",defaultMessage:"Last visited page"}),renderIcon:e=>(0,i().M)({width:20,height:20,...e})},{key:"first_page",label:(0,c.jsx)(a().sA,{id:"pageOnAppStoreSetting.firstPage.label",defaultMessage:"Top page in sidebar"}),renderIcon:e=>(0,o().n)({width:20,height:20,padding:2,...e})}),t&&n.push({key:"chat",label:(0,c.jsx)(a().sA,{id:"pageOnAppStoreSetting.chat.label",defaultMessage:"Notion AI"}),renderIcon:e=>(0,s().X)({width:20,height:20,...e})}),n}},101847:(e,t,n)=>{n.d(t,{T:()=>i});const i=(0,n(340498).xh)("gift",{default:{loader:()=>n.e(23202).then(n.bind(n,723202))},small:{loader:()=>n.e(2264).then(n.bind(n,902264))},mini:{loader:()=>n.e(42668).then(n.bind(n,542668))},large:{loader:()=>n.e(25196).then(n.bind(n,725196))}})},105819:(e,t,n)=>{n.d(t,{x:()=>o});n(296540);const i={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},o=(0,n(340498).wt)("pencilLine",i)},132456:(e,t,n)=>{n.d(t,{J4:()=>A,kw:()=>x,lf:()=>k});n(16280),n(816573),n(878100),n(177936),n(748140),n(821903),n(491134),n(128845),n(237467),n(444732),n(979577),n(581454);var i=n.n(n(883503)),o=()=>n(496603),r=()=>n(720665),s=()=>n(416845),a=()=>n(628536),l=()=>n(96689);const d={version:8,notion_version:0,variant:2},c={version:8,notion_version:1,variant:2},u=0,p=1,g=6,m=8,h=10,f=Date.UTC(2024,0,1);function b(e,t){if(e)return t[u]=255,t[u+1]=240|15&t[u+1],t;const n=Math.floor(((new Date).getTime()-f)/r().nD);if(n>=4096||n<0)throw new Error("Invalid offsetInDays.");return t[u]=n>>4,t[u+1]=n<<4&240|15&t[u+1],t}function v(e,t){if(e>=2**36||e<0)throw new Error("Invalid spaceShortId.");t[p]=240&t[p]|e/2**32&15;for(let n=0;n<4;n++)t[p+1+n]=e/2**(24-8*n)&255;return t}function S(e,t){const n=e?1:0;return t[g]=d.version<<4&240|d.notion_version<<1&14|1&n,t[m]=d.variant<<6&192|63&t[m],t}function y(e,t){if("block"===e)return t[h]=(0,a().vi)(e)|63&t[h],t;const n=(0,a().vi)(e);return t[h]=n>>8&127,t[h+1]=255&n,t}function C(e,t){const n=(0,a().TG)(e);return t[h]=127&n|128&t[h],t}function x(e,t,n,i){const o=new Uint8Array(16),r=globalThis.crypto.getRandomValues(o);return n!==l().NX&&b(e,r),v(t,r),S(i,r),y(n,r),T(r)}function A(e,t,n,i){return x(e,t,n,i)}function k(e,t,n){return w(e,t,n)}function w(e,t,n){const r=i()(n),l=o().iv(r,2).map((e=>parseInt(e.join(""),16)));if((0,a().ep)(t)){if(void 0===e)throw new(s().Um)(`Deterministic ID for '${t}' must specify a space short id`)}else if(void 0!==e)throw new(s().Um)(`Deterministic ID for '${t}' should not provide a space short id`);const d=new Uint8Array(l);return e&&v(e,d),C(t,d),function(e){e[g]=240&c.version<<4|14&c.notion_version<<1|1&e[g],e[m]=192&c.variant<<6|63&e[m]}(d),T(d)}const j=new Array(256).fill(0).map(((e,t)=>t.toString(16).padStart(2,"0")));function T(e){let t=0;return j[e[t++]]+j[e[t++]]+j[e[t++]]+j[e[t++]]+"-"+j[e[t++]]+j[e[t++]]+"-"+j[e[t++]]+j[e[t++]]+"-"+j[e[t++]]+j[e[t++]]+"-"+j[e[t++]]+j[e[t++]]+j[e[t++]]+j[e[t++]]+j[e[t++]]+j[e[t++]]}},162342:(e,t,n)=>{n.d(t,{W$:()=>a,fR:()=>r,iv:()=>s});var i=()=>n(228814),o=()=>n(846199);function r(e){o().A.setState({open:!0,...e})}function s(){o().A.setState({open:!1})}function a(e){i().A.setState({open:!0,...e})}},165121:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(757695))().default{constructor(){super()}getInitialState(){}}const o=new i},173019:(e,t,n)=>{n.d(t,{r:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},191197:(e,t,n)=>{n.d(t,{i:()=>o,z:()=>r});var i=()=>n(989423);function o(e,t){const{from:n}=t;i().vd(e,"show_tooltip",{from:n,time:Date.now()})}function r(e,t){const{from:n}=t;i().vd(e,"dismiss_tooltip",{from:n,time:Date.now()})}},224011:(e,t,n)=>{n.d(t,{A:()=>r});var i=()=>n(705540);class o extends(()=>n(757695))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await i().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},i().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new o},228814:(e,t,n)=>{n.d(t,{A:()=>i});const i=n(757695).default.createValue({open:!1},{name:"TrialEndModalStore"})},240562:(e,t,n)=>{n.d(t,{p:()=>r});var i=()=>n(645873);const o=new(i().O2)("HelpButtonContent",(async()=>await n.e(42481).then(n.bind(n,667667)))),r=(0,i()._h)(o,(e=>e.HelpButtonContent))},268100:(e,t,n)=>{n.r(t),n.d(t,{TranscriptionBlock:()=>Ge});n(581454);var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(529099),l=()=>n(284611),d=()=>n(105819),c=()=>n(959013),u=()=>n(534177),p=()=>n(155004),g=()=>n(493823),m=()=>n(285790),h=()=>n(8980),f=()=>n(891078),b=()=>n(962730),v=()=>n(271380),S=()=>n(434165);function y(e,t){if(!e.getContentStores().includes(t))return;const n=e.getFormat();return(null==n?void 0:n.transcription_notes_id)===t.id?"notes":(null==n?void 0:n.transcription_transcript_id)===t.id?"transcript":(null==n?void 0:n.transcription_summary_id)===t.id?"summary":void 0}n(18107),n(967357);var C=()=>n(540144),x=()=>n(964345);function A(e){return(0,r().K8)((()=>{var t;const n=null===(t=e.getModel())||void 0===t?void 0:t.getFormat();return(null==n?void 0:n.transcription_state)??{state:"idle"}}),[e])}n(16280),n(898992),n(672577);var k=()=>n(748197);function w(e){return(0,r().K8)((()=>x().gZ.state&&x().Di.state===e.id),[e])}var j=()=>n(187174);function T(){const e=(0,o().v3)(),[t,n]=(0,i.useState)({loading:!0,nativePlatform:!1,microphone:!1,systemAudio:!1});return(0,j().Yb)((async()=>{const t=await(0,S().P)(e);n(t)}),[e]),t}var M=()=>n(428390),I=()=>n(284371),B=()=>n(704152),_=()=>n(135221),L=()=>n(859428),P=()=>n(553965),R=()=>n(431895),F=n(474848);const D=(0,c().YK)({transcribing:{id:"dictation.transcriptionBlock.recordingButton.stop",defaultMessage:"Stop"},summarizing:{id:"dictation.transcriptionBlock.recordingButton.summarizing",defaultMessage:"Summarizing"},paused:{id:"dictation.transcriptionBlock.recordingButton.paused",defaultMessage:"Resume"}}),z=(0,c().YK)({thinking:{id:"dictation.transcriptionBlock.recordingButton.summarizing.thinking",defaultMessage:"Thinking"},summarizing:{id:"dictation.transcriptionBlock.recordingButton.summarizing.summarizing",defaultMessage:"Summarizing"}}),O=(0,c().YK)({resume:{id:"dictation.transcriptionBlock.recordingButton.resume",defaultMessage:"Resume"},start:{id:"dictation.transcriptionBlock.recordingButton.start",defaultMessage:"Start"}}),H=(0,c().YK)({stopButtonTooltip:{id:"dictation.transcriptionBlock.recordingButton.stopButtonTooltip",defaultMessage:"Stop and summarize"}});function E(e){const{store:t,...n}=e,i=(0,o().v3)(),s=(0,r().K8)((()=>{var e;return(null===(e=t.getFormat())||void 0===e?void 0:e.transcription_state)??{state:"idle"}}),[t]),a=T();return a.loading||a.nativePlatform?a.loading||a.microphone&&a.systemAudio?"idle"===s.state?null:"transcribing"===s.state?(0,F.jsx)(K,{...n,onClick:()=>{(0,v().stopTranscription)({environment:i,blockStore:t})}}):"summarizing"===s.state?(0,F.jsx)(V,{state:s}):"paused"===s.state?(0,F.jsx)(U,{...n,store:t,onClick:()=>{(0,v().startTranscription)({environment:i,blockStore:t})}}):(0,u().HB)(s):(0,F.jsx)(W,{message:(0,F.jsx)(c().sA,{id:"transcriptionBlockControlButton.missingRequirement.permissionsRequired",defaultMessage:"Permissions required"}),tooltipMessage:(0,F.jsx)(c().sA,{id:"transcriptionBlockControlButton.missingRequirement.permissionsRequiredTooltip",defaultMessage:"To transcribe, Notion needs access to your microphone and screen."}),onClick:()=>{(0,R().Rs)(i)}}):(0,F.jsx)(W,{message:(0,F.jsx)(c().sA,{id:"transcriptionBlockControlButton.missingRequirement.appRequired",defaultMessage:"Notion app required"}),tooltipMessage:(0,F.jsx)(c().sA,{id:"transcriptionBlockControlButton.missingRequirement.appRequiredTooltip",defaultMessage:"To transcribe, you must use the Notion app."}),onClick:()=>{(0,R().MZ)(i)}})}function W(e){const{message:t,tooltipMessage:n,...i}=e,o=Y(!1);return(0,F.jsx)(L().A,{render:e=>(0,F.jsxs)(B().A,{...(0,P().A)(e,{...i}),style:o.container,children:[(0,M().T)({width:16,height:16}),(0,F.jsx)("span",{style:o.text,children:t})]}),renderTooltip:()=>n})}function V(e){const{state:t}=e,n=(0,s().IS)((e=>({text:{fontSize:14,fontWeight:I().Wy.medium,color:e.lightTextColor}})),[]);return(0,F.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,F.jsx)(_().A,{isTriColored:!0}),(0,F.jsx)("span",{style:n.text,children:(0,F.jsx)(c().sA,{...z[t.step]})})]})}function K(e){const[t,n]=(0,i.useState)(!1),o=Y(t);return(0,F.jsx)(L().A,{render:t=>{const i={onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1)};return(0,F.jsxs)(B().A,{...(0,P().A)(t,{...e,...i}),style:o.container,hoveredStyle:o.hoveredStyle,children:[(0,F.jsx)(q,{}),(0,F.jsx)("span",{style:o.text,children:(0,F.jsx)(c().sA,{...D.transcribing})})]})},renderTooltip:()=>(0,F.jsx)(c().sA,{...H.stopButtonTooltip})})}function U(e){const{store:t}=e,[n,o]=(0,i.useState)(!1),s=Y(n),a=(0,r().K8)((()=>(0,C().lk)(t)?O.resume:O.start),[t]);return(0,F.jsxs)(B().A,{...e,style:s.container,hoveredStyle:s.hoveredStyle,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[(0,F.jsx)(N,{}),(0,F.jsx)("span",{style:s.text,children:(0,F.jsx)(c().sA,{...a})})]})}function N(e){const t=Y(!1),n=(0,s().IS)((()=>({icon:{...t.recordIcon,...e.style}})),[e.style,t.recordIcon]);return(0,F.jsx)("div",{style:n.icon})}function q(e){const t=Y(!1),n=(0,s().IS)((()=>({icon:{...t.stopIcon,...e.style}})),[e.style,t.stopIcon]);return(0,F.jsx)("div",{style:n.icon})}function Y(e){return(0,s().IS)((t=>({container:{height:20,display:"flex",justifyContent:"center",alignItems:"center",gap:6,paddingTop:14,paddingBottom:14,paddingLeft:8,paddingRight:8,borderRadius:8,border:"none",cursor:"pointer",background:t.lightGrayButtonBackground},hoveredStyle:{background:t.accentColors.red[50]},recordIcon:{width:12,height:12,borderRadius:"50%",backgroundColor:t.redButtonBackground},stopIcon:{width:12,height:12,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.1s ease-in-out",borderRadius:3,backgroundColor:t.redButtonBackground},text:{fontSize:14,color:e?t.redButtonBackground:t.lightTextColor,fontWeight:I().Wy.medium}})),[e])}var Z=()=>n(436150),G=()=>n(408197),$=()=>n(297872),Q=()=>n(623580),J=()=>n(957986),X=()=>n(864943),ee=()=>n(204063),te=()=>n(449506);function ne(e){const{environment:t,blockStore:n,feedback:i,comment:o}=e;te().callApi({eventName:"saveInferenceTranscriptFeedback",environment:t,data:{type:"summarize-transcript",traceId:n.id,feedbackType:i,userComment:o,spaceId:n.getSpaceId()}})}function ie(e){const{store:t}=e,[n,r]=(0,i.useState)(void 0),a=(0,o().v3)(),l=(0,c().tz)(),d=(0,s().IS)((e=>({container:{display:"flex",alignItems:"center",gap:8,marginTop:12,color:e.lightTextColor,fontSize:14}})),[]);return(0,F.jsx)(p().s,{allowSelectionWithin:!1,children:(0,F.jsxs)("div",{style:d.container,children:[(0,F.jsx)(c().sA,{id:"TranscriptionBlockFeedbackMenu.feedback",defaultMessage:"Was this summary helpful?"}),(0,F.jsxs)("div",{children:[(0,F.jsx)(m().A,{icon:G().s,onClick:()=>r("thumbsUp"),ariaLabel:l.formatMessage(re.thumbsUpAriaLabel)}),(0,F.jsx)(m().A,{icon:Z().v,onClick:()=>r("thumbsDown"),ariaLabel:l.formatMessage(re.thumbsDownAriaLabel)})]}),(0,F.jsx)(oe,{state:n,onClose:()=>r(void 0),submit:e=>{let{feedback:i}=e;"thumbsUp"===n?ne({environment:a,blockStore:t,feedback:"thumbs_up",comment:i}):"thumbsDown"===n&&ne({environment:a,blockStore:t,feedback:"thumbs_down",comment:i})}})]})})}function oe(e){const{state:t,onClose:n,submit:o}=e,r=void 0!==t,[a,l]=(0,i.useState)(""),d=(0,c().tz)(),u=(0,s().IS)((e=>({wrap:{display:"flex",flexDirection:"column",minHeight:128},modalWrap:{width:"32rem",padding:24,fontSize:14,maxWidth:"100%"},modalTitle:{fontSize:16,fontWeight:I().Wy.medium},modalSubtitle:{fontSize:13,color:e.lightTextColor},titleContainer:{marginBottom:12},buttonArea:{display:"flex",justifyContent:"flex-end",marginTop:18,gap:6},feedbackArea:{marginTop:17,padding:8}})),[]),p=(0,i.useCallback)((e=>{const t=e.target.value;l(t)}),[]),g=(0,i.useCallback)((()=>{n(),l("")}),[n]),m=(0,i.useCallback)((()=>{o({feedback:a}),g()}),[a,o,g]),h="thumbsUp"===t?re.feedbackPlaceholderThumbsUp:re.feedbackPlaceholderThumbsDown;return(0,F.jsx)(J().A,{open:r,onDismiss:g,render:()=>(0,F.jsx)($().A,{capture:!0,allowUndo:!1,allowEsc:!0,allowTabUntab:!1,render:e=>(0,F.jsx)("div",{style:u.wrap,children:(0,F.jsxs)("div",{style:u.modalWrap,...e,children:[(0,F.jsxs)("div",{style:u.titleContainer,children:[(0,F.jsx)("div",{style:u.modalTitle,children:(0,F.jsx)(c().sA,{...re.title})}),(0,F.jsx)("div",{style:u.modalSubtitle,children:(0,F.jsx)(c().sA,{...re.subtitle})})]}),(0,F.jsx)(Q().A,{placeholder:d.formatMessage(h),value:a,onChange:p,focusInitial:!0,style:u.feedbackArea,textarea:!0,"aria-label":d.formatMessage(h)}),(0,F.jsxs)("div",{style:u.buttonArea,children:[(0,F.jsx)(X().A,{size:"lg",onClick:g,children:(0,F.jsx)(c().sA,{...re.cancel})}),(0,F.jsx)(ee().A,{size:"lg",onClick:m,children:(0,F.jsx)(c().sA,{...re.submit})})]})]})})})})}const re=(0,c().YK)({title:{id:"TranscriptionBlockFeedbackModal.title",defaultMessage:"Transcription feedback"},subtitle:{id:"TranscriptionBlockFeedbackModal.subtitle",defaultMessage:"Your feedback helps us improve the transcription quality."},feedbackPlaceholderThumbsUp:{id:"TranscriptionBlockFeedbackModal.feedbackPlaceholderThumbsUp",defaultMessage:"What did you like about the summary or transcript?"},feedbackPlaceholderThumbsDown:{id:"TranscriptionBlockFeedbackModal.feedbackPlaceholderThumbsDown",defaultMessage:"What issues did you notice with the summary or transcript? Please be as specific as possible."},cancel:{id:"TranscriptionBlockFeedbackModal.cancel",defaultMessage:"Cancel"},submit:{id:"TranscriptionBlockFeedbackModal.submit",defaultMessage:"Submit feedback"},thumbsUpAriaLabel:{id:"TranscriptionBlockFeedbackModal.thumbsUpAriaLabel",defaultMessage:"Thumbs up"},thumbsDownAriaLabel:{id:"TranscriptionBlockFeedbackModal.thumbsDownAriaLabel",defaultMessage:"Thumbs down"}});function se(e){const{store:t,selectedTabType:n}=e,i=A(t),o=(0,r().K8)((()=>{const e=(0,C().y1)(t,"summary");return!!e&&e.hasContent()}),[t]);return n?"notes"===n?"transcribing"!==i.state?null:(0,F.jsx)(ae,{children:(0,F.jsx)(c().sA,{id:"TranscriptionBlockTranscriptFooter.transcribing.informationalFooter",defaultMessage:"Notion AI will summarize the transcript and your notes."})}):"summary"===n?o?(0,F.jsx)(ie,{store:t}):null:"transcript"===n?"transcribing"!==i.state?null:(0,F.jsx)(ae,{children:(0,F.jsx)(c().sA,{id:"TranscriptionBlockTranscriptFooter.transcribing.consentFooter",defaultMessage:"Always get consent when transcribing others."})}):(0,u().HB)(n):null}function ae(e){const t=(0,s().IS)((e=>({container:{display:"flex",alignItems:"center",gap:8,marginTop:12,color:e.lightTextColor,fontSize:14}})),[]);return(0,F.jsx)("div",{style:t.container,children:e.children})}var le=()=>n(852507),de=()=>n(985608),ce=()=>n(607624),ue=()=>n(957963),pe=()=>n(12193),ge=()=>n(383286),me=()=>n(299960);const he=(0,c().YK)({autoTitle:{id:"transcriptionSummarizationFormat.label.auto",defaultMessage:"Auto"},autoSubtitle:{id:"transcriptionSummarizationFormat.subtitle.auto",defaultMessage:"Notion AI chooses the best format"},salesCallTitle:{id:"transcriptionSummarizationFormat.label.salesCall",defaultMessage:"Sales Call"},salesCallSubtitle:{id:"transcriptionSummarizationFormat.subtitle.salesCall",defaultMessage:"Customer insights, needs, follow-ups"},standupTitle:{id:"transcriptionSummarizationFormat.label.standup",defaultMessage:"Standup"},standupSubtitle:{id:"transcriptionSummarizationFormat.subtitle.standup",defaultMessage:"Progress, blockers, action items"},teamMeetingTitle:{id:"transcriptionSummarizationFormat.label.teamMeeting",defaultMessage:"Team Meeting"},teamMeetingSubtitle:{id:"transcriptionSummarizationFormat.subtitle.teamMeeting",defaultMessage:"Updates, decisions, action items"}}),fe=[{type:"auto",title:he.autoTitle,subtitle:he.autoSubtitle},{type:"sales-call",title:he.salesCallTitle,subtitle:he.salesCallSubtitle,instructions:"\nThis conversation is a sales call. Make sure to capture:\n- Any needs or asks the customer has brought up.\n- Background information about the customer, such as the customer's role, company, if they are using the product or service, etc.\n- A detailed but concise summary of the conversation.\n- Decisions or commitments that were made during the call if any.\n- Next steps.\n- Action items to be taken after the call.\n"},{type:"standup",title:he.standupTitle,subtitle:he.standupSubtitle,instructions:"\nThis conversation is a standup. Make sure to capture:\n- Progress on any projects or tasks.\n- Any blockers or issues that need to be addressed.\n- Action items to be taken after the standup. If possible, include who is responsible for each action item and a deadline for when it should be completed.\n"},{type:"team-meeting",title:he.teamMeetingTitle,subtitle:he.teamMeetingSubtitle,instructions:"\nThis conversation is a team meeting. Make sure to capture:\n- Updates on any projects or tasks.\n- Any decisions that were made.\n- Action items to be taken after the meeting. If possible, include who is responsible for each action item and a deadline for when it should be completed.\n"}];var be=()=>n(760217),ve=()=>n(928600),Se=()=>n(678553),ye=()=>n(939740),Ce=()=>n(89924),xe=()=>n(453697),Ae=()=>n(662971),ke=()=>n(722872),we=()=>n(6208),je=()=>n(630116),Te=()=>n(426175),Me=()=>n(632503),Ie=()=>n(577579),Be=()=>n(784749);const _e=(0,c().YK)({stopAndSummarize:{defaultMessage:"Stop and summarize",id:"transcriptionBlockSettings.stopAndSummarize"},summarizeTranscript:{defaultMessage:"Summarize transcript",id:"transcriptionBlockSettings.summarizeTranscript"},pauseTranscription:{defaultMessage:"Pause transcription",id:"transcriptionBlockSettings.pauseTranscription"},resumeTranscription:{defaultMessage:"Resume transcription",id:"transcriptionBlockSettings.resumeTranscription"},startTranscription:{defaultMessage:"Start transcription",id:"transcriptionBlockSettings.startTranscription"},retrySummary:{defaultMessage:"Retry summary",id:"transcriptionBlockSettings.retrySummary"}});function Le(e){const t=w(e.transcriptionBlockStore),n=(0,r().K8)((()=>{var t;return(null===(t=x().ei.state)||void 0===t?void 0:t.id)===e.transcriptionBlockStore.id}),[e.transcriptionBlockStore.id]),i=A(e.transcriptionBlockStore);return t&&n?(0,F.jsx)(De,{...e}):"transcribing"===i.state?(0,F.jsx)(Fe,{state:i,transcriptionBlockStore:e.transcriptionBlockStore}):(0,F.jsx)(Pe,{transcriptionBlockStore:e.transcriptionBlockStore})}function Pe(e){const{transcriptionBlockStore:t}=e,n=(0,o().v3)(),s=Ve(),a=(0,r().K8)((()=>{var e;return(null===(e=t.getModel())||void 0===e||null===(e=e.getFormat())||void 0===e?void 0:e.transcription_summarization_format_type)??"auto"}),[t]),l=fe.find((e=>e.type===a))??fe[0],d=(0,i.useCallback)((e=>{(0,v().updatePreferredSummarizationFormat)({environment:n,blockStore:t,format:e}),k().c.setSettingsOpenForBlockId(void 0)}),[n,t]);return(0,F.jsx)(ye().Ay,{type:ye().Oh.Vertical,initialFocus:0,style:s.menuList,sections:[ze(n,t),{key:"formatting-options",render:e=>(0,F.jsx)(Ce().A,{...e,topBorder:!0}),items:[{key:"format",render:(e,t)=>(0,F.jsx)(Ae().A,{...e,onFocus:t.onFocus,renderOrigin:(e,t)=>(0,F.jsx)(be().A,{...e,ref:t,icon:(0,ue().j)(s.icon),title:(0,F.jsxs)("div",{style:s.sectionTitle,children:[(0,F.jsx)(c().sA,{id:"transcriptionBlockSettings.format.title",defaultMessage:"Format"}),(0,F.jsx)("div",{style:s.selection,children:(0,F.jsx)(c().sA,{...l.title})})]})}),renderExtension:()=>(0,F.jsx)(Re,{selectedFormat:l,onFormatChange:d})}),action:()=>{}}]}]})}function Re(e){const{selectedFormat:t}=e,n=Ve();return(0,F.jsx)(ye().Ay,{type:ye().Oh.Vertical,initialFocus:0,style:n.menuList,sections:[{key:"formatting-options",render:e=>(0,F.jsx)(Ce().A,{...e}),items:fe.map((n=>({key:n.type,render:e=>(0,F.jsx)(be().A,{...e,checkState:t.type===n.type,title:(0,F.jsx)(c().sA,{...n.title}),caption:(0,F.jsx)(c().sA,{...n.subtitle})}),action:()=>{e.onFormatChange(n.type)}})))}]})}function Fe(e){const{state:t}=e,n=(0,we().y)(t.transcriber_id),i=Ve(),o=(0,r().K8)((()=>je().LU.createChildStore(e.transcriptionBlockStore,{table:t.transcriber_table,id:t.transcriber_id})),[e.transcriptionBlockStore,t.transcriber_id,t.transcriber_table]);return(0,F.jsx)(ye().Ay,{type:ye().Oh.Vertical,initialFocus:0,style:i.menuList,sections:[{key:"audio-capture",render:e=>(0,F.jsx)(Ce().A,{...e}),items:[{key:"transcriber",render:e=>(0,F.jsx)(Se().A,{...e,icon:(0,F.jsx)(xe().A,{userValue:o.getModel(),size:18,style:{borderRadius:12}}),title:(0,F.jsx)(c().sA,{id:"transcriptionBlockSettings.transcriber.title",defaultMessage:"{userName} is transcribing",values:{userName:n}})}),action:()=>{}}]}]})}function De(e){const t=(0,o().v3)(),n=Ve(),i=(0,r().O$)(Te().dc),s=(0,r().K8)((()=>(0,Me().FT)(t.currentUser.id)),[t.currentUser.id]);return(0,F.jsx)(ye().Ay,{type:ye().Oh.Vertical,initialFocus:0,style:n.menuList,sections:[ze(t,e.transcriptionBlockStore),{key:"audio-input",render:e=>(0,F.jsx)(Ce().A,{...e,topBorder:!0}),items:[{key:"microphone",render:(e,t)=>(0,F.jsx)(Ae().A,{...e,onFocus:t.onFocus,renderOrigin:(e,t)=>(0,F.jsx)(be().A,{...e,ref:t,icon:(0,ge().E)(n.icon),title:(0,F.jsxs)("div",{style:n.sectionTitle,children:[(0,F.jsx)(c().sA,{id:"transcriptionBlockSettings.microphone.title",defaultMessage:"Mic"}),(0,F.jsx)("div",{style:n.selection,children:null==i?void 0:i.label})]})}),renderExtension:()=>(0,F.jsx)(Be().w,{})}),action:()=>{}},{key:"system-audio",render:(e,t)=>(0,F.jsx)(Ae().A,{...e,onFocus:t.onFocus,renderOrigin:(e,t)=>(0,F.jsx)(be().A,{...e,ref:t,icon:(0,ce().i)(n.icon),title:(0,F.jsxs)("div",{style:n.sectionTitle,children:[(0,F.jsx)(c().sA,{id:"transcriptionBlockSettings.systemAudio.title",defaultMessage:"Audio"}),(0,F.jsx)("div",{style:n.selection,children:(0,F.jsx)(c().sA,{id:"transcriptionBlockSettings.systemAudio.selection",defaultMessage:"System"})})]})}),renderExtension:(e,t)=>(0,F.jsx)(ve().A,{menuType:ke().gu.Popup,...e,children:(0,F.jsx)(ye().Ay,{type:ye().Oh.Vertical,initialFocus:0,sections:[{key:"system-audio-options",render:e=>(0,F.jsx)(Ce().A,{...e,title:"Coming soon!"}),items:[]}]})})}),action:()=>{}},{key:"language",render:(e,t)=>(0,F.jsx)(Ae().A,{...e,onFocus:t.onFocus,renderOrigin:(e,t)=>(0,F.jsx)(be().A,{...e,ref:t,icon:(0,pe().D)(n.icon),title:(0,F.jsxs)("div",{style:n.sectionTitle,children:[(0,F.jsx)(c().sA,{id:"transcriptionBlockSettings.language.title",defaultMessage:"Language"}),(0,F.jsx)("div",{style:n.selection,children:s})]})}),renderExtension:(e,t)=>(0,F.jsx)(Ie().Z,{parent:t})}),action:()=>{}}]}]})}function ze(e,t){return{key:"transcription-state",render:e=>(0,F.jsx)(Ce().A,{...e,topBorder:!0}),items:[{key:"transcription-state",render:e=>(0,F.jsx)(Oe,{transcriptionBlockStore:t,...e}),action:()=>{}},{key:"summarize-transcription",render:e=>(0,F.jsx)(We,{transcriptionBlockStore:t,...e}),action:()=>{}}]}}function Oe(e){const t=A(e.transcriptionBlockStore);return"summarizing"===t.state?null:"transcribing"===t.state?(0,F.jsx)(He,{...e}):"paused"===t.state||"idle"===t.state?(0,F.jsx)(Ee,{...e}):(0,u().HB)(t)}function He(e){const{transcriptionBlockStore:t}=e,n=(0,o().v3)(),i=_e.pauseTranscription;return(0,F.jsx)(be().A,{...e,onClick:()=>{(0,v().pauseTranscription)({environment:n,blockStore:t,shouldStopDictation:!0})},icon:(0,me().U)({height:18,width:18}),title:(0,F.jsx)(c().sA,{...i})})}function Ee(e){const{transcriptionBlockStore:t}=e,n=(0,o().v3)(),i=(0,r().K8)((()=>(0,C().lk)(t)?_e.resumeTranscription:_e.startTranscription),[t]);return(0,F.jsx)(be().A,{...e,onClick:()=>{(0,v().startTranscription)({environment:n,blockStore:t})},icon:(0,F.jsx)(N,{style:{marginLeft:2,width:14,height:14}}),title:(0,F.jsx)(c().sA,{...i})})}function We(e){const{transcriptionBlockStore:t}=e,n=(0,o().v3)(),r=A(t),[s,a]=(0,i.useState)(!1);if((0,le().w)((()=>{a((0,C().lk)(t)||(0,C().Fz)({blockStore:t}))})),!s)return null;const l=(()=>{switch(r.state){case"transcribing":case"paused":return _e.stopAndSummarize;case"summarizing":case"idle":return _e.retrySummary;default:return(0,u().HB)(r)}})();return(0,F.jsx)(be().A,{...e,onClick:()=>{(0,v().stopTranscription)({environment:n,blockStore:t})},icon:(0,de()._)({height:18,width:18}),title:(0,F.jsx)(c().sA,{...l})})}function Ve(){return(0,s().IS)((e=>({menuList:{minWidth:250},sectionTitle:{display:"flex",flexDirection:"row",alignItems:"center",gap:8},icon:{height:18,width:18},selection:{flex:1,color:e.lightTextColor,maxWidth:140,...I().RC}})),[])}const Ke=(0,c().YK)({moreOptions:{defaultMessage:"Options",id:"transcriptionBlock.options"},toggleTranscript:{defaultMessage:"Toggle transcript",id:"transcriptionBlock.toggleTranscript"},showTranscript:{defaultMessage:"Show transcript",id:"transcriptionBlock.showTranscriptTooltip"},hideTranscript:{defaultMessage:"Hide transcript",id:"transcriptionBlock.hideTranscriptTooltip"}}),Ue=i.forwardRef(((e,t)=>{const a=(0,i.useRef)(null),l=(0,i.useRef)(null),d=(0,r().uB)(void 0,n(17090).A),g=(0,c().tz)(),h=(0,r().K8)((()=>e.store.getBlockTitleStore()),[e.store]),j=(0,r().K8)((()=>k().c.isSettingsOpenForBlockId(e.store.id)),[e.store.id]),{selectedTabStore:M,selectedTabType:I,selectedTabRootStore:B}=(_=e.store,(0,r().K8)((()=>{const e=k().c.getTabState(_.id),t=_.getContentStores(),n=t.find((t=>t.id===e));if(n)return{selectedTabStore:n.getContentStore(),selectedTabRootStore:n,selectedTabType:y(_,n)};if(t.length>0)return{selectedTabStore:t[0].getContentStore(),selectedTabRootStore:t[0],selectedTabType:y(_,t[0])};throw new Error("No content store found")}),[_]));var _;const L=A(e.store),P=(0,r().K8)((()=>e.store.getTitleValue().length>0),[e.store]),R=(0,S().C)(T()),D=function(e){const t=w(e),n=A(e);return!!t||"transcribing"!==n.state&&"idle"!==n.state&&"summarizing"!==n.state&&("paused"===n.state||(0,u().HB)(n))}(e.store),z=(0,r().K8)((()=>(0,n(744705).X)(e.store)||!e.store.isDefaultRecordCache()),[e.store]),O=(0,n(376203).B)(),H=(0,o().v3)();(0,n(543906).A)((()=>{(0,n(376746).maybeResumeTranscriptionOnLoad)(H,e.store)}),z),function(e){const{store:t}=e,n=A(t),o=(0,r().K8)((()=>{const e=(0,C().y1)(t,"transcript");if(e)return e.getContentStores().at(-1)}),[t]);(0,i.useEffect)((()=>{o&&"transcribing"===n.state?x().Ay.state.block!==o&&x().Ay.setState({...x().Ay.state,block:o,rootBlock:t,showDictationBubble:!0}):x().Ay.setState({...x().Ay.state,showDictationBubble:!1})}),[o,n,t])}({store:e.store});const W=(0,f().pW)(e.store,!0),V=(0,s().IS)((t=>({root:{borderRadius:4,border:`1px solid ${t.regularDividerColor}`,overflow:"hidden",...W,...e.style},container:{display:"flex",alignItems:"flex-start"},content:{display:"flex",flexDirection:"column",width:"100%"},transcriptionContent:{display:"flex",flexDirection:"column",width:"100%",borderLeft:`3px solid ${t.accentColors.gray[500]}`,paddingLeft:14,paddingRight:14,marginTop:8},controlRowContainer:{display:"flex",alignItems:"center",gap:8,minHeight:24,boxShadow:`0 1px 0 ${t.regularDividerColor}`,marginBottom:"notes"!==I?20:void 0,paddingLeft:12,paddingRight:12,paddingTop:10,paddingBottom:10,backgroundColor:"transparent"},buttonsContainer:{display:"flex",gap:8,flexShrink:0},audioVisualizerContainer:{flex:1,minWidth:0,display:"flex"},spacer:{flex:1,minWidth:0},placeholder:{fontSize:"inherit",width:"100%",borderRadius:4,caretColor:t.lightTextColor,...n(799954).nE,marginTop:2},placeholderText:{color:t.lightTextColor},moreIconButton:{width:24,height:24},titleText:{fontSize:"1.25em"}})),[W,e.style,I]),K=(0,F.jsxs)(n(42425).Ay,{style:V.root,ref:a,children:[(0,F.jsx)(p().s,{allowSelectionWithin:!1,children:(0,F.jsxs)(n(2143).H,{role:"title","aria-label":"Transcription title",type:n(756279).A.X,store:d,style:V.controlRowContainer,ref:l,className:n(817942).A5,children:[(0,F.jsx)(Ne,{store:e.store,selectedTabType:I}),D?(0,F.jsx)("div",{style:V.audioVisualizerContainer,children:(0,F.jsx)(n(29703).t,{fillWidth:!0,forceRender:"paused"===L.state||!R})}):(0,F.jsx)("div",{style:V.spacer}),(0,F.jsxs)("div",{style:V.buttonsContainer,children:[(0,F.jsx)(E,{store:e.store}),R?(0,F.jsx)(n(406699).Ay,{renderOrigin:e=>(0,F.jsx)(m().A,{icon:n(30626)._,style:V.moreIconButton,ariaLabel:g.formatMessage(Ke.moreOptions),...e}),render:()=>(0,F.jsx)(Le,{transcriptionBlockStore:e.store}),popupType:n(14235).nl.Popup,placementToOrigin:b().W.Bottom,alignmentToOrigin:b().C.End,open:j,onClick:()=>{k().c.setSettingsOpenForBlockId(e.store.id)},onClose:()=>{k().c.setSettingsOpenForBlockId(void 0)}}):null]})]})}),(0,F.jsxs)("div",{style:{paddingTop:0,paddingBottom:20,paddingLeft:20,paddingRight:20},children:[P&&"notes"!==I?(0,F.jsx)(n(246722).A,{store:h,disabled:e.disabled,style:V.titleText,inPageFind:n(792540).Os.block_match,pasteBehavior:"inline"}):null,(0,F.jsx)(n(378765).A,{id:O,loaded:z,spinnerSize:"relative",showSpinnerTimeout:500,innerStyle:"transcript"===I?V.transcriptionContent:V.content,style:V.container,children:(0,F.jsx)(n(199896).A,{store:B,analyticsName:"page_content",canSelect:!0,canDrag:!1,shouldShowHalo:!1,children:(0,F.jsx)(n(99945).A,{store:M,disabled:e.disabled,disableCommentMenu:e.disableCommentMenu,disableHoverMenu:"transcript"===I,disableDrag:e.disableDrag})},B.id)}),(0,F.jsx)(se,{store:e.store,selectedTabType:I})]})]});return(0,f().NW)(e.store,t,(0,i.useMemo)((()=>({renderedType:"transcription",getNode:()=>a.current,getBlockStore:()=>e.store,handleCreated(){(0,v().placeCursorInNotesTab)({blockStore:e.store})}})),[e.store]),K)}));function Ne(e){const{store:t,selectedTabType:n}=e,i=(0,r().K8)((()=>t.getContentStores()),[t]);return(0,F.jsx)("div",{style:{display:"flex",gap:0,alignItems:"center",flexDirection:"row"},children:i.map((e=>(0,F.jsx)(Ye,{store:t,tabStore:e,selectedTabType:n},e.id)))})}Ue.displayName="TranscriptionBlockImpl";const qe=(0,c().YK)({notes:{defaultMessage:"Notes",id:"transcriptionBlock.tab.notes"},transcript:{defaultMessage:"Transcript",id:"transcriptionBlock.tab.transcript"},summary:{defaultMessage:"Summary",id:"transcriptionBlock.tab.summary"}});function Ye(e){const{store:t,tabStore:n,selectedTabType:i}=e,o=(0,r().K8)((()=>y(t,n)),[t,n]),a=(0,r().K8)((()=>o===i),[o,i]),l=(0,s().IS)((e=>({tabStyle:{display:"flex",justifyContent:"center",paddingTop:8,paddingBottom:8,whiteSpace:"nowrap",minWidth:0,flexShrink:0,fontWeight:500,paddingRight:8,paddingLeft:8,position:a?"relative":void 0,borderRadius:6,gap:8,color:a?e.regularTextColor:e.lightTextColor},border:{borderBottom:`3px solid ${e.regularTextColor}`,position:"absolute",bottom:-11,left:0,right:0}})),[a]);return o?(0,F.jsxs)(g().p,{style:l.tabStyle,onClick:()=>{k().c.setTabState(t.id,n.id)},children:[(0,F.jsx)(Ze,{tabType:o,isSelected:a}),(0,F.jsx)(c().sA,{...qe[o]}),a&&(0,F.jsx)("div",{style:l.border})]}):null}function Ze(e){const{tabType:t,isSelected:n}=e,i=(0,r().K8)((()=>n?"primary":"secondary"),[n]);return"summary"===t?(0,F.jsx)(h().I,{icon:a().v,color:i}):"transcript"===t?(0,F.jsx)(h().I,{icon:l().b,color:i}):"notes"===t?(0,F.jsx)(h().I,{icon:d().x,color:i}):(0,u().HB)(t)}const Ge=i.memo(i.forwardRef(((e,t)=>(0,F.jsx)(n(112995).K,{from:"TranscriptionBlock",fallback:()=>null,children:(0,F.jsx)(Ue,{...e,ref:t})}))))},277201:(e,t,n)=>{n.d(t,{I:()=>y,i:()=>x});var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(420767),l=()=>n(959013),d=()=>n(186445),c=()=>n(38337),u=()=>n(869562),p=()=>n(749687),g=()=>n(962730),m=()=>n(948914),h=()=>n(145214),f=()=>n(285790),b=()=>n(35392),v=()=>n(859428),S=n(474848);function y(e){const t=(0,o().v3)(),n=(0,o().Y0)(),i=(0,l().tz)(),s=(0,r().O$)(p().sidebarMouseEnteredStore),c=(0,r().K8)((()=>m().A.state.isShowingTabBar||!1),[]),g=(0,r().O$)(d().$o),h=i.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),f=(!n.isElectronMac||!g)&&!c&&s;return(0,S.jsx)(x,{isVisible:f,icon:a().B,caption:h,onClick:()=>{u().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const C={width:16,height:16,fill:"inherit"};function x(e){const t=(0,o().Y0)(),n=(0,s().IS)((t=>({keyboardShortcut:{color:t.text.contrastSecondary},button:{fill:t.mediumIconColor},enterAnimation:{opacity:e.isVisible?0:1},animation:{opacity:e.isVisible?1:0}})),[e.isVisible]),r=(0,i.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...n.button,...e.style})),[e.style,n.button,t.isMobile]);return(0,S.jsx)(v().A,{renderTooltip:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,S.jsx)(b().A,{style:n.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?g().W.Right:g().W.Bottom,render:n=>(0,S.jsx)(h().A,{tag:f().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:C,mobileFeedback:t.isMobile,onClick:e.onClick,className:c().P7S,...n})})}},279900:(e,t,n)=>{function i(e){let t,n,i;return async function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t?(i=r,n||(n=t.then((()=>(n=void 0,t=e(...i),t))),n)):(t=e(...r),t)}}n.d(t,{A:()=>i})},299960:(e,t,n)=>{n.d(t,{U:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("pause",{viewBox:"0 0 6 8",svg:(0,i.jsx)("path",{d:"M1.008 7.473q-.294 0-.442-.149t-.144-.441V1.477q0-.29.148-.438.15-.148.438-.148h.937q.29.003.438.148.148.144.148.438v5.406q0 .292-.148.441-.15.15-.438.149zm3.047 0q-.297 0-.446-.149-.144-.149-.144-.441V1.477q0-.29.148-.438.149-.148.442-.148h.933q.293 0 .438.148.148.144.148.438v5.406q0 .292-.148.441-.145.15-.438.149z"})})},305961:(e,t,n)=>{n.d(t,{d:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("eyePadded",{viewBox:"0 0 24 24",svg:(0,i.jsx)("path",{d:"M12 17.9912C17.6055 17.9912 21.3857 13.4727 21.3857 12.0713C21.3857 10.6699 17.5986 6.1582 12 6.1582C6.47656 6.1582 2.60742 10.6699 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.2715 7.63184 7.4707 12 7.4707C16.3613 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 13.0283 16.3613 16.6787 12 16.6787ZM12 15.7559C14.0508 15.7559 15.6914 14.0811 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C9.94238 8.39355 8.29492 10.0137 8.30176 12.0713C8.31543 14.0811 9.94238 15.7559 12 15.7559ZM12 13.2607C11.3369 13.2607 10.7969 12.7275 10.7969 12.0713C10.7969 11.415 11.3369 10.8818 12 10.8818C12.6631 10.8818 13.1963 11.415 13.1963 12.0713C13.1963 12.7275 12.6631 13.2607 12 13.2607Z"})})},323914:(e,t,n)=>{n.d(t,{c:()=>r,y:()=>o});var i=()=>n(463830);const o=new(i().A),r=new(i().A)},324561:(e,t,n)=>{n.d(t,{Gi:()=>g,Q7:()=>p,UU:()=>m,_3:()=>u,a9:()=>c,f_:()=>d});var i=()=>n(484714),o=()=>n(56366),r=()=>n(857639),s=()=>n(762433),a=()=>n(596513),l=()=>n(714300);function d(e){let{spaceId:t}=e;const n=(0,i().v3)();return(0,o().K8)((()=>{if(t)return a().t.getData(n,{spaceId:t})}),[n,t])}function c(e){if("admin"===(null==e?void 0:e.type))return e}function u(e){let{spaceId:t}=e;return c((0,l().l)({spaceId:t}))}function p(e,t,n){if(!t)return 0;const i=(0,s().yB)({spaceId:e,logFunction:r().log.bind(r()),billingData:t});return i?Math.max(i,n):0}function g(e){var t;const n=null===(t=(0,s().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!n)return;const i=n.unitAmount,o="year"===n.billingInterval?12:1;return{amount:i.amount/o,currencyCode:i.currencyCode}}function m(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},332390:(e,t,n)=>{n.d(t,{C7:()=>I,Yf:()=>L,k8:()=>B,lN:()=>_,oG:()=>P});var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(700500),a=()=>n(130382),l=()=>n(959013),d=()=>n(534177),c=()=>n(191197),u=()=>n(953006),p=()=>n(68465),g=()=>n(231722),m=()=>n(792002),h=()=>n(465425),f=()=>n(51367),b=()=>n(301421),v=()=>n(351360),S=()=>n(411671),y=()=>n(630116),C=()=>n(24157),x=()=>n(576590),A=()=>n(656633),k=()=>n(972911),w=n(474848);const j=1,T=1,M=(0,l().YK)({spaceForAiHeader:{id:"AiOnboardingTooltips.spaceForAi.header",defaultMessage:"Press ‘space’ for AI"},spaceForAiContent:{id:"AiOnboardingTooltips.spaceForAi.content",defaultMessage:"On a new line or page, press ‘space’ on your keyboard for AI to generate or edit the page. Try it now!"},askAiAnythingHeader:{id:"AiOnboardingTooltips.askAiAnything.header",defaultMessage:"Ask AI anything"},askAiAnythingContent:{id:"AiOnboardingTooltips.askAiAnything.content",defaultMessage:"Just tell AI what to do — the more details, the better. You can also start from an example in the menu."},refineAiResponseHeader:{id:"AiOnboardingTooltips.refineAiResponse.header",defaultMessage:"Tell AI what to do next"},refineAiResponseContent:{id:"AiOnboardingTooltips.refineAiResponse.content",defaultMessage:"How was it? Give AI further instructions to improve what it wrote, or hit ‘Done’ when finished."},showAssistantLocationHeader:{id:"AiOnboardingTooltips.showAssistantLocation.answersToYourQuestionHeader",defaultMessage:"Ask AI when searching"},showAssistantLocationContent:{id:"AiOnboardingTooltips.showAssistantLocation.askQuestionBody",defaultMessage:"AI can find pages and synthesize a quick, concise answer for you. Try it now."},showAssistantOriginElementLocationHeader:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.header",defaultMessage:"Start by asking a question"},showAssistantOriginElementLocationContent:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.content",defaultMessage:"Notion AI will find pages and compose a concise answer for you. Try it now."}});function I(){const e=(0,o().v3)(),t=function(){const e=(0,o().v3)(),t=(0,r().K8)((()=>{var e;return null===(e=v().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),n=(0,r().K8)((()=>{const t=v().default.state.mainEditorCurrentBlockStore;return t&&S().A.getMode(e,t)}),[e]);return(0,r().K8)((()=>{if(e.device.isMobile)return;const{currentUserSettingsStore:i,inAppCalloutStore:o}=v().default.state;if(!o.getCalloutVisibility("ai_onboarding_tooltip").canShow)return;const r=null==i?void 0:i.getSettings();if(!r)return;if((0,d().O9)(r.last_used_ai_writer_at))return;if("tooltip"!==r.ai_assistant_onboarding_phase)return;if((0,A().vp)(e,t)){if(!(0,d().O9)(r.ai_sales_assisted_extra_notification_seen_at)||(0,a().Mn)(r.ai_sales_assisted_extra_notification_seen_at)<T)return}else if((0,d().O9)(r.ai_assistant_onboarding_phase_last_set_at)&&(0,a().Mn)(r.ai_assistant_onboarding_phase_last_set_at)<j)return;if("space_for_ai"!==(0,k().V7)())return;if(!(0,p().ZE)(n))return;const l=C().default.state;if("editing"===l.mode){const e=(0,g().H7)(l.multiSelection);if(e&&(0,m().gE)(e.selection)){const t=e.store,n=b().n.findEditableWithStore(t);if(n){const e="block"===t.pointer.table?y().Bv.createChildStore(t,t.pointer):void 0,i=e&&e.getType(),o=Boolean(i&&(0,s().ZW)(i)),r=t.getValue();if(o&&!r)return n}}}}),[e,n,t])}(),[n,c]=(0,i.useState)(!1),h=(0,i.useCallback)((()=>{c(!0)}),[]),f=!n&&Boolean(t);return(0,i.useEffect)((()=>()=>{f&&(0,k().ZI)(e)}),[e,f]),f&&t?(0,w.jsx)(u().k,{origin:()=>t.getNode(),placementToOrigin:"bottom",header:(0,w.jsx)(l().sA,{...M.spaceForAiHeader}),content:(0,w.jsx)(l().sA,{...M.spaceForAiContent}),onCloseClick:h}):null}function B(e){const{originRef:t,openState:n}=e,s=(0,o().v3)(),a=(0,r().K8)((()=>(0,k().V7)()),[]),[d,c]=(0,i.useState)(!1),p=(0,i.useCallback)((()=>{c(!0)}),[]),g="ask_ai_anything"===a&&"initialPrompt"===n.stage&&!d;return(0,i.useEffect)((()=>()=>{!s.device.isMobile&&g&&(0,k().ZI)(s)}),[s,g]),s.device.isMobile||!g?null:(0,w.jsx)(u().k,{origin:t,placementToOrigin:"top",header:(0,w.jsx)(l().sA,{...M.askAiAnythingHeader}),content:(0,w.jsx)(l().sA,{...M.askAiAnythingContent}),onCloseClick:p})}function _(e){const{originRef:t,openState:n,isInputEmpty:s}=e,a=(0,o().v3)(),d=(0,r().K8)((()=>(0,k().V7)()),[]),[c,p]=(0,i.useState)(!1),g=(0,i.useCallback)((()=>{p(!0)}),[]),m="refine_ai_response"===d&&"results"===n.stage&&!n.loading&&"cursor"===n.context.type&&s&&!c;return(0,i.useEffect)((()=>()=>{!a.device.isMobile&&m&&(0,k().ZI)(a)}),[a,m]),a.device.isMobile?null:(0,w.jsx)(u().k,{origin:m?t:void 0,placementToOrigin:"right",pointerOffset:-4,pointerLength:25,header:(0,w.jsx)(l().sA,{...M.refineAiResponseHeader}),content:(0,w.jsx)(l().sA,{...M.refineAiResponseContent}),onCloseClick:g})}function L(e){const{origin:t}=e,n=(0,o().v3)();(0,i.useEffect)((()=>{c().i(n,{from:"qna_button"}),f().DL(n,{callout_key:"ai_assistant_origin_element_tooltip",placement_key:"Tooltip"})}),[n]);const r=(0,i.useCallback)((()=>{const{currentUserSettingsStore:e}=v().default.state;e&&(c().z(n,{from:"qna_button"}),f().Sq(n,{callout_key:"ai_assistant_origin_element_tooltip",dismiss_type:"tooltip_dismiss",placement_key:"Tooltip"}),(0,x().setQnaOnboardingPhase)(n,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}),h().a(n,"ai_assistant_origin_element_tooltip"))}),[n]);return(0,w.jsx)(u().k,{style:{width:250},pointerLength:25,pointerPosition:"94%",origin:t,placementToOrigin:"top",header:(0,w.jsx)(l().sA,{...M.showAssistantOriginElementLocationHeader}),content:(0,w.jsx)(l().sA,{...M.showAssistantOriginElementLocationContent}),onCloseClick:r})}function P(e){const{origin:t}=e,n=(0,o().v3)();(0,i.useEffect)((()=>{c().i(n,{from:"qna_search"})}),[n]);const r=(0,i.useCallback)((()=>{const{currentUserSettingsStore:e}=v().default.state;e&&(c().z(n,{from:"qna_search"}),(0,x().setQnaOnboardingPhase)(n,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}))}),[n]);return(0,w.jsx)(u().k,{style:{width:250},pointerLength:25,pointerPosition:"5%",origin:t,placementToOrigin:"bottom",header:(0,w.jsx)(l().sA,{...M.showAssistantLocationHeader}),content:(0,w.jsx)(l().sA,{...M.showAssistantLocationContent}),onCloseClick:r})}(0,n(466103).exposeDebugEnvironmentValue)("resetAIOnboarding",(e=>()=>{const{currentUserSettingsStore:t}=v().default.state;t&&n(317909).createAndCommit({userAction:"AiIntroModal.debugging.resetAIOnboarding",environment:e,canUndo:!0,perform:e=>{n(755199).mJ({userSettingsStore:t,transaction:e,data:{ai_onboarding_phase:"space_for_ai"}})},userId:t.id})}))},383286:(e,t,n)=>{n.d(t,{E:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("microphone",{viewBox:"0 0 17 25",svg:(0,i.jsx)("path",{d:"M0.20752 12.0743C0.20752 13.5496 0.511882 14.853 1.12061 15.9845C1.72933 17.116 2.57438 18.0219 3.65576 18.7023C4.73714 19.3826 5.98324 19.7908 7.39404 19.9269V22.129H3.45166C3.17236 22.129 2.93245 22.2257 2.73193 22.4191C2.53141 22.6196 2.43115 22.8595 2.43115 23.1388C2.43115 23.4109 2.53141 23.6437 2.73193 23.837C2.93245 24.0376 3.17236 24.1378 3.45166 24.1378H13.313C13.5923 24.1378 13.8322 24.0376 14.0327 23.837C14.2332 23.6437 14.3335 23.4109 14.3335 23.1388C14.3335 22.8595 14.2332 22.6196 14.0327 22.4191C13.8322 22.2257 13.5923 22.129 13.313 22.129H9.37061V19.9269C10.7814 19.7908 12.0239 19.3826 13.0981 18.7023C14.1795 18.0219 15.0246 17.116 15.6333 15.9845C16.242 14.853 16.5464 13.5496 16.5464 12.0743V9.94739C16.5464 9.66809 16.4461 9.43176 16.2456 9.2384C16.0522 9.04504 15.8159 8.94836 15.5366 8.94836C15.2573 8.94836 15.0174 9.04504 14.8169 9.2384C14.6164 9.43176 14.5161 9.66809 14.5161 9.94739V11.9991C14.5161 13.2166 14.2583 14.2837 13.7427 15.2003C13.2271 16.1098 12.5109 16.8152 11.5942 17.3165C10.6776 17.8178 9.60693 18.0685 8.38232 18.0685C7.16488 18.0685 6.09424 17.8178 5.17041 17.3165C4.24658 16.8152 3.52686 16.1098 3.01123 15.2003C2.50277 14.2837 2.24854 13.2166 2.24854 11.9991V9.94739C2.24854 9.66809 2.14827 9.43176 1.94775 9.2384C1.74723 9.04504 1.50374 8.94836 1.21729 8.94836C0.94515 8.94836 0.708822 9.04504 0.508301 9.2384C0.30778 9.43176 0.20752 9.66809 0.20752 9.94739V12.0743ZM8.38232 15.8448C9.10563 15.8448 9.75016 15.6766 10.3159 15.34C10.8888 14.9962 11.3364 14.5236 11.6587 13.922C11.9881 13.3204 12.1528 12.6222 12.1528 11.8273V4.59778C12.1528 3.80286 11.9881 3.10461 11.6587 2.50305C11.3364 1.90149 10.8888 1.43241 10.3159 1.09583C9.75016 0.752075 9.10563 0.5802 8.38232 0.5802C7.65902 0.5802 7.0109 0.752075 6.43799 1.09583C5.87223 1.43241 5.42464 1.90149 5.09521 2.50305C4.76579 3.10461 4.60107 3.80286 4.60107 4.59778V11.8273C4.60107 12.6222 4.76579 13.3204 5.09521 13.922C5.42464 14.5236 5.87223 14.9962 6.43799 15.34C7.0109 15.6766 7.65902 15.8448 8.38232 15.8448Z"})})},408197:(e,t,n)=>{n.d(t,{s:()=>o});n(296540);const i={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M10.566 16.22a4.6 4.6 0 0 1-2.068-.487v-.01l-1.423-.487h-.122V7.498l1.76-1.876c.293-.375.576-.938.846-1.475.179-.355.352-.7.519-.972l.36-.74a1.29 1.29 0 0 1 1.551-.527c.624.243.955.916.77 1.56l-.507 1.774c-.099.343-.241.63-.384.917a5.6 5.6 0 0 0-.376.887.404.404 0 0 0 .39.517h4.095a1.22 1.22 0 0 1 1.218 1.218c0 .42-.224.78-.555.995a1.2 1.2 0 0 1-.147 2.213c.274.224.459.556.459.936a1.21 1.21 0 0 1-1.21 1.219 1.22 1.22 0 0 1-.868 2.077zM5.734 8.148H3.663a.975.975 0 0 0-.975.975v5.138c0 .538.436.975.974.975h2.072z"})},o=(0,n(340498).wt)("handThumbsUpFill",i)},420767:(e,t,n)=>{n.d(t,{B:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("doubleChevronLeft",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M7.07031 13.8887C7.2207 14.0391 7.40527 14.1211 7.62402 14.1211C8.06836 14.1211 8.41699 13.7725 8.41699 13.3281C8.41699 13.1094 8.32812 12.9043 8.17773 12.7539L3.37207 8.05762L8.17773 3.375C8.32812 3.21777 8.41699 3.0127 8.41699 2.80078C8.41699 2.35645 8.06836 2.00781 7.62402 2.00781C7.40527 2.00781 7.2207 2.08984 7.07031 2.24023L1.73828 7.44922C1.56055 7.62012 1.46484 7.8252 1.46484 8.06445C1.46484 8.29688 1.55371 8.49512 1.73828 8.67969L7.07031 13.8887ZM13.1748 13.8887C13.3252 14.0391 13.5098 14.1211 13.7354 14.1211C14.1797 14.1211 14.5283 13.7725 14.5283 13.3281C14.5283 13.1094 14.4395 12.9043 14.2891 12.7539L9.4834 8.05762L14.2891 3.375C14.4395 3.21777 14.5283 3.0127 14.5283 2.80078C14.5283 2.35645 14.1797 2.00781 13.7354 2.00781C13.5098 2.00781 13.3252 2.08984 13.1748 2.24023L7.84961 7.44922C7.66504 7.62012 7.57617 7.8252 7.56934 8.06445C7.56934 8.29688 7.66504 8.49512 7.84961 8.67969L13.1748 13.8887Z"})})},436150:(e,t,n)=>{n.d(t,{v:()=>o});n(296540);const i={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"m6.953 12.502 1.76 1.876c.293.375.576.938.846 1.475.179.356.352.7.519.972l.36.741c.322.527.976.741 1.551.527.624-.244.955-.917.77-1.56l-.507-1.775a5.3 5.3 0 0 0-.384-.917c-.138-.278-.276-.556-.376-.887a.404.404 0 0 1 .39-.517h4.095a1.22 1.22 0 0 0 1.218-1.218c0-.42-.224-.78-.555-.995.4-.195.672-.594.672-1.072a1.2 1.2 0 0 0-.819-1.141 1.21 1.21 0 0 0 .459-.936 1.21 1.21 0 0 0-1.21-1.219 1.22 1.22 0 0 0-.868-2.077h-4.308c-.722 0-1.424.166-2.068.488v.01l-1.423.487h-.122zM5.734 4.764v7.088H3.663a.975.975 0 0 1-.975-.975V5.74c0-.538.436-.975.974-.975z"})},o=(0,n(340498).wt)("handThumbsDownFill",i)},454531:(e,t,n)=>{n.d(t,{W:()=>p});var i=()=>n(867772),o=()=>n(681810),r=()=>n(901389),s=()=>n(896628),a=()=>n(383594),l=()=>n(317909),d=()=>n(892632);const c=1500,u=(0,n(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function p(e){let{environment:t,intl:n,store:i,rect:o}=e;a().W(t,{originGap:3,originRect:o,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:n.formatMessage(u.pageCover),onDelete:()=>{!function(e){let{environment:t,store:n}=e;a().I(),l().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:n,transaction:e})}})}({environment:t,store:i})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:n,position:o}=e;m({environment:t,store:i,url:n,position:o})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:n.formatMessage(u.fileTypeCaption,{idealImageWidth:c}),onUpload:e=>{a().I(),d().QM({environment:t,file:e[0],bucket:"secure",record:i.pointer,onStart:h,onProgress:f,onComplete:e=>{var n;n={environment:t,store:i,url:e},g({...n,position:.5})},onError:()=>{r().f1(n.formatMessage(u.uploadFailed))}})}},{type:"embed",title:n.formatMessage(u.embedTitle),inputPlaceholder:n.formatMessage(u.embedPlaceholder),caption:n.formatMessage(u.embedCaption),buttonText:n.formatMessage(u.embedSubmit),onChange:e=>{var n;n={environment:t,store:i,url:e},g({...n,position:.5}),a().I()}},{type:"unsplash",onChange:e=>{let{url:n,position:o}=e;m({environment:t,store:i,url:n,position:o})}}]})}async function g(e){const{environment:t,store:n,url:r,position:a}=e,{serverCommitResult:d}=l().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:n,url:r,position:a||.5,transaction:e})}});await d,o().A.state.loadingMode===i().vS&&o().A.setState({loadingMode:i().Gi,dataURL:o().A.state.dataURL,uploadProgress:100})}function m(e){g(e),e.environment.device.isMobile&&a().I()}function h(e){const{file:t,name:n,size:r}=e;if(a().I(),o().A.setState({loadingMode:i().Wc,file:t,name:n,size:r}),t instanceof File&&t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{o().A.state.loadingMode===i().Wc&&o().A.setState({...o().A.state,uploadProgress:0,loadingMode:i().vS,dataURL:e.target.result})},e.readAsDataURL(t)}}function f(e){const{progressPercent:t}=e;o().A.state.loadingMode===i().vS&&o().A.setState({...o().A.state,uploadProgress:t})}},518598:(e,t,n)=>{n.d(t,{K:()=>c});n(296540);var i=()=>n(426388),o=()=>n(959013),r=()=>n(705540),s=()=>n(285790),a=()=>n(745766),l=n(474848);const d=(0,o().YK)({menu:{defaultMessage:"Menu",id:"topbar.appMenuButton.title"}});function c(){const e=(0,o().tz)();return(0,l.jsx)(s().A,{style:{position:"absolute",top:"10px",left:"14px",width:24,height:24,zIndex:1e5,...(0,a().g)({noDrag:!0})},iconStyle:{width:16,height:16},isDarkIconColor:!0,onClick:()=>{r().openAppMenu()},icon:i().S,ariaLabel:e.formatMessage(d.menu)})}},555267:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(296540),o=()=>n(401497),r=()=>n(62856),s=()=>n(331542),a=n(474848);function l(e){let{loadingMessage:t}=e;const n=(0,o().DP)(),l=(0,r().A)(!0,400);return(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(s().A,{}),t&&(0,a.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t})]})})}},555555:(e,t,n)=>{n.d(t,{n:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("import",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},567121:(e,t,n)=>{n.d(t,{EG:()=>s,K5:()=>r,RH:()=>o,Yi:()=>a,ls:()=>i});const i=32,o=202,r=1e3,s="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",a="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},578194:(e,t,n)=>{n.d(t,{r:()=>i});const i=(0,n(583835).Dv)("importEvernote")},599500:(e,t,n)=>{n.d(t,{g:()=>v});n(296540);var i=()=>n(484714),o=()=>n(56366),r=()=>n(401497),s=()=>n(101847),a=()=>n(959013),l=()=>n(100622),d=()=>n(704152),c=()=>n(460292),u=()=>n(554509),p=()=>n(859428),g=()=>n(437622),m=()=>n(58293),h=()=>n(962730),f=()=>n(10984),b=n(474848);function v(e){let{onClick:t,showIcon:n=!0}=e;const r=y(n),s=(0,i().v3)(),l=(0,m().r)(),c=(0,o().K8)((()=>l&&(0,g().GK)(s,l)),[s,l]),v=(0,o().K8)((()=>(0,f().AI)()),[]);return void 0===t?(0,b.jsx)("div",{style:{...r.badge,cursor:"default"},children:(0,b.jsx)(S,{showIcon:n})}):(0,b.jsx)(p().A,{placement:h().W.Bottom,style:r.tooltip,render:e=>(0,b.jsx)(d().A,{onClick:t,style:{...r.badge,cursor:"pointer"},hoveredStyle:r.badgeHover,pressedStyle:r.badgePressed,...e,children:(0,b.jsx)(S,{showIcon:n})}),renderTooltip:()=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:(0,b.jsx)(a().sA,{id:"trialBadge.tooltip.title",defaultMessage:"{hasSpaceName, select, true {{spaceName}} other {Your workspace}} is on a free {planName, select, plus {Plus} business {Business} enterprise {Enterprise} other {}} trial",values:{hasSpaceName:Boolean(c),spaceName:c,planName:v}})}),(0,b.jsx)(u().D,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:(0,b.jsx)(a().sA,{id:"trialBadge.tooltip.description",defaultMessage:"Click to learn more"})})]}),textWrap:!0})}function S(e){let{showIcon:t}=e;const n=y(t);return(0,b.jsxs)(b.Fragment,{children:[t?(0,b.jsx)("span",{style:n.giftIcon,children:(0,b.jsx)(c().Q,{iconGroup:s().T,variantName:"mini",colorName:"orangePrimary"})}):null,(0,b.jsx)(u().D,{styleName:"UISmall-12px/Medium",children:(0,b.jsx)(a().sA,{id:"trialBadge.title",defaultMessage:"Free trial"})})]})}function y(e){return(0,r().IS)((t=>({badge:{display:"flex",flexDirection:"row",gap:4,justifyContent:"center",alignItems:"center",color:t.icon.orangePrimary,background:t.fill.orangeSecondary,padding:e?"0px 6px 0px 4px":"0px 6px",height:e?22:20,borderRadius:6,width:"fit-content"},badgeHover:{background:l().XA[t.mode].orange[100]},badgePressed:{background:l().XA[t.mode].orange[200]},tooltip:{maxWidth:"240px",width:"max-content",display:"flex",padding:"4px 6px",flexDirection:"column",alignItems:"flex-start",gap:2,borderRadius:4},giftIcon:{paddingBottom:1}})),[e])}},608581:(e,t,n)=>{n.d(t,{A:()=>c});n(898992),n(354520),n(581454),n(941795);var i=n(296540),o=()=>n(401497),r=()=>n(451306),s=()=>n(284371),a=()=>n(963575),l=n(474848);function d(e){const{button:t,isLast:n}=e,a=(0,o().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:s().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return i.cloneElement(t,{...(0,r().AH)(t.props.style,a.button,n&&a.buttonLast),hoveredStyle:(0,r().AH)(a.buttonHovered,n&&a.buttonLast).style,pressedStyle:a.buttonPressed})}const c=function(e){let{children:t,isVisible:c,position:u,style:p}=e;const g=(0,n(484714).v3)(),m=(0,o().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:a().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:g.device.isMobile?"auto":"none",opacity:g.device.isMobile?1:0,fontFamily:s().vc(n(662303).locale).sans,position:"absolute",right:a().A.horizontal.small,bottom:a().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:a().A.vertical.small,bottom:void 0}})),[g]),h=i.Children.toArray(t).filter(n(534177).O9),f=h.length;return(0,l.jsx)(n(145214).A,{animate:{opacity:c?1:0},...(0,r().AH)(m.container,p,c&&m.containerHover,"top"===u&&m.containerTop),children:h.map(((e,t)=>{const o=t===f-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===n(859428).A&&i.isValidElement(e))return i.cloneElement(e,{render:(t,n)=>{const i=e.props.render(t,n);return(0,l.jsx)(d,{isLast:o,button:i},e.key)}});if(e.type===n(704152).A&&i.isValidElement(e))return(0,l.jsx)(d,{isLast:o,button:e},e.key)}}))})}},643381:(e,t,n)=>{n.d(t,{l:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("repeat",{viewBox:"0 0 16 14",svg:(0,i.jsx)("path",{d:"M1.185 7.317a.689.689 0 00.697-.704v-.601c0-1.19.806-1.942 2.064-1.942H9.23v1.573c0 .328.199.52.527.52a.66.66 0 00.403-.144l2.68-2.236c.253-.212.26-.547 0-.765L10.16.782A.62.62 0 009.757.64c-.328 0-.527.184-.527.52v1.53H4.05C1.875 2.69.48 3.9.48 5.875v.738c0 .397.308.704.705.704zm13.624-.649a.689.689 0 00-.698.704v.608c0 1.19-.806 1.942-2.064 1.942H6.763V8.35c0-.329-.199-.52-.527-.52a.66.66 0 00-.403.144l-2.68 2.242c-.26.212-.26.547 0 .759l2.68 2.242a.66.66 0 00.403.143c.328 0 .527-.191.527-.52v-1.544h5.181c2.174 0 3.569-1.21 3.569-3.179v-.745a.695.695 0 00-.704-.704z"})})},675910:(e,t,n)=>{n.d(t,{M:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("clockAlternate",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M10.417 6.09961C10.5811 6.09961 10.7201 6.15885 10.834 6.27734C10.9525 6.39128 11.0117 6.53027 11.0117 6.69434V11.2949L10.376 9.34668L12.5977 12.3408C12.7116 12.4867 12.7617 12.6416 12.748 12.8057C12.7344 12.9697 12.6592 13.0996 12.5225 13.1953C12.3721 13.3001 12.2148 13.3389 12.0508 13.3115C11.8913 13.2842 11.75 13.1908 11.627 13.0312L9.99316 10.8779C9.93392 10.8005 9.89062 10.7253 9.86328 10.6523C9.83594 10.5749 9.82227 10.4928 9.82227 10.4062V6.69434C9.82227 6.53027 9.87923 6.39128 9.99316 6.27734C10.1117 6.15885 10.2529 6.09961 10.417 6.09961ZM10.6768 17.126C9.93848 17.126 9.22298 17.0098 8.53027 16.7773C7.84212 16.5495 7.20638 16.2259 6.62305 15.8066C6.04427 15.3919 5.54297 14.9111 5.11914 14.3643C4.96875 14.182 4.90495 13.9928 4.92773 13.7969C4.95052 13.6009 5.03939 13.446 5.19434 13.332C5.36296 13.2135 5.53841 13.1748 5.7207 13.2158C5.90299 13.2568 6.06478 13.3571 6.20605 13.5166C6.54785 13.9678 6.94889 14.3597 7.40918 14.6924C7.87402 15.0205 8.37988 15.2734 8.92676 15.4512C9.47819 15.6335 10.0615 15.7269 10.6768 15.7314C11.4606 15.736 12.1943 15.5902 12.8779 15.2939C13.5661 15.0023 14.1676 14.599 14.6826 14.084C15.2021 13.5645 15.6077 12.9629 15.8994 12.2793C16.1956 11.5911 16.3438 10.8529 16.3438 10.0645C16.3438 9.2806 16.1956 8.54688 15.8994 7.86328C15.6077 7.17513 15.2021 6.57357 14.6826 6.05859C14.1676 5.53906 13.5661 5.13346 12.8779 4.8418C12.1943 4.55013 11.4606 4.4043 10.6768 4.4043C9.88835 4.4043 9.15234 4.55013 8.46875 4.8418C7.78971 5.12891 7.19043 5.52995 6.6709 6.04492C6.15137 6.5599 5.74349 7.15918 5.44727 7.84277C5.1556 8.52181 5.00749 9.25326 5.00293 10.0371H3.6084C3.61296 9.07096 3.7998 8.16406 4.16895 7.31641C4.53809 6.46875 5.0485 5.72135 5.7002 5.07422C6.35189 4.42708 7.10156 3.92122 7.94922 3.55664C8.80143 3.1875 9.71061 3.00293 10.6768 3.00293C11.6429 3.00293 12.5521 3.1875 13.4043 3.55664C14.2565 3.92578 15.0062 4.4362 15.6533 5.08789C16.305 5.73503 16.8154 6.4847 17.1846 7.33691C17.5537 8.18913 17.7383 9.09831 17.7383 10.0645C17.7383 11.0306 17.5537 11.9398 17.1846 12.792C16.8154 13.6442 16.305 14.3962 15.6533 15.0479C15.0062 15.6995 14.2565 16.2077 13.4043 16.5723C12.5521 16.9414 11.6429 17.126 10.6768 17.126ZM2.78809 8.66992H6.16504C6.33822 8.66992 6.4681 8.71094 6.55469 8.79297C6.64583 8.87044 6.68913 8.9707 6.68457 9.09375C6.68001 9.21224 6.63216 9.33984 6.54102 9.47656L4.87988 11.7803C4.76595 11.9352 4.63151 12.015 4.47656 12.0195C4.32161 12.0195 4.1849 11.9398 4.06641 11.7803L2.40527 9.47656C2.31413 9.3444 2.26628 9.2168 2.26172 9.09375C2.25716 8.9707 2.29818 8.87044 2.38477 8.79297C2.47591 8.71094 2.61035 8.66992 2.78809 8.66992Z"})})},681810:(e,t,n)=>{n.d(t,{A:()=>i});const i=new(n(867772).Ay)},710857:(e,t,n)=>{n.d(t,{x:()=>o});const i={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1};function o(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...i,...t}}},714300:(e,t,n)=>{n.d(t,{l:()=>l});var i=()=>n(484714),o=()=>n(56366),r=()=>n(176983),s=()=>n(596513),a=()=>n(324561);function l(e){let{spaceId:t}=e;const n=(0,i().v3)(),l=(0,r().J)();return(0,o().K8)((()=>{if(!t||!l)return;const e=s().t.getData(n,{spaceId:t});return(0,a().a9)(e)}),[n,t,l],{useDeepEqual:!0})}},748539:(e,t,n)=>{n.d(t,{f:()=>i});const i=new(n(645873).O2)("pageCovers",(async()=>n.e(40198).then(n.bind(n,193645))))},756114:(e,t,n)=>{n.d(t,{D:()=>i});function i(e,t){t.route.name;return!1}},765974:(e,t,n)=>{n.d(t,{b:()=>o});n(296540);const i={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},o=(0,n(340498).wt)("exclamationMarkTriangleFill",i)},777092:(e,t,n)=>{n.d(t,{JQ:()=>c,d5:()=>u,vt:()=>d});var i=()=>n(764880),o=()=>n(310442),r=()=>n(824862),s=()=>n(798880),a=()=>n(534177),l=()=>n(630116);function d(e){const{parentStore:t,pointer:n}=e,o=(0,l().Oo)(t,n).getValue();if(o)return(0,i().D3)({table:n.table,value:o})}function c(e){const{parentStore:t,pointer:n}=e;return n.table===r().GP?l().vK.createChildStore(t,n):n.table===s().oo?l().LU.createChildStore(t,n):n.table===o().yj?l().pH.createChildStore(t,n):void(0,a().HB)(n)}function u(e){return e.table===r().GP?(0,i().oC)(e.getValue()):e.table===s().oo?(0,i().MR)(e.getValue()):e.table===o().yj?(0,i().w2)(e.getValue()):void(0,a().HB)(e)}},801678:(e,t,n)=>{n.d(t,{A:()=>f});var i=n(296540),o=()=>n(662303),r=()=>n(484714),s=()=>n(56366),a=()=>n(451306),l=()=>n(959013),d=()=>n(100622),c=()=>n(496603),u=()=>n(284371),p=()=>n(720665),g=()=>n(145214),m=n(474848);const h={isRepositioning:!1};const f=function(e){const t=(0,i.useRef)(null),o=(0,r().v3)(),{isMobile:l}=(0,r().Y0)(),[d,u]=(0,i.useState)(h),g=(0,i.useCallback)((()=>{u(h)}),[]),{renderControl:f,onFlushTemporaryPosition:v,style:S,source:y,store:C}=e,{isRepositioning:x,image:A,startDragRenderedPosition:k,startDragImageScreenHeight:w}=d,j=(0,s().K8)((()=>0===n(502438).default.state.stores.length),[]),[T,M]=(0,i.useState)(!1),I=(0,s().uB)(e.mouseStore,n(454305).A),B=(0,s().K8)((()=>I.state.mouseEntered),[I]),_=(0,n(401497).IS)((()=>({dragContainer:{width:"100%",cursor:x?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[x]),L=(0,s().K8)((()=>function(e,t,n){return(0,c().Et)(n)?n:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,c().Et)(e))return e}const n=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,p().pN)(t)?n:t}}const i=t.getFormat(),o=i.page_cover_position;if((0,c().Et)(o))return o;return n}(e,t)}(y,C,d.temporaryPosition)),[d.temporaryPosition,y,C]);(0,i.useEffect)((()=>{const e=e=>{const n=t.current;n&&!n.contains(e.target)&&x&&v({imagePosition:L,reset:()=>{I.reset(),g()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[L,x,I,v,g]),x&&!j&&g();const P=(0,i.useMemo)((()=>(0,c().nF)((e=>{I.setState({...I.state,mouseEntered:!0})}),100)),[I]),R=(0,i.useMemo)((()=>(0,c().sg)((e=>{I.setState({...I.state,mouseEntered:!1})}),100)),[I]),F=(0,i.useCallback)(((e,t)=>{n(778417).IU({environment:o});const i=new Image;i.onload=()=>{u((e=>({...e,isRepositioning:!0,image:i})))},t&&(i.src=t)}),[o]),D=(0,i.useCallback)((e=>{v({imagePosition:L,reset:()=>{g()}})}),[L,v,g]),z=(0,i.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,n(819121).p)(t)&&M(!0)}),[]),O=(0,i.useCallback)((()=>{M(!0)}),[]),H=(0,i.useCallback)((e=>{if(A&&x){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/A.width*A.height;u((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:L})))}}}),[A,L,x]),E=(0,i.useCallback)((e=>{if(x){const t=e.diffY/(w||0)+(k||0);u((e=>({...e,temporaryPosition:(0,c().LI)((0,n(40845).A)(t,0,1),4)})))}}),[x,w,k]),W=(0,i.useCallback)((()=>{u((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),V=(0,s().K8)((()=>f({handleRepositionClick:F,handleSavePositionClick:D,handleCancelClick:g,isVisible:l||B||T||x,isRepositioning:x})),[F,D,T,l,x,B,f,g]);return(0,m.jsxs)("div",{ref:t,onFocus:z,onBlur:O,onMouseEnter:P,onMouseMove:P,onMouseLeave:R,...(0,a().AH)(_.container,S),children:[(0,m.jsx)(n(603820).A,{onDraggableDragStart:H,onDraggableDragMove:E,onDraggableDragEnd:W,onDraggableDragCancel:W,disabled:!x,render:t=>(0,m.jsx)("div",{...(0,a().AH)(_.dragContainer),...t,children:e.render({imagePosition:L,isRepositioning:x})})}),(0,m.jsx)(b,{small:e.small,isRepositioning:x}),V]})};function b(e){let{small:t,isRepositioning:n}=e;if(t)return null;const i={background:d().Ay.blackWithAlpha(.4),borderRadius:4,color:d().Ay.white,fontSize:12,fontFamily:u().vc(o().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,m.jsx)(g().A,{visible:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:i,children:(0,m.jsx)(l().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},846199:(e,t,n)=>{n.d(t,{A:()=>i});const i=n(757695).default.createValue({open:!1},{name:"TrialInfoModalStore"})},867772:(e,t,n)=>{n.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>i,pF:()=>s,vS:()=>o});const i="loadingLocalImage",o="uploading",r="downloading",s="loaded";class a extends(()=>n(757695))().default{getInitialState(){return{loadingMode:s}}}const l=a},893627:(e,t,n)=>{n.d(t,{K:()=>s});var i=n.n(n(440537)),o=()=>n(132456),r=()=>n(206267);class s{constructor(e){this.environmentName=void 0,this.mainShortId=void 0,this.getSettings=void 0,this.isServerOriginated=void 0,this.mapSpaceIdToShortId=void 0,this.idCreatorLogger=void 0,this.environmentName=e.environmentName,this.mainShortId=n(851941).Yf[this.environmentName],this.getSettings=e.getSettings,this.isServerOriginated=e.isServerOriginated,this.mapSpaceIdToShortId=e.mapSpaceIdToShortId,this.idCreatorLogger=e.idCreatorLogger??(()=>{})}idInMain(e){const{enableTestDateOffset:t,enableIdSchema:i}=this.getSettings();return i&&e!==n(867178).wI?(this.idCreatorLogger(void 0,e,t?"id_schema_test":"id_schema"),(0,o().J4)(t,this.mainShortId,e,this.isServerOriginated)):this.legacyId(e,"disabled")}pointerInMain(e){return{table:e,id:this.idInMain(e)}}async idWithSpaceId(e,t){const{enableTestDateOffset:n,enableIdSchema:r}=this.getSettings();if(!r||"space"===t)return this.legacyId(t,"disabled");const s=this.mapSpaceIdToShortId(e),a=i().types.isPromise(s)?await s:s;return a?(this.idCreatorLogger(e,t,n?"id_schema_test":"id_schema"),(0,o().kw)(n,a,t,this.isServerOriginated)):this.legacyId(t,"missing_short_id")}async pointerWithSpaceId(e,t){return{table:t,spaceId:e,id:await this.idWithSpaceId(e,t)}}idWithSpaceShortId(e,t){const{enableTestDateOffset:n,enableIdSchema:i}=this.getSettings();return i&&"space"!==t?(this.idCreatorLogger(void 0,t,n?"id_schema_test":"id_schema"),(0,o().kw)(n,e,t,this.isServerOriginated)):this.legacyId(t,"disabled")}legacyId(e,t){return this.idCreatorLogger(void 0,e,t),r().JW()}async deterministicIdWithSpaceId(e,t,n){const{enableTestDateOffset:s,enableIdSchema:a}=this.getSettings();if(!a)return this.idCreatorLogger(e,t,"disabled"),r().gB(n);const l=this.mapSpaceIdToShortId(e),d=i().types.isPromise(l)?await l:l;return d?(this.idCreatorLogger(e,t,s?"id_schema_test":"id_schema"),(0,o().lf)(d,t,n)):(this.idCreatorLogger(e,t,"missing_short_id"),r().gB(n))}deterministicIdWithSpaceShortId(e,t,n){const{enableTestDateOffset:i,enableIdSchema:s}=this.getSettings();return s?(this.idCreatorLogger(void 0,t,i?"id_schema_test":"id_schema"),(0,o().lf)(e,t,n)):(this.idCreatorLogger(void 0,t,"disabled"),r().gB(n))}async getSpaceIdCreator(e){if(!e)return new a(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new a(e,this.idCreatorLogger);const n=this.mapSpaceIdToShortId(e),o=i().types.isPromise(n)?await n:n;return this.getSpaceShortIdCreator(e,o)}getSpaceIdCreatorSync(e){if(!e)return new a(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new a(e,this.idCreatorLogger);const n=this.mapSpaceIdToShortId(e),o=i().types.isPromise(n)?void 0:n;return this.getSpaceShortIdCreator(e,o)}getSpaceShortIdCreator(e,t){const{enableIdSchema:n}=this.getSettings();return n&&t?new l(e,this,t):new a(e,this.idCreatorLogger)}async getSpaceIdCreatorFromModel(e){return e.getShortIdStr()?this.getSpaceShortIdCreator(e.id,Number(e.getShortIdStr())):await this.getSpaceIdCreator(e.id)}}class a{constructor(e,t){this.spaceId=void 0,this.idCreatorLogger=void 0,this.spaceId=e,this.idCreatorLogger=t}idInSavedSpace(e){return this.idCreatorLogger(void 0,e,"disabled"),r().JW()}idInMain(e){return this.idCreatorLogger(void 0,e,"disabled"),r().JW()}deterministicIdInSavedSpace(e,t){return this.idCreatorLogger(void 0,e,"disabled"),r().gB(t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}class l{constructor(e,t,n){this.spaceId=void 0,this.idCreator=void 0,this.spaceShortId=void 0,this.spaceId=e,this.idCreator=t,this.spaceShortId=n}idInSavedSpace(e){return this.idCreator.idWithSpaceShortId(this.spaceShortId,e)}idInMain(e){return this.idCreator.idInMain(e)}deterministicIdInSavedSpace(e,t){return this.idCreator.deterministicIdWithSpaceShortId(this.spaceShortId,e,t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}},943647:(e,t,n)=>{n.d(t,{A:()=>v});var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(959013),a=()=>n(896628),l=()=>n(454531),d=()=>n(317909),c=()=>n(478726),u=()=>n(867772),p=()=>n(681810),g=()=>n(608581),m=()=>n(145214),h=()=>n(704152),f=()=>n(24611),b=n(474848);const v=function(e){let{store:t,disabled:s,paddingRight:l,paddingLeft:c,height:g,proxyWidth:m}=e;const h=(0,o().v3)(),f=(0,r().uB)(void 0,n(454305).A),v=(0,r().K8)((()=>s||"suggest"===n(77246).Uv.getMode(t)),[s,t]),C=(0,r().K8)((()=>t.getCover()),[t]),x=(0,r().O$)(p().A),[A,k]=(0,i.useState)(void 0);if(!C)return null;const w=x.loadingMode!==u().pF&&x.loadingMode!==u().Wc;return(0,b.jsx)(n(801678).A,{mouseStore:f,onFlushTemporaryPosition:e=>function(e,t,n){const{imagePosition:i,reset:o}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:n,canUndo:!0,perform:e=>{a().yY({store:t,coverPosition:i,transaction:e}),o()}})}(e,t,h),renderControl:e=>{let{handleRepositionClick:n,handleSavePositionClick:i,handleCancelClick:o,isVisible:r,isRepositioning:s}=e;return(0,b.jsx)(y,{handleRepositionClick:n,handleSavePositionClick:i,handleCancelClick:o,isVisible:r,isRepositioning:s,lastProxiedUrl:A,store:t,disabled:v,paddingRight:l,paddingLeft:c,mouseStore:f})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:g,maxHeight:280,cursor:"default"},render:e=>(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(n(360083).A,{url:C.cover,isAuthenticated:!0,permissionRecord:C.pointer,width:m,onFinishedLoadingProxyUrl:k,render:(t,i)=>{const o={width:"100%",height:g,maxHeight:280,objectFit:"cover",opacity:w?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},r={width:"100%",height:g,maxHeight:280};return(0,b.jsx)(n(307440).E,{src:i,placeholderSrc:w?x.dataURL:void 0,placeholderBehavior:w?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:r,imageStyle:o,onLoadComplete:S,testId:"pageCover"})}}),w&&(0,b.jsxs)("div",{style:n(816559).fd,children:[(0,b.jsx)(n(331542).A,{size:"md",style:{marginRight:4}}),(0,b.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:(0,b.jsx)(n(773382).A,{percentage:x.uploadProgress})})]})]})})};function S(){p().A.reset()}function y(e){let{isVisible:t,isRepositioning:n,handleCancelClick:a,handleRepositionClick:d,handleSavePositionClick:v,lastProxiedUrl:S,store:y,disabled:C,paddingRight:x,paddingLeft:A,mouseStore:k}=e;const w=(0,o().v3)(),j=(0,s().tz)(),T=(0,i.useCallback)((e=>function(e,t,n,i,o){o.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:n,store:i,rect:r})}(e,w,j,y,k)),[w,j,y,k]),M=(0,r().K8)((()=>p().A.state.loadingMode),[]),I=(0,r().K8)((()=>function(e){let t;return t=e.isFullWidth()?"100%":c().x6,t}(y)),[y]);if(C||M!==u().pF)return null;const{device:B}=w,{isMobile:_}=B;return(0,b.jsx)(m().A,{animate:{width:I,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,b.jsxs)(g().A,{isVisible:t,position:"bottom",style:{marginRight:x,marginLeft:A},children:[!n&&(0,b.jsx)(h().A,{style:{borderRight:_?"none":void 0,...f().k},onClick:T,children:(0,b.jsx)(s().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!n&&!_&&(0,b.jsx)(h().A,{style:{...f().k,borderRight:"none"},onClick:e=>d(e,S),children:(0,b.jsx)(s().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),n&&!_&&(0,b.jsx)(h().A,{style:f().k,onClick:v,children:(0,b.jsx)(s().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),n&&!_&&(0,b.jsx)(h().A,{style:{...f().k,borderRight:"none"},onClick:a,children:(0,b.jsx)(s().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},969339:(e,t,n)=>{n.d(t,{C6:()=>s,HQ:()=>r,Yo:()=>a});var i=()=>n(645873);const o=new(i().O2)("login",(async()=>{const{default:e}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,465209)),{default:t}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,406370)),{default:i}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,737515)),{default:o}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,465833)),{default:r}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,52542));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:i,FrontLoginPage:o,LoginModalContent:r}})),r=(0,i()._h)(o,(e=>e.LoginPage)),s=(0,i()._h)(o,(e=>e.FrontLoginPage)),a=(0,i()._h)(o,(e=>e.LoginModalContent))},980151:(e,t,n)=>{n.d(t,{WO:()=>u,_V:()=>p,hK:()=>g});var i=()=>n(869558),o=()=>n(854150),r=()=>n(317909),s=()=>n(559102),a=()=>n(100875),l=()=>n(162674),d=()=>n(710857),c=()=>n(351360);function u(e){const{environment:t,currentSpaceViewStore:n,...i}=e;if(!n.getModel())return;const o=!(0,d().x)(n)[e.feature];r().createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,canUndo:!0,perform:t=>{r().applyOperation({store:n,operation:{pointer:n.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:o}},transaction:t})}}),(0,l().f_)({environment:t,show:o,...i})}function p(e){let{environment:t,option:n,from:i,userAction:o}=e;const s=c().default.state.currentSpaceViewStore;if(!s)return!1;const d=s.getOnAppStartStore().getValue();return r().createAndCommit({userAction:o,environment:t,canUndo:!0,perform:e=>{r().applyOperation({store:s,operation:{pointer:s.pointer,path:["settings","on_app_start"],command:"set",args:n},transaction:e})}}),(0,a().cq)({spaceView:s.getModel(),preference:n}),(0,l().lr)({environment:t,oldValue:d,newValue:n,from:i}),!0}function g(e){const{environment:t,selectedStore:n,currentSpaceViewStore:a,collectionContextStore:d}=e,c=d.collectionViewStore(),u=d.collectionStore(),p=d.collectionViewBlockStore();if(!(u&&c&&p&&a))return;const g=a.getTeamsStores(),m=n.table===o().yK?g.indexOf(n)+1:0,h=n.table===o().yK?n.id:void 0;r().createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{r().applyOperation({store:c,operation:{pointer:{id:c.id,table:i().Gy},path:["format","collection_view_source","teamId"],command:"set",args:h},transaction:e}),(0,s().d)({environment:t,collectionViewBlockStore:p,collectionViewStore:c,collectionStore:u,collectionContextStore:d,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0})}}),(0,l().AP)({environment:t,teamId:h,index:m})}},997513:(e,t,n)=>{n.d(t,{z:()=>g});var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(959013),l=()=>n(107683),d=()=>n(2143),c=()=>n(969339),u=()=>n(756279),p=n(474848);function g(e){let{loginModalStore:t,loginStore:n,title:s,description:a,isSignup:d,disableLoginLink:u,redirectURL:g,className:b,onDismiss:v,trustedDomain:S}=e;const y=(0,o().v3)(),C=(0,r().K8)((()=>t.state.open),[t]),x=(0,i.useId)(),A=(0,i.useId)(),k={loginStore:n,title:s,description:a,isSignup:d,redirectURL:g,disableLoginLink:u,titleAriaId:x,descriptionAriaId:A,trustedDomain:S};return(0,p.jsx)(l().s,{ariaLabelledBy:x,ariaDescribedBy:A,isOpen:C,onDismiss:()=>{f({loginModalStore:t,loginStore:n,onDismiss:v})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,p.jsx)(m,{children:(0,p.jsxs)("div",{className:b,children:[!y.device.isMobile&&(0,p.jsx)(h,{loginModalStore:t,loginStore:n,onDismiss:v}),(0,p.jsx)(c().Yo,{...k})]})})})}function m(e){let{children:t}=e;return(0,o().v3)().device.isMobile?(0,p.jsx)(d().H,{type:u().A.Y,children:t}):t}function h(e){let{loginModalStore:t,loginStore:n,onDismiss:i}=e;const o=(0,s().DP)();return(0,p.jsx)("div",{style:{fontSize:14,color:o.mediumTextColor,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer",zIndex:1},onClick:()=>{f({loginModalStore:t,loginStore:n,onDismiss:i})},children:(0,p.jsx)(a().sA,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function f(e){const{loginModalStore:t,loginStore:n,onDismiss:i}=e;n.reset(),t.setState({open:!1}),i&&i()}}}]);