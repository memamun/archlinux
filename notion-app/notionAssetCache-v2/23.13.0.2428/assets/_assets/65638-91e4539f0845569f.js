"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[65638],{22924:(e,t,n)=>{n.d(t,{A:()=>L});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497),s=()=>n(156275),l=()=>n(261164),d=n(474848);const c=(0,n(340498).wt)("plusRounded",{viewBox:"0 0 24 24",svg:(0,d.jsx)("path",{d:"M5.46094 11.8594C5.46094 12.1042 5.54688 12.3125 5.71875 12.4844C5.89062 12.651 6.09635 12.7344 6.33594 12.7344H11.125V17.5312C11.125 17.7656 11.2109 17.9688 11.3828 18.1406C11.5547 18.3125 11.7604 18.3984 12 18.3984C12.2448 18.3984 12.4531 18.3125 12.625 18.1406C12.7969 17.9688 12.8828 17.7656 12.8828 17.5312V12.7344H17.6641C17.9036 12.7344 18.1094 12.651 18.2812 12.4844C18.4531 12.3125 18.5391 12.1042 18.5391 11.8594C18.5391 11.6198 18.4531 11.4141 18.2812 11.2422C18.1094 11.0651 17.9036 10.9766 17.6641 10.9766H12.8828V6.19531C12.8828 5.95573 12.7969 5.75 12.625 5.57812C12.4531 5.40625 12.2448 5.32031 12 5.32031C11.7604 5.32031 11.5547 5.40625 11.3828 5.57812C11.2109 5.75 11.125 5.95573 11.125 6.19531V10.9766H6.33594C6.09635 10.9766 5.89062 11.0651 5.71875 11.2422C5.54688 11.4141 5.46094 11.6198 5.46094 11.8594Z"})});var u=()=>n(959013),g=()=>n(899963),p=()=>n(705540),h=()=>n(435009),m=()=>n(109488),b=()=>n(836251),v=()=>n(696746),x=()=>n(665579),f=()=>n(75993),S=()=>n(962730),y=()=>n(351360),C=()=>n(948914),w=()=>n(982254),j=()=>n(655438),k=()=>n(285790),A=()=>n(859428),B=()=>n(730591);const M=(0,u().YK)({tabSpacesButton:{id:"desktopTopbarBrowserHistoryButton.tabSpacesButton.label",defaultMessage:"Tab Spaces"}});function P(){var e;const t=(0,u().tz)(),{tabSpacesState:n}=(0,r().O$)(B().A),{activeTabSectionId:o,tabSpaces:i}=n,a=null===(e=i[o])||void 0===e?void 0:e.icon,s=()=>{p().tabSpacesState.toggleTabSpacesMenuOpen()};return(0,d.jsx)(A().A,{renderTooltip:()=>(0,d.jsx)("div",{style:{display:"flex"},children:t.formatMessage(M.tabSpacesButton)}),placement:S().W.Bottom,alignment:S().C.Center,originGap:6,render:e=>(0,d.jsx)(k().A,{ariaLabel:t.formatMessage(M.tabSpacesButton),icon:e=>a?(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"16px",height:"16px"},children:a}):(0,j()._)({...e,width:"16px",height:"16px"}),isDarkIconColor:!0,style:{position:"relative",width:24,height:24,marginRight:4},onClick:s,...e})})}var I=()=>n(35392);const T=(0,u().YK)({newTabButton:{id:"desktopTopbarBrowserHistoryButton.newTabButton.label",defaultMessage:"New tab"},goBackButton:{id:"desktopTopbarBrowserHistoryButtons.goBackButton.label",defaultMessage:"Go back"},goForwardButton:{id:"desktopTopbarBrowserHistoryButton.goForwardButton.label",defaultMessage:"Go forward"}}),L=function(e){let{showPlusButton:t=!0}=e;const o=(0,r().K8)((()=>n(712505).default.isCenterPeekOpen()),[]);return(0,d.jsx)(n(14235).Ay,{style:{background:"transparent",borderRadius:0,boxShadow:"none"},origin:(0,d.jsx)(E,{showPlusButton:t}),render:()=>(0,d.jsx)(E,{showPlusButton:t}),placementToOrigin:S().W.Center,alignmentToOrigin:S().C.Center,open:o,disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:n(377586).n.Popup})};function K(){const e=(0,u().tz)(),t=(0,r().K8)((()=>C().A.state.isTabPositionSupported),[]);return(0,d.jsx)(A().A,{renderTooltip:()=>(0,d.jsxs)("div",{style:{display:"flex"},children:[e.formatMessage(T.newTabButton),(0,d.jsx)(I().A,{name:"newTab",style:{opacity:.5,marginLeft:4}})]}),placement:S().W.Bottom,alignment:S().C.Center,originGap:6,render:n=>(0,d.jsx)(k().A,{ariaLabel:e.formatMessage(T.newTabButton),icon:e=>c({...e,width:"24px",height:"24px"}),isDarkIconColor:!0,className:"notion-new-tab-button",style:{position:"relative"},onClick:()=>p().newTab(t),...n})})}function R(e){let{isNavigationHistorySupported:t}=e;const n=(0,u().tz)(),r=(0,i().v3)(),a=(0,o.useCallback)((e=>(0,s().F)({...e,width:"16px",height:"16px"})),[]),l=!(0,b().MX)("back");return(0,d.jsx)(A().A,{renderTooltip:()=>(0,d.jsxs)("div",{style:{display:"flex"},children:[n.formatMessage(T.goBackButton),(0,d.jsx)(I().A,{name:"goBack",style:{opacity:.5,marginLeft:4}})]}),placement:S().W.Bottom,alignment:S().C.Center,originGap:6,render:e=>(0,d.jsx)(k().A,{ariaLabel:n.formatMessage(T.goBackButton),icon:a,isDarkIconColor:!0,className:"notion-history-back-button",disabled:l,style:{position:"relative",width:24,height:24,marginRight:4},onClick:e=>function(e,t,n){var o;g().Lt(t,{type:"back"});const i=e.metaKey||e.ctrlKey,r=null===(o=C().A.state.preferences)||void 0===o?void 0:o.isPinnedTabNewTabEnabled,a=w().A.state.currentTab.isPinned;n&&i?p().handleBackMetaClick():r&&a?p().handleBackPinnedClick():h().aX(t)}(e,r,t),onContextMenu:e=>{!l&&t&&p().handleTabHistoryMenu("back",e.clientX,e.clientY)},...e})})}function _(e){let{isNavigationHistorySupported:t}=e;const n=(0,u().tz)(),r=(0,i().v3)(),a=(0,o.useCallback)((e=>(0,l().o)({...e,width:"16px",height:"16px"})),[]),s=!(0,b().MX)("forward");return(0,d.jsx)(A().A,{renderTooltip:()=>(0,d.jsxs)("div",{style:{display:"flex"},children:[n.formatMessage(T.goForwardButton),(0,d.jsx)(I().A,{name:"goForward",style:{opacity:.5,marginLeft:4}})]}),placement:S().W.Bottom,alignment:S().C.Center,originGap:6,render:e=>(0,d.jsx)(k().A,{ariaLabel:n.formatMessage(T.goForwardButton),icon:a,isDarkIconColor:!0,className:"notion-history-forward-button",disabled:s,style:{position:"relative",width:24,height:24,marginRight:4},onClick:e=>function(e,t,n){var o;g().Lt(t,{type:"forward"});const i=e.metaKey||e.ctrlKey,r=null===(o=C().A.state.preferences)||void 0===o?void 0:o.isPinnedTabNewTabEnabled,a=w().A.state.currentTab.isPinned;n&&i?p().handleForwardMetaClick():r&&a?p().handleForwardPinnedClick():h().sY()}(e,r,t),onContextMenu:e=>{!s&&t&&p().handleTabHistoryMenu("forward",e.clientX,e.clientY)},...e})})}function E(e){let{showPlusButton:t}=e;const n=(0,r().K8)((()=>{var e;return(null===(e=C().A.state.preferences)||void 0===e?void 0:e.isNavigationHistoryEnabled)&&C().A.state.isNavigationHistorySupported}),[]),o=(0,r().K8)((()=>{const{mainEditorCurrentBlockStore:e}=y().default.state;return(0,v().lU)(e)}),[]),i=(0,r().O$)(f().A),s=(0,r().K8)((()=>{var e;return null===(e=C().A.state.preferences)||void 0===e?void 0:e.isTabSpacesEnabled}),[]),l=(0,a().IS)((e=>({container:{position:"relative",display:"flex",flexShrink:0,...o&&{padding:2,marginLeft:-2,marginRight:2}},homeBackground:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:i?0:1,...(0,x().Wh)({isPhone:!1,theme:e,buttonState:"base"}),width:"100%",height:"100%",borderRadius:6,transition:"opacity 0.2s"}})),[i,o]);return(0,d.jsx)(m().A,{capture:!0,render:e=>(0,d.jsxs)("div",{style:l.container,...e,children:[o&&(0,d.jsx)("div",{style:l.homeBackground}),s&&(0,d.jsx)(P,{}),(0,d.jsx)(R,{isNavigationHistorySupported:n}),(0,d.jsx)(_,{isNavigationHistorySupported:n}),t&&(0,d.jsx)(K,{})]})})}},39341:(e,t,n)=>{n.d(t,{p:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{banners:[],height:void 0}}setHeight(e){this.setState({height:e,banners:this.state.banners})}}const i=new o},70191:(e,t,n)=>{n.d(t,{E:()=>s,s:()=>l});n(296540);var o=()=>n(205127),i=()=>n(22924),r=()=>n(573792),a=n(474848);function s(e){const{isElectron:t,isShowingTabBar:n}=e;return t&&!n&&(0,a.jsx)(i().A,{})}function l(e){const{store:t,isInvalidPage:n}=e;return!n&&(0,a.jsx)(o().oK,{store:t,style:(0,r().lx)(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1})}},75993:(e,t,n)=>{n.d(t,{A:()=>o});const o=n(757695).default.createValue(!0)},99600:(e,t,n)=>{n.d(t,{A:()=>k});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497),s=()=>n(449552),l=()=>n(340498),d=n(474848);const c=(0,l().wt)("mobileLocked",{viewBox:"0 0 26 26",svg:(0,d.jsx)("path",{d:"M7.88672 23.417H18.1133C19.499 23.417 20.1758 22.7295 20.1758 21.2256V13.3408C20.1758 11.9873 19.6172 11.2891 18.4678 11.1709V8.46387C18.4678 4.41406 15.8145 2.45898 13 2.45898C10.1855 2.45898 7.53223 4.41406 7.53223 8.46387V11.2246C6.47949 11.3857 5.82422 12.0732 5.82422 13.3408V21.2256C5.82422 22.7295 6.50098 23.417 7.88672 23.417ZM9.26172 8.23828C9.26172 5.54199 10.9912 4.11328 13 4.11328C15.0088 4.11328 16.7383 5.54199 16.7383 8.23828V11.1602L9.26172 11.1709V8.23828Z"})}),u=(0,l().wt)("mobileUnlocked",{viewBox:"0 0 32 26",svg:(0,d.jsx)("path",{d:"M7.89355 23.417H18.1094C19.4951 23.417 20.1826 22.7295 20.1826 21.2256V13.3408C20.1826 12.0303 19.6562 11.332 18.582 11.1816V8.23828C18.582 5.54199 20.3115 4.11328 22.3203 4.11328C24.3291 4.11328 26.0586 5.54199 26.0586 8.23828V10.623C26.0586 11.2783 26.4346 11.6006 26.9287 11.6006C27.4014 11.6006 27.7881 11.3105 27.7881 10.623V8.46387C27.7881 4.41406 25.1348 2.45898 22.3203 2.45898C19.5059 2.45898 16.8525 4.41406 16.8525 8.46387V11.1602L8.1084 11.1816C6.72266 11.1816 5.82031 11.8584 5.82031 13.3408V21.2256C5.82031 22.7295 6.50781 23.417 7.89355 23.417Z"})}),g=(0,l().wt)("unlockedFilled",{viewBox:"0 0 16 16",svg:(0,d.jsx)("path",{d:"M2.33301 14.6338H8.94336C9.85938 14.6338 10.3105 14.1826 10.3105 13.1914V8.08496C10.3105 7.2168 9.95508 6.75195 9.24414 6.65625V4.83105C9.24414 3.22461 10.2627 2.35645 11.4863 2.35645C12.71 2.35645 13.7354 3.22461 13.7354 4.83105V6.28711C13.7354 6.76562 14.0156 7.01855 14.3848 7.01855C14.7471 7.01855 15.0273 6.7793 15.0273 6.28711V4.96094C15.0273 2.36328 13.2979 1.1123 11.4863 1.1123C9.6748 1.1123 7.94531 2.36328 7.94531 4.96094V6.64258L2.44922 6.64941C1.5332 6.64941 0.96582 7.10742 0.96582 8.08496V13.1914C0.96582 14.1826 1.41699 14.6338 2.33301 14.6338Z"})});var p=()=>n(798880),h=()=>n(695608),m=()=>n(959013),b=()=>n(989423);function v(e,t){b().vd(e,"edit_lock_toggle",t)}var x=()=>n(896628),f=()=>n(317909),S=()=>n(712505),y=()=>n(630116),C=()=>n(704152),w=()=>n(859428),j=()=>n(198688);const k=function(e){let{store:t,disableTooltip:o,hideText:a,isInlineCollection:s,buttonStyle:l,lockStore:c}=e;const{isMobile:u}=(0,i().Y0)(),g=(0,r().uB)(c,n(455425).A);return u?(0,d.jsx)(K,{store:t,lockStore:g,hideText:a}):(0,d.jsx)(L,{store:t,disableTooltip:o,hideText:a,isMobile:u,isInlineCollection:s,buttonStyle:l,lockStore:g})};function A(e,t,n){return{display:"flex",alignItems:"center",whiteSpace:"nowrap",fontSize:e?12:14,borderRadius:4,padding:"0 6px",marginRight:2,height:24,marginTop:e?1:0,marginLeft:e?0:-5,...t&&{marginLeft:e?8:12,marginRight:0},...n}}function B(e,t,n,o,i){return{...A(e,o,i),color:n.lightTextColor,fill:n.lightIconColor}}function M(e,t,n,o,i){return{...A(e,o,i),paddingLeft:5,border:`1px solid ${n.blueColor}`,color:n.blueColor,fill:n.blueColor}}function P(e){let{store:t}=e;const n=(0,a().DP)(),o=(0,r().K8)((()=>t.getFormat().block_locked_by),[t]),i=(0,m().tz)(),s=(0,r().K8)((()=>o&&(0,h().c6)(i,y().sk.createChildStore(t,{table:p().oo,id:o}).getModel())),[o,i,t]);return o?(0,d.jsx)("div",{children:(0,d.jsx)(m().sA,{defaultMessage:"Locked by {lockedByPerson}{br}to prevent accidental editing.{br}<prompttext>Click to unlock</prompttext>",id:"pageLockIndicator.lockedTooltip",values:{lockedByPerson:(0,d.jsx)("b",{children:s}),br:(0,d.jsx)("br",{}),prompttext:e=>(0,d.jsx)("span",{style:{color:n.text.contrastSecondary},children:e})}})}):null}function I(e,t,n){f().createAndCommit({userAction:"PageLockTopbarIndicator.handleLockClick",environment:e,canUndo:!0,perform:n=>{x()._l({environment:e,store:t,isLocked:!1,transaction:n})}}),n.setState({...n.state,justUnlocked:!0});const o=t.getType();if(o){var i;let n;t.isCollectionView()&&(n=t.getCollectionStore()),v(e,{from:"topbar",block_type:o,locked:!1,collection_id:null===(i=n)||void 0===i?void 0:i.id})}}function T(e,t,n){f().createAndCommit({userAction:"PageLockTopbarIndicator.handleUnlockClick",environment:e,canUndo:!0,perform:n=>{x()._l({environment:e,store:t,isLocked:!0,transaction:n})}}),n.setState({...n.state,justUnlocked:!1});const o=t.getType();if(o){var i;let n;t.isCollectionView()&&(n=t.getCollectionStore()),v(e,{from:"topbar",block_type:o,locked:!0,collection_id:null===(i=n)||void 0===i?void 0:i.id})}}function L(e){let{store:t,disableTooltip:n,hideText:l,isMobile:c,isInlineCollection:u,buttonStyle:p,lockStore:h}=e;const b=(0,a().DP)(),v=(0,i().v3)(),x=(0,o.useCallback)((()=>T(v,t,h)),[v,t,h]),f=(0,o.useCallback)((()=>I(v,t,h)),[v,t,h]),y=(0,r().K8)((()=>t.isLocked()),[t]),k=(0,r().K8)((()=>h.state.justUnlocked),[h]),A=(0,r().K8)((()=>S().default.state.open&&S().default.state.targetStore.id===t.id),[t.id]);return y?(0,d.jsx)(w().A,{renderTooltip:()=>(0,d.jsx)(P,{store:t}),disableTooltip:n,render:e=>(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[A&&(0,d.jsx)(j().A,{}),(0,d.jsxs)(C().A,{style:B(c,0,b,u,p),onClick:f,...e,children:[(0,s().g)({width:16,marginRight:l?void 0:4}),!l&&(0,d.jsx)("div",{style:{lineHeight:1},children:(0,d.jsx)(m().sA,{defaultMessage:"Locked",id:"pageLockIndicator.lockedButton.label"})})]})]})}):k?(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,d.jsx)(j().A,{}),(0,d.jsxs)(C().A,{style:M(c,0,b,u,p),onClick:x,hoveredStyle:{background:b.outlineBlueButtonHoveredBackground},pressedStyle:{background:b.outlineBlueButtonPressedBackground},children:[g({width:16,marginRight:l?void 0:4}),!l&&(0,d.jsx)("div",{style:{lineHeight:1},children:(0,d.jsx)(m().sA,{defaultMessage:"Re-lock",id:"pageLockIndicator.relockButton.label"})})]})]}):null}function K(e){let{store:t,lockStore:n,hideText:s}=e;const l=(0,a().DP)(),g=(0,i().v3)(),p=(0,o.useCallback)((()=>T(g,t,n)),[g,t,n]),h=(0,o.useCallback)((()=>I(g,t,n)),[g,t,n]),b=(0,r().K8)((()=>t.isLocked()),[t]),{WindowSizeStore:v}=g,x=(0,r().K8)((()=>v.getSafePaddingLeftCSS(10)),[v]),f=(0,r().K8)((()=>v.getSafePaddingRightCSS(14)),[v]),S=(0,r().K8)((()=>n.state.justUnlocked),[n]);return b?(0,d.jsxs)(C().A,{onClick:h,mobileFeedback:!0,style:{display:"flex",alignItems:"center",height:"100%",paddingLeft:x,paddingRight:f},children:[c({width:20,marginRight:6}),!s&&(0,d.jsx)("div",{children:(0,d.jsx)(m().sA,{defaultMessage:"Locked",id:"pageLockIndicator.mobileLockedButton.label"})})]}):S?(0,d.jsxs)(C().A,{onClick:p,mobileFeedback:!0,style:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingLeft:x,paddingRight:f,color:l.blueColor,fill:l.blueColor},children:[u({height:26,width:32,marginRight:6}),!s&&(0,d.jsx)("div",{children:(0,d.jsx)(m().sA,{defaultMessage:"Re-lock",id:"pageLockIndicator.mobileRelockButton.label"})})]}):null}},138156:(e,t,n)=>{n.d(t,{W:()=>u});n(296540);var o=()=>n(167355),i=()=>n(460292),r=()=>n(859428),a=()=>n(962730),s=()=>n(297590),l=n(474848);function d(e){let{iconGroup:t,children:n,iconSize:o,errorId:d}=e;return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:4,fontSize:10},children:[(0,l.jsx)(r().A,{placement:a().W.Top,renderTooltip:()=>n,render:e=>(0,l.jsx)("div",{...e,children:(0,l.jsx)(i().Q,{iconGroup:t,variantName:"default",colorName:"uiRedPrimary",overrideSize:()=>o})})}),d&&["dev","local"].includes("production")&&(0,l.jsx)(s().L,{errorId:d,showLink:!0})]})}var c=()=>n(113414);function u(e){const{iconSize:t,errorId:n}=e;return(0,l.jsx)(d,{iconGroup:o().F,iconSize:t,errorId:n,children:(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,l.jsx)(c().g,{})})})}},156275:(e,t,n)=>{n.d(t,{F:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("arrowLeftRounded",{viewBox:"0 0 16 13",svg:(0,o.jsx)("path",{d:"M0.617188 6.85156C0.617188 6.60677 0.710938 6.39323 0.898438 6.21094L6.03906 1.07812C6.13281 0.984375 6.23177 0.914062 6.33594 0.867188C6.4401 0.820312 6.54948 0.796875 6.66406 0.796875C6.90365 0.796875 7.10417 0.875 7.26562 1.03125C7.42708 1.1875 7.50781 1.38281 7.50781 1.61719C7.50781 1.74219 7.48438 1.85677 7.4375 1.96094C7.39062 2.0599 7.32812 2.14844 7.25 2.22656L5.5 4L2.59375 6.66406L2.3125 6.15625L5.02344 5.99219H14.5156C14.776 5.99219 14.9844 6.07292 15.1406 6.23438C15.3021 6.39062 15.3828 6.59635 15.3828 6.85156C15.3828 7.10156 15.3021 7.30729 15.1406 7.46875C14.9844 7.625 14.776 7.70312 14.5156 7.70312H5.02344L2.3125 7.54688L2.59375 7.04688L5.5 9.70312L7.25 11.4688C7.32812 11.5469 7.39062 11.638 7.4375 11.7422C7.48438 11.8464 7.50781 11.9583 7.50781 12.0781C7.50781 12.3125 7.42708 12.5078 7.26562 12.6641C7.10417 12.8203 6.90365 12.8984 6.66406 12.8984C6.4349 12.8984 6.22917 12.8099 6.04688 12.6328L0.898438 7.49219C0.710938 7.3099 0.617188 7.09635 0.617188 6.85156Z"})})},169606:(e,t,n)=>{n.d(t,{s:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("templateGalleryNewLogoColor",{viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fill:"#FFB110",fillRule:"evenodd",d:"M6.014 16.338a4.43 4.43 0 0 0 4.429-4.48H8.88c-.254 0-.512 0-.732-.018a2.3 2.3 0 0 1-.86-.226 2.24 2.24 0 0 1-.979-.979 2.3 2.3 0 0 1-.226-.86 10 10 0 0 1-.018-.731V7.48a4.44 4.44 0 0 1 4.179 3.111 4.431 4.431 0 0 0-8.659 1.318 4.43 4.43 0 0 0 4.43 4.43Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#097FE8",d:"M12.902 11.044c.463-.802.694-1.203.997-1.338a1.02 1.02 0 0 1 .828 0c.302.135.534.536.996 1.338l2.028 3.512c.463.802.695 1.203.66 1.532-.03.287-.18.548-.414.718-.267.194-.73.194-1.656.194h-4.057c-.925 0-1.388 0-1.656-.194a1.02 1.02 0 0 1-.414-.718c-.035-.329.197-.73.66-1.532z"}),(0,o.jsx)("path",{fill:"#F64932",fillRule:"evenodd",d:"M7.287 4.63c0-.571 0-.856.111-1.074.098-.192.254-.347.445-.445C8.061 3 8.346 3 8.916 3h4.379c.57 0 .855 0 1.073.111.191.098.347.253.445.445.11.218.11.503.11 1.073v3.852a2.24 2.24 0 0 0-1.521.109c-.46.204-.75.56-.94.83a13 13 0 0 0-.594.97l-.024.043-.118.203h-2.81c-.57 0-.855 0-1.073-.11a1 1 0 0 1-.445-.445c-.11-.218-.11-.503-.11-1.074V4.63Z",clipRule:"evenodd"})]})})},192855:(e,t,n)=>{n.d(t,{L:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("notionLogoBlockMonoWhite",{viewBox:"0 0 381 396",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M235.875 0.868913L42.2191 15.1299L42.0716 15.1427C29.2402 16.2539 17.5452 21.4575 9.54377 31.7056C2.00788 41.3575 0 52.6286 0 61.8081V273.61C0 290.004 6.39474 302.931 16.1515 315.934L16.2408 316.053L61.92 375.319L61.9886 375.407C67.4438 382.345 74.2617 388.53 83.9092 392.051C92.764 395.282 101.803 395.406 109.715 395.029L109.86 395.022L335.006 381.426L335.127 381.417C347.547 380.535 360.717 376.889 370.12 366.212C379.335 355.75 380.958 342.967 380.958 333.359V95.0753C380.958 86.7983 378.898 78.5009 372.39 70.965C368.595 66.5704 363.178 62.6545 359.406 59.9283C358.887 59.5528 358.398 59.1998 357.95 58.8713L357.768 58.7383L295.914 15.2639C287.833 9.40276 279.51 4.11203 268.519 1.62123C258.306 -0.693516 247.597 -0.133719 235.875 0.868913ZM44.056 38.0569L237.701 23.7967C239.187 23.6692 240.605 23.5551 241.959 23.4557C262.28 21.965 268.533 23.8019 282.545 33.9806L344.359 77.4261C344.891 77.8156 345.404 78.1905 345.899 78.5522C354.904 85.1258 357.958 87.3558 357.958 95.0753V333.359C357.958 347.359 353.177 355.996 336.907 358.134C335.822 358.277 334.687 358.391 333.498 358.475L108.619 372.055C94.3416 372.736 87.5464 370.701 80.0693 361.191L34.5487 302.131C34.0389 301.451 33.5477 300.782 33.0748 300.123C25.9812 290.237 23 282.531 23 273.61V61.8081C23 60.2816 23.085 58.7867 23.2643 57.3368C23.7339 53.5393 24.8501 50.0501 26.7789 47.1082C26.814 47.0547 26.8493 47.0014 26.8849 46.9483C26.9254 46.8879 26.9662 46.8277 27.0074 46.7677C30.2624 42.0312 35.7039 38.7802 44.056 38.0569Z",fill:"white"}),(0,o.jsx)("path",{d:"M80.7599 84.2182C91.6206 93.0413 95.6948 92.3681 116.088 91.0076L308.351 79.463C312.429 79.463 309.038 75.3949 307.678 74.7188L275.747 51.6355C269.629 46.8857 261.478 41.446 245.855 42.8066L59.6871 56.3852C52.8978 57.0584 51.5415 60.453 54.2457 63.1742L80.7599 84.2182Z",fill:"white"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.3031 331.318V129.025C92.3031 120.201 95.021 116.125 103.169 115.44L323.977 102.546C331.466 101.868 334.857 106.623 334.857 115.44V316.376C334.857 325.208 333.495 332.686 321.261 333.359L109.964 345.585C97.7361 346.257 92.3031 342.191 92.3031 331.318ZM294.768 152.79C300.894 152.102 302.249 145.992 300.894 139.876L254.001 142.606C247.206 143.279 241.778 148.708 243.135 156.184L260.804 158.213V251.899L191.501 145.995L141.221 149.384C131.703 150.068 128.311 158.886 129.672 165.002L146.654 166.363V300.099L134.424 303.489C129.67 304.848 128.308 311.631 129.67 314.35L176.538 311.631C193.54 311.631 193.54 299.418 193.54 299.418L172.467 294.662V193.514L239.06 298.057C247.206 308.234 249.929 311.631 260.804 311.631C267.596 311.631 275.747 308.915 284.586 304.164V154.818L294.768 152.79Z",fill:"white"})]})})},198688:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(){const e=(0,n(401497).IS)((e=>({separator:{height:14,width:1,marginLeft:6,marginRight:6,background:e.darkDividerColor}})),[]);return(0,o.jsx)("div",{style:e.separator})}},200562:(e,t,n)=>{n.d(t,{z:()=>r});var o=()=>n(645873);const i=new(o().O2)("topbarSidebarButton",(async()=>await n.e(62033).then(n.bind(n,304012)))),r=(0,o()._h)(i,(e=>e.TopbarSidebarButton))},214683:(e,t,n)=>{n.d(t,{T:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})},260893:(e,t,n)=>{n.d(t,{L:()=>Re().L1,b:()=>Kt});n(898992),n(737550);var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(187174),s=()=>n(112995),l=()=>n(138156),d=()=>n(186445),c=()=>n(38337),u=()=>n(753199),g=()=>n(731320),p=()=>n(645873),h=()=>n(877051),m=()=>n(401497),b=()=>n(418135),v=()=>n(205127),x=()=>n(13679),f=()=>n(551780),S=()=>n(22924),y=()=>n(533788),C=()=>n(281401),w=()=>n(573792),j=()=>n(869609),k=()=>n(200562),A=()=>n(441199),B=()=>n(644914),M=()=>n(351360),P=()=>n(224011),I=()=>n(948914),T=()=>n(795179),L=n(474848);function K(e){const t=(0,i().v3)(),n=(0,r().K8)((()=>M().default.state.currentSpaceViewStore),[]),o=(0,r().K8)((()=>I().A.state.isShowingTabBar),[]),a=(0,r().K8)((()=>I().A.state.zoomFactor),[]),s=(0,r().K8)((()=>A().default.isPanelPinnedState()),[]),l=(0,r().K8)((()=>P().A.state.isFullScreen),[]),c=(0,r().K8)((()=>(0,B().KB)(t)),[t]),u=(0,r().K8)((()=>(0,d().X4)(t)),[t]),g=(0,m().IS)((()=>({container:{...w().DW({environment:t,isShowingTabBar:Boolean(o),shouldShowSidebar:u.shouldShowSidebar,isSidebarExpanded:c,isSecondarySidebarVisible:s,isBrowserFullScreen:l,zoom:a||b().rx})},divider:{flexGrow:1,flexShrink:1}})),[u.shouldShowSidebar,t,l,o,c,a,s]);return(0,L.jsx)(x().A,{store:e.blockStore,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,L.jsxs)("div",{style:g.container,onDoubleClick:C().mz,children:[(0,L.jsx)(R,{store:e.blockStore,showSidebarButton:Boolean(e.showSidebarButton)}),(0,L.jsx)(y().A,{}),(0,L.jsx)("div",{style:g.divider}),(0,L.jsx)(f().z,{store:e.blockStore,spaceViewStore:n,isTablet:!1}),(0,L.jsx)(j().u,{store:e.blockStore,buttonPopupStore:T().A})]})})}function R(e){const t=(0,i().Y0)(),n=(0,r().K8)((()=>I().A.state.isShowingTabBar),[]),o=(0,m().IS)((e=>({container:{display:"flex",flexGrow:1,fontSize:14}})),[]);return(0,L.jsxs)("div",{style:o.container,children:[e.showSidebarButton&&(0,L.jsx)(k().z,{}),t.isElectron&&!n&&(0,L.jsx)(S().A,{}),(0,L.jsx)(v().oK,{store:e.store,style:w().lx(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!1,isMobile:!1})]})}var _=()=>n(745766),E=()=>n(854094),D=()=>n(665579),V=()=>n(522181);const z=function(e){const t=(0,i().v3)(),n=(0,r().K8)((()=>E().A.state.isHovered),[]),o=(0,r().K8)((()=>I().A.state.isShowingTabBar),[]),a=(0,r().K8)((()=>I().A.state.zoomFactor),[]),s=(0,r().K8)((()=>A().default.isPanelPinnedState()),[]),l=(0,r().K8)((()=>P().A.state.isFullScreen),[]),c=(0,r().K8)((()=>(0,B().KB)(t)),[t]),u=(0,r().K8)((()=>(0,d().X4)(t)),[t]),g=(0,r().K8)((()=>e.store.hasCover()),[e.store]),p=(0,m().IS)((e=>({container:{...w().DW({environment:t,isShowingTabBar:Boolean(o),shouldShowSidebar:u.shouldShowSidebar,isSidebarExpanded:c,isSecondarySidebarVisible:s,isBrowserFullScreen:l,isFloatingPersonalHomeTopbar:g,zoom:a||b().rx}),...g?{display:"flex",alignItems:"flex-start",paddingTop:12,opacity:n?1:0,transition:"opacity 0.2s ease"}:{}},divider:{flexGrow:1,flexShrink:1}})),[u.shouldShowSidebar,t,g,l,n,o,c,a,s]);return(0,L.jsx)(x().A,{store:e.store,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{style:p.container,onClick:e.handleClickTopbar,onMouseDown:e.handleMouseDown,onDoubleClick:C().mz,onMouseEnter:()=>E().A.setState({isHovered:!0}),onMouseLeave:()=>E().A.setState({isHovered:!1}),children:[(0,L.jsx)(H,{store:e.store,showSidebarButton:Boolean(e.showSidebarButton)}),!e.isInvalidPage&&(0,L.jsx)(y().A,{}),(0,L.jsx)("div",{style:p.divider}),(0,L.jsx)(O,{store:e.store,showSidebarButton:Boolean(e.showSidebarButton),isInvalidPage:e.isInvalidPage})]}),g&&(0,L.jsx)("div",{onMouseEnter:()=>E().A.setState({isHovered:!0}),style:{pointerEvents:"none"}})]})})};function H(e){const t=(0,i().v3)(),n=(0,i().WS)(),o=(0,i().Y0)(),a=(0,r().K8)((()=>e.store.hasCover()),[e.store]),s=(0,r().K8)((()=>I().A.state.isShowingTabBar),[]),l=(0,r().K8)((()=>{const e=(0,B().KB)(t);return s||e}),[t,s]),d=(0,m().IS)((e=>({noDragArea:{...(0,_().g)({noDrag:o.isElectronMac}),width:150,height:"100%"},electronButtonWrapper:{...(0,D().Wh)({theme:e,isPhone:n,buttonState:"base"}),width:"fit-content",paddingLeft:2,paddingRight:2}})),[o.isElectronMac,n]);return a?o.isElectron?l?null:(0,L.jsx)("div",{style:d.noDragArea,children:(0,L.jsxs)("div",{style:d.electronButtonWrapper,children:[e.showSidebarButton&&(0,L.jsx)(k().z,{}),!s&&(0,L.jsx)(S().A,{})]})}):(0,L.jsx)(L.Fragment,{children:e.showSidebarButton&&(0,L.jsx)(k().z,{isFloatingButton:!0})}):(0,L.jsxs)(L.Fragment,{children:[e.showSidebarButton&&(0,L.jsx)(k().z,{}),o.isElectron&&!s&&(0,L.jsx)(S().A,{})]})}function O(e){const t=(0,i().Y0)(),n=(0,r().K8)((()=>e.store.hasCover()),[e.store]),o=(0,m().IS)((()=>({noDragArea:{...(0,_().g)({noDrag:t.isElectronMac}),width:150,height:"100%",display:"flex",justifyContent:"flex-end"}})),[t.isElectronMac]);return n&&t.isElectron?(0,L.jsx)("div",{style:o.noDragArea,children:(0,L.jsx)(V().J,{store:e.store,isInvalidPage:e.isInvalidPage})}):(0,L.jsx)(V().J,{store:e.store,isInvalidPage:e.isInvalidPage})}const F=new(p().O2)("PublicSharingTopbar",(()=>Promise.all([n.e(23806),n.e(68224)]).then(n.bind(n,441712)))),W=(0,p()._h)(F,(e=>e.PublicSharingTopbar));var N=()=>n(749687),U=()=>n(792415),G=()=>n(630116),Z=()=>n(3243),$=()=>n(699527);function Y(e){const t=(0,i().Y0)(),n=(0,r().K8)((()=>I().A.state.isShowingTabBar),[]),o=(0,m().IS)((e=>({container:{display:"flex",flexGrow:1,fontSize:14}})),[]);return(0,L.jsxs)("div",{style:o.container,children:[e.showSidebarButton&&(0,L.jsx)(k().z,{}),t.isElectron&&!n&&(0,L.jsx)(S().A,{}),(0,L.jsx)(v().vj,{store:e.teamStore,showDivider:!1,maxWidth:160})]})}function J(e){const{isPhone:t}=(0,i().Y0)(),n=(0,m().IS)((()=>({container:{display:"flex"}})),[]);return(0,L.jsxs)("div",{style:n.container,children:[!t&&(0,L.jsx)(Z().jR,{teamStore:e.teamStore}),(0,L.jsx)($().c,{teamStore:e.teamStore})]})}const q=function(e){const t=(0,i().v3)(),n=(0,r().K8)((()=>I().A.state.isShowingTabBar),[]),o=(0,r().K8)((()=>I().A.state.zoomFactor),[]),a=(0,r().K8)((()=>A().default.isPanelPinnedState()),[]),s=(0,r().K8)((()=>P().A.state.isFullScreen),[]),l=(0,r().K8)((()=>(0,B().KB)(t)),[t]),c=(0,r().K8)((()=>(0,d().X4)(t)),[t]),u=(0,m().IS)((e=>({container:{...w().DW({environment:t,isShowingTabBar:Boolean(n),shouldShowSidebar:c.shouldShowSidebar,isSidebarExpanded:l,isSecondarySidebarVisible:a,isBrowserFullScreen:s,zoom:o||b().rx})},divider:{flexGrow:1,flexShrink:1}})),[c.shouldShowSidebar,t,s,n,l,o,a]);return(0,L.jsx)(x().A,{store:e.teamStore,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,L.jsxs)("div",{style:u.container,onDoubleClick:C().mz,onMouseEnter:()=>E().A.setState({isHovered:!0}),onMouseLeave:()=>E().A.setState({isHovered:!1}),children:[(0,L.jsx)(Y,{teamStore:e.teamStore,showSidebarButton:Boolean(e.showSidebarButton)}),(0,L.jsx)(y().A,{}),(0,L.jsx)("div",{style:u.divider}),(0,L.jsx)(J,{teamStore:e.teamStore})]})})};var X=()=>n(563615);const Q={LoggedOutAppBanner:new(p().O2)("LoggedOutAppBanner",(()=>n.e(30214).then(n.bind(n,990716))))},ee=(0,p()._h)(Q.LoggedOutAppBanner,(e=>e.LoggedOutAppBanner));var te=()=>n(426388),ne=()=>n(214683),oe=()=>n(169606),ie=()=>n(179034),re=()=>n(959013),ae=()=>n(452939),se=()=>n(449506),le=()=>n(624550),de=()=>n(348337),ce=()=>n(435009),ue=()=>n(780054),ge=()=>n(836251),pe=()=>n(559378),he=()=>n(508496),me=()=>n(493823),be=()=>n(187485),ve=()=>n(204063),xe=()=>n(746084),fe=()=>n(792485),Se=()=>n(584262),ye=()=>n(861017),Ce=()=>n(427704),we=()=>n(901389),je=()=>n(507785),ke=()=>n(260488),Ae=()=>n(492414),Be=()=>n(997513),Me=()=>n(596106),Pe=()=>n(215152),Ie=()=>n(20489),Te=()=>n(411671),Le=()=>n(16006),Ke=()=>n(70191),Re=()=>n(863059),_e=()=>n(996624),Ee=()=>n(173019),De=()=>n(965998),Ve=()=>n(783423),ze=()=>n(554283),He=()=>n(869562),Oe=()=>n(737230),Fe=()=>n(77246),We=()=>n(864943),Ne=(n(354520),n(581454),()=>n(142748)),Ue=()=>n(296798),Ge=()=>n(108944),Ze=()=>n(578872),$e=()=>n(614505);function Ye(e){const{store:t}=e,n=(0,r().K8)((()=>t.getSpaceStore()),[t]),o=(0,r().K8)((()=>{var e;if(!n)return[];const o=Ze().GN(t),i=null==o||null===(e=o.getSiteStore())||void 0===e||null===(e=e.getHeader())||void 0===e?void 0:e.customItems;return i?i.filter((e=>"block"===e.type)):[]}),[t,n]);return n&&o&&0!==o.length?(0,L.jsx)("div",{style:{display:"flex"},children:o.map((e=>(0,L.jsx)(Je,{spaceStore:n,blockId:e.blockId},e.blockId)))}):null}function Je(e){const{spaceStore:t,blockId:n}=e,{store:o,icon:i,isEmptyPage:a,url:s,isReady:l,hasPublicAccess:d}=(0,r().K8)((()=>{const e=G().Bv.createChildStore(t,{table:ie().ev,id:n}),o=(0,Ae().Ay)({store:e,preferPublicLink:!0,pageVisitSource:Se().y8.SiteCustomHeader}),i=(0,Ge().E)(e),r=(0,Ne().ot)(i);return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),url:o,isReady:e.isReady(),hasPublicAccess:r}}),[t,n]),c=(0,m().IS)((e=>({container:{display:"flex",alignItems:"center",gap:4,padding:4,borderRadius:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginRight:4}})),[]);return d&&l?(0,L.jsxs)(Ue().A,{href:s,style:c.container,children:[i&&(0,L.jsx)($e().A,{icon:i,store:o,disabled:!0,size:14,isEmptyPage:a,emojiSize:20}),(0,L.jsx)(Le().A,{store:o,style:c.pageTitle,maxLength:30})]}):null}var qe=()=>n(192855),Xe=()=>n(729283),Qe=()=>n(1130);const et={width:18,height:18,marginRight:6};function tt(e){const t=(0,m().DP)(),n=(0,i().v3)(),{device:o}=n,{store:r,isInvalidPage:a}=e;return o.isMobile||a?null:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(xe().A,{store:r,buttonPopupStore:T().A}),(0,L.jsx)("div",{style:w().R1(t)}),(0,L.jsx)(nt,{store:r})]})}function nt(e){const{store:t}=e,n=(0,i().v3)(),a=Boolean(n.currentUser.isLoggedIn()||n.publicDomainUserId),s=(0,r().K8)((()=>{const{publicPageData:e}=U().A.state;return null==e?void 0:e.isDLSViewer}),[]),l=(0,m().DP)(),d=(0,r().K8)((()=>Ze().hn(t)),[t]),c=(0,o.useCallback)((async()=>{ae().LT(n,{variant:"open_notion"});const{currentUserRootStore:e}=M().default.state,t=null==e?void 0:e.getSpaceViewStores();if(s&&(!t||0===t.length))return void(await(0,Qe().sy)(n,{type:"create-or-join",source:"topbar"}));const o=s?Ce().JZ.home:Ce().JZ.root;await Xe().VE(n,{utmContent:"topbar_cta",nextRoute:o})}),[n,s]),u=(0,o.useCallback)((async()=>{ae().LT(n,{variant:"try_notion"}),await Xe().VE(n,{utmContent:"topbar_cta",nextRoute:Ce().JZ.signup})}),[n]);return d?null:a?(0,L.jsxs)(me().p,{onClick:c,children:["light"===l.mode?(0,te().S)(et):(0,qe().L)(et),(0,L.jsx)(re().sA,{defaultMessage:"Open Notion",id:"topbar.publicPage.cta.label.open"})]}):(0,L.jsxs)(me().p,{onClick:u,children:["light"===l.mode?(0,te().S)(et):(0,qe().L)(et),(0,L.jsx)(re().sA,{defaultMessage:"Try Notion",id:"topbar.publicPage.cta.label.try"})]})}var ot=()=>n(277201),it=()=>n(381138);const rt={width:14,height:14};function at(e){const{store:t,style:n,showTitle:o,onClick:i}=e,a=function(e){return(0,r().K8)((()=>Ze().Vg(e)),[e])}(t);return a?null:(0,L.jsxs)(me().p,{onClick:i,children:[(0,it().q)({...rt,...n}),o&&(0,L.jsx)(re().sA,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]})}const st={width:14,height:14,marginRight:6};function lt(e){const{store:t,isInvalidPage:n,forkPageRef:a,onDuplicatePageButtonClick:s,onEditButtonClick:l,onCommentButtonClick:d,onSearchButtonClick:c}=e,u=(0,i().v3)(),p=(0,re().tz)(),[h,b]=(0,ze().B)(),v=(0,r().K8)((()=>(0,C().JK)()),[]),x=(0,r().K8)((()=>!v&&t.canEdit()&&!Te().A.state.editing),[t,v]),f=(0,r().K8)((()=>!v&&!u.currentUser.isLoggedIn()&&t.canComment()&&!t.canEdit()),[u,t,v]),S=(0,r().K8)((()=>(0,g().K1)(t)),[t]),y=(0,r().K8)((()=>Oe().Ay.state.width),[]),w=(0,r().K8)((()=>(0,B().Nk)(u)),[u]),j=(0,r().K8)((()=>w&&(Oe().Ay.state.mouseEntered||b)),[w,b]),k=(0,Re().Nq)(),A=(0,m().IS)((()=>({container:{display:"flex",width:w?y:void 0,justifyContent:"space-between",paddingLeft:k},rightButtons:{display:"flex"}})),[w,y,k]),M=(0,o.useCallback)((()=>{(0,He().setUpdateExpand)({environment:u,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[u]),P=(0,r().K8)((()=>{var e;return null===(e=Fe().Uv.getStateForBlock(t.id))||void 0===e?void 0:e.mode}),[t.id]);return(0,L.jsxs)("div",{style:A.container,ref:h,children:[(0,L.jsx)(ot().i,{isVisible:j,icon:_e().a,caption:p.formatMessage({defaultMessage:"Close panel",id:"defaultPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:M,keyboardShortcutName:"toggleUpdateSidebar"}),(0,L.jsxs)("div",{style:A.rightButtons,children:["suggest"===P&&(0,L.jsx)("div",{style:{marginRight:8,padding:"0 8px"},children:(0,L.jsx)(Ve().M,{store:t,isVisible:"suggest"===P,compact:!1})}),(0,L.jsx)(Ye,{store:t}),x&&(0,L.jsxs)(We().A,{size:"lg",onClick:l,style:{marginRight:8,padding:"0 8px"},children:[(0,Ee().r)(st),(0,L.jsx)(re().sA,{id:"topbar.publicPage.edit",defaultMessage:"Edit"})]}),!u.currentUser.isLoggedIn()&&f&&(0,L.jsxs)(We().A,{size:"lg",onClick:d,style:{marginRight:8,padding:"0 8px"},children:[(0,De().M)(st),(0,L.jsx)(re().sA,{id:"topbar.publicPage.comment",defaultMessage:"Comment"})]}),(0,L.jsx)(at,{store:t,style:st,showTitle:!0,onClick:c}),S&&(0,L.jsx)(me().p,{ref:a,onClick:s,children:(0,L.jsx)(re().sA,{defaultMessage:"Duplicate",id:"topbar.publicPage.duplicateButton.label"})}),(0,L.jsx)(tt,{store:t,isInvalidPage:n})]})]})}var dt=()=>n(962730),ct=()=>n(859428);function ut(e){const{iconStyle:t,store:n}=e,o=(0,i().v3)(),a=(0,r().K8)((()=>n.canComment()),[n]),s=(0,r().K8)((()=>Te().A.state.commenting),[]),l=(0,r().K8)((()=>(0,C().JK)()),[]);return!a||s||l?null:(0,L.jsx)(ct().A,{renderTooltip:()=>(0,L.jsx)(re().sA,{id:"topbar.publicPage.commentButton.tooltip",defaultMessage:"Comment"}),placement:dt().W.Bottom,alignment:dt().C.Center,originGap:6,render:e=>(0,L.jsx)(me().p,{...e,onClick:()=>de().aL(o,n.id),children:(0,De().M)(t)})})}function gt(e){const{iconStyle:t,store:n}=e,o=(0,i().v3)(),a=(0,r().K8)((()=>n.canEdit()),[n]),s=(0,r().K8)((()=>Te().A.state.editing),[]),l=(0,r().K8)((()=>(0,C().JK)()),[]);return!a||s||l?null:(0,L.jsx)(ct().A,{renderTooltip:()=>(0,L.jsx)(re().sA,{id:"topbar.publicPage.editButton.tooltip",defaultMessage:"Edit"}),placement:dt().W.Bottom,alignment:dt().C.Center,originGap:6,render:e=>(0,L.jsx)(me().p,{...e,onClick:()=>de().T7(o,n.id),children:(0,Ee().r)(t)})})}const pt=o.forwardRef((function(e,t){const{iconStyle:o,onClick:i}=e;return(0,L.jsx)(ct().A,{renderTooltip:()=>(0,L.jsx)("div",{style:{display:"flex"},children:(0,L.jsx)(re().sA,{id:"topbar.publicPage.duplicateButton.tooltip",defaultMessage:"Duplicate"})}),placement:dt().W.Bottom,alignment:dt().C.Center,originGap:6,render:e=>(0,L.jsx)(me().p,{onClick:i,ref:t,...e,children:(0,n(212439).V)(o)})})}));var ht=()=>n(839003);function mt(e){const t=(0,i().v3)(),{device:n}=t,a=(0,re().tz)(),{store:s,isInvalidPage:l,iconStyle:d,onSearchButtonClick:c,forkPageRef:u,onDuplicatePageButtonClick:p}=e,[h,b]=(0,ze().B)(),v=(0,r().K8)((()=>pe().A.isActiveDemo()),[]),x=(0,r().K8)((()=>(0,g().K1)(s)),[s]),f=(0,r().K8)((()=>Oe().Ay.state.width),[]),S=(0,r().K8)((()=>(0,B().Nk)(t)),[t]),y=(0,r().K8)((()=>S&&(Oe().Ay.state.mouseEntered||b)),[S,b]),C=(0,Re().Nq)(),w=(0,m().IS)((()=>({container:{display:"flex",width:S?f:void 0,justifyContent:"space-between",paddingLeft:C},rightButtons:{display:"flex"}})),[S,f,C]),j=(0,o.useCallback)((()=>{(0,He().setUpdateExpand)({environment:t,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[t]);return(0,L.jsxs)("div",{style:w.container,ref:h,children:[(0,L.jsx)(ot().i,{isVisible:y,icon:_e().a,caption:a.formatMessage({defaultMessage:"Close panel",id:"unauthedPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:j,keyboardShortcutName:"toggleUpdateSidebar"}),(0,L.jsxs)("div",{style:w.rightButtons,children:[(0,L.jsx)(Ye,{store:s}),(0,L.jsx)(at,{store:s,onClick:c}),!v&&(0,L.jsxs)(L.Fragment,{children:[x&&(0,L.jsx)(pt,{ref:u,onClick:p,iconStyle:d}),(0,L.jsx)(ut,{store:s,iconStyle:d}),(0,L.jsx)(gt,{store:s,iconStyle:d}),!n.isMobile&&!l&&(0,L.jsx)(xe().A,{store:s,buttonPopupStore:T().A,useEllipsisIcon:!0}),(0,L.jsx)(ht().S,{store:s})]})]})]})}const bt={width:15,height:15};function vt(e){const{store:t,isInvalidPage:n,isElectron:a}=e,s=(0,i().v3)(),l=(0,fe().S)(),{isShowingTabBar:d}=(0,r().O$)(I().A),c=(0,r().uB)(void 0,Pe().A),u=(0,r().uB)(void 0,Ie().A),g=Boolean(s.currentUser.isLoggedIn()||s.publicDomainUserId),p=(0,Re().Kh)({shouldRenderTemplateGalleryTopbar:!1}),h=(0,r().K8)((()=>C().i_({store:t,environment:s})),[t,s]),m=(0,r().K8)((()=>t.isFormBlock()),[t]),b=(0,r().K8)((()=>{const e=s.RouterStore.state.route;return!!(0,ye().bh)(e)||Boolean(t.getIsFormClosed()||t.pathIsDead())}),[s,t]),v=(0,o.useRef)(!1);(0,o.useEffect)((()=>{const{RouterStore:e}=s,n=e.state.route,{publicPageData:o}=U().A.state;h&&t.canComment()&&!t.canEdit()&&"page"===n.name&&!n.requestedOnPublicDomain&&C().K6(t,s)&&null!=o&&o.requireLogin?Te().A.setState({commenting:!0,editing:!1}):!h||!t.canEdit()||"page"!==n.name||Te().A.state.editing||Te().A.state.commenting||n.shouldDuplicate||n.requestedOnPublicDomain||!C().K6(t,s)||v.current||null==o||!o.requireLogin||(v.current=!0,xt(s,t,l))}),[s,t,l,h]);const x=(0,o.useCallback)((()=>{je().iZ({currentUserId:s.currentUser.id,blockId:t.id}),ft(s,l)||ce().navigateOnBaseUrl({environment:s,url:Ce().JZ.login})}),[s,t,l]),f=(0,o.useCallback)((()=>ke()._N({environment:s,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})),[s]),S=(0,o.useRef)(null),y=(0,o.useCallback)((()=>{var e;const n=null===(e=S.current)||void 0===e?void 0:e.getBoundingClientRect();le().Ul({environment:s,store:t,originRect:n})}),[s,t,S]),w=(0,o.useCallback)((()=>{xt(s,t,l)}),[s,t,l]);return(0,L.jsxs)("div",{style:p,onDoubleClick:C().mz,children:[m&&!b&&(0,L.jsx)(Le().A,{store:t,removeIfEmpty:!0,style:{fontSize:14}}),(0,L.jsx)(Be().z,{loginModalStore:c,loginStore:u,title:(0,L.jsx)(Me().A,{}),isSignup:!0}),Ke().E({isElectron:a,isShowingTabBar:d}),!m&&Ke().s({store:t,isInvalidPage:n}),(0,L.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),g?(0,L.jsx)(lt,{store:t,isInvalidPage:n,onEditButtonClick:w,onCommentButtonClick:x,onSearchButtonClick:f,forkPageRef:S,onDuplicatePageButtonClick:y}):(0,L.jsx)(mt,{store:t,isInvalidPage:n,iconStyle:bt,forkPageRef:S,onDuplicatePageButtonClick:y,onSearchButtonClick:f})]})}function xt(e,t,n){ft(e,n)||(e.currentUser.isLoggedIn()?we().ui({showCancel:!0,keepFocus:!1,message:(0,L.jsx)(re().sA,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"topbar.startPublicEditDialog.message"}),items:[{label:(0,L.jsx)(re().sA,{defaultMessage:"Continue",id:"topbar.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){Te().A.setState({editing:!0,commenting:!0})}}]}):(je().iZ({currentUserId:e.currentUser.id,blockId:t.id}),ce().navigateOnBaseUrl({environment:e,url:Ce().JZ.login})))}function ft(e,t){const{RouterStore:n}=e,o=n.state.route,i=null==t?void 0:t.pageStore;if("page"===o.name&&o.requestedOnPublicDomain&&i){const t=(0,Ae().Ay)({store:i,preferPublicLink:!1,pageVisitSource:Se().y8.EditPublicPage});return ce().navigateOnBaseUrl({environment:e,url:t}),!0}return!1}function St(e){const{blockStore:t,isInvalidPage:n}=e,r=(0,i().v3)(),a=(0,Re().Kh)({shouldRenderTemplateGalleryTopbar:!0}),s=(0,m().IS)((()=>({breadcrumb:w().lx(),icon:{width:14,height:14,marginRight:6}})),[]),l=(0,o.useCallback)((()=>{ke()._N({environment:r,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})}),[r]);return(0,L.jsxs)("div",{style:a,onDoubleClick:C().mz,children:[!n&&(0,L.jsx)(v().oK,{store:t,style:s.breadcrumb,maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),(0,L.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,L.jsxs)(me().p,{onClick:l,children:[(0,it().q)(s.icon),(0,L.jsx)(re().sA,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]})]})}var yt=()=>n(198688);function Ct(e){var t,n,s;const{blockStore:l,isInvalidPage:d,isElectron:c}=e,u=(0,i().v3)(),p=(0,r().K8)((()=>U().A.state.publicPageData),[]),h=null==p||null===(t=p.template)||void 0===t?void 0:t.blockId,b=(0,o.useMemo)((()=>h?new(G().Bv)(u,{table:ie().ev,id:h}):void 0),[h,u]),v=null==p||null===(n=p.template)||void 0===n?void 0:n.listingId,x=(0,r().K8)((()=>{var e;return he().default.getConfigKey("marketplace_public_purchase_url_optout","usernames").includes((null==p||null===(e=p.template)||void 0===e?void 0:e.creator.username)??"")}),[null==p||null===(s=p.template)||void 0===s?void 0:s.creator.username]),[f]=(0,a().Yb)((async()=>{if(v){const e=await se().callApi({eventName:"getMarketplacePurchaseRoute",environment:u,data:{marketplaceListingId:v}});if("success"===e.type&&e.data.success){if(x&&"checkout"===e.data.type)return null;if("free"===e.data.type||"checkout"===e.data.type)return e.data.url}return null}}),[u,v,x]),S="resolved"===f.status,y=f.value,w=(0,r().K8)((()=>b&&(0,g().K1)(b)),[b]),[j,A]=(0,o.useState)(!1),B=(0,Re().Kh)({shouldRenderTemplateGalleryTopbar:!0}),M=(0,m().IS)((e=>({borderBottom:{borderBottom:`1px solid ${e.lightDividerColor}`},topbarContents:{display:"flex",alignItems:"center"},notionLogoStyle:{width:20,height:20},templatesIcon:{width:20,height:20,marginRight:4,marginTop:2},templateGalleryButton:{display:"flex",alignItems:"center",fontSize:15,fontWeight:600},centerText:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",overflow:"hidden",textWrap:"nowrap"},templateNameText:{fontSize:13.5,fontWeight:600},templateCreatorText:{fontSize:12,color:e.lightTextColor},templateCreatorLink:{fontSize:12,color:e.lightTextColor,cursor:"pointer"},publicTopbarMoreButton:{marginRight:8}})),[]),P=(0,r().K8)((()=>pe().A.getState().isActive),[]),I=(0,r().K8)((()=>{const e=(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(me().p,{disabled:P,onClick:async()=>{P||await de().$4(u)},"aria-disabled":P,children:(0,te().S)(M.notionLogoStyle)}),(0,L.jsx)(yt().A,{})]});return(0,ge().w6)(u)?N().sidebarExpandedStore.state?null:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(k().z,{}),e]}):e}),[u,M.notionLogoStyle,P]),K=(0,o.useCallback)((()=>{y?ce().navigateOnBaseUrl({environment:u,url:y,extraSearchParams:{from:"public_page"}}):le().Ul({environment:u,store:l,originRect:void 0})}),[u,l,y]);if(!p||!p.template||!b)return(0,L.jsx)(vt,{store:l,isInvalidPage:d,isElectron:c});const R=(0,L.jsx)("a",{href:`${ue().A.domainBaseUrl}/@${p.template.creator.username}`,target:"_blank",style:M.templateCreatorLink,onClick:()=>{var e;ae().uB(u,{target:"creator",slug:null===(e=p.template)||void 0===e?void 0:e.creator.username})},children:p.template.creator.name});return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{style:{...B,...M.borderBottom},onDoubleClick:C().mz,children:[(0,L.jsxs)("div",{style:M.topbarContents,children:[I,!P&&(0,L.jsx)(be().A,{href:(0,ge().xS)("templateGallery"),external:!0,children:(0,L.jsxs)(me().p,{style:M.templateGalleryButton,onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),onClick:()=>{ae().uB(u,{target:"gallery"})},children:[j?(0,oe().s)(M.templatesIcon):(0,ne().T)(M.templatesIcon),(0,L.jsx)(re().sA,{defaultMessage:"Templates",id:"templateGalleryPublicPageTopbar.templatesButton.label"})]})})]}),!P&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{style:M.centerText,children:[(0,L.jsx)(be().A,{href:`${(0,ge().xS)("templateGallery")}/${p.template.slug}`,style:M.templateNameText,external:!0,onClick:()=>{var e;ae().uB(u,{target:"template",slug:null===(e=p.template)||void 0===e?void 0:e.slug})},children:p.template.name}),(0,L.jsx)("div",{style:M.templateCreatorText,children:(0,L.jsx)(re().sA,{defaultMessage:"Template by {templateCreatorNameWithLink}",id:"templateGalleryPublicPageTopbar.templateName.subtitle",values:{templateCreatorNameWithLink:R}})})]}),(0,L.jsxs)("div",{style:M.topbarContents,children:[(0,L.jsx)("div",{style:M.publicTopbarMoreButton,children:(0,L.jsx)(xe().A,{store:l,buttonPopupStore:T().A})}),w&&S&&(0,L.jsx)(ve().A,{onClick:K,children:(0,L.jsx)(re().sA,{defaultMessage:"Start with this template",id:"templateGalleryPublicPageTopbar.duplicateButton.label"})})]})]})]}),(0,L.jsx)(St,{blockStore:l,isInvalidPage:d})]})}var wt=()=>n(470928),jt=()=>n(663590),kt=()=>n(538233),At=()=>n(132389),Bt=()=>n(99600),Mt=()=>n(527580);const Pt=new(p().O2)("topbarActionButtons",(()=>Promise.all([n.e(23806),n.e(13402),n.e(54928)]).then(n.bind(n,813402)))),It=(0,p()._h)(Pt,(e=>e.TopbarActionButtons));var Tt=()=>n(373156);function Lt(e){const{store:t,isInvalidPage:n,isElectron:o,showSidebarButton:a,hideActionButtons:d,shouldRenderTemplateGalleryTopbar:c,handleClickTopbar:u,handleMouseDown:p}=e,m=(0,i().v3)(),{isMobile:b}=m.device,S=(0,r().K8)((()=>t.isFormBlock()),[t]),j=(0,r().K8)((()=>(0,jt().hK)()),[]),A=(0,r().K8)((()=>(0,g().qb)(m,t)),[m,t]),{isShowingTabBar:B}=(0,r().O$)(I().A),M=(0,h().V)(),P=(0,r().K8)((()=>t.canEditCollection()),[t]),T=(0,r().K8)((()=>t.isRestricted()),[t]),K=(0,r().K8)((()=>(0,wt().Es)({blockStore:t})),[t]),R=(0,r().K8)((()=>t.isPost()&&!t.isPublishedPost()),[t]),_=(0,Re().Kh)({shouldRenderTemplateGalleryTopbar:c}),E=(0,r().K8)((()=>t.getIcon()),[t]),D=b?24:20;return(0,L.jsx)(x().A,{store:t,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,L.jsxs)("div",{style:_,onClick:u,onMouseDown:p,onDoubleClick:C().mz,children:[a&&(0,L.jsx)(k().z,{}),Ke().E({isElectron:o,isShowingTabBar:B}),(0,L.jsxs)(s().K,{from:"DefaultTopbar.Left",fallback:e=>{let{errorId:t}=e;return(0,L.jsx)(l().W,{errorId:t,iconSize:20})},children:[!n&&!S&&(0,L.jsx)(v().oK,{store:t,style:w().lx(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),S&&(0,L.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,L.jsx)(At().A,{size:6}),Boolean(E)&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)($e().A,{disabled:!0,icon:E,isEmptyPage:!1,size:D,emojiSize:D,largeIcon:!0}),(0,L.jsx)(At().A,{size:6})]}),(0,L.jsx)(Le().A,{store:t,removeIfEmpty:!0,style:{fontSize:14,paddingLeft:0}}),(0,L.jsx)(At().A,{size:8})]}),P&&(0,L.jsx)(Bt().A,{store:t},t.id),K&&(0,L.jsx)(Mt().YC,{blockStore:t}),T&&!j&&(0,L.jsx)(Tt().A,{style:{marginRight:10},onClick:()=>{kt().A.setState({open:!0})}}),!n&&(0,L.jsx)(y().A,{})]}),(0,L.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,L.jsxs)(s().K,{from:"DefaultTopbar.Right",fallback:e=>{let{errorId:t}=e;return(0,L.jsx)(l().W,{errorId:t,iconSize:20})},children:[!M&&!b&&!A&&!d&&(0,L.jsx)(It,{store:t,isInvalidPage:n}),R&&(0,L.jsx)(f().F,{store:t})]})]})})}const Kt=o.forwardRef((function(e,t){const o=(0,i().v3)(),{device:a}=o,{store:u}=e,g=(0,n(997752).t)({store:u}),p=(0,r().K8)((()=>n(39341).p.state.banners.some((e=>"LoggedOutAppBanner"===e.id))),[]),m=(0,r().K8)((()=>P().A.state.isFullScreen),[]),b=(0,r().K8)((()=>(0,B().KB)(o)),[o]),v=(0,r().K8)((()=>d().X4(o).shouldShowSidebar),[o]),x=(0,r().O$)(N().sidebarElectronMousePeekStore),{isShowingTabBar:f}=(0,r().O$)(I().A),S=(0,h().V)(),y=(0,r().K8)((()=>A().default.isVisible()),[]),w=x&&f&&v&&!b&&!y,j=a.isElectron&&!f&&!m?`${c().N_7} ${c().sbV}`:c().N_7,k=(0,Re().U)({store:u,shouldRenderTemplateGalleryTopbar:g,isBrowserFullScreen:m});return(0,L.jsxs)("header",{style:k.header,ref:t,children:[p&&(0,L.jsx)(ee,{}),(0,L.jsx)("div",{style:k.container,className:j,onFocus:C().lE,onBlur:C().c8,children:(0,L.jsx)(s().K,{from:"Topbar",fallback:e=>{let{errorId:t}=e;return(0,L.jsx)("div",{className:c().N_7,style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",height:(0,n(175947).ek)(a.isElectronMac),maxWidth:"100vw",paddingRight:8},children:(0,L.jsx)(l().W,{errorId:t,iconSize:20})})},children:(0,L.jsx)(_t,{...e,shouldRenderTemplateGalleryTopbar:g})})}),!S&&(0,L.jsx)(n(885962).x,{banners:e.banners,isMobile:!1,isInPeekRenderer:!1}),w&&(0,L.jsx)(n(540545).k,{style:k.electronTopbarSidebarMousePeekArea})]})}));function Rt(e){let{store:t,isInvalidPage:n,isElectron:o}=e;const{isShowingTabBar:i}=(0,r().O$)(I().A),a=(0,Re().Kh)({shouldRenderTemplateGalleryTopbar:!1});return(0,L.jsxs)("div",{style:a,onDoubleClick:C().mz,children:[Ke().E({isElectron:o,isShowingTabBar:i}),Ke().s({store:t,isInvalidPage:n}),(0,L.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,L.jsx)(tt,{store:t,isInvalidPage:n})]})}function _t(e){let{shouldRenderTemplateGalleryTopbar:t,store:s,routerState:l,isInvalidPage:d,isElectron:c,showSidebarButton:h,hideActionButtons:m}=e;const b=(0,i().v3)(),v=(0,o.useRef)(0),x=(0,o.useRef)(0),f=(0,o.useCallback)((()=>{v.current=window.screenX,x.current=window.screenY}),[]),S=(0,o.useCallback)((e=>{const t=window.screenX,o=window.screenY;v.current===t&&x.current===o&&(e.target===e.currentTarget&&n(725614).clear({environment:b}),(0,u().SQ)({event:e,context:u().y$.EditorClick,callback:()=>{n(661920).Cx(b)}}))}),[b]),{isPersonalHome:y,isPersonProfile:w,isTeamHome:j,isBrowsePage:k,teamStore:A,shouldRenderPublicPageTopbar:B,shouldRenderTrustDomainPageTopbar:P,shouldRenderAWTLPageTopbar:I}=(0,r().K8)((()=>{const e=M().default.state.currentSpaceStore,t=!b.currentUser.isLoggedIn();if(!s){const t="team"===l.route.name&&e&&G().sk.createChildStore(e,{table:"team",id:l.route.teamId,spaceId:e.id});return{isTeamHome:"team"===l.route.name,isPosts:"posts"===l.route.name,isPersonalHome:!1,isPersonProfile:!1,teamStore:t,shouldRenderPublicPageTopbar:!1,shouldRenderTrustDomainPageTopbar:!1}}const{publicPageData:o}=U().A.state,i=M().default.state.mainEditorCurrentBlockStore,r=C().K6(s,b),a=!!i&&(0,g().qb)(b,i),d=!!r&&(0,n(326589).g)();return{isPersonalHome:(0,n(696746).lU)(s),isPersonProfile:s.isPersonProfile(),isBrowsePage:(0,n(421426).WO)(b),isTeamHome:!1,isPosts:!1,teamStore:void 0,shouldRenderPublicPageTopbar:r&&!d,shouldRenderAWTLPageTopbar:d&&(t||a),shouldRenderTrustDomainPageTopbar:null==o?void 0:o.isDLSViewer}}),[l.route,s,b]),T=(0,r().K8)((()=>C().i_({store:s,environment:b})),[s,b]),[{status:R}]=(0,a().Yb)((async()=>await U().A.waitUntilLoaded()),[]),_=(0,r().K8)((()=>{var e;return"sidebar"===(null===(e=U().A.state.publicPageData)||void 0===e?void 0:e.sharingReceiverExperimentVariant)}),[]),E=(0,r().K8)((()=>b.currentUser.isLoggedIn()),[b.currentUser]),D=(0,r().K8)((()=>null!=s&&s.isCollectionView()?s:void 0),[s]),{value:V}=(0,p().fJ)(X().oQ.workflowNavigationHelpers),H=(0,r().K8)((()=>null==V?void 0:V.getIsWorkflowEditorOpen(b)),[b,V]);return!T||s&&"pending"===R||k?null:s&&I?(0,L.jsx)(W,{showSidebarButton:h&&(_||E),store:s,isInvalidPage:d,isElectron:c}):B&&s?t?(0,L.jsx)(Ct,{blockStore:s,isInvalidPage:d,isElectron:c}):(0,L.jsx)(vt,{store:s,isInvalidPage:d,isElectron:c}):P&&s?(0,L.jsx)(Rt,{store:s,isInvalidPage:d,isElectron:c}):y&&s?(0,L.jsx)(z,{store:s,isInvalidPage:d,showSidebarButton:h,handleClickTopbar:S,handleMouseDown:f}):w&&s?(0,L.jsx)(K,{blockStore:s,showSidebarButton:h}):j&&A?(0,L.jsx)(q,{teamStore:A,showSidebarButton:h}):H&&D?(0,L.jsx)(X().Nz,{store:D,isInvalidPage:d,isElectron:c,showSidebarButton:h,hideActionButtons:m,shouldRenderTemplateGalleryTopbar:t,handleClickTopbar:S,handleMouseDown:f}):s?(0,L.jsx)(Lt,{store:s,isInvalidPage:d,isElectron:c,showSidebarButton:h,hideActionButtons:m,shouldRenderTemplateGalleryTopbar:t,handleClickTopbar:S,handleMouseDown:f}):null}},261164:(e,t,n)=>{n.d(t,{o:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("arrowRightRounded",{viewBox:"0 0 16 13",svg:(0,o.jsx)("path",{d:"M15.3828 6.85156C15.3828 7.09635 15.2917 7.3099 15.1094 7.49219L9.95312 12.6328C9.77083 12.8099 9.5651 12.8984 9.33594 12.8984C9.09635 12.8984 8.89583 12.8203 8.73438 12.6641C8.57812 12.5078 8.5 12.3125 8.5 12.0781C8.5 11.9583 8.52083 11.8464 8.5625 11.7422C8.60938 11.638 8.67188 11.5469 8.75 11.4688L10.5 9.70312L13.4141 7.04688L13.6875 7.54688L10.9766 7.70312H1.48438C1.22396 7.70312 1.01302 7.625 0.851562 7.46875C0.695312 7.30729 0.617188 7.10156 0.617188 6.85156C0.617188 6.59635 0.695312 6.39062 0.851562 6.23438C1.01302 6.07292 1.22396 5.99219 1.48438 5.99219H10.9766L13.6875 6.15625L13.4141 6.66406L10.5 4L8.75 2.22656C8.67188 2.14844 8.60938 2.0599 8.5625 1.96094C8.52083 1.85677 8.5 1.74219 8.5 1.61719C8.5 1.38281 8.57812 1.1875 8.73438 1.03125C8.89583 0.875 9.09635 0.796875 9.33594 0.796875C9.45052 0.796875 9.5599 0.820312 9.66406 0.867188C9.76823 0.914062 9.86719 0.984375 9.96094 1.07812L15.1094 6.21094C15.2917 6.39323 15.3828 6.60677 15.3828 6.85156Z"})})},281401:(e,t,n)=>{n.d(t,{JK:()=>S,K6:()=>f,US:()=>y,aD:()=>A,c8:()=>k,i_:()=>x,lE:()=>j,mz:()=>w,p_:()=>C});var o=()=>n(819121),i=()=>n(427704),r=()=>n(798880),a=()=>n(452939),s=()=>n(705540),l=()=>n(729283),d=()=>n(780054),c=()=>n(753199),u=()=>n(731320),g=()=>n(299545),p=()=>n(351360),h=()=>n(948914),m=()=>n(508496),b=()=>n(630116),v=()=>n(172079);function x(e){const{store:t,environment:n}=e,o=p().default.state.currentSpaceStore,i=!t||(0,g()._C)(t),{id:a}=n.currentUser,s=a&&o?b().LU.createChildStore(o,{table:r().oo,id:a}):void 0,l=!s||s.isReady();return i&&l}function f(e,t){return!d().A.isAdminMode&&(0,u().qb)(t,e)}function S(){return m().default.checkGate({gateName:"sites_deprecate_edit_and_comment_top_bar"})}i().JZ.signup,i().JZ.product;async function y(e){const{environment:t,route:n,openInNewTab:o}=e;a().LT(t,{variant:"made_with_notion"}),await l().VE(t,{utmContent:"topbar_cta",nextRoute:n,openInNewTab:o})}async function C(e){const{environment:t,route:n,formId:o,spaceId:i,openInNewTab:r}=e;a().LT(t,{variant:"made_with_notion"}),await l()._q(t,{utmContent:"topbar_cta",nextRoute:n,formId:o,spaceId:i,openInNewTab:r})}function w(e){e.target!==e.currentTarget||h().A.state.isShowingTabBar||(0,c().SQ)({event:e,context:c().y$.EditorDoubleClick,callback:s().toggleMaximized})}function j(e){const t=e.target;t instanceof HTMLElement&&(0,o().p)(t)&&v().A.setState(!0)}function k(){v().A.setState(!1)}function A(e){return{iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",marginRight:14,color:e.icon.secondary,width:26},iconStyle:{height:26,width:26,fill:e.icon.primary}}}},305913:(e,t,n)=>{n.d(t,{J:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("mobileTopbarMore",{viewBox:"0 0 26 26",svg:(0,o.jsx)("path",{d:"M4.56613 14.857C5.5918 14.857 6.42327 14.0255 6.42327 12.9998C6.42327 11.9742 5.5918 11.1427 4.56613 11.1427C3.54046 11.1427 2.70898 11.9742 2.70898 12.9998C2.70898 14.0255 3.54046 14.857 4.56613 14.857Z M20.2923 14.8571C21.318 14.8571 22.1495 14.0257 22.1495 13C22.1495 11.9743 21.318 11.1428 20.2923 11.1428C19.2667 11.1428 18.4352 11.9743 18.4352 13C18.4352 14.0257 19.2667 14.8571 20.2923 14.8571Z M12.429 14.8571C13.4546 14.8571 14.2861 14.0257 14.2861 13C14.2861 11.9743 13.4546 11.1428 12.429 11.1428C11.4033 11.1428 10.5718 11.9743 10.5718 13C10.5718 14.0257 11.4033 14.8571 12.429 14.8571Z"})})},348337:(e,t,n)=>{n.d(t,{$4:()=>b,Hi:()=>f,T7:()=>v,aL:()=>x});n(296540);var o=()=>n(584262),i=()=>n(427704),r=()=>n(959013),a=()=>n(989423),s=()=>n(186445),l=()=>n(492414),d=()=>n(411671),c=()=>n(452939),u=()=>n(901389),g=()=>n(507785),p=()=>n(729283),h=()=>n(435009),m=n(474848);async function b(e){c().LT(e,{variant:"open_notion"}),c().uB(e,{target:"open_notion"}),await p().VE(e,{utmContent:"topbar_cta",nextRoute:i().JZ.root})}function v(e,t){const{RouterStore:n}=e,a=n.state.route,p=s().ao();if(c().A8(e),"page"===a.name&&a.requestedOnPublicDomain&&p){const t=(0,l().Ay)({store:p,preferPublicLink:!1,pageVisitSource:o().y8.EditPublicPage,disableSlug:!0,embedded:!1});h().navigateOnBaseUrl({environment:e,url:t,openInNewTab:a.embedded})}else e.currentUser.isLoggedIn()?u().ui({showCancel:!0,keepFocus:!1,message:(0,m.jsx)(r().sA,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"action.startPublicEditDialog.message"}),items:[{label:(0,m.jsx)(r().sA,{defaultMessage:"Continue",id:"action.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){d().A.setState({editing:!0,commenting:!0})}}]}):(g().iZ({currentUserId:e.currentUser.id,blockId:t}),h().navigateOnBaseUrl({environment:e,url:i().JZ.login}))}function x(e,t){const{RouterStore:n}=e,r=n.state.route,a=s().ao();if(c().$W(e),"page"===r.name&&r.requestedOnPublicDomain&&a){const t=(0,l().Ay)({store:a,preferPublicLink:!1,pageVisitSource:o().y8.CommentPublicPage,disableSlug:!0,embedded:!1});h().navigateOnBaseUrl({environment:e,url:t,openInNewTab:r.embedded})}else g().iZ({currentUserId:e.currentUser.id,blockId:t}),h().navigateOnBaseUrl({environment:e,url:i().JZ.login})}function f(e,t){(0,a().u4)({environment:e,event:{eventName:"report_form_clicked",eventProperties:{form_id:t}}}),h().navigateOnBaseUrl({environment:e,url:i().JZ.reportInappropriateForm})}},373156:(e,t,n)=>{n.d(t,{A:()=>r});n(296540);var o=()=>n(959013),i=n(474848);const r=function(e){const t=(0,n(401497).DP)(),r=(0,n(484714).v3)(),{device:a}=r;return(0,i.jsx)(n(859428).A,{placement:n(962730).W.Bottom,renderTooltip:()=>(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)(o().sA,{defaultMessage:"Access restricted from parent page",id:"blockAuthorInfo.restrictedBadge.infoText"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{style:{color:t.text.contrastSecondary},children:(0,i.jsx)(o().sA,{defaultMessage:"Click to view access",id:"blockAuthorInfo.restrictedBadge.clickText"})})]}),render:r=>(0,i.jsxs)(n(493823).p,{onClick:e.onClick,style:{marginRight:a.isMobile?4:2,color:t.lightTextColor,fill:t.lightIconColor},...r,children:[(0,n(987555).T)({width:20,marginRight:4,fill:t.lightIconColor}),(0,i.jsx)("div",{style:{color:t.lightTextColor,fontSize:a.isMobile?16:14,lineHeight:a.isAndroid?1.5:1,whiteSpace:"nowrap"},children:(0,i.jsx)(o().sA,{id:"blockAuthorInfo.restrictedBadge",defaultMessage:"Restricted"})})]})})}},421426:(e,t,n)=>{n.d(t,{U9:()=>g,WO:()=>d,kf:()=>c});n(581454);var o=()=>n(179034),i=()=>n(869558),r=()=>n(96689),a=()=>n(919709),s=()=>n(351360);const l="10";function d(e){var t;const n=s().default.state.currentSpaceStore;if(!n)return!1;const o=n.getSpaceId(),i=e.currentUser.id;if(!i)return!1;return c(i,e.idCreator.getSpaceIdCreatorSync(o))===(null===(t=s().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id)}function c(e,t){return t.deterministicIdInSavedSpace(o().ev,`${e}:${t.getSpaceId()}:browse-v${l}:collectionViewBlock`)}function u(e,t,n){return t.deterministicIdInSavedSpace(i().Gy,`${e}:${t.getSpaceId()}:browse-v${l}:collectionView:${n}`)}function g(e){const{userId:t,spaceIdCreator:n}=e,i=n.getSpaceId(),s=c(t,n),l=function(e){const{userId:t,spaceIdCreator:n}=e,i=n.getSpaceId(),r=c(t,n),a={id:u(t,n,"createdByMe"),version:1,alive:!0,space_id:i,parent_table:o().ev,parent_id:r,name:"Created by me",type:"list",format:{collection_view_source:{type:"createdByMe",spaceId:i},hide_linked_collection_name:!0,collection_peek_mode:"side_peek",list_properties:[{property:"title",visible:!0},{property:"created_time",visible:!0},{property:"created_by",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!1}],collection_group_by:{groupBy:"relative",hideEmptyGroups:!0,property:"created_time",sort:{type:"descending"},type:"created_time"}}},s={id:u(t,n,"recents"),version:1,alive:!0,space_id:i,parent_table:o().ev,parent_id:r,name:"Recents",type:"gallery",format:{collection_view_source:{type:"recents",spaceId:i},gallery_cover:{type:"page_cover"},gallery_properties:[{property:"title",visible:!0},{property:"created_by",visible:!0},{property:"created_time",visible:!0},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!1}],hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}},l={id:u(t,n,"mentionsMe"),version:1,alive:!0,space_id:i,parent_table:o().ev,parent_id:r,name:"Mentions me",type:"list",format:{collection_view_source:{type:"mentionsMe",spaceId:i},hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}};return{createdByMeView:a,recentsView:s,mentionsMeView:l}}({userId:t,spaceIdCreator:n}),d=Object.values(l);return{block:{id:s,version:1,alive:!0,type:"collection_view_page",space_id:i,parent_table:r().NX,parent_id:i,permissions:[{type:"exclusive_user_permission",user_id:t,role:"read_and_write"}],properties:{title:(0,a().x9d)("Browse")},view_ids:d.map((e=>e.id))},collectionViews:d}}},440854:(e,t,n)=>{n.d(t,{a:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("hamburgerMenu",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})})},455425:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{justUnlocked:!1}}}const i=o},522181:(e,t,n)=>{n.d(t,{J:()=>Q});n(944114);var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497),s=()=>n(683521),l=()=>n(742117),d=()=>n(589407),c=()=>n(305961),u=()=>n(133033),g=()=>n(305913),p=()=>n(926401),h=()=>n(643381),m=()=>n(340498),b=()=>n(959013),v=()=>n(454531),x=()=>n(755636),f=()=>n(704152),S=()=>n(760217),y=()=>n(406699),C=()=>n(811979),w=()=>n(928600),j=()=>n(939740),k=()=>n(89924),A=()=>n(863059),B=()=>n(722872),M=()=>n(553965),P=()=>n(836251),I=()=>n(37433),T=()=>n(963589),L=()=>n(962730),K=()=>n(351360),R=()=>n(714300),_=()=>n(162342),E=()=>n(599500),D=()=>n(753735),V=()=>n(998109),z=()=>n(694874),H=()=>n(162674),O=()=>n(665579);const F=(0,b().YK)({showHideWidgetsTitle:{id:"HomeTopbarActionButtons.showHideWidgets",defaultMessage:"Show/hide widgets"}});n(898992),n(354520),n(581454);var W=()=>n(831310),N=()=>n(980151),U=()=>n(745766),G=n(474848);const Z={greeting:{key:"greeting",label:(0,G.jsx)(b().sA,{id:"HomeFeaturesMenu.greeting.label",defaultMessage:"Greeting"}),defaultValue:!0},tasks:{key:"tasks",label:(0,G.jsx)(b().sA,{id:"HomeFeaturesMenu.tasks.label",defaultMessage:"My Tasks"})},custom_db:{key:"custom_db",label:(0,G.jsx)(b().sA,{id:"HomeFeaturesMenu.customDb.label",defaultMessage:"Database Views"})},tips:{key:"tips",label:(0,G.jsx)(b().sA,{id:"HomeFeaturesMenu.tips.label",defaultMessage:"Learn"})},templates:{key:"templates",label:(0,G.jsx)(b().sA,{id:"HomeFeaturesMenu.templates.label",defaultMessage:"Featured Templates"}),shouldShow:e=>{let{device:t}=e;return!t.isMobile}},calendar:{key:"calendar",label:(0,G.jsx)(b().sA,{id:"HomeFeaturesMenu.calendar.label",defaultMessage:"Upcoming Events"}),shouldShow:e=>{let{device:t,spaceStore:o}=e;return(0,n(523713).x)({isPhone:t.isPhone,spaceStore:o})}}},$=["greeting","calendar","tasks","custom_db","tips","templates"];function Y(e){let{parent:t}=e;const s=(0,i().v3)(),l=(0,b().tz)(),d=(0,i().Y0)(),c=(0,r().K8)((()=>K().default.state.currentSpaceStore),[]),u=(0,r().K8)((()=>$.map((e=>Z[e])).filter((e=>{var t;return(null===(t=e.shouldShow)||void 0===t?void 0:t.call(e,{device:d,spaceStore:c}))??!0}))),[d,c]),{isPhone:g,isElectron:p}=(0,i().Y0)(),h=(0,r().K8)((()=>K().default.state.currentSpaceViewStore),[]),m=(0,r().K8)((()=>(0,n(710857).x)(h)),[h]),v=(0,o.useCallback)((e=>{h&&N().WO({environment:s,currentSpaceViewStore:h,feature:e,from:"home_more_menu"})}),[h,s]),x=(0,a().IS)((e=>({selectedOptionCheck:{width:g?16:14},icon:{width:20,height:20}})),[g]);let f;f=g?{menuType:B().gu.Modal,title:l.formatMessage(F.showHideWidgetsTitle),right:(0,G.jsx)(b().sA,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:t.close}:{menuType:B().gu.Popup,width:200};const y=[{key:"settings-item-section",render:e=>(0,G.jsx)(k().A,{...e}),items:u.map((e=>{let{key:t,label:n}=e;return{key:t,action:()=>v(t),render:e=>(0,G.jsx)(S().A,{...e,title:n,shouldWrapCaption:!0,right:Boolean(m[t])?(0,G.jsx)("div",{style:x.selectedOptionCheck,children:(0,W().o)()}):void 0})}}))}];return(0,G.jsx)(w().A,{...f,children:(0,G.jsx)(j().Ay,{style:(0,U().g)({noDrag:p}),type:j().Oh.Vertical,sections:y.filter(n(534177).O9),initialFocus:void 0})})}const J=o.memo(Y);function q(e){let{onClose:t}=e;const s=(0,i().v3)(),l=(0,r().K8)((()=>(0,n(84161).S)()),[]),{isPhone:d,isElectron:c}=(0,i().Y0)(),u=(0,r().K8)((()=>{var e,t;return(0,n(437622).y$)(s,{space:null===(e=K().default.state.currentSpaceStore)||void 0===e?void 0:e.getModel(),spaceView:null===(t=K().default.state.currentSpaceViewStore)||void 0===t?void 0:t.getModel()})}),[s]),g=(0,o.useCallback)((e=>{const o=u;N()._V({userAction:"userHomeActions.setPersonalHomeAsLandingPage",environment:s,option:e,from:"home_more_menu"}),n(436572).rL({item:{label:(0,G.jsx)(b().sA,{defaultMessage:"Updated default landing page",id:"openOnStartMenu.snackbar.updatedDefaultLandingPage"})},undoFunc:()=>N()._V({userAction:"userHomeActions.setPersonalHomeAsLandingPage.undo",environment:s,option:o,from:"home_toast_undo_button"})}),t("selectedOption")}),[u,s,t]),p=(0,a().IS)((e=>({selectedOptionCheck:{width:d?16:14},icon:{width:20,height:20}})),[d]);let h;h=d?{menuType:B().gu.Modal,title:(0,G.jsx)(b().sA,{id:"openOnStartMenuSetting.title",defaultMessage:"Open on start"}),right:(0,G.jsx)(b().sA,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:()=>t("clickedDone")}:{menuType:B().gu.Popup,width:250,onClickOutside:()=>t("clickedOutside")};const m=[{key:"settings-item-section",render:e=>(0,G.jsx)(k().A,{...e}),items:l.map((e=>{let{key:t,label:n,renderIcon:o}=e;return{key:t,action:()=>g(t),render:e=>(0,G.jsx)(S().A,{...e,title:n,icon:o(p.icon),shouldWrapCaption:!0,right:u===t?(0,G.jsx)("div",{style:p.selectedOptionCheck,children:(0,W().o)()}):void 0})}}))}];return(0,G.jsx)(w().A,{...h,children:(0,G.jsx)(j().Ay,{style:(0,U().g)({noDrag:c}),type:j().Oh.Vertical,sections:m,initialFocus:void 0})})}const X=o.memo(q);function Q(e){const t=(0,i().v3)(),n=(0,b().tz)(),s=(0,i().WS)(),{isElectronWindows:l}=t.device,c=(0,T().X)("home_cover_photo"),u=(0,r().K8)((()=>c&&e.store.hasCover()),[c,e.store]),p=(0,r().K8)((()=>{var e;return null===(e=K().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]),h=(0,R().l)({spaceId:p}),v=(0,D().uq)(h),x=(0,o.useCallback)((()=>(0,H().hY)({environment:t})),[t]),S=(0,a().IS)((e=>({dotsIcon:{width:u?m().Ev.sm:m().Ev.lg,height:u?m().Ev.sm:m().Ev.lg,fill:e.icon.primary},moreIconPhone:{width:m().lD.lg},trialBadgeWrapper:{marginRight:6},button:s?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2,...u?(0,O().Wh)({theme:e,isPhone:s,buttonState:"base"}):{}}:{display:"flex",alignItems:"center",justifyContent:"center",width:A().u7,height:A().nh,borderRadius:4,...u?(0,O().Wh)({theme:e,isPhone:s,buttonState:"base"}):{}},buttonHovered:u?(0,O().Wh)({theme:e,isPhone:s,buttonState:"hovered"}):{},buttonPressed:u?(0,O().Wh)({theme:e,isPhone:s,buttonState:"pressed"}):{},moreButtonStyle:s?{}:{width:250,maxHeight:"80vh"}})),[u,s]);return e.isInvalidPage?null:(0,G.jsxs)(G.Fragment,{children:[v?(0,G.jsx)("div",{style:S.trialBadgeWrapper,children:(0,G.jsx)(E().g,{onClick:()=>(0,_().fR)({openedFrom:"home_badge"})})}):null,(0,G.jsx)(y().Ay,{popupType:s?y().z7.SlideUp:y().z7.Popup,renderOrigin:e=>(0,G.jsx)(V().n,{step:"home_topbar_action_button",isFullWidth:!1,children:(0,G.jsx)(f().A,{ariaLabel:n.formatMessage({id:"homeTopbarActionButtons.moreButton.ariaLabel",defaultMessage:"Open menu"}),style:S.button,hoveredStyle:S.buttonHovered,pressedStyle:S.buttonPressed,mobileFeedback:s,...(0,M().A)(e,{onClick:x}),children:s?(0,g().J)(S.moreIconPhone):(0,d().L)(S.dotsIcon)})}),render:e=>(0,G.jsx)(ee,{mainMenuParent:e,hasCover:u,allowCover:c}),originGap:l?12:4,forceInitialInbound:!0,style:S.moreButtonStyle})]})}function ee(e){let{mainMenuParent:t,hasCover:n,allowCover:o}=e;const{isPhone:d,isElectron:g}=(0,i().Y0)(),m=(0,i().v3)(),f=(0,b().tz)(),A=(0,r().K8)((()=>K().default.state.mainEditorCurrentBlockStore),[]),T=(0,r().K8)((()=>(0,I().nk)("dev_only")),[]),R=(0,P().xS)("guides.sidebarHome"),_=(0,a().IS)((e=>{const t=(0,O().EI)(e);return{coverPhotoIcon:{width:18,height:18,padding:2,marginLeft:1,marginRight:1},pageIcon:{width:20,height:20,padding:2},messageIcon:{width:20,height:20,padding:2},repeatIconStyle:{width:15,height:15,marginLeft:3,marginRight:2},chevronRightIcon:{width:14,height:14,fill:e.lightIconColor},eyeIcon:{width:20,height:20},helpIconStyle:{width:16,height:16,fill:t.icon,marginLeft:2,marginRight:2},helpMenuItem:{color:t.text}}}),[]),E=[{key:"changeDefaultPage",render:e=>(0,G.jsx)(C().A,{...e,stopClickPropagation:!0,popupType:d?y().z7.SlideUp:y().z7.Popup,render:e=>(0,G.jsx)(X,{onClose:n=>(e=>{let{immediateParent:n,closeMainParent:o}=e;n.close(),o&&t.close()})({immediateParent:e,closeMainParent:"selectedOption"===n})}),placementToOrigin:L().W.Left,renderOrigin:t=>(0,G.jsx)(S().A,{...(0,M().A)(e,t),icon:(0,p().n)(_.pageIcon),right:(0,l().V)(_.chevronRightIcon),title:g?(0,G.jsx)(b().sA,{id:"HomeTopbarActionButtons.changeStartPage.desktop",defaultMessage:"Change default page"}):(0,G.jsx)(b().sA,{id:"HomeTopbarActionButtons.changeStartPage",defaultMessage:"Change default start page"})}),onClose:()=>{t.close()}}),action:()=>{}},{key:"showHideTiles",render:e=>(0,G.jsx)(C().A,{...e,stopClickPropagation:!0,popupType:d?y().z7.SlideUp:y().z7.Popup,render:e=>(0,G.jsx)(J,{parent:e}),placementToOrigin:L().W.Left,renderOrigin:t=>(0,G.jsx)(S().A,{...(0,M().A)(e,t),icon:(0,c().d)(_.eyeIcon),right:(0,l().V)(_.chevronRightIcon),title:f.formatMessage(F.showHideWidgetsTitle)}),onClose:()=>{t.close()}}),action:()=>{}}];o&&E.push({key:"manageCoverPhoto",render:e=>(0,G.jsx)(S().A,{...e,icon:(0,s().N)(_.coverPhotoIcon),right:(0,l().V)(_.chevronRightIcon),onClick:e=>{if(!A)return;const t=e.currentTarget.getBoundingClientRect();v().W({environment:m,intl:f,store:A,rect:t})},title:n?(0,G.jsx)(b().sA,{id:"HomeTopbarActionButtons.changeBackground",defaultMessage:"Change background"}):(0,G.jsx)(b().sA,{id:"HomeTopbarActionButtons.addBackground",defaultMessage:"Add background"})}),action:()=>{}}),T&&E.push({key:"reset-welcome-animation",render:e=>(0,G.jsx)(S().A,{...e,icon:(0,h().l)(_.repeatIconStyle),onClick:e=>{z().aX({environment:m,newSeenWelcomeHomeValue:!1})},title:(0,G.jsx)(b().sA,{defaultMessage:"Reset welcome animation",id:"personalHome.resetWelcomeAnimation.title"})}),action:()=>{}}),E.push({key:"help",render:e=>(0,G.jsx)(S().A,{...e,textWrapperStyle:_.helpMenuItem,icon:(0,u().$)(_.helpIconStyle),onClick:e=>{(0,H().X$)({environment:m}),x().f({url:R,environment:m})},title:(0,G.jsx)(b().sA,{defaultMessage:"Learn about Home",id:"personalHome.helpTooltip.title"})}),action:()=>{}});const D=[{key:"all",render:e=>(0,G.jsx)(k().A,{...e}),items:E}];return(0,G.jsx)(w().A,{menuType:d?B().gu.ActionSheet:B().gu.Popup,children:(0,G.jsx)(j().Ay,{type:j().Oh.Vertical,sections:D,initialFocus:void 0})})}},523713:(e,t,n)=>{n.d(t,{x:()=>r});var o=()=>n(534177),i=()=>n(437622);function r(e){let{isPhone:t,spaceStore:n}=e;return!t&&(0,o().O9)(n)&&!(0,i().dT)({env:"production",spaceStore:n})}},527580:(e,t,n)=>{n.d(t,{TK:()=>s,YC:()=>a,ui:()=>r});var o=()=>n(645873);const i={pageVerification:new(o().O2)("pageVerification",(()=>Promise.all([n.e(23806),n.e(94891)]).then(n.bind(n,80826)))),pageVerificationBadge:new(o().O2)("pageVerificationBadge",(()=>Promise.all([n.e(23806),n.e(74562),n.e(95794),n.e(59794),n.e(75355),n.e(9034),n.e(20838),n.e(6463),n.e(11740),n.e(46413),n.e(41412)]).then(n.bind(n,161901)))),pageVerificationMenuRenderer:new(o().O2)("pageVerificationMenuRenderer",(()=>Promise.all([n.e(23806),n.e(74562),n.e(95794),n.e(59794),n.e(75355),n.e(9034),n.e(20838),n.e(6463),n.e(11740),n.e(46413),n.e(26207)]).then(n.bind(n,196770))))},r=(0,o()._h)(i.pageVerification,(e=>e.PageAddVerificationButton)),a=(0,o()._h)(i.pageVerificationBadge,(e=>e.PageVerificationBadge)),s=(0,o()._h)(i.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},533788:(e,t,n)=>{n.d(t,{A:()=>H});var o=n(296540),i=()=>n(395361),r=()=>n(484714),a=()=>n(56366),s=()=>n(401497),l=()=>n(835755),d=()=>n(72135),c=()=>n(959013),u=()=>n(679156),g=()=>n(901389),p=()=>n(229417),h=()=>n(745766),m=()=>n(621979),b=()=>n(722872),v=()=>n(161132),x=()=>n(722038),f=()=>n(227440),S=()=>n(948914),y=()=>n(620149),C=()=>n(285719),w=()=>n(750559),j=()=>n(100622),k=()=>n(907514),A=n(474848);function B(e){const t=(0,C().q)(500);if(e.device.isMobile)return(0,w().f)({width:24,height:"100%"});if("SpaceFrozenError"===e.error.retryReason)return(0,A.jsx)(c().sA,{defaultMessage:"Your workspace is frozen, sync is paused.",id:"connectionErrorIndicator.label.spaceFrozen"});if(void 0===e.error.approximateBackoffDelayEndTime)return(0,A.jsx)(c().sA,{defaultMessage:"Something's not right.",id:"connectionErrorIndicator.label.shortMessage"});const n=Math.floor((e.error.approximateBackoffDelayEndTime-t)/1e3);return n>0?(0,A.jsx)(c().sA,{defaultMessage:"Something's not right. Retrying in {numberOfSeconds}s",values:{numberOfSeconds:n},id:"connectionErrorIndicator.label.retryingInSeconds"}):(0,A.jsx)(c().sA,{defaultMessage:"Something's not right. Retrying",id:"connectionErrorIndicator.label.retrying"})}function M(e){(0,C().q)(1e4);const{startTime:t}=e,n=(0,k().nl)(t),i=(0,r().v3)();return(0,o.useEffect)((()=>{u().ty(i,{errorSinceMs:Date.now()-t})}),[i,t]),"SpaceFrozenError"===e.retryReason?(0,A.jsx)(c().sA,{defaultMessage:"{sinceSomeTimeAgo}: saving was paused because your workspace is frozen. We'll try again once your workspace is unfrozen.",values:{sinceSomeTimeAgo:n},id:"connectionErrorIndicator.details.spaceFrozen"}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c().sA,{defaultMessage:"{sinceSomeTimeAgo}, an error occurred saving your changes. We'll try again soon.",values:{sinceSomeTimeAgo:n},id:"connectionErrorIndicator.details.message"}),e.retryReason?(0,A.jsx)("div",{style:{marginTop:8,fontSize:12,color:j().Ay.whiteWithAlpha(.7),fontStyle:"italic"},children:(0,A.jsx)(c().sA,{defaultMessage:"Debug info: {debugInfo}",values:{debugInfo:e.retryReason},id:"connectionErrorIndicator.details.debugInfo"})}):void 0]})}var P=()=>n(493823),I=()=>n(406699),T=()=>n(331542),L=()=>n(928600),K=()=>n(859428);function R(e){return(0,A.jsx)(c().sA,{defaultMessage:"You can no longer make edits: {errorMessage} {usageInfoMessage}",id:"connectionState.errorIndicator.cannotMakeEdits.detailedMessage",values:{errorMessage:e.errorMessage,usageInfoMessage:e.usageInfoMessage}})}function _(e){const t=(0,s().DP)(),n=(0,r().v3)(),i=(0,l().p)({marginLeft:6,width:14,height:14,fill:e.errorStateStyle.color}),a="transactionQueue"===e.type?e.message:void 0,d="lowStorage"===e.type?e.estimate:void 0;return(0,o.useEffect)((()=>{"transactionQueue"===e.type?u().Y(n,{message:a}):"connection"===e.type?u().pn(n):"lowStorage"===e.type&&u().Ug(n,{estimate:d})}),[e.type,a,d,n]),(0,o.useEffect)((()=>{a&&g().tW((0,A.jsx)(R,{errorMessage:a}))}),[a]),n.device.isMobile?(0,A.jsx)(I().Ay,{popupType:I().z7.SlideUp,renderOrigin:t=>(0,A.jsx)(P().p,{style:e.errorStateStyle,...t,children:e.indicatorText||i}),render:n=>{let{close:o}=n;return(0,A.jsx)(L().A,{menuType:b().gu.ActionSheet,children:(0,A.jsx)("div",{style:{padding:15,background:t.errorText,color:"white"},onClick:o,children:e.detailsText})})}}):(0,A.jsx)(K().A,{renderTooltip:()=>(0,A.jsx)("div",{style:{width:320,whiteSpace:"normal"},children:e.detailsText}),render:t=>(0,A.jsxs)("div",{style:e.errorStateStyle,...t,children:[e.indicatorText,i]})})}function E(e){let{showLoadingSpinner:t}=e;const n=(0,r().v3)(),o=(0,a().K8)((()=>{var e;return null===(e=n.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[n]);return(0,A.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",paddingLeft:!o||t?4:0,paddingRight:!o||t?8:0,visibility:t?"visible":"hidden"},children:(!o||t)&&(0,A.jsx)(T().A,{legacySize:18})})}function D(e){return{display:"flex",alignItems:"center",marginRight:e?0:18,fontSize:e?12:14}}function V(e){let{isOnline:t,showLoadingSpinner:n}=e;const o=(0,c().tz)(),i=(0,r().Y0)(),l=(0,a().K8)((()=>Boolean(S().A.state.isShowingTabBar)),[]),d=(0,x().y)(),u=(0,s().IS)((e=>({offlineBadge:{...(0,h().g)({noDrag:i.isElectron&&!l}),display:"flex",alignItems:"center",padding:"0px 6px",height:i.isMobile?20:24,borderRadius:4,marginRight:i.isMobile?4:18,whiteSpace:"nowrap",fontSize:i.isMobile?12:14,color:e.mediumTextColor,border:`1px solid ${e.darkDividerColor}`},loadingState:{...(0,h().g)({noDrag:i.isElectron&&!l}),...D(i.isMobile),color:e.lightTextColor}})),[i,l]);return t||d?n&&t?(0,A.jsx)(K().A,{renderTooltip:()=>(0,A.jsx)(c().sA,{defaultMessage:"{percent} complete.",id:"connectionState.savePercentangeIndicator.tooltip",values:{percent:y().A.percentComplete(o)}}),render:e=>(0,A.jsxs)("div",{style:u.loadingState,...e,children:[(0,A.jsx)(T().A,{style:{margin:4,marginRight:8}}),(0,A.jsx)(c().sA,{defaultMessage:"Saving",id:"connectionState.saving.message"})]})}):null:(0,A.jsx)(K().A,{renderTooltip:()=>(0,A.jsx)("div",{style:{width:200},children:(0,A.jsx)(c().sA,{defaultMessage:"{numberOfEdits, plural, one {You have {numberOfEdits} edit that will be synced next time you are online.} other {You have {numberOfEdits} edits that will be synced next time you are online.}}",id:"connectionState.offlineBadge.tooltip",values:{numberOfEdits:y().A.state.totalPending}})}),textWrap:!0,render:e=>(0,A.jsx)("div",{style:u.offlineBadge,...e,children:(0,A.jsx)(c().sA,{defaultMessage:"Offline",id:"connectionState.offlineBadge.label"})})})}function z(){const e=(0,r().Y0)(),t=(0,a().K8)((()=>y().A.state.transactionQueueError),[]),n=(0,a().K8)((()=>y().A.state.storageUsageEstimate),[]),i=(0,c().tz)(),l=(0,a().K8)((()=>Boolean(S().A.state.isShowingTabBar)),[]),u=(0,s().IS)((t=>({errorState:{...(0,h().g)({noDrag:e.isElectron&&!l}),...D(e.isMobile),whiteSpace:"nowrap",color:t.errorText}})),[e,l]),g=(0,a().K8)((()=>(0,p().L)()),[]),m=()=>{if(n){const e=n.usage/n.quota;return(0,A.jsx)(c().sA,{defaultMessage:"Notion is using {percentageOfStorageBytesUsed} of its available storage on your device ({usedNumberOfBytes} of {totalNumberOfBytes}).",id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart1",values:{usedNumberOfBytes:(0,d().ZV)(n.usage,"bytes",i),totalNumberOfBytes:(0,d().ZV)(n.quota,"bytes",i),percentageOfStorageBytesUsed:i.formatNumber(e,{style:"percent",maximumFractionDigits:2})}})}};if(t){const e=(0,A.jsx)(c().sA,{defaultMessage:"Cannot save changes",id:"connectionState.errorIndicator.cannotSaveChanges.message"}),n=(0,A.jsx)(R,{errorMessage:t.message,usageInfoMessage:m()});return(0,A.jsx)(_,{type:"transactionQueue",message:t.message,indicatorText:e,detailsText:n,errorStateStyle:u.errorState})}if(void 0!==n&&!(0,v().W0)(n)){const t=e.isBrowser?(0,A.jsx)(c().sA,{defaultMessage:"Low browser storage",id:"connectionState.errorIndicator.lowStorageOnWebApp.message"}):e.isMobileNative?(0,A.jsx)(c().sA,{defaultMessage:"Low app storage",id:"connectionState.errorIndicator.lowStorageOnMobileApp.message"}):(0,A.jsx)(c().sA,{defaultMessage:"Low disk space",id:"connectionState.errorIndicator.lowStorageOnDesktopApp.message"});return(0,A.jsx)(_,{type:"lowStorage",estimate:n,indicatorText:t,detailsText:(0,A.jsxs)(o.Fragment,{children:[m()," ",(0,A.jsx)(c().sA,{id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart2",defaultMessage:"You may lose changes made while offline. Try closing and re-opening your app, and contact support if that doesnt fix the issue."})]}),errorStateStyle:u.errorState})}return g?(0,A.jsx)(_,{type:"connection",indicatorText:(0,A.jsx)(B,{error:g,device:e}),detailsText:(0,A.jsx)(M,{...g}),errorStateStyle:u.errorState}):null}const H=function(){const e=(0,a().K8)((()=>f().A.state.online),[]),t=(0,a().K8)((()=>!y().l.state),[]),n=function(){const e=(0,o.useRef)(!1),[t,n]=(0,o.useState)(!1),r=(0,i().U)((()=>{f().A.state.syncing&&!e.current&&(e.current=!0,n(!0))}),8e3),a=(0,i().U)((()=>{e.current&&!f().A.state.syncing&&(e.current=!1,n(!1))}),200);return(0,o.useEffect)((()=>(f().A.addListener(r),f().A.addListener(a),()=>{f().A.removeListener(r),f().A.removeListener(a)})),[r,a]),e.current}(),s=function(e,t){const n=(0,r().v3)(),[i,a]=(0,o.useState)(!1),s=(0,o.useCallback)((o=>{(0,m().A)(n,o,"command+s")&&(o.preventDefault(),e&&!i&&t&&(a(!0),setTimeout((()=>{a(!1)}),500)))}),[n,i,t,e]);return(0,o.useEffect)((()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)})),[s]),i}(e,t),l=(0,r().Y0)(),d=(0,a().K8)((()=>!(0,p().y)()),[]),c=(s||n)&&t&&d;return(0,A.jsxs)(A.Fragment,{children:[l.isMobile?(0,A.jsx)(E,{showLoadingSpinner:c}):(0,A.jsx)(V,{isOnline:e,showLoadingSpinner:c}),(0,A.jsx)(z,{})]})}},540545:(e,t,n)=>{n.d(t,{k:()=>s});n(296540);var o=()=>n(753199),i=()=>n(869562),r=()=>n(749687),a=n(474848);function s(e){let{children:t,style:n}=e;const s=e=>{(0,o().SQ)({event:e,context:o().y$.SidebarMouseMove,callback:()=>{const t=e.currentTarget.getBoundingClientRect();r().sidebarMousePeekXStore.setState(t.right),i().open({fromElectron:!1})}})};return(0,a.jsx)("div",{onMouseEnter:s,onMouseMove:s,style:n,children:t})}},551780:(e,t,n)=>{n.d(t,{F:()=>i,z:()=>r});var o=()=>n(645873);const i=(0,o()._h)(new(o().O2)("topbar",(()=>Promise.all([n.e(23806),n.e(53179)]).then(n.bind(n,873892)))),(e=>e.TopbarSubmitPostButton)),r=(0,o()._h)(new(o().O2)("topbar",(()=>Promise.all([n.e(23806),n.e(53179)]).then(n.bind(n,618968)))),(e=>e.TopbarFavoriteButton))},573792:(e,t,n)=>{n.d(t,{DW:()=>a,R1:()=>s,lx:()=>r});var o=()=>n(418135),i=()=>n(175947);function r(){return{height:"100%",flexGrow:0,marginRight:8,fontSize:14,minWidth:0}}function a(e){let{environment:t,isShowingTabBar:n,shouldShowSidebar:r,isSidebarExpanded:a,isSecondarySidebarVisible:s,isBrowserFullScreen:l,shouldRenderTemplateGalleryTopbar:d,allowOverflow:c,isFloatingPersonalHomeTopbar:u,zoom:g}=e;const{device:p}=t,h=p.isElectronMac&&(!r||!a&&!s)&&!l&&!n,m=p.isElectronWindows&&!n,b=m&&(!r||!a&&!s);let v=i().ek(p.isElectronMac);return d?v=i().Hi:u&&(v=i().$C),{display:"flex",justifyContent:"space-between",alignItems:"center",overflow:c?"visible":"hidden",height:v,paddingLeft:h?(0,o().JT)(g):b?46:p.isMobile?4:12,paddingRight:m?(0,o().WS)(g)+4:p.isMobile?4:10}}function s(e){return{flex:"none",width:1,height:16,marginLeft:8,marginRight:8,background:e.darkDividerColor}}},589407:(e,t,n)=>{n.d(t,{L:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M4 11.375a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75m6 0a1.375 1.375 0 1 0 0-2.75 1.375 1.375 0 0 0 0 2.75"})},i=(0,n(340498).wt)("ellipsis",o)},596106:(e,t,n)=>{n.d(t,{A:()=>c});n(296540);var o=()=>n(56366),i=()=>n(401497),r=()=>n(959013),a=()=>n(284371),s=()=>n(326406),l=()=>n(905654),d=n(474848);function c(e){let{isUpworkSignup:t,isPerfmarkTrialSignup:n}=e;const c=(0,i().DP)(),u=(0,o().K8)((()=>(0,s().A)()),[]),g=(0,l().Nz)(),p=(0,l().EB)(),h=t?(0,d.jsx)(r().sA,{id:"signupPage.upwork.title",defaultMessage:"Try Notion Plus, on us"}):n?(0,d.jsx)(r().sA,{id:"signupPage.perfmarkTrial.title",defaultMessage:"Start your free Notion Plus trial"}):u?(0,d.jsx)(r().sA,{id:"signupPage.formResponse.title",defaultMessage:"Sign up to see a copy of your form response"}):g?(0,d.jsx)(r().sA,{id:"signupPage.mail.title",defaultMessage:"Welcome to Notion Mail"}):p?(0,d.jsx)(r().sA,{id:"signupPage.calendar.title",defaultMessage:"Welcome to Notion Calendar"}):(0,d.jsx)(r().sA,{id:"signupPage.revamped.title",defaultMessage:"Think it. Make it."}),m=t?(0,d.jsx)(r().sA,{id:"signupPage.upwork.signInText",defaultMessage:"Sign up to get started"}):n?(0,d.jsx)(r().sA,{id:"signupPage.smbTrial.signInText",defaultMessage:"No credit card required"}):u?void 0:(0,d.jsx)(r().sA,{id:"signupPage.revamped.signInText",defaultMessage:"Create your Notion account"});return(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left",fontWeight:a().Wy.semibold,fontSize:22,letterSpacing:"-0.264px",lineHeight:"26px",width:320},children:[(0,d.jsx)("div",{children:h}),(0,d.jsx)("div",{style:{color:c.text.tertiary},children:m})]})}},655438:(e,t,n)=>{n.d(t,{_:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("historyStack",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.19458 15.0034C2.48267 15.0034 1.94434 14.8232 1.57959 14.4629C1.21484 14.1025 1.03247 13.5686 1.03247 12.8611V6.08472C1.03247 5.3772 1.21484 4.84326 1.57959 4.48291C1.94434 4.12256 2.48267 3.94238 3.19458 3.94238H12.7988C13.5107 3.94238 14.0491 4.12476 14.4138 4.4895C14.783 4.84985 14.9675 5.38159 14.9675 6.08472V12.8611C14.9675 13.5642 14.783 14.0959 14.4138 14.4563C14.0491 14.821 13.5107 15.0034 12.7988 15.0034H3.19458ZM3.27368 13.7114H12.7197C13.0229 13.7114 13.2559 13.6301 13.4185 13.4675C13.5854 13.3093 13.6689 13.0698 13.6689 12.749V6.19678C13.6689 5.87598 13.5854 5.63647 13.4185 5.47827C13.2559 5.31567 13.0229 5.23438 12.7197 5.23438H3.27368C2.96606 5.23438 2.73096 5.31567 2.56836 5.47827C2.41016 5.63647 2.33105 5.87598 2.33105 6.19678V12.749C2.33105 13.0698 2.41016 13.3093 2.56836 13.4675C2.73096 13.6301 2.96606 13.7114 3.27368 13.7114ZM2.48267 2.86792C2.53101 2.55591 2.63867 2.31421 2.80566 2.14282C2.97705 1.97144 3.23853 1.88574 3.59009 1.88574H12.4099C12.7615 1.88574 13.0208 1.97144 13.1877 2.14282C13.3591 2.31421 13.469 2.55591 13.5173 2.86792H2.48267ZM3.82739 0.962891C3.84497 0.668457 3.93945 0.446533 4.11084 0.297119C4.28662 0.143311 4.53271 0.0664062 4.84912 0.0664062H11.1509C11.4673 0.0664062 11.7112 0.143311 11.8826 0.297119C12.054 0.446533 12.1528 0.668457 12.1792 0.962891H3.82739Z"})})},665638:(e,t,n)=>{n.d(t,{$:()=>g,S:()=>p});var o=()=>n(56366),i=()=>n(401497),r=()=>n(186445),a=()=>n(838364),s=()=>n(644914),l=()=>n(155959),d=()=>n(661179),c=()=>n(508496),u=()=>n(260893);function g(e){const{environment:t,rightEdgeDistance:n,isInPeekRenderer:a}=e,l=e.width??36,c=(0,o().K8)((()=>(0,s().zo)(t,a)-(0,s().Ql)(t)),[t,a]),g=(0,o().K8)((()=>p(t,16+d().A.state)),[t]),h=(0,o().K8)((()=>n+d().A.state),[n]),m=(0,o().K8)((()=>r().$o.state?0:1),[]),{roundButtonStyle:b}=(0,i().IS)((e=>({roundButtonStyle:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,bottom:g,right:h,width:l,height:l,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM,opacity:m,transform:`translateX(-${c}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${u().L}ms,\n\t\t\t\t\tcolor ${u().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`}})),[c,g,h,l,m]);return b}function p(e,t){const n=c().default.checkGate({gateName:"tablet_refresh_gate"}),o=e.device.isMobileNative&&!n,i=(0,l().T)("supportsNativeBottomBar"),r=o&&!i;return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet&&n?-12:r?a().l:0))}},683521:(e,t,n)=>{n.d(t,{N:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("addPageCover",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},697430:(e,t,n)=>{n.d(t,{K:()=>i});var o=()=>n(989423);function i(e){let{environment:t,source:n,sourceData:i,formId:r}=e;(0,o().u4)({environment:t,event:{eventName:"forms_growth_click",eventProperties:{source:n,source_data:i,form_id:r}}})}},699527:(e,t,n)=>{n.d(t,{c:()=>h});n(296540);var o=()=>n(484714),i=()=>n(401497),r=()=>n(589407),a=()=>n(305913),s=()=>n(340498),l=()=>n(3243),d=()=>n(704152),c=()=>n(406699),u=()=>n(863059),g=()=>n(575301),p=n(474848);function h(e){const t=(0,o().Y0)(),n=t.isPhone,h=t.isElectronWindows,m=(0,g().T4)(),b=(0,i().IS)((e=>({dotsIcon:{width:s().Ev.lg,height:s().Ev.lg,fill:e.regularIconColor},moreIconPhone:{width:s().lD.lg},button:n?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2}:{display:"flex",alignItems:"center",justifyContent:"center",width:u().u7,height:u().nh,borderRadius:4},moreButtonStyle:n?m.popup:{width:250,maxHeight:"80vh"}})),[n,m.popup]);return(0,p.jsx)(c().Ay,{popupType:n?c().z7.SlideUp:c().z7.Popup,renderOrigin:e=>(0,p.jsx)(d().A,{style:b.button,mobileFeedback:n,...e,children:n?(0,a().J)(b.moreIconPhone):(0,r().L)(b.dotsIcon)}),render:t=>(0,p.jsx)(l().vc,{mainMenuParent:t,teamStore:e.teamStore}),originGap:h?12:4,forceInitialInbound:!0,style:b.moreButtonStyle})}},730591:(e,t,n)=>{n.d(t,{A:()=>r});const o=[];class i extends(()=>n(757695))().default{getInitialState(){return{open:!1,tabSpacesState:{tabSpaces:{},orderedTabSpaceIds:o,ungroupedTabCount:0,activeTabSectionId:"ungrouped"}}}}const r=new i},746084:(e,t,n)=>{n.d(t,{A:()=>b});n(296540);var o=()=>n(484714),i=()=>n(30626),r=()=>n(568625),a=()=>n(440854),s=()=>n(959013),l=()=>n(989423);var d=()=>n(778417),c=()=>n(645873);const u=new(c().O2)("publicTopbarMoreMenu",(async()=>await Promise.all([n.e(23806),n.e(75134),n.e(43380),n.e(9304),n.e(96346),n.e(36192),n.e(44711),n.e(53321),n.e(16471),n.e(90825),n.e(37353),n.e(49889),n.e(97727),n.e(55373),n.e(29151),n.e(16908),n.e(62475),n.e(3151),n.e(98629),n.e(58550),n.e(22900),n.e(85128),n.e(95555),n.e(90409),n.e(63077),n.e(74562),n.e(95794),n.e(46414),n.e(8184),n.e(99353),n.e(52681),n.e(14518),n.e(17713),n.e(28271),n.e(17254),n.e(4422),n.e(59794),n.e(67435),n.e(75355),n.e(48315),n.e(47123),n.e(847),n.e(5887),n.e(70769),n.e(97965),n.e(17989),n.e(3965),n.e(38911),n.e(9034),n.e(52012),n.e(56985),n.e(50142),n.e(20838),n.e(21627),n.e(88860),n.e(83210),n.e(26090),n.e(82472),n.e(96345),n.e(10596),n.e(73285),n.e(75659),n.e(78846),n.e(47858),n.e(13324),n.e(51860),n.e(15724),n.e(81141),n.e(27274),n.e(99346),n.e(92448),n.e(65638),n.e(72915),n.e(28721),n.e(69689),n.e(23463),n.e(25426),n.e(6463),n.e(91056),n.e(26483),n.e(29333),n.e(5396),n.e(1440),n.e(34576),n.e(95810),n.e(89109),n.e(3560),n.e(77169),n.e(24071),n.e(68610),n.e(67064),n.e(49978),n.e(3720),n.e(47762),n.e(85475),n.e(11740),n.e(97996),n.e(5066),n.e(35299),n.e(68117),n.e(14267),n.e(33731),n.e(30016),n.e(14410),n.e(49471),n.e(31185),n.e(75681)]).then(n.bind(n,728051)))),g=(0,c()._h)(u,(e=>e.PublicTopbarMoreMenu));var p=()=>n(704152),h=()=>n(406699),m=n(474848);const b=function(e){let{buttonPopupStore:t,useEllipsisIcon:n,store:i,isPublicShareLink:r}=e;const a=(0,o().v3)(),s=(0,o().WS)();return(0,m.jsx)(h().Ay,{popupType:s?h().z7.SlideUp:h().z7.Popup,buttonPopupStore:t,renderOrigin:e=>(0,m.jsx)(x,{buttonPopupEvents:e,useEllipsisIcon:Boolean(n)}),onClick:()=>f(a),render:()=>(0,m.jsx)(g,{blockStore:i,onDismiss:()=>f(a),isPublicShareLink:Boolean(r)}),originGap:8})};function v(e){const{device:t}=e;return t.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginLeft:8,marginRight:8}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4}}function x(e){let{buttonPopupEvents:t,useEllipsisIcon:n}=e;const l=(0,s().tz)(),d=(0,o().v3)(),{device:c}=d,u=c.isMobile;return(0,m.jsx)(p().A,{ariaLabel:l.formatMessage({id:"publicTopbarMoreButton.ariaLabel",defaultMessage:"More actions"}),style:v(d),mobileFeedback:c.isMobile,...t,children:n?u?(0,a().a)({width:16,height:16}):(0,r().L)({width:18,height:18}):(0,i()._)({width:18,height:18})})}function f(e){d().IU({environment:e}),function(e){l().vd(e,"open_public_more_menu")}(e)}},783423:(e,t,n)=>{n.d(t,{M:()=>r});var o=()=>n(645873);const i=new(o().O2)("topbarStopSuggestModeButton",(async()=>await Promise.all([n.e(23806),n.e(75134),n.e(43380),n.e(9304),n.e(96346),n.e(36192),n.e(44711),n.e(53321),n.e(16471),n.e(90825),n.e(37353),n.e(49889),n.e(97727),n.e(55373),n.e(29151),n.e(16908),n.e(62475),n.e(3151),n.e(98629),n.e(58550),n.e(22900),n.e(85128),n.e(95555),n.e(90409),n.e(63077),n.e(74562),n.e(95794),n.e(46414),n.e(8184),n.e(99353),n.e(52681),n.e(14518),n.e(17713),n.e(28271),n.e(17254),n.e(4422),n.e(59794),n.e(67435),n.e(75355),n.e(48315),n.e(47123),n.e(847),n.e(5887),n.e(70769),n.e(97965),n.e(17989),n.e(3965),n.e(38911),n.e(9034),n.e(52012),n.e(56985),n.e(50142),n.e(20838),n.e(21627),n.e(88860),n.e(83210),n.e(26090),n.e(82472),n.e(96345),n.e(10596),n.e(73285),n.e(75659),n.e(78846),n.e(47858),n.e(13324),n.e(51860),n.e(15724),n.e(81141),n.e(27274),n.e(99346),n.e(92448),n.e(65638),n.e(72915),n.e(28721),n.e(69689),n.e(23463),n.e(25426),n.e(6463),n.e(91056),n.e(26483),n.e(29333),n.e(5396),n.e(1440),n.e(34576),n.e(95810),n.e(89109),n.e(3560),n.e(77169),n.e(24071),n.e(68610),n.e(67064),n.e(49978),n.e(3720),n.e(47762),n.e(85475),n.e(11740),n.e(97996),n.e(5066),n.e(35299),n.e(68117),n.e(14267),n.e(33731),n.e(30016),n.e(14410),n.e(49471),n.e(31185),n.e(75681)]).then(n.bind(n,271459)))),r=(0,o()._h)(i,(e=>e.TopbarStopSuggestModeButton))},835755:(e,t,n)=>{n.d(t,{p:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},839003:(e,t,n)=>{n.d(t,{S:()=>y});var o=n(296540),i=()=>n(484714),r=()=>n(852507),a=()=>n(56366),s=()=>n(401497),l=()=>n(426388),d=()=>n(192855),c=()=>n(861017),u=()=>n(427704),g=()=>n(959013),p=()=>n(449506),h=()=>n(697430),m=()=>n(578872),b=()=>n(864943),v=()=>n(281401),x=n(474848);const f={width:14,height:14},S={width:14,height:14,marginLeft:6};function y(e){const{store:t}=e,n=(0,i().v3)(),[y,C]=(0,o.useState)(!1),w=n.device.isMobile,j=(0,s().DP)(),k=w?f:S,{isForm:A,formId:B,spaceId:M}=(0,a().K8)((()=>({isForm:t.isFormBlock(),formId:t.id,spaceId:t.getSpaceId()})),[t]),P=(0,a().K8)((()=>{const e=n.RouterStore.state.route;return(0,c().bh)(e)}),[n]),I=(0,a().K8)((()=>A?y&&m().hn(t):m().hn(t)),[t,A,y]);(0,r().l)((async()=>{var e;if(!A)return;const o=n.currentUser.id,i=await p().callApi({eventName:"getFormData",environment:n,data:{formId:t.id,spaceId:t.getSpaceId()},userId:o});"failed"!==i.type&&C((null===(e=i.data.additionalFeatures)||void 0===e?void 0:e.customization)??!1)}));const T=(0,o.useCallback)((async()=>{A?((0,h().K)({environment:n,source:"public_topbar_cta",sourceData:"Made with Notion",formId:B}),await v().p_({environment:n,route:u().JZ.signup,formId:B,spaceId:M,openInNewTab:P})):await v().US({environment:n,route:u().JZ.signup,openInNewTab:P})}),[A,n,B,M,P]);return I?null:(0,x.jsxs)(b().A,{size:"lg",style:{padding:w?"0 8px":"0 10px",marginLeft:8},onClick:T,children:[!w&&(0,x.jsx)(g().sA,{defaultMessage:"Made with",id:"topbar.publicPage.cta.label.madeWithNotion"}),"light"===j.mode?(0,l().S)(k):(0,d().L)(k)]})}},854094:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{isHovered:!1}}}const i=new o},863059:(e,t,n)=>{n.d(t,{Hh:()=>k,Kh:()=>y,L1:()=>f,Nq:()=>S,U:()=>C,gQ:()=>A,nh:()=>j,u7:()=>w});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497),s=()=>n(418135),l=()=>n(340498),d=()=>n(175947),c=()=>n(186445),u=()=>n(696746),g=()=>n(900652),p=()=>n(441199),h=()=>n(644914),m=()=>n(224011),b=()=>n(948914),v=()=>n(150193);const x=10,f=700;function S(){const{isMobile:e,isElectronWindows:t}=(0,i().Y0)(),{isShowingTabBar:n,zoomFactor:a}=(0,r().K8)((()=>({isShowingTabBar:Boolean(b().A.state.isShowingTabBar),zoomFactor:b().A.state.zoomFactor||s().rx})),[]),l=t&&!n;return(0,o.useMemo)((()=>l?(0,s().WS)(a)+4:e?4:x),[e,l,a])}function y(e){let{isFloatingPersonalHomeTopbar:t,shouldRenderTemplateGalleryTopbar:n}=e;const a=(0,i().v3)(),{isShowingTabBar:l,zoomFactor:u}=(0,r().O$)(b().A),g=(0,r().K8)((()=>c().X4(a).shouldShowSidebar),[a]),v=(0,r().K8)((()=>(0,h().KB)(a)),[a]),x=(0,r().K8)((()=>p().default.isPanelPinnedState()),[]),f=(0,r().K8)((()=>m().A.state.isFullScreen),[]),{device:S}=a,y=u||s().rx,C=S.isElectronMac&&(!g||!v&&!x)&&!f&&!l,w=S.isElectronWindows&&!l,j=w&&(!g||!v&&!x);let k=d().ek(S.isElectronMac);n?k=d().Hi:t&&(k=d().$C);return(0,o.useMemo)((()=>({display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:k,paddingLeft:C?(0,s().JT)(y):j?46:S.isMobile?4:12,paddingRight:w?(0,s().WS)(y)+4:S.isMobile?4:10})),[k,C,y,j,S.isMobile,w])}function C(e){let{store:t,shouldRenderTemplateGalleryTopbar:n,isBrowserFullScreen:o}=e;const l=(0,i().v3)(),p=(0,i().Y0)(),m=(0,i().WS)(),x=(0,r().K8)((()=>(0,u().lU)(t)&&0===v().A.state.banners.length),[t]);let S=d().ek(p.isElectronMac);n&&(S=2*d().Hi);const y=(0,r().K8)((()=>g().Z8()),[]),C=(0,r().O$)(c().$o),{zoomFactor:w}=(0,r().O$)(b().A),j=(0,h().Sj)(l),k=d().pz(p.isElectronMac,o,w||s().rx);return(0,a().IS)((e=>({header:{background:x&&!m?"transparent":e.contentBackground,maxWidth:"100vw",zIndex:100,WebkitUserSelect:"none",userSelect:"none"},container:{width:`calc(100% - ${y}px)`,maxWidth:"100vw",height:S,opacity:C?0:1,transition:`\n\t\t\t\t\t\topacity ${f}ms,\n\t\t\t\t\t\tcolor ${f}ms\n\t\t\t\t\t`,position:"relative",left:y},electronTopbarSidebarMousePeekArea:{position:"absolute",top:0,width:`${k}px`,height:`${j}px`}})),[x,m,y,C,S,k,j])}const w=34,j=28;function k(e){return{iconButton:{width:w,height:j,marginRight:2},icon:{height:l().Ev.lg,width:l().Ev.lg,fill:e.icon.primary},tabletIcon:{height:l().lD.lg,width:l().lD.lg,fill:e.icon.primary}}}function A(){return(0,a().IS)(k,[])}},869609:(e,t,n)=>{n.d(t,{u:()=>r});var o=()=>n(645873);const i=new(o().O2)("topbarMoreButton",(async()=>await Promise.all([n.e(23806),n.e(75134),n.e(43380),n.e(9304),n.e(96346),n.e(36192),n.e(44711),n.e(53321),n.e(16471),n.e(90825),n.e(37353),n.e(49889),n.e(97727),n.e(55373),n.e(29151),n.e(16908),n.e(62475),n.e(3151),n.e(98629),n.e(58550),n.e(22900),n.e(85128),n.e(95555),n.e(90409),n.e(63077),n.e(74562),n.e(95794),n.e(46414),n.e(8184),n.e(99353),n.e(52681),n.e(14518),n.e(17713),n.e(28271),n.e(17254),n.e(4422),n.e(59794),n.e(67435),n.e(75355),n.e(48315),n.e(47123),n.e(847),n.e(5887),n.e(70769),n.e(97965),n.e(17989),n.e(3965),n.e(38911),n.e(9034),n.e(52012),n.e(56985),n.e(50142),n.e(20838),n.e(21627),n.e(88860),n.e(83210),n.e(26090),n.e(82472),n.e(96345),n.e(10596),n.e(73285),n.e(75659),n.e(78846),n.e(47858),n.e(13324),n.e(51860),n.e(15724),n.e(81141),n.e(27274),n.e(99346),n.e(92448),n.e(65638),n.e(72915),n.e(28721),n.e(69689),n.e(23463),n.e(25426),n.e(6463),n.e(91056),n.e(26483),n.e(29333),n.e(5396),n.e(1440),n.e(34576),n.e(95810),n.e(89109),n.e(3560),n.e(77169),n.e(24071),n.e(68610),n.e(67064),n.e(49978),n.e(3720),n.e(47762),n.e(85475),n.e(11740),n.e(97996),n.e(5066),n.e(35299),n.e(68117),n.e(14267),n.e(33731),n.e(30016),n.e(14410),n.e(49471),n.e(31185),n.e(75681)]).then(n.bind(n,705630)))),r=(0,o()._h)(i,(e=>e.TopbarMoreButton))},877051:(e,t,n)=>{n.d(t,{V:()=>a});var o=()=>n(56366),i=()=>n(351360),r=()=>n(963589);function a(){const e=(0,r().X)("lazier_dependencies"),t=(0,o().K8)((()=>i().default.state.renderPhase),[]);return e&&"rendered"!==t}},885962:(e,t,n)=>{n.d(t,{x:()=>r});var o=()=>n(645873);const i=new(o().O2)("BannersRenderer",(async()=>Promise.all([n.e(23806),n.e(9304),n.e(96346),n.e(16471),n.e(90409),n.e(38664),n.e(24587),n.e(4422),n.e(47123),n.e(3965),n.e(21627),n.e(83210),n.e(81141),n.e(72915),n.e(69689),n.e(43647),n.e(26483),n.e(30670),n.e(25700),n.e(88294),n.e(82572),n.e(76526),n.e(94153)]).then(n.bind(n,915132)))),r=(0,o()._h)(i,(e=>e.BannersRenderer))},996624:(e,t,n)=>{n.d(t,{a:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("doubleChevronRight",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M2.25781 14.1211C2.47656 14.1211 2.66797 14.0391 2.81836 13.8887L8.14355 8.67969C8.32812 8.49512 8.41699 8.29688 8.41699 8.06445C8.41699 7.8252 8.32812 7.62012 8.14355 7.44922L2.81836 2.24023C2.66797 2.08984 2.4834 2.00781 2.25781 2.00781C1.81348 2.00781 1.46484 2.35645 1.46484 2.80078C1.46484 3.0127 1.55371 3.21777 1.7041 3.375L6.50977 8.05762L1.7041 12.7539C1.55371 12.9043 1.46484 13.1094 1.46484 13.3281C1.46484 13.7725 1.81348 14.1211 2.25781 14.1211ZM8.36914 14.1211C8.58789 14.1211 8.77246 14.0391 8.92285 13.8887L14.2549 8.67969C14.4395 8.49512 14.5283 8.29688 14.5283 8.06445C14.5283 7.8252 14.4326 7.62012 14.2549 7.44922L8.92285 2.24023C8.77246 2.08984 8.58789 2.00781 8.36914 2.00781C7.9248 2.00781 7.56934 2.35645 7.56934 2.80078C7.56934 3.0127 7.66504 3.21777 7.81543 3.375L12.6211 8.05762L7.81543 12.7539C7.66504 12.9043 7.56934 13.1094 7.56934 13.3281C7.56934 13.7725 7.9248 14.1211 8.36914 14.1211Z"})})},997752:(e,t,n)=>{n.d(t,{t:()=>l});var o=()=>n(484714),i=()=>n(56366),r=()=>n(836251),a=()=>n(792415),s=()=>n(281401);function l(e){const{store:t}=e,n=(0,o().v3)();return(0,i().K8)((()=>{if(!t)return!1;const{device:e}=n;if(e.isMobile||!(0,r().w6)(n))return!1;if(!(0,s().K6)(t,n))return!1;const{publicPageData:o}=a().A.state;return!(null==o||!o.template)}),[n,t])}}}]);