"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[16345],{67805:(e,t,i)=>{i.d(t,{X:()=>o,cT:()=>r,sL:()=>l});i(898992),i(672577);var n=()=>i(68263),s=()=>i(731320),a=()=>i(508496);function o(e,t){return e.sort(((e,i)=>{const n=e.store.canAdmin();if(n===i.store.canAdmin()){var s,a;const n=null===(s=e.publishedMetadata.publishedBy)||void 0===s?void 0:s.id,o=e.publishedMetadata.publishedTime,r=null===(a=i.publishedMetadata.publishedBy)||void 0===a?void 0:a.id,l=i.publishedMetadata.publishedTime;if(t){if(n===t&&r===t&&o&&l)return l-o;if(n===t)return-1;if(r===t)return 1}return o&&l?l-o:0}return n?-1:1}))}function r(e){const{environment:t,store:i}=e;if(!i.pathIsAccessibleAndAlive())return!1;if(!s().i0(i).find((e=>(0,n().W8)(e.permissionItem))))return!1;if(s().qb(t,i))return!1;return!("on"===a().default.getEligibleGroup({experimentId:"sites_disable_banner",defaultGroup:"control"}))}function l(e){const{environment:t,store:i}=e;if(!i.pathIsAccessibleAndAlive())return!1;if(!s().i0(i).find((e=>(0,n().FP)(e.permissionItem)&&"none"!==e.permissionItem.role)))return!1;if(s().qb(t,i))return!1;return"on"===a().default.getEligibleGroup({experimentId:"sites_disable_banner",defaultGroup:"control"})}},77126:(e,t,i)=>{i.d(t,{j:()=>s});class n extends(()=>i(959180))().A{}const s=new n},192855:(e,t,i)=>{i.d(t,{L:()=>s});i(296540);var n=i(474848);const s=(0,i(340498).wt)("notionLogoBlockMonoWhite",{viewBox:"0 0 381 396",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M235.875 0.868913L42.2191 15.1299L42.0716 15.1427C29.2402 16.2539 17.5452 21.4575 9.54377 31.7056C2.00788 41.3575 0 52.6286 0 61.8081V273.61C0 290.004 6.39474 302.931 16.1515 315.934L16.2408 316.053L61.92 375.319L61.9886 375.407C67.4438 382.345 74.2617 388.53 83.9092 392.051C92.764 395.282 101.803 395.406 109.715 395.029L109.86 395.022L335.006 381.426L335.127 381.417C347.547 380.535 360.717 376.889 370.12 366.212C379.335 355.75 380.958 342.967 380.958 333.359V95.0753C380.958 86.7983 378.898 78.5009 372.39 70.965C368.595 66.5704 363.178 62.6545 359.406 59.9283C358.887 59.5528 358.398 59.1998 357.95 58.8713L357.768 58.7383L295.914 15.2639C287.833 9.40276 279.51 4.11203 268.519 1.62123C258.306 -0.693516 247.597 -0.133719 235.875 0.868913ZM44.056 38.0569L237.701 23.7967C239.187 23.6692 240.605 23.5551 241.959 23.4557C262.28 21.965 268.533 23.8019 282.545 33.9806L344.359 77.4261C344.891 77.8156 345.404 78.1905 345.899 78.5522C354.904 85.1258 357.958 87.3558 357.958 95.0753V333.359C357.958 347.359 353.177 355.996 336.907 358.134C335.822 358.277 334.687 358.391 333.498 358.475L108.619 372.055C94.3416 372.736 87.5464 370.701 80.0693 361.191L34.5487 302.131C34.0389 301.451 33.5477 300.782 33.0748 300.123C25.9812 290.237 23 282.531 23 273.61V61.8081C23 60.2816 23.085 58.7867 23.2643 57.3368C23.7339 53.5393 24.8501 50.0501 26.7789 47.1082C26.814 47.0547 26.8493 47.0014 26.8849 46.9483C26.9254 46.8879 26.9662 46.8277 27.0074 46.7677C30.2624 42.0312 35.7039 38.7802 44.056 38.0569Z",fill:"white"}),(0,n.jsx)("path",{d:"M80.7599 84.2182C91.6206 93.0413 95.6948 92.3681 116.088 91.0076L308.351 79.463C312.429 79.463 309.038 75.3949 307.678 74.7188L275.747 51.6355C269.629 46.8857 261.478 41.446 245.855 42.8066L59.6871 56.3852C52.8978 57.0584 51.5415 60.453 54.2457 63.1742L80.7599 84.2182Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.3031 331.318V129.025C92.3031 120.201 95.021 116.125 103.169 115.44L323.977 102.546C331.466 101.868 334.857 106.623 334.857 115.44V316.376C334.857 325.208 333.495 332.686 321.261 333.359L109.964 345.585C97.7361 346.257 92.3031 342.191 92.3031 331.318ZM294.768 152.79C300.894 152.102 302.249 145.992 300.894 139.876L254.001 142.606C247.206 143.279 241.778 148.708 243.135 156.184L260.804 158.213V251.899L191.501 145.995L141.221 149.384C131.703 150.068 128.311 158.886 129.672 165.002L146.654 166.363V300.099L134.424 303.489C129.67 304.848 128.308 311.631 129.67 314.35L176.538 311.631C193.54 311.631 193.54 299.418 193.54 299.418L172.467 294.662V193.514L239.06 298.057C247.206 308.234 249.929 311.631 260.804 311.631C267.596 311.631 275.747 308.915 284.586 304.164V154.818L294.768 152.79Z",fill:"white"})]})})},235721:(e,t,i)=>{i.d(t,{A:()=>x});i(944114),i(898992),i(803949),i(296540);var n=()=>i(56366),s=()=>i(401497),a=()=>i(49621),o=()=>i(212439),r=()=>i(568625),l=()=>i(426388),d=()=>i(192855),c=()=>i(173019),p=()=>i(381138),u=()=>i(179034),g=()=>i(959013),h=()=>i(284371),m=()=>i(614505),f=()=>i(16006),b=()=>i(630116),y=i(474848);function x(e){const{spaceStore:t,keys:i,size:n,showCustomHeaderPages:l,left:d,style:u}=e,g=(0,s().IS)((e=>{const t=S(n),i=function(e){return"small"===e?10:16}(n);return{topbarContainer:{display:"flex",alignItems:"center",marginLeft:8,marginRight:12,...u},actionsContainer:{display:"flex",flexDirection:"row",gap:i,alignItems:"center"},icon:{height:t,width:t,fill:e.icon.primary},searchIcon:{height:t-2,width:t-2,fill:e.icon.primary}}}),[n,u]),h=[];return i.forEach((e=>{"duplicate"===e?h.push((0,y.jsx)("div",{children:(0,o().V)(g.icon)},"duplicate")):"comment"===e?h.push((0,y.jsx)("div",{children:(0,a().h)(g.icon)},"comment")):"edit"===e?h.push((0,y.jsx)("div",{children:(0,c().r)(g.icon)},"edit")):"more"===e?h.push((0,y.jsx)("div",{children:(0,r().L)(g.icon)},"more")):"search"===e?h.push((0,y.jsx)("div",{children:(0,p().q)(g.searchIcon)},"search")):"signUpOrLogIn"===e?h.push((0,y.jsx)(v,{size:n},"signUpOrLogIn")):t&&l&&h.push((0,y.jsx)(C,{spaceStore:t,blockId:e},e))})),(0,y.jsxs)("div",{style:g.topbarContainer,children:[d,(0,y.jsx)("div",{style:{flex:1}}),(0,y.jsx)("div",{style:g.actionsContainer,children:h})]})}function v(e){const{size:t}=e,i=(0,s().IS)((e=>{const i=S(t),n=function(e){return"small"===e?{paddingTop:2,paddingBottom:2,paddingLeft:6,paddingRight:6}:"large"===e?{paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}:{paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8}}(t);return{signUpContainer:{display:"flex",alignItems:"center",gap:4,border:`1px solid ${e.darkDividerColor}`,borderRadius:4,fontSize:w(t),fontWeight:h().Wy.medium,whiteSpace:"nowrap",...n},icon:{height:i-2,width:i-2,fill:e.icon.primary}}}),[t]),n=(0,s().DP)();return(0,y.jsxs)("div",{style:i.signUpContainer,children:[(0,y.jsx)(g().sA,{defaultMessage:"Made with",id:"publishSiteSettings.topbar.madeWithPreview"}),"light"===n.mode?(0,l().S)(i.icon):(0,d().L)(i.icon)]})}function C(e){const{spaceStore:t,blockId:i}=e,{store:a,icon:o,isEmptyPage:r}=(0,n().K8)((()=>{const e=b().Bv.createChildStore(t,{table:u().ev,id:i});return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage()}}),[t,i]),l=(0,s().IS)((()=>({container:{display:"flex",alignItems:"center",gap:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginRight:4}})),[]);return(0,y.jsxs)("div",{style:l.container,children:[o&&(0,y.jsx)(m().A,{icon:o,store:a,disabled:!0,size:14,isEmptyPage:r,emojiSize:20,style:{marginRight:4}}),(0,y.jsx)(f().A,{store:a,style:l.pageTitle,maxLength:24})]})}function S(e){return"small"===e?12:16}function w(e){return"small"===e?9:"large"===e?14:12}},302127:(e,t,i)=>{i.d(t,{y:()=>s});var n=()=>i(508496);function s(e){const{permissionItem:t,allowDuplicate:i}=e,{is_public_share_link:s}=t;return n().default.checkGate({gateName:"sharing_anyone_with_the_link"})&&s?{...t,is_site:!0,allow_duplicate:i}:{...t,role:"reader",is_site:!0,allow_duplicate:i}}},527580:(e,t,i)=>{i.d(t,{TK:()=>r,YC:()=>o,ui:()=>a});var n=()=>i(645873);const s={pageVerification:new(n().O2)("pageVerification",(()=>Promise.all([i.e(23806),i.e(94891)]).then(i.bind(i,80826)))),pageVerificationBadge:new(n().O2)("pageVerificationBadge",(()=>Promise.all([i.e(23806),i.e(74562),i.e(95794),i.e(59794),i.e(75355),i.e(9034),i.e(20838),i.e(6463),i.e(11740),i.e(46413),i.e(41412)]).then(i.bind(i,161901)))),pageVerificationMenuRenderer:new(n().O2)("pageVerificationMenuRenderer",(()=>Promise.all([i.e(23806),i.e(74562),i.e(95794),i.e(59794),i.e(75355),i.e(9034),i.e(20838),i.e(6463),i.e(11740),i.e(46413),i.e(26207)]).then(i.bind(i,196770))))},a=(0,n()._h)(s.pageVerification,(e=>e.PageAddVerificationButton)),o=(0,n()._h)(s.pageVerificationBadge,(e=>e.PageVerificationBadge)),r=(0,n()._h)(s.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},558410:(e,t,i)=>{i.d(t,{A:()=>a});i(898992),i(354520);var n=()=>i(496603);class s extends(()=>i(757695))().default{getInitialState(){return{sites:{},sortAscending:!0,sortColumn:void 0}}initializeSiteResultsForSpace(e,t){this.state.sites[e]=t,this.emit()}getSortedSitesForSpace(e,t){const{sortAscending:s,sortColumn:a}=this.state,o=this.state.sites[e];if(o)switch(a){case"page":return n().My(o,(e=>i(919709).q4_(e.store.getTitleValue()).toLowerCase()),s?"asc":"desc");case"published-by":return n().My(o,(e=>{const n=e.publishedMetadata.publishedBy,s=n?i(630116).sk.createChildStore(e.store,n):void 0;return null==s?void 0:s.getDisplayName(t).toLowerCase()}),s?"asc":"desc");case"published-date":return n().My(o,(e=>e.publishedMetadata.publishedTime),s?"asc":"desc");default:return o}}removeSiteFromSpace(e,t){const i=this.state.sites[e];i&&(this.state.sites[e]=i.filter((e=>e.store.id!==t)),this.emit())}resetSitesForSpace(e){this.state.sites[e]=void 0}}const a=new s},629027:(e,t,i)=>{i.d(t,{P:()=>l});var n=()=>i(56366),s=()=>i(534177),a=()=>i(108944),o=()=>i(247450),r=()=>i(351360);function l(e){let{store:t}=e;return(0,n().K8)((()=>{const e=(0,o().h)({blockId:t.id,setting:"publicAccess"});if((0,s().O9)(e))return e;const i=r().default.state.currentSpaceStore,n=(0,a().Uo)(t);return n?{disabled:Boolean(n.getDisablePublicAccess()),disabledBy:"team"}:!n&&null!=i&&i.getDisablePublicAccess()?{disabled:!0,disabledBy:"space"}:{disabled:!1}}),[t])}},680984:(e,t,i)=>{i.d(t,{A:()=>f});i(296540);var n=()=>i(484714),s=()=>i(56366),a=()=>i(401497),o=i(474848);const r=(0,i(340498).wt)("windowsControls",{viewBox:"0 0 51 9",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("rect",{width:"6",height:".75",x:"1.5",y:"4.625",rx:".375"}),(0,o.jsx)("path",{d:"M22.875 1.25c-.621 0-1.125.504-1.125 1.125v5.25c0 .621.504 1.125 1.125 1.125h5.25c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-5.25Zm0 .75h5.25c.207 0 .375.168.375.375v5.25a.375.375 0 0 1-.375.375h-5.25a.375.375 0 0 1-.375-.375v-5.25c0-.207.168-.375.375-.375ZM43.566 2.162l.044-.052a.375.375 0 0 1 .478-.043l.052.043 2.36 2.36 2.36-2.36a.375.375 0 0 1 .53.53L47.03 5l2.36 2.36c.13.13.145.332.044.478l-.044.052a.375.375 0 0 1-.478.044l-.052-.044-2.36-2.36-2.36 2.36a.375.375 0 1 1-.53-.53L45.97 5l-2.36-2.36a.375.375 0 0 1-.044-.478l.044-.052-.044.052Z"})]})});var l=()=>i(614505),d=()=>i(21140),c=()=>i(562800),p=()=>i(300451),u=()=>i(885400);const g={small:4,regular:8},h={small:{height:22,paddingLeft:8,paddingRight:10},regular:{height:42,paddingTop:10,paddingLeft:20,paddingRight:20,paddingBottom:8}},m={small:{height:28,paddingLeft:8,paddingRight:12},regular:{paddingTop:12,paddingLeft:16,paddingRight:16,paddingBottom:2}};function f(e){const{isMac:t}=(0,n().Y0)();return t?(0,o.jsx)(b,{...e}):(0,o.jsx)(x,{...e})}function b(e){const{store:t,siteRootBlockStore:i,size:n,location:s,showAddressBar:r}=e,l=g[n??"regular"],c=(0,a().IS)((e=>({container:{borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===s?e.accentColors.gray[75]:"transparent",...h[n??"regular"]},contentContainer:{flex:1}})),[s,n]),p=r&&t&&i;return(0,o.jsxs)(d().Ye,{alignItems:"center",gap:l,style:c.container,children:[(0,o.jsx)(y,{size:n}),p&&(0,o.jsx)(d().Ye,{justifyContent:"center",alignItems:"center",style:c.contentContainer,children:(0,o.jsx)(C,{store:t,siteRootBlockStore:i})})]})}function y(e){const{size:t}=e,i=(0,a().IS)((e=>{const i="small"===t?6:10;return{circle:{borderRadius:"50%",height:i,width:i,background:e.icon.quaternary}}}),[t]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:i.circle}),(0,o.jsx)("div",{style:i.circle}),(0,o.jsx)("div",{style:i.circle})]})}function x(e){const{store:t,siteRootBlockStore:i,size:n,location:s,showAddressBar:r}=e,l=g[n??"regular"],c=(0,a().IS)((e=>({container:{width:"100%",borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===s?e.sitesPagePreviewWindowsChromeBar:"transparent",...m[n??"regular"]},buttonContainer:{paddingLeft:6,fontSize:12},windowsButtons:{paddingRight:2}})),[s,n]),p=r&&t&&i;return(0,o.jsxs)(d().Ye,{alignItems:"center",justifyContent:p?"center":"flex-end",gap:l,style:c.container,children:[p&&(0,o.jsx)(C,{store:t,siteRootBlockStore:i}),(0,o.jsx)(v,{size:n,style:c.windowsButtons})]})}function v(e){const{size:t,style:i}=e,n=(0,a().IS)((e=>({icon:{height:"small"===t?9:24,width:"small"===t?51:70,color:e.icon.tertiary}})),[t]);return(0,o.jsx)("div",{style:i,children:r(n.icon)})}function C(e){const{store:t,siteRootBlockStore:i}=e,{isMac:r}=(0,n().Y0)(),{icon:g,isEmptyPage:h,publicDomainName:m}=(0,s().K8)((()=>{const e=p().A.getState().faviconUrl;let n;const s=i.getSiteStore(),a=c().Ix({spaceStore:t.getSpaceStore(),domainId:null==s?void 0:s.getDomainId()});return n=e?{pointer:i.pointer,icon:e}:t.getIcon(),{icon:n,isEmptyPage:t.isEmptyPage(),publicDomainName:a}}),[t,i]),f=(0,a().IS)((e=>({container:{paddingLeft:r?120:12,paddingRight:r?120:12,paddingTop:4,paddingBottom:4,background:e.contentBackground,borderRadius:r?16:20,border:`1px solid ${e.stroke.secondary}`,width:r?"auto":"100%",color:e.text.secondary,fontSize:12}})),[r]),b=g?(0,o.jsx)(l().A,{disabled:!0,icon:g,isEmptyPage:h,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}):(0,o.jsx)(u().A,{});return(0,o.jsxs)(d().Ye,{alignItems:"center",gap:4,style:f.container,children:[r&&b,m]})}},683521:(e,t,i)=>{i.d(t,{N:()=>s});i(296540);var n=i(474848);const s=(0,i(340498).wt)("addPageCover",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},716979:(e,t,i)=>{i.d(t,{EL:()=>w,KD:()=>C,Ss:()=>x,l2:()=>j,n0:()=>S,rw:()=>v});i(16280),i(944114),i(898992),i(354520),i(296540);var n=()=>i(388821),s=()=>i(179034),a=()=>i(959013),o=()=>i(763824),r=()=>i(449506),l=()=>i(901389),d=()=>i(106628),c=()=>i(321172),p=()=>i(437487),u=()=>i(227440),g=()=>i(630116),h=()=>i(250484),m=()=>i(67805),f=()=>i(558410),b=i(474848);const y=50;function x(e){f().A.resetSitesForSpace(e.id)}async function v(e,t){const{spaceStore:i,currentUserId:a,limit:l}=t;if(!i.id)return;const[d]=await Promise.all([r().callApi({eventName:"getPublishedPagesForUser",environment:e,data:{spaceId:i.id,limit:l||y,fetchPublishedMetadata:!0}}),(0,o().wR)(1500)]);if("failed"===d.type)throw new Error("Failed to fetch published pages.");if(d.data.recordMap){const e=[],t=n().RecordMapWithRole.create(d.data.recordMap),o=d.data.publishedEdits;for(const{model:n}of t)if(n&&n.table===s().ev){const t=g().Bv.createChildStore(i,{table:s().ev,id:n.id}),a=o[t.id],r=a&&a.authors?a.authors[0]:void 0,l={publishedTime:null==a?void 0:a.timestamp,publishedBy:r};e.push({store:t,publishedMetadata:l})}let r=e;return a&&(r=m().X(e,a)),f().A.initializeSiteResultsForSpace(i.id,r),r}}async function C(e,t){const{spaceStore:i}=t,n=e.currentUser.id,s=await v(e,{spaceStore:i,currentUserId:n});return s?s.filter((e=>{var t;return(null===(t=e.publishedMetadata.publishedBy)||void 0===t?void 0:t.id)===n})):[]}function S(e){c().Tk(e),p().Ay.setState({...p().Ay.state,display:p().pP.Publish,tab:p().QC.Publish})}async function w(e){return new Promise(((t,i)=>{l().ui({message:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)(a().sA,{id:"sites.confirmUnpublish.title",defaultMessage:"Unpublish this site?"})}),description:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)(a().sA,{id:"sites.confirmUnpublish.caption",defaultMessage:"{pageTitle} will no longer be live on the web.",values:{pageTitle:e}})}),keepFocus:!0,items:[{label:(0,b.jsx)(a().sA,{id:"sites.confirmUnpublish.confirm",defaultMessage:"Unpublish"}),color:"red",onAccept:()=>t(!0)}],showCancel:!0})}))}async function j(e,t){if(!u().A.state.online)return[];const i=await d().T.searchActions.load();return await i.searchPublicPages({environment:t,query:e,source:"public_home_page_menu",limit:h().ZK})}},791328:(e,t,i)=>{i.r(t),i.d(t,{default:()=>N,messages:()=>Y});var n=i(296540),s=()=>i(484714),a=()=>i(56366),o=()=>i(401497),r=i(474848);const l=(0,i(340498).wt)("disabledGlobe",{viewBox:"0 0 27 27",svg:(0,r.jsx)("path",{d:"M13.487.885c1.77 0 3.437.338 5.002 1.015a13.216 13.216 0 0 1 4.139 2.806 13.216 13.216 0 0 1 2.806 4.139c.677 1.557 1.015 3.22 1.015 4.989 0 1.329-.199 2.607-.597 3.834a12.81 12.81 0 0 1-1.663 3.377l-2.348-2.336 2.018-.965c.288-.61.504-1.244.648-1.904a9.39 9.39 0 0 0 .216-2.006c0-1.075-.148-2.103-.445-3.085a15.528 15.528 0 0 1-2.78 1.816c-.973.499-1.98.892-3.021 1.18.177.474.35.935.52 1.384.178.44.351.855.52 1.244l-3.732-3.732.673-.039c-.27-.99-.453-1.976-.546-2.957a16.834 16.834 0 0 1-.025-2.92c.084-.974.254-1.939.508-2.895l-.127-.025A17.942 17.942 0 0 0 14.73 7.13a19.65 19.65 0 0 0-.863 3.605l-1.308-1.32c.23-1.185.555-2.336.978-3.453A21.505 21.505 0 0 1 15.1 2.726a16.891 16.891 0 0 0-.28-.026 1.558 1.558 0 0 0-.279-.025 19.794 19.794 0 0 0-3.936 4.799L9.514 6.369c.389-.66.82-1.299 1.295-1.917.474-.618.986-1.214 1.536-1.79-.88.093-1.727.288-2.54.584-.812.288-1.57.669-2.272 1.143L6.276 3.132a12.772 12.772 0 0 1 3.377-1.65 12.355 12.355 0 0 1 3.834-.597ZM23.694 9.25a11.144 11.144 0 0 0-2.31-3.339 11.096 11.096 0 0 0-3.352-2.31 14.048 14.048 0 0 0-.596 2.856 15.699 15.699 0 0 0 0 2.958c.093.982.27 1.942.533 2.882 1.05-.28 2.056-.673 3.021-1.18a14.658 14.658 0 0 0 2.704-1.867ZM13.5 26.783c-1.769 0-3.436-.338-5.002-1.015a13.258 13.258 0 0 1-4.126-2.806 13.257 13.257 0 0 1-2.806-4.126 12.466 12.466 0 0 1-1.015-5.002c0-1.329.199-2.603.596-3.821a13.258 13.258 0 0 1 1.65-3.39L4.03 7.867c-.55.872-.981 1.811-1.295 2.818a10.814 10.814 0 0 0-.457 3.149c0 .127.005.254.013.38l.025.369a19.857 19.857 0 0 0 4.063 2.653c.008-1.05.093-2.082.254-3.097.16-1.016.393-2.006.698-2.971l1.244 1.231c-.228.83-.402 1.685-.52 2.565-.11.88-.161 1.862-.153 2.945 1.6.627 3.255 1.037 4.964 1.232a19.7 19.7 0 0 1-.342-1.486c-.094-.49-.161-.99-.204-1.498l1.816 1.803a4.261 4.261 0 0 0 .203.965c.127.017.254.03.38.038.136 0 .272-.004.407-.013l1.765 1.765a11.57 11.57 0 0 1-.927.063c-.305.009-.614.013-.927.013.254.643.538 1.278.85 1.904.322.618.674 1.22 1.054 1.803a9.848 9.848 0 0 0 2.514-1.219l1.27 1.257a12.927 12.927 0 0 1-3.403 1.65 12.237 12.237 0 0 1-3.821.597ZM7.089 23a23.751 23.751 0 0 1-.432-2.006c-.11-.66-.186-1.337-.228-2.031a18.156 18.156 0 0 1-1.905-.952 22.422 22.422 0 0 1-1.802-1.155 10.839 10.839 0 0 0 1.663 3.465A11.602 11.602 0 0 0 7.089 23Zm8.29 1.892a21.73 21.73 0 0 1-1.13-2.032 19.554 19.554 0 0 1-.889-2.133 20.538 20.538 0 0 1-5.332-1.142c.076.787.203 1.566.381 2.336.186.762.406 1.494.66 2.196a11.21 11.21 0 0 0 2.133.686c.745.169 1.51.254 2.298.254.322 0 .639-.013.952-.038.313-.026.622-.068.927-.127Zm9.077 1.294L1.147 2.891a.932.932 0 0 1-.279-.686c0-.28.093-.512.28-.698a.953.953 0 0 1 .698-.292c.279 0 .512.097.698.292L25.84 24.79a.96.96 0 0 1 .28.686c0 .27-.094.503-.28.698a.926.926 0 0 1-.698.292.871.871 0 0 1-.686-.28Z"})});var d=()=>i(133033),c=()=>i(68263),p=()=>i(220719),u=()=>i(959013),g=()=>i(284371),h=()=>i(755636),m=()=>i(345913),f=()=>i(285790),b=()=>i(864943),y=()=>i(204063),x=()=>i(859428),v=()=>i(125565),C=()=>i(836251),S=()=>i(891078),w=()=>i(629027),j=()=>i(976721),A=()=>i(302127),I=()=>i(716979),L=()=>i(962730),M=()=>i(351360),B=()=>i(676870),P=()=>i(525700),R=()=>i(802790),k=()=>i(614505),T=()=>i(16006),z=()=>i(21140),_=()=>i(943647),W=()=>i(299772),V=()=>i(545040),F=()=>i(680984),E=()=>i(235721);function D(e){const{store:t,containerStyles:i={},overlayWidth:n="100%"}=e,s=(0,a().K8)((()=>t.getSpaceStore()),[t]),l=(0,o().IS)((e=>({container:{display:"flex",alignSelf:"stretch",flexDirection:"column",width:"92%",marginLeft:"auto",marginRight:"auto",borderTopRightRadius:6,borderTopLeftRadius:6,boxShadow:e.shadowSM,...i},topbarContainer:{paddingTop:6,paddingBottom:6}})),[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:l.container,children:[(0,r.jsx)(F().A,{size:"small",location:"publish_preview"}),(0,r.jsx)(R().A,{size:1}),(0,r.jsx)(E().A,{spaceStore:s,keys:["search","more","signUpOrLogIn"],size:"small",left:(0,r.jsx)(H,{store:t}),style:l.topbarContainer}),(0,r.jsx)(R().A,{size:1}),(0,r.jsx)(K,{store:t})]}),(0,r.jsx)(U,{width:n})]})}function H(e){const{store:t}=e,i=(0,a().K8)((()=>t.getIcon()),[t]),n=(0,o().IS)((e=>({container:{display:"flex",alignItems:"center",gap:4},pageTitle:{color:e.text.secondary,fontSize:9,lineHeight:1.25}})),[]);return(0,r.jsxs)("div",{style:n.container,children:[i&&(0,r.jsx)(k().A,{disabled:!0,icon:i,isEmptyPage:!1,disableShrinking:!0,size:12,emojiSize:12,style:{marginRight:4}}),(0,r.jsx)(T().A,{maxLength:24,store:t,style:n.pageTitle})]})}function K(e){const{store:t}=e,{isMobile:i}=(0,s().Y0)(),n=(0,a().K8)((()=>t.getFormat()),[t]),{icon:l,isEmptyPage:d,cover:c}=(0,a().K8)((()=>({icon:t.getIcon(),isEmptyPage:t.isEmptyPage(),cover:t.getCover()})),[t]),p=(0,o().IS)((e=>{const t=n.page_font||W().zs,i=W().AP[t],s=W().DX[t],a=W().JK[t]||1.5;return{pageIcon:{position:"relative",marginLeft:48,marginTop:-24,marginBottom:8},contentWrap:{color:e.text.primary,fontSize:11,marginBottom:0,width:"110%",transform:"translateX(-13px) translateY(-2px) scale(0.91)",fontFamily:i,letterSpacing:s?`${s}em`:void 0,lineHeight:a},contentEmpty:{height:48},imageCoverWrap:{marginBottom:16},contentContainer:{marginTop:!l&&c?16:8,marginLeft:32,marginRight:32,paddingLeft:16,paddingRight:16},pageTitleContainer:{verticalAlign:"top",lineHeight:1.15,...g().RC},pageTitle:{display:"inline",fontWeight:g().Wy.semibold,color:e.text.primary,fontSize:24,fontFamily:i,letterSpacing:s?`${s}em`:void 0,lineHeight:a},pageContent:{fontFamily:i,letterSpacing:s?`${s}em`:void 0,lineHeight:a}}}),[n,l,c]),u=(0,a().K8)((()=>d||t.isCollectionView()?(0,r.jsx)("div",{style:p.contentEmpty}):(0,r.jsx)(V().z,{variant:"default",store:t,coverFormat:{type:"page_content"},coverHeight:48,contentWrapStyle:p.contentWrap,imageCoverWrapStyle:p.imageCoverWrap,emptyGalleryCoverStyle:p.contentEmpty,showEmptyGalleryCover:!0,onLoadProxiedImage:()=>{},renderAdditionalBlocks:!1})),[t,p,d]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z,{store:t}),l&&(0,r.jsx)(k().A,{disabled:!0,icon:l,isEmptyPage:d,isLarge:!0,disableShrinking:!0,size:42,emojiSize:42,largeIcon:!0,style:p.pageIcon}),(0,r.jsxs)(z().wt,{gap:8,style:p.contentContainer,children:[(0,r.jsx)("div",{style:p.pageTitleContainer,children:(0,r.jsx)(T().A,{maxLength:i?22:24,store:t,style:p.pageTitle})}),u]})]})}function Z(e){const{store:t,height:i=62}=e,n=(0,o().IS)((()=>({coverContainer:{height:i}})),[i]),s=(0,a().K8)((()=>t.getCover()),[t]);return(0,r.jsx)("div",{style:n.coverContainer,children:s&&(0,r.jsx)(_().A,{store:t,disabled:!0,paddingLeft:0,paddingRight:0,height:i,proxyWidth:260})})}function U(e){const{width:t="100%"}=e,{isMobile:i}=(0,s().Y0)(),n=(0,o().IS)((e=>({overlay:{width:"100%",position:"absolute",background:`linear-gradient(to bottom, transparent, ${i?e.contentBackground:e.surface.elevated} 100%)`,height:58,left:0,bottom:0}})),[i]);return(0,r.jsx)("div",{style:{position:"relative",width:t},children:(0,r.jsx)("div",{style:n.overlay})})}const Y=(0,u().YK)({disabledByTeamspaceHeadline:{defaultMessage:"Publishing is disabled in this teamspace",id:"publishSite.disabledByTeamspace.headline"},disabledByWorkspaceHeadline:{defaultMessage:"Publishing is disabled in this workspace",id:"publishSite.disabledByWorkspace.headline"},pageInTrashHeadline:{defaultMessage:"Pages in the trash can’t be published",id:"publishSite.pageInTrash.headline"},hasAIEditsHeadline:{defaultMessage:"Pages with pending Notion AI changes can’t be published",id:"publishSite.hasAIEdits.headline"},noFullAccessHeadline:{defaultMessage:"You need full access to publish",id:"publishSite.noFullAccess.headline"}});function N(e){const{store:t,mostPermissivePublicItem:i,sudoModeStore:d,location:p}=e,{permissionItem:h,from:f}=i,x=(0,s().v3)(),C=(0,a().K8)((()=>t.getSpaceStore()),[t]),L=(0,n.useCallback)((()=>{C&&I().KD(x,{spaceStore:C}).then((e=>{(0,B().kW)(x,{target_block_id:t.id,user_current_live_sites_count:e.length})}))}),[x,t,C]),R=(0,a().K8)((()=>t.canAdmin()),[t]),k=(0,w().P)({store:t}),T=(0,S().i0)(t),z=(0,S().ty)(t),_=!R||k.disabled||T||z,W=(0,o().IS)((e=>({container:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:_?"center":"flex-start",paddingTop:_?6:12,paddingBottom:_?24:20,paddingLeft:20,paddingRight:20,gap:_?8:0,cursor:_?"not-allowed":"default",height:x.device.isMobile&&_?"100%":_?276:"auto"},titleContainer:{display:"flex",alignItems:"center",flexDirection:"column",gap:4},title:{fontWeight:g().Wy.semibold,fontSize:16,lineHeight:1.2,color:_?e.text.secondary:e.text.primary},caption:{display:"flex",alignItems:"center",marginLeft:26,marginRight:26,marginBottom:_?0:20,width:_?"85%":"auto",textAlign:"center"},button:{display:"flex",width:"100%",padding:16,borderRadius:6,zIndex:1},disabledIcon:{height:27,width:27,margin:5,fill:e.text.tertiary},overlay:{height:12,left:0,top:0,background:e.contentBackground,width:"100%",position:"absolute"},disabledPublishingMessage:{fontWeight:g().Wy.medium},restoreFromTrashButton:{fontSize:12,fontWeight:g().Wy.medium,margin:"12px",padding:"0px 8px",height:28}})),[_,x.device.isMobile]),V=(0,n.useCallback)((()=>{var e;const i=!(null===(e=M().default.state.currentSpaceStore)||void 0===e?void 0:e.getDisableMoveToSpace())&&h.allow_duplicate;P().d8({environment:x,type:"site",store:t});const n=(0,A().y)({permissionItem:h,allowDuplicate:i}),s=(0,c().Yi)(f);(0,j().Hc)({oldPermissionItem:h,newPermissionItem:n,wasInherited:s!==t.id,environment:x,store:t,sudoModeStore:d,location:p}),L()}),[L,x,t,h,f,d,p]),F=(0,n.useCallback)((()=>{const{currentSpaceStore:e}=M().default.state;e&&m().iN({environment:x,block:t,spaceId:t.pointer.spaceId||e.id,from:"disabled_publish_modal"})}),[t,x]),E=(0,u().tz)();return(0,r.jsxs)("div",{style:W.container,children:[_?l(W.disabledIcon):null,(0,r.jsxs)("div",{style:W.titleContainer,children:[_?(0,r.jsx)(G,{store:t,intl:E}):(0,r.jsx)("div",{style:W.title,children:(0,r.jsx)(u().sA,{id:"publishSite.publishTab.title",defaultMessage:"Publish to web"})}),(0,r.jsx)(v().A,{isMultiline:!0,isSecondaryColor:!0,style:W.caption,children:(0,r.jsx)($,{store:t})}),_&&T&&(0,r.jsx)(b().A,{size:"lg",onClick:F,style:W.restoreFromTrashButton,children:"Restore"})]}),_?null:(0,r.jsx)(D,{store:t}),_?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y().A,{style:W.button,disabled:_,onClick:V,children:(0,r.jsx)(u().sA,{id:"publishSite.publish.title",defaultMessage:"Publish"})}),x.device.isMobile&&(0,r.jsx)("div",{style:{position:"relative",width:"100%"},children:(0,r.jsx)("div",{style:W.overlay})})]})]})}function G(e){const{store:t,intl:i}=e,n=(0,o().IS)((()=>({disabledPublishingHeadline:{fontWeight:g().Wy.medium,textAlign:"center",width:"85%"}})),[]),s=e=>(0,r.jsx)("div",{style:n.disabledPublishingHeadline,children:(0,r.jsx)(v().A,{isSecondaryColor:!0,isMultiline:!0,children:e})}),l=(0,w().P)({store:t}),d=(0,S().i0)(t),c=(0,S().ty)(t),u=(0,a().K8)((()=>!t.canAdmin()),[t]);return(0,p().MX)(l.disabled||d||c||u,"Disabled headline not allowed for block's current state"),l.disabled&&"team"===l.disabledBy?s(i.formatMessage(Y.disabledByTeamspaceHeadline)):l.disabled&&"space"===l.disabledBy?s(i.formatMessage(Y.disabledByWorkspaceHeadline)):s(d?i.formatMessage(Y.pageInTrashHeadline):c?i.formatMessage(Y.hasAIEditsHeadline):i.formatMessage(Y.noFullAccessHeadline))}function $(e){const{store:t}=e,i=(0,u().tz)(),n=(0,s().v3)(),l=(0,w().P)({store:t}),c=(0,S().i0)(t),p=(0,S().ty)(t),g=(0,a().K8)((()=>!t.canAdmin()),[t]),m=(0,o().IS)((e=>({helpIcon:{width:14,height:14,fill:e.icon.tertiary}})),[]);if(l.disabled&&"team"===l.disabledBy)return(0,r.jsx)(u().sA,{id:"publishSite.disabledByTeamspace.caption",defaultMessage:"Contact a teamspace owner to modify this setting"});if(l.disabled&&"space"===l.disabledBy)return(0,r.jsx)(u().sA,{id:"publishSite.disabledByWorkspace.caption",defaultMessage:"Contact a workspace owner to modify this setting"});if(c)return(0,r.jsx)(u().sA,{id:"publishSite.pageInTrash.caption",defaultMessage:"Restore this page to publish it to the web"});if(p)return(0,r.jsx)(u().sA,{id:"publishSite.hasAIEdits.caption",defaultMessage:"Accept or discard changes on this page to publish it to the web"});if(g)return(0,r.jsx)(u().sA,{id:"publishSite.noFullAccess.caption",defaultMessage:"Contact someone with full access to modify this setting"});const b=i.formatMessage({id:"publishSite.help.tooltip",defaultMessage:"Learn more about Notion sites"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u().sA,{id:"publishSite.hasFullAccess.caption",defaultMessage:"Create a website with Notion"}),(0,r.jsx)(x().A,{renderTooltip:()=>b,render:e=>(0,r.jsx)(f().A,{...e,style:{marginLeft:2,height:20,width:20},iconStyle:m.helpIcon,onClick:()=>{h().f({environment:n,url:(0,C().xS)("guides.autogeneratedDomains")})},icon:d().$,ariaLabel:b}),placement:L().W.Bottom})]})}},835755:(e,t,i)=>{i.d(t,{p:()=>s});i(296540);var n=i(474848);const s=(0,i(340498).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},848565:(e,t,i)=>{i.d(t,{FB:()=>u,Ql:()=>g,SM:()=>h,Wv:()=>a,Yz:()=>r,ds:()=>s,e4:()=>n,eQ:()=>o,im:()=>d,jw:()=>l,k2:()=>p,uG:()=>c});const n=8,s=10,a=8,o=24,r=6,l=1.5,d=(o-l)/2,c=o+r,p=`calc(100% + ${a+(n-r)-c}px)`,u=o+8,g=-16;function h(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},877051:(e,t,i)=>{i.d(t,{V:()=>o});var n=()=>i(56366),s=()=>i(351360),a=()=>i(963589);function o(){const e=(0,a().X)("lazier_dependencies"),t=(0,n().K8)((()=>s().default.state.renderPhase),[]);return e&&"rendered"!==t}},885400:(e,t,i)=>{i.d(t,{A:()=>o});var n=()=>i(401497),s=()=>i(426388),a=()=>i(192855);function o(e){const{style:t}=e,i=(0,n().DP)(),o=(0,n().IS)((e=>({notionLogo:{height:14,width:14,fill:e.icon.primary,...t}})),[t]);return"light"===i.mode?(0,s().S)(o.notionLogo):(0,a().L)(o.notionLogo)}}}]);