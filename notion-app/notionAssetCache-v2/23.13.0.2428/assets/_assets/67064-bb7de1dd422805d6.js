"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[67064],{67064:(e,t,r)=>{r.d(t,{i:()=>ne});var l=r(296540),n=()=>r(56366),o=()=>r(401497),i=()=>r(554509),a=()=>r(913454),s=(r(898992),r(354520),r(672577),r(581454),()=>r(521381)),d=()=>r(784892),c=()=>r(534177),p=()=>r(399762),u=r(474848);const h=6;function m(e){let{flushRight:t,hasShadow:r,style:l,children:n}=e;const i=(0,o().IS)((e=>{const n=(null==l?void 0:l.borderRadius)??4;return{card:{display:"flex",flexDirection:"column",gap:3,marginBottom:r?5:4,padding:h,paddingRight:t?0:h,borderRadius:n,borderTopRightRadius:t?0:n,borderBottomRightRadius:t?0:n,...r?{boxShadow:e.shadowXS,boxShadowRight:t?0:void 0}:{border:`1px solid ${e.stroke.secondary}`,borderRightWidth:t?0:1},...l}}}),[t,r,l]);return(0,u.jsx)("div",{style:i.card,children:n})}var x=()=>r(184038);function y(e){return(0,u.jsx)("div",{children:"status"===e.type?(0,u.jsx)(p().q,{value:e.value,color:e.color,format:d().NY.ExtremeSmall,showRemoveButton:!1,isSingle:!0,groupColor:e.color}):(0,u.jsx)(p().O,{format:d().NY.ExtremeSmall,value:e.value,color:e.color,showRemoveButton:!1,isSingle:!0})})}function f(e){let{index:t}=e;const r=(0,l.useCallback)((e=>({height:5,...e&&{width:e}})),[]);return 0===t?(0,u.jsxs)("div",{children:[(0,u.jsx)(m,{children:(0,u.jsx)(x().F,{style:r()})}),(0,u.jsx)(m,{style:{height:"30px"},children:(0,u.jsx)(x().F,{style:r("80%")})})]}):1===t?(0,u.jsxs)("div",{children:[(0,u.jsxs)(m,{children:[(0,u.jsx)(x().F,{style:r("100%")}),(0,u.jsx)(x().F,{style:r()})]}),(0,u.jsx)(m,{children:(0,u.jsx)(x().F,{style:r()})})]}):(0,u.jsx)("div",{children:(0,u.jsx)(m,{children:(0,u.jsx)(x().F,{style:r()})})})}const g={type:"select",columns:[]};var v=()=>r(148307),w=()=>r(816559),j=()=>r(972435);const b=6,S=20,T=(0,r(959013).YK)({sunday:{id:"workflowTemplatesOnboarding.calendarThumbnail.sunday",defaultMessage:"Sun"},monday:{id:"workflowTemplatesOnboarding.calendarThumbnail.monday",defaultMessage:"Mon"},tuesday:{id:"workflowTemplatesOnboarding.calendarThumbnail.tuesday",defaultMessage:"Tue"}}),k=[{label:j().A.formatMessage(T.sunday)},{label:j().A.formatMessage(T.monday)},{label:j().A.formatMessage(T.tuesday)},{label:""}];function I(e){const{index:t,flushRight:r}=e,l=(0,o().IS)((e=>({container:{padding:b,paddingRight:r?0:b,border:`1px solid ${e.stroke.secondary}`,borderRight:0,borderBottom:0,borderTopLeftRadius:0===t?3:0}})),[t,r]);return(0,u.jsx)("div",{style:l.container,children:(0,u.jsx)(R,{...e})})}function R(e){const{index:t,flushRight:r}=e,n=(0,o().IS)((e=>({skeleton:{width:"100%",height:5,borderRadius:S,borderTopRightRadius:r?0:S,borderBottomRightRadius:r?0:S},avatarRow:{display:"flex",alignItems:"center",gap:4},avatarWrapper:{width:12,height:12,flexShrink:0,borderRadius:"100%",border:`0.5px solid ${e.stroke.secondary}`,overflow:"hidden"},avatar:{width:"100%",height:"100%"}})),[r]),i=(0,l.useMemo)((()=>({hasShadow:!0,style:{borderRadius:3},...e})),[e]);return t%3==0?(0,u.jsx)(m,{...i,children:(0,u.jsx)(x().F,{style:n.skeleton})}):t%2==0?(0,u.jsxs)(m,{...i,children:[(0,u.jsx)(x().F,{style:n.skeleton}),(0,u.jsxs)("div",{style:n.avatarRow,children:[(0,u.jsx)("div",{style:n.avatarWrapper,children:(0,u.jsx)(w().Ay,{src:v().A.images.workflowTemplates.previewAvatar1Png,style:n.avatar})}),(0,u.jsx)(x().F,{style:n.skeleton})]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(m,{...i,children:(0,u.jsx)(x().F,{style:n.skeleton})}),(0,u.jsx)(m,{...i,children:(0,u.jsx)(x().F,{style:n.skeleton})})]})}const C=.7;function _(e){let{type:t}=e;const r=(0,o().IS)((e=>{const t=e.fill.grayTertiary;return{container:{display:"flex",flexDirection:"column",justifyContent:"stretch",width:84,height:48+2*C,backgroundColor:"light"===e.mode?e.surface.wash:e.boardItemDefaultBackground,borderRadius:4,overflow:"hidden",border:`${C}px solid ${e.stroke.secondary}`},image:{overflow:"hidden",flexGrow:1,flexShrink:1,borderTopLeftRadius:4,borderTopRightRadius:4},caption:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:16+C,flexShrink:0,backgroundColor:"light"===e.mode?e.white:e.cardBackground,borderTop:`${C}px solid ${e.stroke.secondary}`,paddingLeft:6},captionText:{backgroundColor:t,borderRadius:20,width:35,height:5},shapeFill:{fill:t,backgroundColor:t}}}),[]);let l;return"circle"===t?l=(0,u.jsx)(A,{fillStyle:r.shapeFill}):"rectangle"===t?l=(0,u.jsx)(V,{fillStyle:r.shapeFill}):"triangle"===t&&(l=(0,u.jsx)(M,{fillStyle:r.shapeFill})),(0,u.jsxs)("div",{style:r.container,children:[(0,u.jsx)("div",{style:r.image,children:l}),(0,u.jsx)("div",{style:r.caption,children:(0,u.jsx)("div",{style:r.captionText})})]})}const F=58;function A(e){let{fillStyle:t}=e;const r=(0,o().IS)((e=>({container:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},circle:{position:"absolute",left:`calc(50% - ${F/2}px)`,top:"30%",width:F,height:F,borderRadius:"100%",backgroundColor:t.backgroundColor}})),[t]);return(0,u.jsx)("div",{style:r.container,children:(0,u.jsx)("div",{style:r.circle})})}function M(e){let{fillStyle:t}=e;const r=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-end",overflow:"hidden",width:"100%",height:"100%"},pyramidsContainer:{fill:t.fill}})),[t]);return(0,u.jsx)("div",{style:r.container,children:(0,u.jsx)("div",{style:r.pyramidsContainer,children:(0,u.jsxs)("svg",{viewBox:"0 0 84 23",children:[(0,u.jsx)("defs",{children:(0,u.jsxs)("clipPath",{id:"shape",children:[(0,u.jsx)("rect",{x:"-25.4688",y:"57.5312",width:"71.4619",height:"71.4619",transform:"rotate(-45 -25.4688 57.5312)"}),(0,u.jsx)("rect",{x:"3.53125",y:"50.5312",width:"71.4619",height:"71.4619",transform:"rotate(-45 3.53125 50.5312)"})]})}),(0,u.jsx)("g",{clipPath:"url(#shape)",children:(0,u.jsx)("rect",{width:"100%",height:"100%"})})]})})})}function V(e){let{fillStyle:t}=e;const r=(0,o().IS)((e=>({container:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},rectangle:{position:"absolute",top:10,right:10,left:10,bottom:0,borderTopLeftRadius:1,borderTopRightRadius:1,backgroundColor:t.backgroundColor}})),[t]);return(0,u.jsx)("div",{style:r.container,children:(0,u.jsx)("div",{style:r.rectangle})})}r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var B=()=>r(896326),$=()=>r(357339),P=()=>r(625830);const W=[!0,!1,!1];function N(e){let{rowIndex:t,style:r}=e;return(0,u.jsx)(P().A,{checked:W[t]??!1,disabled:!0,size:10,style:r})}const D=5;function L(e){const t=function(e){return 60+(2*(e+3)+43)%(e%5+2)*5}(e);return{width:`${t}%`,maxWidth:"80%",height:D}}const z=[30,45,35,40];function O(e){let{index:t,offset:r}=e;return{width:z[(t+r)%z.length],height:D}}const E=[{avatarSrc:v().A.images.workflowTemplates.previewAvatar1Png,name:""},{avatarSrc:v().A.images.workflowTemplates.previewAvatar2Png,name:""},{avatarSrc:v().A.images.workflowTemplates.previewAvatar3Png,name:""}];function q(e){const t=(0,o().IS)((t=>({container:{display:"flex",alignItems:"center",width:"100%",gap:4,...e.containerStyle},avatarWrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:12,height:12,boxSizing:"content-box",borderRadius:"100%",overflow:"hidden",border:`1px solid ${t.stroke.secondary}`,flexShrink:0},avatarImage:{width:"100%",height:"100%",borderRadius:"100%"}})),[e.containerStyle]),r=E[e.index%E.length];return(0,u.jsxs)("div",{style:t.container,children:[(0,u.jsx)("div",{style:t.avatarWrapper,children:(0,u.jsx)(w().Ay,{src:r.avatarSrc,style:t.avatarImage})}),e.showNameSkeleton?(0,u.jsx)(x().F,{style:L(e.index)}):null]})}function H(e){let{rowIndex:t,propertySchema:r}=e;const l=(0,$().de)(r),n=l[t%l.length];return n?"status"===r.type?(0,u.jsx)(p().q,{value:n.value,color:n.color,format:d().NY.ExtremeSmall,showRemoveButton:!1,isSingle:!0,groupColor:n.color}):(0,u.jsx)(p().O,{format:d().NY.ExtremeSmall,value:n.value,color:n.color,showRemoveButton:!1,isSingle:!0}):null}const K=18,Y=Object.freeze(new Set(["title","select","person","multi_select","status","checkbox"]));function G(e){return(0,c().y$)(Y,e.value.type)}function Q(e){let{propertyTemplates:t,rowIndex:r,containerStyle:l}=e;return(0,u.jsx)("div",{style:{display:"flex",gap:4,height:K,alignItems:"center",overflow:"hidden",...l},children:t.map((e=>(0,u.jsx)(J,{property:e,index:r},e.templateId)))})}const U=[117,136,128];function J(e){let{property:t,index:r}=e;const l=(0,o().IS)((()=>{const e={display:"flex",overflow:"hidden"};return{base:e,textSkeleton:{...e,height:5,width:U[r]??U[0],minWidth:25,maxWidth:"80%"},checkbox:{...e,flexShrink:0},person:{...e,width:"unset",flexShrink:0}}}),[r]);switch(t.value.type){case"title":return(0,u.jsx)(x().F,{style:l.textSkeleton});case"checkbox":return(0,u.jsx)(N,{rowIndex:r,style:l.checkbox});case"status":case"select":case"multi_select":return(0,u.jsx)(H,{rowIndex:r,propertySchema:t.value});case"person":return(0,u.jsx)(q,{index:r,showNameSkeleton:!1,containerStyle:l.person});default:return null}}function X(e){let{propertySchema:t,columnIndex:r,rowIndex:l,templateIndex:n}=e;const i=(0,o().IS)((()=>({container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"100%"}})),[]);return(0,u.jsx)("div",{style:i.container,children:(0,u.jsx)(Z,{propertySchema:t,columnIndex:r,rowIndex:(l+n)%3})})}function Z(e){let{propertySchema:t,columnIndex:r,rowIndex:l}=e;switch(t.type){case"number":return(0,u.jsx)(x().F,{style:O({index:l,offset:r})});case"text":case"title":return(0,u.jsx)(x().F,{style:L(l)});case"select":case"multi_select":case"status":return(0,u.jsx)(H,{rowIndex:l,propertySchema:t});case"created_time":case"last_edited_time":case"last_visited_time":case"date":return(0,u.jsx)(x().F,{style:{width:"70%",maxWidth:"70%",height:D}});case"created_by":case"last_edited_by":case"person":return(0,u.jsx)(q,{index:l,showNameSkeleton:!0});case"checkbox":return(0,u.jsx)(N,{rowIndex:l});default:return null}}const ee=l.memo(X);function te(e){let{template:t,viewTemplate:l,index:a}=e;const s=(0,n().K8)((()=>(0,$().qH)({userCustomizations:(0,B().ET)({template:t}),collectionViewTemplate:l}).splice(0,3)),[t,l]),d=(0,o().IS)((e=>({table:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gridTemplateRows:"repeat(4, 20px)"},tableCell:{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingTop:1,marginBottom:-1,borderBottom:`1px solid ${e.stroke.secondary}`,paddingLeft:4,paddingRight:8},propertyTitle:{fontSize:9,...r(284371).RC}})),[]);return(0,u.jsxs)("div",{style:d.table,children:[s.map((e=>(0,u.jsx)("div",{style:d.tableCell,children:(0,u.jsx)(i().D,{styleName:"UISmall-12px/Regular",colorName:"secondary",customStyles:d.propertyTitle,children:e.value.name})},`header-${e.templateId}`))),Array.from({length:3}).map(((e,t)=>s.map(((e,r)=>(0,u.jsx)("div",{style:d.tableCell,children:(0,u.jsx)(ee,{propertySchema:e.value,rowIndex:t,columnIndex:r,templateIndex:a})},`row-${t}-${e.templateId}`)))))]})}const re={table:te,gallery:function(e){let{template:t,index:r}=e;const l=(0,o().IS)((e=>({container:{display:"flex",gap:6,overflow:"hidden",height:"100%",width:"fit-content",marginTop:8,marginBottom:6,marginLeft:4}})),[]);return(0,u.jsxs)("div",{style:l.container,children:[(0,u.jsx)(_,{type:"circle"}),(0,u.jsx)(_,{type:"triangle"}),(0,u.jsx)(_,{type:"rectangle"})]})},board:function(e){let{viewTemplate:t}=e;const r=function(e){return(0,n().K8)((()=>{var t,r;const l=(null===(t=e.value.format)||void 0===t||null===(t=t.board_columns)||void 0===t?void 0:t.map((e=>"string"==typeof e.value.value?e.value.value:void 0)).filter(c().O9))??[],n=null===(r=e.value.format)||void 0===r?void 0:r.board_columns_by,{dependencyMap:o}=e;if(!n||!o)return g;const i=o[`property:${n.property}`];if(!i)return g;let d;try{d=a().globalWorkflowTemplates.fromIdOfType({templateId:i,type:"property"})}catch(p){return g}return(0,s().V)(d)?{type:d.value.type,columns:l.length>0?l.map((e=>{var t;return null===(t=d.value.options)||void 0===t?void 0:t.find((t=>t.value===e))})).filter(c().O9):d.value.options??[]}:g}),[e])}(t),i=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:6,paddingTop:8,paddingRight:8,paddingLeft:4},grid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:6}})),[]),d=(0,l.useMemo)((()=>r.columns.slice(0,3)),[r]);return(0,u.jsxs)("div",{style:i.container,children:[(0,u.jsx)("div",{style:i.grid,children:d.map((e=>(0,u.jsx)(y,{id:e.id,value:e.value,color:e.color,type:r.type},e.id)))}),(0,u.jsx)("div",{style:i.grid,children:d.map(((e,t)=>(0,u.jsx)(f,{index:t},e.id)))})]})},calendar:function(){const e=(0,o().IS)((e=>({container:{paddingTop:8,paddingLeft:4,display:"grid",gridTemplateColumns:`repeat(${k.length-1}, 1fr) 0.33fr`},columnTitle:{textAlign:"center",fontSize:9,lineHeight:1,color:e.text.secondary,paddingBottom:3}})),[]);return(0,u.jsxs)("div",{style:e.container,children:[k.map(((t,r)=>(0,u.jsx)("div",{style:e.columnTitle,children:t.label},r))),Array.from({length:k.length}).map(((e,t)=>(0,u.jsx)(I,{index:t,flushRight:t===k.length-1},t)))]})},list:function(e){let{template:t,viewTemplate:r}=e;const i=(0,n().K8)((()=>{const e=(0,$().qH)({userCustomizations:(0,B().ET)({template:t}),collectionViewTemplate:r}).filter(G),l=(0,$().p4)({propertyTemplates:e,collectionViewTemplate:r}),n=(0,$().vw)({properties:l,collectionViewTemplate:r});return(0,$().hi)(n)}),[t,r]),a=i.findIndex((e=>"title"===e.value.type)),s=(0,l.useMemo)((()=>i.slice(0,a+1)),[i,a]),d=(0,l.useMemo)((()=>i.slice(a+1)),[i,a]),c=(0,o().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:0,marginTop:6},row:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:6,overflow:"hidden",height:K,width:"100%",paddingRight:8,paddingLeft:4},leftPropertyValues:{flexShrink:1},rightPropertyValues:{justifyContent:"flex-end",flexShrink:0}})),[]);return(0,u.jsx)("div",{style:c.container,children:Array.from({length:3}).map(((e,t)=>(0,u.jsxs)("div",{style:c.row,children:[(0,u.jsx)(Q,{propertyTemplates:s,rowIndex:t,containerStyle:c.leftPropertyValues}),(0,u.jsx)(Q,{propertyTemplates:d,rowIndex:t,containerStyle:c.rightPropertyValues})]},t)))})}},le=te,ne=l.memo((function(e){let{template:t,index:l}=e;const s=t.value.targetCollection.name,d=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column",paddingTop:12,paddingLeft:12,backgroundColor:e.modalBackground},header:{display:"flex",alignItems:"center",gap:4,marginLeft:4}})),[]),c=(0,n().K8)((()=>{const e=(0,r(663077).A6)(t,a().globalWorkflowTemplates);return e.length>0?e[0]:a().globalWorkflowTemplates.fromIdOfType({templateId:r(428045).Gs,type:"collection_view"})}),[t]),p=(0,r(669647).QE)(c.value.type)?re[c.value.type]:le;return(0,u.jsxs)("div",{style:d.container,children:[(0,u.jsxs)("div",{style:d.header,children:[(0,u.jsx)(r(902842).z,{template:t,size:12}),(0,u.jsx)(i().D,{styleName:"UISmall-12px/Medium",children:s})]}),(0,u.jsx)(p,{template:t,viewTemplate:c,index:l})]})}))},184038:(e,t,r)=>{r.d(t,{F:()=>o});r(296540);var l=()=>r(401497),n=r(474848);function o(e){let{style:t}=e;const r=(0,l().IS)((e=>({textSkeleton:{width:"60%",height:10,backgroundColor:e.fill.lightGraySecondary,borderRadius:6,...t}})),[t]);return(0,n.jsx)("div",{style:r.textSkeleton})}},357339:(e,t,r)=>{r.d(t,{DR:()=>u,JC:()=>b,Nb:()=>h,de:()=>w,hi:()=>m,p4:()=>v,qH:()=>y,rQ:()=>j,vw:()=>x});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(581454);var l=()=>r(244641),n=()=>r(151744),o=()=>r(521381),i=()=>r(669647),a=()=>r(496603),s=()=>r(534177),d=()=>r(913454),c=()=>r(896326);const p=3,u={templateId:"name",type:"property",value:{name:"Name",type:"title"}};function h(){return Array.from({length:p})}function m(e){return(0,a().hS)(e,(e=>(0,o().V)(e)?"select":e.value.type))}function x(e){let{properties:t,collectionViewTemplate:r}=e;return t.map((e=>{if("status"!==e.value.type)return e;const t=function(e){let{propertyTemplate:t,collectionViewTemplate:r}=e;const l=t.templateId,n=f(r),o=g(r);return n.find((e=>l===o[e.property]))}({propertyTemplate:e,collectionViewTemplate:r});return"checkbox"===(null==t?void 0:t.statusShowAs)?{...e,value:{...e.value,type:"checkbox"}}:e}))}function y(e){let{userCustomizations:t,collectionViewTemplate:r}=e;const l=(0,d().getPropertyTemplates)(t.featureTemplateSelections.filter((e=>e.selected)).map((e=>e.template))),o=function(e){let{collectionViewTemplate:t}=e;const r=g(t),l=f(t),n=new Set;for(const o of l){const e=r[o.property];o.visible&&n.add(e)}return n}({collectionViewTemplate:r});return[l.find(n().eP)??u,...l.filter(c().QT).filter((e=>!(0,n().eP)(e))).filter((e=>o.has(e.templateId)))]}function f(e){var t,r,l,n,o,i;switch(e.value.type){case"table":return(null===(t=e.value.format)||void 0===t?void 0:t.table_properties)??[];case"list":return(null===(r=e.value.format)||void 0===r?void 0:r.list_properties)??[];case"gallery":return(null===(l=e.value.format)||void 0===l?void 0:l.gallery_properties)??[];case"board":return(null===(n=e.value.format)||void 0===n?void 0:n.board_properties)??[];case"calendar":return(null===(o=e.value.format)||void 0===o?void 0:o.calendar_properties)??[];case"timeline":return(null===(i=e.value.format)||void 0===i?void 0:i.timeline_properties)??[];case"page":case"chart":case"form_editor":case"feed":case"map":case"chat":case"custom":return[];default:(0,s().HB)(e.value.type)}}function g(e){let{dependencyMap:t}=e;const r={};for(const[l,n]of(0,s().WP)(t??{})){const e=(0,i().lS)(l);e&&(r[e]=n)}return r}function v(e){var t;let{propertyTemplates:r,collectionViewTemplate:l}=e;const n=null===(t=r.find((e=>"title"===e.value.type)))||void 0===t?void 0:t.templateId,o={...g(l),...n&&{title:n}},i=f(l),s=new Map(i.map(((e,t)=>[o[e.property],t])));return(0,a().Ul)(r,(e=>{const t=s.get(e.templateId);return void 0===t?1/0:t}))}function w(e){const t=e.options;return null!=t&&t.length?h().map(((e,r)=>{const l=r%t.length;return t[l]})):[]}function j(){return h().map(((e,t)=>t%2==1))}function b(e){const{type:t,date_format:r,time_format:n}=e,o=l().c9.now(),i=o.minus({days:6}),a=o.minus({days:3});return h().map(((e,l)=>{let s=S(o,o.plus({days:3}),l);"created_time"===t?s=S(i,a,l):"last_edited_time"!==t&&"last_visited_time"!==t||(s=S(a,o,l));return{dateValue:{type:"date",start_date:s.toFormat("yyyy-MM-dd")},dateFormat:r,timeFormat:n}}))}function S(e,t,r){const n=r%100/100+r%p*.1,o=t.toMillis()-e.toMillis(),i=e.toMillis()+o*n;return l().c9.fromMillis(i)}}}]);