"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[43396],{70423:(e,t,o)=>{o.d(t,{L:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("bellDisabled",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7 15.2285C6.48047 15.2285 6.02246 15.11 5.62598 14.873C5.23405 14.6406 4.92188 14.333 4.68945 13.9502C4.46159 13.5719 4.33854 13.1618 4.32031 12.7197H1.51074C1.15072 12.7197 0.868164 12.6331 0.663086 12.46C0.462565 12.2822 0.362305 12.0475 0.362305 11.7559C0.362305 11.5143 0.426107 11.2842 0.553711 11.0654C0.681315 10.8421 0.843099 10.6279 1.03906 10.4229C1.23958 10.2178 1.44466 10.015 1.6543 9.81445C1.8138 9.65951 1.93685 9.45671 2.02344 9.20605C2.11003 8.9554 2.17611 8.67969 2.22168 8.37891C2.26725 8.07812 2.30371 7.77051 2.33105 7.45605C2.34017 7.08691 2.36296 6.73828 2.39941 6.41016C2.44043 6.08203 2.49512 5.77669 2.56348 5.49414L3.73926 6.66992C3.71647 6.8431 3.69596 7.02539 3.67773 7.2168C3.66406 7.4082 3.65495 7.60872 3.65039 7.81836C3.63216 8.12826 3.60482 8.41536 3.56836 8.67969C3.5319 8.94401 3.48405 9.18555 3.4248 9.4043C3.36556 9.62305 3.29264 9.81901 3.20605 9.99219C3.12402 10.1654 3.02604 10.3158 2.91211 10.4434C2.80273 10.571 2.68652 10.6963 2.56348 10.8193C2.44499 10.9378 2.33561 11.0472 2.23535 11.1475C2.13965 11.2477 2.06217 11.3275 2.00293 11.3867V11.4688H8.54492L10.0078 12.9385H9.64551C9.59538 13.3532 9.45182 13.7337 9.21484 14.0801C8.98242 14.4264 8.6748 14.7044 8.29199 14.9141C7.91374 15.1237 7.48307 15.2285 7 15.2285ZM7 14.1348C7.38737 14.1348 7.70866 14.0072 7.96387 13.752C8.21908 13.4967 8.35807 13.1527 8.38086 12.7197H5.6123C5.63965 13.1527 5.78092 13.4967 6.03613 13.752C6.29134 14.0072 6.61263 14.1348 7 14.1348ZM4.01953 2.99902C4.15625 2.89421 4.30208 2.7985 4.45703 2.71191C4.61654 2.62533 4.78516 2.55241 4.96289 2.49316C5.09049 2.04199 5.33431 1.66374 5.69434 1.3584C6.05436 1.05306 6.48958 0.900391 7 0.900391C7.50586 0.900391 7.9388 1.05306 8.29883 1.3584C8.65885 1.66374 8.90495 2.04199 9.03711 2.49316C9.9349 2.81673 10.5889 3.41146 10.999 4.27734C11.4137 5.14323 11.6416 6.2666 11.6826 7.64746C11.7008 7.9209 11.7282 8.17383 11.7646 8.40625C11.8011 8.63411 11.849 8.84603 11.9082 9.04199C11.972 9.2334 12.0518 9.41113 12.1475 9.5752C12.2477 9.73926 12.3685 9.89648 12.5098 10.0469C12.7786 10.3021 13.0293 10.5664 13.2617 10.8398C13.4941 11.1133 13.6104 11.4027 13.6104 11.708C13.6104 11.9587 13.5329 12.166 13.3779 12.3301L10.6641 9.55469C10.5911 9.39518 10.5342 9.22884 10.4932 9.05566C10.4567 8.87793 10.4271 8.68424 10.4043 8.47461C10.3815 8.26497 10.361 8.03027 10.3428 7.77051C10.3245 6.80892 10.222 6.04557 10.0352 5.48047C9.84831 4.91081 9.60449 4.4847 9.30371 4.20215C9.00293 3.9196 8.66569 3.72819 8.29199 3.62793C8.20996 3.6097 8.14616 3.5778 8.10059 3.53223C8.05501 3.4821 8.02767 3.41146 8.01855 3.32031C8.00033 2.97396 7.90007 2.69368 7.71777 2.47949C7.54004 2.2653 7.30078 2.1582 7 2.1582C6.69922 2.1582 6.45768 2.2653 6.27539 2.47949C6.0931 2.69368 5.99284 2.97396 5.97461 3.32031C5.97005 3.41146 5.94271 3.4821 5.89258 3.53223C5.84701 3.5778 5.78548 3.6097 5.70801 3.62793C5.57585 3.66439 5.44824 3.70996 5.3252 3.76465C5.20671 3.81934 5.09277 3.88542 4.9834 3.96289L4.01953 2.99902ZM0.615234 2.35645C0.514974 2.25163 0.464844 2.12402 0.464844 1.97363C0.464844 1.81868 0.514974 1.6888 0.615234 1.58398C0.724609 1.47917 0.854492 1.42676 1.00488 1.42676C1.15983 1.42676 1.28971 1.47917 1.39453 1.58398L13.8086 13.9912C13.9134 14.096 13.9658 14.2236 13.9658 14.374C13.9658 14.5244 13.9134 14.6543 13.8086 14.7637C13.7038 14.8685 13.5739 14.9209 13.4189 14.9209C13.2686 14.9209 13.141 14.8685 13.0361 14.7637L0.615234 2.35645Z"})})},75544:(e,t,o)=>{o.d(t,{A:()=>m});o(898992),o(354520);var n=o(296540),i=()=>o(908006),r=()=>o(56366),s=()=>o(737658),a=()=>o(336811),l=()=>o(496603),d=()=>o(183558),c=(o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),()=>o(921598));function u(e){const{reducerId:t,instanceId:o,reducer:n,collectionContextStore:i,groupsPointer:r}=e,s=i.reducersStore.state,a=s[t];let d,u;if(r&&r.length>0&&(d=(0,c().Hm)(r)),n){if(u={instanceIds:l().sb([...(null==a?void 0:a.instanceIds)||[],o]),reducer:n},d){i.reducerDependencies.has(d)||i.reducerDependencies.set(d,new Set);const e=i.reducerDependencies.get(d);null==e||e.add(t)}}else{if(d){const e=i.reducerDependencies.get(d);e&&(e.delete(t),0===e.size&&i.reducerDependencies.delete(d))}const e=l().FF((null==a?void 0:a.instanceIds)||[],o);u=a&&e.length>0?{instanceIds:e,reducer:a.reducer}:void 0}l().n4(a,u)||i.reducersStore.setState({...s,[t]:u})}function m(e){const{id:t,reducer:o,collectionContextStore:c,groupsPointer:m,debounceWait:p}=e,g=(0,r().K8)((()=>m),[m],{useDeepEqual:!0}),f=(0,r().K8)((()=>o),[o],{useDeepEqual:!0}),h=(0,r().K8)((()=>c.collectionViewStore()),[c]),S=(0,r().K8)((()=>c.normalizedFormatStore.state.collection_pointer),[c.normalizedFormatStore]),v=(0,r().K8)((()=>{var e;return null==h||null===(e=h.getFormatStore())||void 0===e?void 0:e.getKeyStore("collection_view_source").getValue()}),[h]),C=(0,n.useRef)(!1),y=(0,a().O)(),[x,b]=(0,n.useReducer)(((e,t)=>l().n4(e,t)?e:t),void 0),M=(0,n.useCallback)((()=>{const e=c.localResultStore.state,o=c.remoteResultStore.state,n=e&&"reducer"===e.type?e.reducerResults[t]:void 0,i=o&&"reducer"===o.type?o.reducerResults[t]:void 0;return function(e){const{reducerId:t,localReducerResult:o,remoteReducerResult:n,collectionContextStore:i,reducer:r}=e,a=i.reducersStore.state,d=i.remoteResultStore.state,c=i.isClientModeEnabledStore.state;if(c)return o;if("aggregation"===r.type||"groups"===r.type){const e=i.isCreatingNewChartCollectionStore.state,n=null==d?void 0:d.reducerResults[t],s=i.wasCreatedThisSessionStore.state;if(e&&s){const e=Boolean(n&&"groups"===n.type&&("v2"===n.version?n.hasMore:0!==n.total)),t=Boolean(n&&"aggregation"===n.type&&"number"===n.aggregationResult.type&&0!==n.aggregationResult.value);return(e||t)&&i.isCreatingNewChartCollectionStore.setState(!1),o}if(n)return n;const c=Boolean(d&&"reducer"===d.type&&l().I6(d.reducerResults,((e,t)=>{const o=a[t];if(!o)return!1;const n="groups"===r.type?void 0:r.filter;return Boolean("results"===o.reducer.type&&!o.reducer.searchQuery&&"results"===e.type&&e.hasMore&&l().n4(n,o.reducer.filter))})));return c?o:n}if("results"===r.type){var u;const e=i.wasCreatedThisSessionStore.state,r=Boolean(d&&"reducer"===d.type&&d.reducerResults[t]),a=null===(u=i.collectionViewStore())||void 0===u?void 0:u.getCollectionSource(),l=(0,s().TR)(a)||(0,s().hJ)(a);if((r||e)&&!l&&o&&"results"===o.type){return{...o,hasMore:n&&"results"===n.type?n.hasMore:o.hasMore}}return n}}({reducerId:t,collectionContextStore:c,reducer:f,localReducerResult:n,remoteReducerResult:i})}),[c,f,t]),I=(0,n.useCallback)((()=>{C.current=!1,y.current||b(M())}),[M,y]),w=(0,n.useCallback)((()=>{C.current||(C.current=!0,i().default.afterNextFlush(I))}),[I]),[T]=(0,n.useState)((()=>(0,d().Ay)()));return(0,n.useEffect)((()=>{const e=p?(0,l().sg)(w,p,{leading:!0}):w;return c.remoteResultStore.addListener(w),c.localResultStore.addListener(e),()=>{c.remoteResultStore.removeListener(w),c.localResultStore.removeListener(e)}}),[c,w,p]),(0,n.useEffect)((()=>(u({reducerId:t,instanceId:T,reducer:f,collectionContextStore:c,groupsPointer:g}),()=>{u({reducerId:t,instanceId:T,reducer:void 0,collectionContextStore:c,groupsPointer:g})})),[c,h,S,v,g,f,t,T]),(0,n.useEffect)((()=>{w()}),[]),(0,n.useEffect)((()=>(c.timingTracker.mountCollectionReducerRequest(t,f.type),()=>{c.timingTracker.unmountCollectionReducerRequest(t)})),[c,t,f]),x}},114641:(e,t,o)=>{o.d(t,{H:()=>i});var n=()=>o(989423);function i(e){const{collectionContextStore:t,environment:o,incrementLimitArgs:i}=e;t.groupsStore.incrementLimit(e.incrementLimitArgs),t.loadingDetailsStore.setState({type:"load_more_blocks",group:i.groupsPointer}),n().vd(o,"collection_load_more_blocks")}},124311:(e,t,o)=>{o.d(t,{K:()=>i});var n=()=>o(989423);function i(e){n().vd(e,"inline_collection_load_more_click")}},126158:(e,t,o)=>{o.d(t,{m:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,n.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},143650:(e,t,o)=>{o.d(t,{e:()=>a});var n=o(296540),i=()=>o(484714),r=()=>o(317909),s=()=>o(351360);function a(){const[e,t]=(0,n.useState)(!0),o=(0,i().v3)();(0,n.useEffect)((()=>{if(e){const{currentSpaceViewStore:e}=s().default.state;if(!e)return;r().createAndCommit({userAction:"PostsHomePanel.updateLastOpened",environment:o,canUndo:!0,perform:t=>{r().applyOperation({store:e,operation:{pointer:e.pointer,path:["settings","last_opened_aggregated_feed"],command:"set",args:Date.now()},transaction:t})}})}}),[e,o])}},158359:(e,t,o)=>{o.d(t,{P:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("arrowDown",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},173019:(e,t,o)=>{o.d(t,{r:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},316369:(e,t,o)=>{o.d(t,{w:()=>b});o(581454),o(296540);var n=()=>o(484714),i=()=>o(651124),r=()=>o(30626),s=()=>o(959013),a=()=>o(496603),l=()=>o(436696),d=()=>o(896628),c=()=>o(317909),u=()=>o(722872),m=()=>o(963589),p=()=>o(760217),g=()=>o(406699),f=()=>o(285790),h=()=>o(928600),S=()=>o(939740),v=()=>o(14235),C=()=>o(89924),y=o(474848);const x=(0,s().j4)((function(e){const{limit:t}=e;return(0,y.jsx)(s().sA,{defaultMessage:"{limit} pages",values:{limit:t.limit},id:"database.FirstLoadLimitSelectOption.limitPagesTitle"})}));function b(e){let{format:t,collectionContextStore:o}=e;const i=(0,n().v3)(),{device:s}=i,a=(0,m().X)("collection_mobile_load_limits");return s.isMobile&&a?null:(0,y.jsx)(g().Ay,{popupType:v().nl.Popup,renderOrigin:e=>(0,y.jsx)(f().A,{icon:r()._,style:{marginLeft:4,marginRight:4},...e}),alignmentToOrigin:g().yP.End,placementToOrigin:g().sx.Bottom,originGap:8,render:e=>(0,y.jsx)(I,{currentLimit:M(t),onAccept:e=>function(e,t,o){const n=t.collectionViewStore();if(!n)return;if(!n.getType())return;c().createAndCommit({userAction:"FirstLoadLimitActionButton.handleFirstLoadLimitAccept",environment:o,canUndo:!0,perform:t=>{d().zA({stores:[n],update:{inline_collection_first_load_limit:e},transaction:t})}}),t.groupsStore.resetAllLimits(),(0,l().X)({environment:o,collectionContextStore:t,action:"set_first_load_limit"})}(e,o,i),onClose:e.close,showTitle:!0})})}function M(e){return(0,i().i3)(e.inline_collection_first_load_limit,Boolean(e.collection_group_by))}function I(e){const t=(0,n().v3)(),{device:o}=t,{currentLimit:r,onAccept:l,onClose:d,showTitle:c}=e,m=(0,a().oE)(i().X9.map(((e,t)=>{const o={key:t,render:t=>(0,y.jsx)(p().A,{...t,disabled:!1,title:(0,y.jsx)(x,{limit:e}),checkState:(0,a().n4)(r,e)}),action:()=>l(e)};return o}))),g=[{key:0,render:e=>(0,y.jsx)(C().A,{enableActionSheetTitle:!0,title:c&&(0,y.jsx)(s().sA,{defaultMessage:"Show on first load",id:"database.firstLoadLimitSelectMenu.firstLoadLimitSetting"}),...e}),items:m}];let f;return f=o.isMobile?{menuType:u().gu.ActionSheet}:{menuType:u().gu.Popup,width:200},(0,y.jsx)(h().A,{...f,children:(0,y.jsx)(S().Ay,{type:S().Oh.Vertical,sections:g,onAccept:d,initialFocus:void 0})})}},403315:(e,t,o)=>{o.d(t,{a:()=>n});const n=(0,o(340498).xh)("checkmark",{default:{loader:()=>o.e(38978).then(o.bind(o,29037))},small:{loader:()=>o.e(7180).then(o.bind(o,349679))},fill:{loader:()=>o.e(43920).then(o.bind(o,94701))},fillSmall:{loader:()=>o.e(38789).then(o.bind(o,73956))}},["check","tick","confirm","approve","success"])},436683:(e,t,o)=>{o.d(t,{Y:()=>M});var n=o(296540),i=()=>o(56366),r=()=>o(401497),s=()=>o(563884),a=o(474848);const l=(0,o(340498).wt)("suggestionExtraSmall",{viewBox:"0 0 10 9",svg:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M5.175 4.745l-.906.339c-.07.027-.14.012-.205-.045-.064-.057-.08-.127-.048-.212l.342-.899L7.492.798l.814.813-3.131 3.134zm3.4-3.397L7.76.53l.359-.352A.617.617 0 018.48.005a.364.364 0 01.33.105l.14.14c.1.105.145.226.134.365a.596.596 0 01-.168.366l-.341.366z"}),(0,a.jsx)("path",{d:"M4.91 1.962L5.969.906H2.704c-.354 0-.66.072-.92.216-.26.14-.46.341-.601.601-.142.26-.212.566-.212.92v2.754c0 .354.074.66.222.92.148.26.345.461.591.605.249.141.524.212.827.212h.25v.694c0 .214.056.382.167.506a.603.603 0 00.465.184.84.84 0 00.383-.092c.125-.06.27-.16.434-.301l1.138-.991h1.846c.353 0 .66-.07.92-.212.26-.144.46-.345.6-.605a1.89 1.89 0 00.213-.92V2.643c0-.114-.007-.223-.022-.327l-.433.443-.601.602V5.32c0 .253-.064.442-.192.567-.125.126-.314.188-.567.188h-1.85a.757.757 0 00-.307.051.962.962 0 00-.256.192L3.743 7.349v-.926c0-.125-.031-.214-.093-.267a.372.372 0 00-.256-.082h-.608c-.251 0-.44-.062-.568-.188-.125-.125-.188-.314-.188-.567V2.72c0-.253.063-.442.188-.567.128-.128.317-.192.568-.192H4.91z"})]})});var d=()=>o(120739),c=()=>o(959013),u=()=>o(284371),m=()=>o(296798),p=()=>o(824160),g=()=>o(125565),f=()=>o(659799),h=()=>o(47373),S=()=>o(907514),v=()=>o(141465),C=()=>o(630116),y=()=>o(898808),x=()=>o(848565),b=()=>o(811879);function M(e){let{lastEditedTime:t,createdTime:o,discussionLocation:s,isResolved:f,isSuggestionComment:S,teamStore:M,authorStore:T}=e;const k=(0,c().tz)(),j=(0,i().K8)((()=>(0,h().J0)()),[]),A=(0,n.useRef)(null),P=(0,i().K8)((()=>T.getDisplayName(k)),[T,k]),_=(0,i().K8)((()=>null==M?void 0:M.getName()),[M]),R=x().eQ,B=function(e){let{discussionLocation:t,avatarSize:o}=e;return(0,r().IS)((e=>({avatar:{marginTop:0,marginRight:2,userSelect:"none"},avatarSuggestionBadgeWrapper:{position:"absolute",right:-2,bottom:-4},avatarSuggestionBadge:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:100,background:"light"===e.mode?"#fff":"#000",width:16,height:16,border:`1px solid ${e.accentColors.uiBlue[200]}`,fill:e.accentColors.uiBlue[600]},avatarSuggestionBadgeBacking:{position:"absolute",width:"100%",height:"100%",borderRadius:100,background:e.accentColors.uiBlue[100]},in:{color:e.text.secondary},timestamp:{whiteSpace:"normal",flexGrow:"updates_sidebar"===t||"comment_unfurl"===t?void 0:1,display:"inline",color:e.text.tertiary},userRow:{display:"flex",flexDirection:"row",alignItems:"center",userSelect:"none",fontSize:14,gap:6},user:{display:"flex",alignItems:"center",gap:6},placeholder:{height:8,width:81,borderRadius:6,background:e.lightDividerColor},commentAuthorPlaceholder:{marginRight:2,marginTop:"comment_unfurl"===t?14:2,height:o,width:o,borderRadius:20,flexShrink:0},teamIconAndName:{display:"flex",alignItems:"center",gap:5},linkBox:{borderRadius:4,padding:4,marginInline:-4},author:{fontWeight:u().Wy.medium,whiteSpace:"normal",flexShrink:0},teamName:{fontWeight:u().Wy.medium,lineHeight:1.3,borderBottom:`1px solid ${e.darkDividerColor}`}})),[o,t])}({discussionLocation:s,avatarSize:R}),L=(0,n.useCallback)((()=>{const e=A.current;e&&T&&T instanceof C().LU&&v().A.setState({type:"user",store:T,domRect:e.getBoundingClientRect()})}),[A,T]),K=(0,n.useCallback)((()=>v().A.setState(void 0)),[]);if(!o)return null;const D=t&&t>o+5e3;return(0,a.jsxs)("div",{style:B.userRow,children:[(0,a.jsxs)("div",{style:B.user,ref:A,onMouseEnter:L,onMouseLeave:K,children:[S?(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)(b().E,{authorStore:T,avatarSize:R,avatarStyle:B.avatar,placeholderStyle:B.commentAuthorPlaceholder}),(0,a.jsx)("div",{style:B.avatarSuggestionBadgeWrapper,children:(0,a.jsxs)("div",{style:B.avatarSuggestionBadge,children:[l({height:8.5}),(0,a.jsx)("div",{style:B.avatarSuggestionBadgeBacking})]})})]}):(0,a.jsx)(b().E,{hasTooltip:!j,authorStore:T,avatarSize:R,avatarStyle:B.avatar,placeholderStyle:B.commentAuthorPlaceholder}),(0,a.jsx)("div",{style:B.author,children:P||(0,a.jsx)("span",{style:B.placeholder})})]}),M&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:B.in,children:(0,a.jsx)(c().sA,{id:"posts.post.inPreposition",defaultMessage:" in "})}),(0,a.jsx)(m().A,{style:B.linkBox,href:(0,d().a)({teamId:M.id}),children:(0,a.jsxs)("div",{style:B.teamIconAndName,children:[(0,a.jsx)(y().x,{size:14,store:M,disabled:!1}),(0,a.jsx)("span",{style:B.teamName,children:_})]})})]}),(0,a.jsx)(g().A,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:B.timestamp,children:D?(0,a.jsx)(w,{createdTime:o,lastEditedTime:t}):(0,a.jsx)(I,{createdTime:o})}),"comment_unfurl"===s&&f&&(0,a.jsx)("div",{style:{display:"inline-flex"},children:(0,a.jsx)(p().A,{children:(0,a.jsx)(c().sA,{id:"comment.unfurl.resolvedStatus",defaultMessage:"Resolved"})})})]})}function I(e){const{createdTime:t}=e;return(0,a.jsx)(f().A,{text:(0,S().nl)(t,{useUltraCompactFormat:!0}),tooltipText:(0,S().x$)(t),icon:s().k})}function w(e){const{createdTime:t,lastEditedTime:o}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f().A,{text:(0,S().nl)(t,{useUltraCompactFormat:!0}),tooltipText:(0,a.jsx)(c().sA,{defaultMessage:"Created {absoluteCreatedTime}",id:"comment.createdAtTime.label",values:{absoluteCreatedTime:(0,S().x$)(t)}}),icon:s().k})," ",(0,a.jsx)(f().A,{text:(0,a.jsx)(c().sA,{defaultMessage:"(edited)",id:"comment.editedAtIndicator"}),tooltipText:(0,a.jsx)(c().sA,{defaultMessage:"Last edited {absoluteLastEditedTime}",id:"comment.editedAtTime.label",values:{absoluteLastEditedTime:(0,S().x$)(o)}}),icon:s().k})]})}},454531:(e,t,o)=>{o.d(t,{W:()=>m});var n=()=>o(867772),i=()=>o(681810),r=()=>o(901389),s=()=>o(896628),a=()=>o(383594),l=()=>o(317909),d=()=>o(892632);const c=1500,u=(0,o(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function m(e){let{environment:t,intl:o,store:n,rect:i}=e;a().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(u.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;a().I(),l().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:i}=e;g({environment:t,store:n,url:o,position:i})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(u.fileTypeCaption,{idealImageWidth:c}),onUpload:e=>{a().I(),d().QM({environment:t,file:e[0],bucket:"secure",record:n.pointer,onStart:f,onProgress:h,onComplete:e=>{var o;o={environment:t,store:n,url:e},p({...o,position:.5})},onError:()=>{r().f1(o.formatMessage(u.uploadFailed))}})}},{type:"embed",title:o.formatMessage(u.embedTitle),inputPlaceholder:o.formatMessage(u.embedPlaceholder),caption:o.formatMessage(u.embedCaption),buttonText:o.formatMessage(u.embedSubmit),onChange:e=>{var o;o={environment:t,store:n,url:e},p({...o,position:.5}),a().I()}},{type:"unsplash",onChange:e=>{let{url:o,position:i}=e;g({environment:t,store:n,url:o,position:i})}}]})}async function p(e){const{environment:t,store:o,url:r,position:a}=e,{serverCommitResult:d}=l().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:o,url:r,position:a||.5,transaction:e})}});await d,i().A.state.loadingMode===n().vS&&i().A.setState({loadingMode:n().Gi,dataURL:i().A.state.dataURL,uploadProgress:100})}function g(e){p(e),e.environment.device.isMobile&&a().I()}function f(e){const{file:t,name:o,size:r}=e;if(a().I(),i().A.setState({loadingMode:n().Wc,file:t,name:o,size:r}),t instanceof File&&t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{i().A.state.loadingMode===n().Wc&&i().A.setState({...i().A.state,uploadProgress:0,loadingMode:n().vS,dataURL:e.target.result})},e.readAsDataURL(t)}}function h(e){const{progressPercent:t}=e;i().A.state.loadingMode===n().vS&&i().A.setState({...i().A.state,uploadProgress:t})}},457190:(e,t,o)=>{o.d(t,{v:()=>a});var n=()=>o(835338),i=()=>o(848259),r=()=>o(246826),s=()=>o(317909);function a(e){const{environment:t,key:o,selectedKey:a,following:l,followSettings:d,navigableBlockId:c,userId:u,spaceId:m,from:p}=e;s().createAndCommit({userAction:"UpdateSidebarFollowControl.setFollowing",environment:e.environment,canUndo:!1,perform:t=>{r().vt({environment:e.environment,table:n().Cy,args:{following:l,followSettings:d,navigableBlockId:c,userId:u,spaceId:m},inMemoryRecordCache:e.environment.defaultRecordCache.inMemoryRecordCache,transaction:t})}}),l?i().KN(t,{from:"page_updates"}):i().tm(t,{from:"page_updates"}),a!==o&&i().EV(t,{from:p,navigableBlockId:c,oldSetting:a,newSetting:o})}},484595:(e,t,o)=>{o.d(t,{A:()=>a,p:()=>r});var n=o(296540),i=o(474848);const r=8;function s(e,t){let{isSelected:n}=e;const{radioButtonStyle:s,dotStyle:a}=(0,o(401497).IS)((e=>({radioButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:r,background:n?e.blueColor:e.whiteButtonBackground,border:n?"none":`1px solid ${e.radioButtonBorder}`,transition:"background 100ms ease-out"},dotStyle:{width:6,height:6,borderRadius:6,background:e.text.contrastPrimary,transition:"opacity 100ms ease-out",opacity:n?1:0}})),[n]);return(0,i.jsx)("div",{ref:t,style:s,children:(0,i.jsx)("div",{style:a})})}const a=n.forwardRef(s)},499512:(e,t,o)=>{o.d(t,{A:()=>l});o(296540);var n=()=>o(401497),i=()=>o(126158),r=()=>o(959013),s=()=>o(859428),a=o(474848);function l(e){const{onClick:t}=e,o=(0,n().IS)((e=>({moreCommentsWrapper:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1,left:0,right:0,height:30,background:`linear-gradient(to bottom, ${e.contentBackgroundTransparent} 0px, ${e.selectedMarginDiscussionBackground} 30px`,marginTop:-28},tooltip:{...(0,s().n)(e,!1),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",marginTop:-4,borderRadius:6,padding:"4px 10px 4px 8px"}})),[]),l=(0,n().DP)();return(0,a.jsx)("div",{style:o.moreCommentsWrapper,children:(0,a.jsxs)("div",{style:o.tooltip,onClick:t,children:[(0,a.jsx)("div",{style:{marginRight:5},children:(0,i().m)({fill:l.text.contrastPrimary,height:12,width:12})}),(0,a.jsx)(r().sA,{defaultMessage:"See more",id:"discussion.moreMessageTooltip"})]})})}},518773:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(835338),i=()=>o(534177);function r(e,t){switch(e){case"all":return{following:!0,followSettings:{...(0,n().JY)({explicitly_set_by_user:!0}),feed_setting:t}};case"important":return{following:!0,followSettings:{...(0,n().gK)({explicitly_set_by_user:!0}),feed_setting:t}};case"comments":return{following:!0,followSettings:{...(0,n().lx)({explicitly_set_by_user:!0}),feed_setting:t}};case"none":return{following:!1,followSettings:{...(0,n().gU)({explicitly_set_by_user:!0}),feed_setting:t}};default:(0,i().HB)(e)}}},527580:(e,t,o)=>{o.d(t,{TK:()=>a,YC:()=>s,ui:()=>r});var n=()=>o(645873);const i={pageVerification:new(n().O2)("pageVerification",(()=>Promise.all([o.e(23806),o.e(94891)]).then(o.bind(o,80826)))),pageVerificationBadge:new(n().O2)("pageVerificationBadge",(()=>Promise.all([o.e(23806),o.e(74562),o.e(95794),o.e(59794),o.e(75355),o.e(9034),o.e(20838),o.e(6463),o.e(11740),o.e(46413),o.e(41412)]).then(o.bind(o,161901)))),pageVerificationMenuRenderer:new(n().O2)("pageVerificationMenuRenderer",(()=>Promise.all([o.e(23806),o.e(74562),o.e(95794),o.e(59794),o.e(75355),o.e(9034),o.e(20838),o.e(6463),o.e(11740),o.e(46413),o.e(26207)]).then(o.bind(o,196770))))},r=(0,n()._h)(i.pageVerification,(e=>e.PageAddVerificationButton)),s=(0,n()._h)(i.pageVerificationBadge,(e=>e.PageVerificationBadge)),a=(0,n()._h)(i.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},623241:(e,t,o)=>{o.d(t,{i:()=>s});var n=()=>o(484714),i=()=>o(56366),r=()=>o(486130);function s(e){const{teamStore:t}=e,o=(0,n().v3)(),s=(0,i().K8)((()=>r()._.getSpacePermissionGroupIds({userId:o.currentUser.id,spaceId:null==t?void 0:t.getSpaceId()})),[o,t]),a=(0,i().K8)((()=>{if(t&&o.currentUser.id)return t.getTeamRoleForUser(o.currentUser.id,s)}),[t,o.currentUser.id,s]),l=(0,i().K8)((()=>!!t&&"open"===t.getTeamAccessLevel()),[t]),d="none"===a||!a,c=!d;return{isTeamMember:c,canViewPosts:c||l,canJoinTeam:d&&l}}},623516:(e,t,o)=>{o.d(t,{m:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("expandFullPage",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M1.16211 6.20312C0.947917 6.20312 0.770182 6.13249 0.628906 5.99121C0.48763 5.84538 0.416992 5.66764 0.416992 5.45801V1.71191C0.416992 1.32454 0.524089 1.02376 0.738281 0.80957C0.957031 0.59082 1.26237 0.481445 1.6543 0.481445H5.44141C5.66016 0.481445 5.83789 0.552083 5.97461 0.693359C6.11589 0.834635 6.18652 1.01237 6.18652 1.22656C6.18652 1.44531 6.11589 1.62533 5.97461 1.7666C5.83333 1.90332 5.6556 1.97168 5.44141 1.97168H4.91504L2.76172 1.82812L4.43652 3.4209L6.41895 5.38965C6.4873 5.46257 6.53971 5.54688 6.57617 5.64258C6.61719 5.73372 6.6377 5.83171 6.6377 5.93652C6.6377 6.16439 6.5625 6.34896 6.41211 6.49023C6.26628 6.63151 6.07715 6.70215 5.84473 6.70215C5.63965 6.70215 5.46647 6.63151 5.3252 6.49023L3.35645 4.50098L1.76367 2.82617L1.90723 4.97266V5.45801C1.90723 5.6722 1.83659 5.84993 1.69531 5.99121C1.55859 6.13249 1.38086 6.20312 1.16211 6.20312ZM8.55176 13.6543C8.33757 13.6543 8.15755 13.5837 8.01172 13.4424C7.87044 13.3011 7.7998 13.1234 7.7998 12.9092C7.7998 12.695 7.87044 12.5173 8.01172 12.376C8.15755 12.2347 8.33757 12.1641 8.55176 12.1641H9.07812L11.2383 12.3076L9.5498 10.7148L7.58105 8.74609C7.50358 8.67318 7.44434 8.59115 7.40332 8.5C7.36686 8.4043 7.34863 8.30404 7.34863 8.19922C7.34863 7.97135 7.42383 7.78678 7.57422 7.64551C7.72461 7.50423 7.91374 7.43359 8.1416 7.43359C8.35579 7.43359 8.53125 7.50423 8.66797 7.64551L10.6299 9.62793L12.2295 11.3096L12.0859 9.16309V8.67773C12.0859 8.46354 12.1566 8.28581 12.2979 8.14453C12.4391 8.00326 12.6146 7.93262 12.8242 7.93262C13.0384 7.93262 13.2161 8.00326 13.3574 8.14453C13.5033 8.28581 13.5762 8.46354 13.5762 8.67773V12.417C13.5762 12.8089 13.4668 13.112 13.248 13.3262C13.0339 13.5449 12.7308 13.6543 12.3389 13.6543H8.55176Z"})})},645099:(e,t,o)=>{o.d(t,{Ay:()=>f,LA:()=>g});o(296540);var n=()=>o(56366),i=()=>o(584262),r=()=>o(959013),s=()=>o(124311),a=()=>o(114641),l=()=>o(857783),d=()=>o(778417),c=()=>o(186445),u=()=>o(753199),m=()=>o(704152),p=o(474848);const g=33;const f=function(e){const{style:t,iconStyle:g,store:f,format:S,collectionContextStore:v,groupsPointer:C,incrementLimitsInRelatedGroups:y,isFullScreen:x}=e,b=(0,o(484714).v3)(),M=(0,n().K8)((()=>v.groupsStore.getGroupState(C)),[v,C]),I=(0,n().K8)((()=>(0,o(325383).Kk)({collectionContextStore:v,groupsPointer:C})),[v,C]),w=(0,n().O$)(v.isInHomeWidgetStore),T=(0,o(401497).IS)((e=>({homeContainer:{display:"flex",alignItems:"center",justifyContent:"center"},button:{display:"flex",alignItems:"center",justifyContent:"center",height:30,borderRadius:6,whiteSpace:"break-spaces",fontSize:14,...w?{textAlign:"center",width:"fit-content",marginLeft:12,marginBottom:0,padding:4}:{},...t},loadingContainer:{marginTop:1,marginLeft:8,marginRight:8},icon:{...h(e),...g},text:{color:e.lightTextColor,width:"100%",fontSize:w?14:void 0},hoveredStyle:{...I?{background:e.whiteButtonBackground}:{}}})),[w,t,I,g]),k=(0,n().K8)((()=>f.canEdit()),[f]);return M?w?(0,p.jsx)("div",{style:T.homeContainer,children:(0,p.jsx)(m().A,{onClick:e=>function(e,t,o){const n=e.metaKey||e.ctrlKey?"tab":void 0,r=(0,c().sj)(o.id)?i().y8.PersonalHomeTileTasks:i().y8.PersonalHomeTileCustomDb;l().uK({environment:t,store:o,pageVisitSource:r,openInNew:n})}(e,b,f),onMouseDown:u().tr,style:T.button,children:(0,p.jsx)("div",{style:T.text,children:(0,p.jsx)(r().sA,{id:"database.viewAllButtonTitle",defaultMessage:"View all"})})})}):(0,p.jsxs)(m().A,{onClick:e=>function(e,t,o,n,i,r){const l=o.groupsStore.getGroupState(n);if(!l)return;const c=l.reducerResultStore.state;(0,u().kV)(e),d().IU({environment:t}),c&&(0,a().H)({collectionContextStore:o,environment:t,incrementLimitArgs:{isFullScreen:r,currentResultCount:c.blockIds.length,groupsPointer:l.groupsPointer,incrementLimitsInRelatedGroups:i}});(0,s().K)(t)}(e,b,v,C,y,x),onMouseDown:u().tr,disabled:I,hoveredStyle:T.hoveredStyle,style:T.button,children:[(0,o(158359).P)(T.icon),(0,p.jsx)("div",{style:T.text,children:(0,p.jsx)(r().sA,{id:"database.loadMoreButtonTitle",defaultMessage:"Load more"})}),I?(0,p.jsx)("div",{style:T.loadingContainer,children:(0,p.jsx)(o(331542).A,{size:"sm"})}):k&&(0,p.jsx)(o(316369).w,{collectionContextStore:v,format:S})]}):null};function h(e){return{width:14,height:14,marginLeft:4,marginRight:6,fill:e.lightIconColor}}},681810:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(867772).Ay)},683097:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(296540),i=()=>o(484714);function r(e){const t=(0,i().v3)(),{onLongPress:o,hapticsEnabled:r=!0,timeout:s=300}=e,a=(0,n.useCallback)((()=>{var e,n,i;r&&(null!==(e=t.mobileNative)&&void 0!==e&&e.buzz?t.mobileNative.buzz():null===(n=(i=window.navigator).vibrate)||void 0===n||n.call(i,20));o()}),[t.mobileNative,r,o]),l=(0,n.useRef)(),d=(0,n.useRef)(0),c=(0,n.useRef)(0),u=(0,n.useCallback)((()=>clearTimeout(l.current)),[]);(0,n.useEffect)((()=>u),[u]);return{onTouchStart:(0,n.useCallback)((()=>{clearTimeout(l.current),l.current=setTimeout(a,s)}),[s,a]),onTouchMove:(0,n.useCallback)((e=>{const t=e.touches[0].clientX,o=e.touches[0].clientY;(Math.abs(t-d.current)>50||Math.abs(o-c.current)>50)&&clearTimeout(l.current)}),[]),onTouchEnd:u,onTouchCancel:u}}},683521:(e,t,o)=>{o.d(t,{N:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("addPageCover",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},709274:(e,t,o)=>{o.d(t,{D:()=>n});const n=(0,o(959013).YK)({postsCollectionViewPageTitle:{id:"posts.collectionViewPage.title",defaultMessage:"Posts"},postsCollectionTitle:{id:"posts.collection.title",defaultMessage:"Posts DB"},postHeadingName:{id:"posts.collection.headingName",defaultMessage:"Subject"},deleteDraftTooltip:{id:"posts.deleteDraftTooltip",defaultMessage:"Delete draft"},fullScreenTooltip:{id:"posts.fullScreenTooltip",defaultMessage:"Full screen"}})},709687:(e,t,o)=>{o.d(t,{r:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("bell",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.36914 11.7627C1.36914 12.3369 1.80664 12.7266 2.51074 12.7266H5.32031C5.38184 14.0322 6.44824 15.2285 8 15.2285C9.55176 15.2285 10.6182 14.0391 10.6797 12.7266H13.4893C14.2002 12.7266 14.6309 12.3369 14.6309 11.7627C14.6309 11.0381 13.9678 10.416 13.3457 9.81445C12.8672 9.34277 12.751 8.39941 12.6621 7.46289C12.5732 4.87207 11.8213 3.14258 10.0371 2.49316C9.77734 1.59082 9.01855 0.900391 8 0.900391C6.98145 0.900391 6.22266 1.59082 5.96289 2.49316C4.17871 3.14258 3.42676 4.87207 3.33789 7.46289C3.24902 8.39941 3.13965 9.34277 2.6543 9.81445C2.03906 10.416 1.36914 11.0381 1.36914 11.7627ZM3.00293 11.4756V11.3936C3.18066 11.1953 3.57715 10.833 3.91211 10.4434C4.38379 9.90332 4.60254 8.92578 4.6709 7.62695C4.75293 4.85156 5.60059 3.92871 6.70801 3.62793C6.87207 3.58691 6.96777 3.50488 6.98145 3.32031C7.01562 2.62305 7.39844 2.1582 8 2.1582C8.60156 2.1582 8.99121 2.62305 9.01855 3.32031C9.03223 3.50488 9.12793 3.58691 9.29883 3.62793C10.3994 3.92871 11.2539 4.85156 11.3291 7.62695C11.3975 8.92578 11.623 9.90332 12.0879 10.4434C12.4297 10.833 12.8125 11.1953 12.9834 11.3936V11.4756H3.00293ZM6.6123 12.7266H9.3877C9.33984 13.5811 8.7793 14.1348 8 14.1348C7.22754 14.1348 6.66699 13.5811 6.6123 12.7266Z"})})},727827:(e,t,o)=>{o.r(t),o.d(t,{MobileUnifiedFeed:()=>Et,PostChannelCollectionView:()=>Rt});o(944114),o(898992),o(354520),o(672577),o(908872);var n=o(296540),i=()=>o(17022),r=()=>o(484714),s=()=>o(56366),a=()=>o(401497),l=()=>o(187174),d=()=>o(68263),c=()=>o(854150),u=()=>o(116225),m=()=>o(449506),p=()=>o(722101),g=()=>o(661920),f=()=>o(246826),h=()=>o(317909),S=()=>o(519839),v=()=>o(75544),C=()=>o(645099),y=()=>o(186445),x=()=>o(351360),b=()=>o(630116),M=()=>o(486130),I=()=>o(312316),w=()=>o(952412),T=()=>o(959013),k=()=>o(100622),j=()=>o(284371),A=()=>o(180762),P=()=>o(864943),_=()=>o(623241),R=()=>o(184966),B=()=>o(659915),L=()=>o(118884);var K=()=>o(661945),D=()=>o(732800),E=(o(823215),()=>o(584262)),V=()=>o(919709),F=()=>o(496603),U=()=>o(534177),W=()=>o(435009),H=()=>o(662453),z=()=>o(285790),O=()=>o(545805),N=()=>o(204063),G=()=>o(2143),Y=()=>o(859428),Z=()=>o(299772),J=()=>o(13679),$=()=>o(68465),q=()=>o(756279),X=()=>o(548821),Q=()=>o(285288),ee=()=>o(709274);const te={padding:20,paddingBottom:20},oe=1;function ne(e){let{isPhone:t,theme:o,borderOnly:n}=e;if("dark"===o.mode)return o.homeShadow.card.hovered;o.mode;const i=function(e){let{mode:t,isPhone:o}=e;switch(t){case"dark":return 0;case"light":return oe;default:return(0,U().ub)(t),0}}({mode:o.mode,isPhone:t});return(0,F().oE)([n||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${i}px rgba(0, 0, 0, 0.05)`]).join(", ")}function ie(e){const{isPhone:t,theme:o,borderOnly:n}=e;return{unhoveredBoxShadow:ne({isPhone:t,theme:o,borderOnly:n}),hoveredBoxShadow:"light"===o.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):"rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset"}}var re=()=>o(492414);function se(e){return function(e){const{blockStore:t,pageVisitSource:o}=e;return(0,s().K8)((()=>(0,re().Ay)({store:t,openInCenterPeek:!0,peekViewBlockId:t.id,pageVisitSource:o})),[t,o])}({blockStore:e,pageVisitSource:E().y8.PeekOpen})}var ae=()=>o(747444),le=o(474848);function de(e){const{teamStore:t,postStore:o,isEditing:i,composerStyle:r,onSubmit:s,onFullScreenClick:a,createDraft:l,discardDraft:d,setComposerStyle:c,collectionContextStore:u}=e,[m,p]=(0,n.useState)(o);(0,n.useEffect)((()=>{(null==o?void 0:o.id)!==(null==m?void 0:m.id)&&p(o)}),[o,null==m?void 0:m.id]);const g=ge(m),f=(0,n.useCallback)((e=>{i?ae().A.reset():(null==c||c("preview"),(e.deleteNonEmptyDraft||g)&&(p(void 0),d()))}),[i,c,g,d,p]);switch(r){case"preview":return(0,le.jsx)(ue,{teamStore:t,postStore:m,setComposerStyle:c,createDraft:l});case"inline":return m?(0,le.jsx)(pe,{postStore:m,setComposerStyle:c,onSubmit:s,onDismiss:f,onFullScreenClick:a,collectionContextStore:u}):null;default:(0,U().HB)(r)}}function ce(e){const{teamStore:t,postStore:i,setComposerStyle:l,createDraft:d}=e,c=(0,r().v3)(),u=(0,r().Y0)(),[m,p]=(0,n.useState)(!1),g=(0,s().K8)((()=>x().default.state.currentSpaceStore),[]),f=(0,s().K8)((()=>x().default.state.currentUserStore),[]),h=ge(i),{canJoinTeam:S}=(0,_().i)({teamStore:t}),v=(0,n.useCallback)((()=>p(!0)),[]),C=(0,n.useCallback)((()=>p(!1)),[]),y=(0,n.useCallback)((()=>{if(!S)if(u.isMobile){var e;const t=i??d(),o=null==t||null===(e=t.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:t.getRecordModel,pageVisitSource:E().y8.TeamHomePage});o&&W().oo({environment:c,url:o})}else i||d(),null==l||l("inline")}),[d,u.isMobile,c,i,l,S]),b=(0,n.useCallback)((async()=>{g&&t&&await o(848237).e2({environment:c,teamStore:t,currentSpaceStore:g,from:"team_home",andNavigateToTeamHome:!1})}),[g,c,t]),M=(0,a().IS)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=ie({isPhone:u.isPhone,theme:e}),n="dark"===e.mode;return{container:{cursor:S?"default":"pointer",display:"flex",flexDirection:"row",alignItems:"center",gap:6,paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,borderRadius:12,boxShadow:m?o:t,background:n?e.surface.wash:e.surface.page},previewContent:{display:"flex",flexDirection:"row",alignItems:"center",gap:12},joinIcon:{fill:e.icon.secondary},joinButton:{color:e.text.secondary}}}),[u.isPhone,m,S]);return(0,le.jsxs)("div",{style:M.container,onMouseEnter:v,onMouseLeave:C,onClick:y,children:[(0,le.jsx)(o(453697).A,{userStore:f,size:24,avatarShouldShowShadow:!1}),(0,le.jsx)(fe,{postStore:i,mustJoinTeam:S}),S?(0,le.jsx)(P().A,{iconStyle:M.joinIcon,style:M.joinButton,size:"lg",onClick:b,children:(0,le.jsx)(T().sA,{id:"posts.postComposer.joinTeam",defaultMessage:"Join"})}):(0,le.jsx)(N().A,{size:"lg",children:h?(0,le.jsx)(T().sA,{id:"posts.postButton.label",defaultMessage:"Post"}):(0,le.jsx)(T().sA,{id:"posts.postButton.resume",defaultMessage:"Resume post"})})]})}const ue=n.memo(ce);function me(e){const{postStore:t,onSubmit:i,onDismiss:s,collectionContextStore:l}=e,d=(0,r().Y0)(),[c,u]=(0,n.useState)(!1),m=ge(t),p=(0,n.useCallback)((()=>u(!0)),[]),g=(0,n.useCallback)((()=>u(!1)),[]),f=se(t),h=(0,T().tz)(),S=(0,a().IS)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=ie({isPhone:d.isPhone,theme:e}),n="dark"===e.mode,i=24;return{container:{display:"flex",flexDirection:"column",gap:16,padding:i,borderRadius:12,boxShadow:c?o:t,background:n?e.surface.wash:e.surface.page,zIndex:1,cursor:"text"},scroller:{margin:-24,pointerEvents:"none",...te},fullScreenIconButton:{position:"absolute",right:m?i:54},closeIconButton:{position:"absolute",right:i},title:{marginRight:54,pointerEvents:"auto"},footer:{display:"flex",gap:8,justifyContent:"flex-end",alignItems:"center",zIndex:2},fullScreenIcon:{height:14,width:14}}}),[d.isPhone,c,m]);return t?(0,le.jsxs)("div",{style:S.container,onMouseEnter:p,onMouseLeave:g,children:[(0,le.jsx)(z().A,{style:S.fullScreenIconButton,ariaLabel:h.formatMessage(ee().D.fullScreenTooltip),icon:o(623516).m,iconStyle:S.fullScreenIcon,href:f,onClick:e.onFullScreenClick}),!m&&(0,le.jsx)(Y().A,{renderTooltip:()=>h.formatMessage(ee().D.deleteDraftTooltip),render:e=>(0,le.jsx)(z().A,{style:S.closeIconButton,ariaLabel:h.formatMessage(ee().D.deleteDraftTooltip),icon:o(212050).u,iconStyle:{height:16,width:16},onClick:()=>s({deleteNonEmptyDraft:!0}),...e})}),(0,le.jsx)(he,{postStore:t,pageViewBlockContext:X().Rr.DraftPostInInlineComposer,showSelectableHoverMenuOverlay:!1,scrollerStyle:S.scroller,titleStyle:S.title,children:(0,le.jsxs)("div",{style:S.footer,children:[l&&(0,le.jsx)(o(478146).eO,{postStore:t}),(0,le.jsx)(N().A,{onClick:i,disabled:m,size:"lg",children:(0,le.jsx)(T().sA,{id:"posts.postButton.label",defaultMessage:"Post"})})]})})]}):null}const pe=n.memo(me);function ge(e){return(0,s().K8)((()=>!e||!!e.isEmptyTitle()&&e.getContentStores().every((e=>(0,B().o)(e)))),[e])}function fe(e){const{postStore:t,mustJoinTeam:o}=e,n=(0,r().Y0)(),i=(0,a().IS)((e=>({text:{fontSize:14,color:e.text.quaternary,flexGrow:1,flexShrink:1,...j().RC}})),[]),l=ge(t),d=(0,s().K8)((()=>{if(o)return(0,le.jsx)(T().sA,{id:"posts.postComposer.joinTeamPlaceholder",defaultMessage:"Join to share your own updates"});if(l)return n.isMobile?(0,le.jsx)(T().sA,{id:"posts.createPostButton.placeholder",defaultMessage:"Share an update..."}):(0,le.jsx)(T().sA,{id:"posts.createPostButton.placeholderFull",defaultMessage:"Share an update, @mention your team..."});let e=V().q4_((null==t?void 0:t.getTitleValue())??[]);const i=(null==t?void 0:t.getContentStores())??[];for(const t of i){const o=V().q4_(t.getTitleValue());if(o.length>0&&(e+=` ${o}`),e.length>300)break}return e}),[l,t,n.isMobile,o]);return(0,le.jsx)("div",{style:i.text,children:d})}function he(e){const{postStore:t,pageViewBlockContext:o,showSelectableHoverMenuOverlay:n,children:i,scrollerStyle:r,titleStyle:a}=e,l=(0,T().tz)(),d=(0,s().K8)((()=>(0,$().ZE)(void 0)),[]);return(0,le.jsxs)(O().A,{debugName:"PostContentInput",capture:!0,onCommandEnter:F().D_,children:[(0,le.jsx)(J().A,{store:t,isDefaultContainer:!0,isRootContainer:!0,render:e=>{let{selectableEvents:i,selectableHoverMenuOverlay:s}=e;return(0,le.jsxs)(G().H,{type:q().A.Y,style:r,store:Q().A,...i,children:[n&&s,(0,le.jsx)(Z().Ay,{context:o,store:t,paddingBottom:20,titleStyle:a,disabled:!1,disableTopControls:!0,titlePlaceholder:l.formatMessage(ee().D.postHeadingName)}),d&&(0,le.jsx)(H().H7,{scrollerStore:Q().A})]})}}),i]})}o(581454);var Se=()=>o(403315),ve=()=>o(559653),Ce=()=>o(763824),ye=()=>o(460292),xe=()=>o(161479),be=()=>o(452939),Me=()=>o(466721),Ie=()=>o(851240),we=()=>o(436683),Te=()=>o(499512),ke=()=>o(577814),je=()=>o(406699),Ae=()=>o(187485),Pe=()=>o(614505),_e=()=>o(99945),Re=()=>o(246722),Be=()=>o(27654),Le=()=>o(828634),Ke=()=>o(989423),De=()=>o(792540),Ee=()=>o(108944),Ve=()=>o(683097),Fe=()=>o(575301),Ue=()=>o(257502),We=()=>o(25680),He=()=>o(709687),ze=()=>o(70423),Oe=()=>o(30626),Ne=()=>o(657222),Ge=()=>o(173019),Ye=()=>o(350124),Ze=()=>o(735384),Je=()=>o(741496),$e=()=>o(884107),qe=()=>o(457190),Xe=()=>o(345913),Qe=()=>o(517288),et=()=>o(760217),tt=()=>o(928600),ot=()=>o(939740),nt=()=>o(89924),it=()=>o(125565),rt=()=>o(862292),st=()=>o(722872),at=()=>o(645873),lt=()=>o(518773);const dt=(0,T().YK)({addReaction:{id:"postActions.react.tooltip",defaultMessage:"React"},moreActions:{id:"postActions.more.tooltip",defaultMessage:"More actions"}});function ct(e){const{show:t,blockStore:o,feedType:n}=e,i=(0,r().v3)(),{value:s}=(0,at().fJ)(rt().T.formulas),l=(0,r().Y0)(),d=(0,T().tz)(),c=(0,a().IS)((e=>({container:{position:"absolute",zIndex:1,right:16,opacity:t?1:0,transition:"opacity 100ms ease-out",display:"flex",padding:"2px",boxShadow:"0px 2px 12px 0px rgba(29, 27, 22, 0.06)",borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,borderRadius:6,backgroundColor:e.buttonGroupBackground,gap:1},moreMenuIcon:{height:16,width:16},reactIcon:{width:21,height:21,fill:e.icon.secondary}})),[t]),u=(0,Fe().T4)();return(0,le.jsxs)("div",{style:c.container,children:[(0,le.jsx)(Y().A,{renderTooltip:()=>(0,le.jsx)(T().sA,{...dt.addReaction}),render:e=>(0,le.jsx)(z().A,{ariaLabel:d.formatMessage(dt.addReaction),hasBackground:!1,showShadow:!1,icon:()=>(0,Ye().s)(c.reactIcon),onClick:e=>{(0,Qe().O)({environment:i,blockStore:o,rect:e.currentTarget.getBoundingClientRect(),skipOpeningDiscussionOnSubmit:!0,formulasModule:s})},...e})}),(0,le.jsx)(je().Ay,{style:u.popup,popupType:l.isMobile?je().z7.SlideUp:je().z7.Popup,placementToOrigin:je().sx.Right,stopClickPropagation:!0,renderOrigin:e=>(0,le.jsx)(Y().A,{renderTooltip:()=>(0,le.jsx)(T().sA,{...dt.moreActions}),render:t=>(0,le.jsx)(z().A,{...e,...t,hasBackground:!1,showShadow:!1,icon:Oe()._,ariaLabel:d.formatMessage(dt.moreActions)})}),render:e=>(0,le.jsx)(ut,{blockStore:o,closeMenu:e.close,feedType:n})})]})}function ut(e){const{blockStore:t,closeMenu:o,feedType:n}=e,i=(0,r().v3)(),l=(0,r().Y0)(),{value:d}=(0,at().fJ)(rt().T.formulas),c=se(t),u=function(e){return(0,s().K8)((()=>(0,re().Ay)({store:e,peekViewBlockId:e.id,pageVisitSource:E().y8.CopyLink})),[e])}(t),m=(0,s().K8)((()=>{var e;return"all"===(null===(e=t.getFollowStore())||void 0===e||null===(e=e.getFollowSettings())||void 0===e?void 0:e.comments)}),[t]),p=(0,s().K8)((()=>[...l.isPhone&&t.canComment()?["addReaction"]:[],"copyLink","toggleNotifications",...t.canEdit()?["edit","delete"]:[]]),[t,l.isPhone]),g=(0,a().IS)((()=>({icon:{height:16,width:16}})),[]),f=(0,Fe().T4)(),S=p.map(((e,r)=>{const s=r===p.length-1&&l.isMobile;switch(e){case"addReaction":return{key:e,render:e=>(0,le.jsx)(et().A,{...e,icon:(0,Ye().s)(g.icon),style:{...f.buttonMenuItem,...s&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,le.jsx)(T().sA,{id:"postActions.addReaction.button",defaultMessage:"React"}),onClick:e=>{(0,Qe().O)({environment:i,blockStore:t,rect:e.currentTarget.getBoundingClientRect(),skipOpeningDiscussionOnSubmit:!0,formulasModule:d}),o()}}),action:()=>{}};case"copyLink":return{key:e,render:e=>(0,le.jsx)(et().A,{...e,icon:(0,Ne().w)(g.icon),style:{...f.buttonMenuItem,...s&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,le.jsx)(T().sA,{id:"postActions.copyLink.button",defaultMessage:"Copy link"})}),action:async()=>{const e=await $e().R.clipboardActions.load();u&&e.copyString({environment:i,stringValue:u,copiedMessage:e.clipboardMessages.copiedLinkToClipboard})}};case"toggleNotifications":return{key:e,render:e=>m?(0,le.jsx)(et().A,{...e,icon:(0,ze().L)(g.icon),style:{...f.buttonMenuItem,...s&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,le.jsx)(T().sA,{id:"postActions.disableNotifications.button",defaultMessage:"Turn off reply notifications"})}):(0,le.jsx)(et().A,{...e,icon:(0,He().r)(g.icon),style:{...f.buttonMenuItem,...s&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,le.jsx)(T().sA,{id:"postActions.enableNotifications.button",defaultMessage:"Get notifications for replies"})}),action:()=>{const e=t.getModel(),{currentUserStore:o}=x().default.state;if(!e||!o)return;const{following:n,followSettings:r}=(0,lt().A)(m?"none":"comments");qe().v({environment:i,followSettings:r,following:n,navigableBlockId:t.id,userId:o.id,spaceId:t.getSpaceId(),key:"comments",selectedKey:"comments",from:"more_menu"})}};case"edit":return{key:e,render:e=>(0,le.jsx)(et().A,{...e,icon:(0,Ge().r)(g.icon),style:{...f.buttonMenuItem,...s&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,le.jsx)(T().sA,{id:"postActions.edit.button",defaultMessage:"Edit"})}),action:()=>c&&W().oo({environment:i,url:c})};case"delete":return{key:e,render:e=>(0,le.jsx)(et().A,{...e,icon:(0,Ze().I)(g.icon),isRedOnHover:!0,style:{...f.buttonMenuItem,...s&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,le.jsx)(T().sA,{id:"postActions.delete.button",defaultMessage:"Delete"})}),action:()=>{h().createAndCommit({userAction:"PostActions.delete",environment:i,canUndo:!0,perform:e=>{Xe().oD({environment:i,blocks:[t],transaction:e}),e.postSubmitCallbacks.push((e=>{e||(0,Je().N)(i,{analyticsName:"delete",from:"block_more_menu",block_id:t.id,block_type:t.getType(),collection_id:t.getParentId()})}))}}),(0,Ke().u4)({environment:i,event:{eventName:"post_deleted",eventProperties:{block_id:t.id,from:n}}})}}}})).filter(U().O9);return(0,le.jsx)(tt().A,{menuType:st().gu.Popup,height:l.isMobile?"50vh":void 0,minWidth:250,maxWidth:l.isMobile?"100vw":void 0,scrollerStyle:f.menuScroller,header:l.isMobile&&(0,le.jsx)(it().A,{style:f.header,children:(0,le.jsx)(T().sA,{id:"postActions.moreActions",defaultMessage:"More actions"})}),children:(0,le.jsx)(ot().Ay,{type:ot().Oh.Vertical,initialFocus:void 0,onAccept:o,sections:[{key:0,render:e=>(0,le.jsx)(nt().A,{...e,style:f.sectionMenuItem}),items:S}]})})}const mt=6,pt=500;function gt(e){const{store:t,inUnifiedFeed:o,index:i,disableInteraction:l}=e,d=(0,r().v3)(),c=(0,r().Y0)(),u=c.isPhone,[m,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),[h,S]=(0,n.useState)(!1),v=(0,n.useRef)(null),C=(0,n.useRef)(null),y=(0,Ve().A)({onLongPress:()=>{var e;return null===(e=C.current)||void 0===e?void 0:e.setOpen(!0)}}),M=(0,s().K8)((()=>t.getTitleStore()),[t]),I=(0,s().K8)((()=>t.getIcon()),[t]),w=(0,s().K8)((()=>t.getContentStore()),[t]),T=(0,s().K8)((()=>t.getCreatedByStore()),[t]),k=(0,s().K8)((()=>({lastEditedTime:t.getLastEditedTime(),createdTime:t.getCreatedTime()})),[t]),A=(0,s().K8)((()=>{const e=x().default.state.mainEditorCurrentBlockStore;return o&&e?(0,re().Ay)({store:e,peekViewBlockId:t.id,peekMode:"c",fullyQualified:!1,pageVisitSource:E().y8.UnifiedFeed}):(0,re().Ay)({store:t,fullyQualified:!1,pageVisitSource:E().y8.TeamFeed})}),[t,o]),P=(0,s().K8)((()=>!t.isEmptyTitle()),[t]),_=(0,s().K8)((()=>(0,Ee().Uo)(t)),[t]),{pageVisitStore:R,presenceStore:B}=(0,We().S)({store:t,environment:d,postContext:X().Rr.PostInFeed}),{ready:L}=(0,Ie().A)({pageStore:t,pageVisitStore:R,initialChunkSize:30,incrementChunkSize:30,disableSideEffects:!0}),K=(0,n.useCallback)((async()=>{const e=d.currentUser.id;if(!L||!e)return;const n=(0,ve().$5)({parent_id:t.id,user_id:e}),r=(0,b().Oo)(t,{table:ve().F9,id:n,spaceId:(0,xe().e)(t.pointer.spaceId)});await r.load();r.getKeyStore("visited_at").getValue()||Me().FZ(d,{blockStore:t,fromPageRefresh:!1,pageVisitStore:R,timestamp:Date.now()}),be().yP(d,{query:"",page_id:t.id,is_peek:!1,peek_mode:void 0,page_visit_source_override:o?E().y8.UnifiedFeedScroll:E().y8.TeamFeedScroll,rank:i,type:"page",page_visit_id:n,previous_page_visit_id:void 0})}),[d,R,L,t,o,i]);(0,n.useEffect)((()=>{if(!v.current)return;const e=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&K()}),{threshold:1});return e.observe(v.current),()=>e.disconnect()}),[v,K]);const D=(0,n.useCallback)((()=>S(!0)),[]),V=(0,n.useCallback)((()=>S(!1)),[]),F=(0,n.useCallback)((e=>{const t=(null==e?void 0:e.height)??0;f(t>=pt&&!m)}),[m]),U=(0,n.useCallback)((()=>{p(!0),K(),(0,Ke().u4)({environment:d,event:{eventName:"post_see_more_clicked",eventProperties:{block_id:t.id,rank:i}}})}),[p,K,d,t,i]),W=(0,a().IS)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=ie({isPhone:u,theme:e}),n="dark"===e.mode;return{container:{position:"relative",...te,borderRadius:"12px",boxShadow:h?o:t,background:n?e.surface.wash:e.surface.page},postParentPage:{display:"inline-block",marginLeft:-5,marginRight:-4},titleRow:{display:"flex",alignItems:"baseline"},postIcon:{marginTop:2,marginRight:4},postSubject:{fontSize:26,fontWeight:j().Wy.semibold,...c.isMobile&&{fontSize:24,lineHeight:"130%"}},authorRow:{marginTop:2,marginBottom:2},postContent:{fontSize:c.isMobile?16:14,overflowY:"hidden",maxHeight:m?void 0:pt,position:"relative"},commentContainer:{display:"flex",gap:mt,alignItems:"center",paddingTop:12},commentPlaceholder:{fontSize:14,color:e.text.tertiary},postIsReadCheckpoint:{position:"absolute",bottom:0,right:0,width:"100%"},contentContainer:{paddingLeft:30,paddingRight:30},contentWrapper:{position:"relative"}}}),[m,h,u,c.isMobile]),H=(0,Fe().T4)(),z=(0,s().K8)((()=>(0,ke().A)({environment:d,store:t,pageViewBlockStore:void 0})),[d,t]);return T?(0,le.jsx)(je().Ay,{ref:C,style:H.popup,popupType:c.isMobile?je().z7.SlideUp:je().z7.Popup,stopClickPropagation:!0,render:e=>(0,le.jsx)(ut,{blockStore:t,closeMenu:e.close,feedType:o?"unified_feed":"team_feed"}),renderOrigin:()=>(0,le.jsxs)("div",{style:W.container,onMouseEnter:D,onMouseLeave:V,...y,children:[!c.isPhone&&!l&&(0,le.jsx)(ct,{show:h,blockStore:t,feedType:o?"unified_feed":"team_feed"}),(0,le.jsx)("div",{style:W.authorRow,children:(0,le.jsx)(we().Y,{createdTime:k.createdTime,lastEditedTime:k.lastEditedTime,authorStore:T,teamStore:o?_:void 0})}),(0,le.jsxs)("div",{style:W.contentContainer,children:[(0,le.jsxs)("div",{style:W.titleRow,children:[I&&(0,le.jsx)(Pe().A,{icon:I,isEmptyPage:!1,size:26,largeIcon:!0,disabled:!0,style:W.postIcon}),M&&P&&(0,le.jsx)(Ae().A,{href:A,children:(0,le.jsx)(Re().A,{style:W.postSubject,store:M,disabled:!0,disableEquationInteraction:!0,disableComment:!0,inPageFind:De().Os.none},t.id)})]}),(0,le.jsx)(Le().EE,{onSizeChange:F,children:(0,le.jsxs)("div",{style:W.contentWrapper,children:[(0,le.jsx)("div",{style:W.postContent,children:(0,le.jsx)(Be().c.Provider,{value:!0,children:(0,le.jsx)(_e().A,{store:w,forceIsInsideMarginCollapseContainer:!0,disabled:!0,disableHoverMenu:!0,disableCommentMenu:!0})})}),g&&!m&&(0,le.jsx)(Te().A,{onClick:U}),(0,le.jsx)("div",{ref:v,style:W.postIsReadCheckpoint})]})}),!l&&(0,le.jsx)("div",{style:W.commentContainer,children:(0,le.jsx)(Ue().d,{store:t,pageDiscussionsRenderState:z,wrapper:e=>(0,le.jsx)("div",{style:{width:"100%"},children:e}),collapsed:!0,discussionLocation:"post_top_level_discussion",pageVisitStore:R,presenceStore:B})})]})]})}):null}o(430670),o(803949);var ft=()=>o(798880),ht=()=>o(44729),St=()=>o(246125),vt=()=>o(11978);function Ct(e){return"__SEGMENTED__"===e.messageKey}function yt(e){let{cacheName:t,inUnifiedFeed:o,messages:i,contentLines:s}=e;const a=(0,r().v3)(),l=(0,St().l)(t,{overrideDefaultRecordCache:!1,isTemporaryData:!0});l.addCacheFallback(a.defaultRecordCache.inMemoryRecordCache);const d=(0,T().tz)(),c=(0,vt().O)(),u=(0,n.useMemo)((()=>({table:ft().oo,id:ft().EP.id,spaceId:c})),[c]),m=(0,n.useMemo)((()=>{if(!u||!c)return null;const{performResult:e}=h().createAndCommit({userAction:"BaseWelcomePost.createWelcomePost",environment:a,canUndo:!0,skipUpdatingEditedMetadata:!0,perform:e=>{const t=f().Wv({environment:a,type:"text",properties:{title:[V().Ey_(d.formatMessage(i.welcomeTitle))]},inMemoryRecordCache:l,transaction:e,spaceId:c,createdTime:Date.now()-288e5,createdByTable:u.table,createdById:u.id,lastEditedTime:Date.now()-288e5,lastEditedByTable:u.table,lastEditedById:u.id});return s.forEach((o=>{const n=f().Wv({environment:a,type:"bulleted_list"===o.type?"bulleted_list":"header"===o.type?"header":"sub_header"===o.type?"sub_header":"text",properties:{title:Ct(o)?o.segments.flatMap((e=>function(e,t,o,n){var i;if(e.pageMention)return[V().Ey_(e.pageMention.id,[["p",e.pageMention.id]])];const r=n.formatMessage(t[e.messageKey]),s=[];return null!==(i=e.formatting)&&void 0!==i&&i.bold&&s.push(["b"]),e.link&&s.push(["a",e.link]),[V().Ey_(r,s)]}(e,i,0,d))):[V().Ey_(d.formatMessage(i[o.messageKey]))]},inMemoryRecordCache:l,transaction:e,spaceId:c,createdTime:Date.now()-288e5,createdByTable:u.table,createdById:u.id,lastEditedTime:Date.now()-288e5,lastEditedByTable:u.table,lastEditedById:u.id});ht().NI({parentStore:t.getContentStore(),childStore:b().Bv.createChildStore(t.getContentStore(),n.pointer),transaction:e})})),t}});return new(b().Bv)(a,e.pointer,{inMemoryRecordCache:l})}),[a,i,s,u,l,d,c]);return m?(0,le.jsx)(gt,{store:m,disableInteraction:!0,inUnifiedFeed:o,index:-1}):null}const xt=(0,T().YK)({welcomeTitle:{id:"TeamHomeWelcomePage.welcomeTitle",defaultMessage:"👋 Welcome to your teamspace"},intro:{id:"TeamHomeWelcomePage.intro",defaultMessage:"Your central hub to share announcements, manage members, and find key docs in your team."},aboutSpaceHeader:{id:"TeamHomeWelcomePage.aboutSpaceHeader",defaultMessage:"About the space"},feedItem:{id:"TeamHomeWelcomePage.feedItem",defaultMessage:"Feed — Read and share project updates, team announcements, and more"},aboutItem:{id:"TeamHomeWelcomePage.aboutItem",defaultMessage:"About — Learn what the teamspace is for and how it should be used"},membersItem:{id:"TeamHomeWelcomePage.membersItem",defaultMessage:"Members — See who is a part of this teamspace today"},docsItem:{id:"TeamHomeWelcomePage.docsItem",defaultMessage:"Docs — Access your team’s documents"},moreHeader:{id:"TeamHomeWelcomePage.moreHeader",defaultMessage:"Looking for more?"},moreInfoPrefix:{id:"TeamHomeWelcomePage.moreInfoPrefix",defaultMessage:"Check out this “Intro to Teamspaces” guide "},moreInfoLink:{id:"TeamHomeWelcomePage.moreInfoLink",defaultMessage:"here"},moreInfoSuffix:{id:"TeamHomeWelcomePage.moreInfoSuffix",defaultMessage:"."}}),bt=[{type:"text",messageKey:"intro"},{type:"sub_header",messageKey:"aboutSpaceHeader"},{type:"bulleted_list",messageKey:"feedItem"},{type:"bulleted_list",messageKey:"aboutItem"},{type:"bulleted_list",messageKey:"membersItem"},{type:"bulleted_list",messageKey:"docsItem"},{type:"sub_header",messageKey:"moreHeader"},{type:"text",messageKey:"__SEGMENTED__",segments:[{messageKey:"moreInfoPrefix"},{messageKey:"moreInfoLink",link:"https://www.notion.com/help/intro-to-teamspaces"},{messageKey:"moreInfoSuffix"}]}];function Mt(){return(0,le.jsx)(yt,{cacheName:"TeamHomeWelcomePost.cache",inUnifiedFeed:!1,messages:xt,contentLines:bt})}const It=(0,T().YK)({welcomeTitle:{id:"UnifiedFeedWelcomePage.welcomeTitle",defaultMessage:"👋 Welcome to Notion"},tipsHeader:{id:"UnifiedFeedWelcomePage.tipsHeader",defaultMessage:"Tips for starting"},inviteTeamPrefix:{id:"UnifiedFeedWelcomePage.inviteTeamPrefix",defaultMessage:"Invite teammates by clicking on the "},inviteTeamBold1:{id:"UnifiedFeedWelcomePage.inviteTeamBold1",defaultMessage:"name of your workspace"},inviteTeamMiddle:{id:"UnifiedFeedWelcomePage.inviteTeamMiddle",defaultMessage:" in the upper right, and going to "},inviteTeamBold2:{id:"UnifiedFeedWelcomePage.inviteTeamBold2",defaultMessage:"Members"},importDocsPrefix:{id:"UnifiedFeedWelcomePage.importDocsPrefix",defaultMessage:"Import any existing documents by clicking on the name of your workspace, going to "},importDocsBold1:{id:"UnifiedFeedWelcomePage.importDocsBold1",defaultMessage:"Settings"},importDocsMiddle:{id:"UnifiedFeedWelcomePage.importDocsMiddle",defaultMessage:", then "},importDocsBold2:{id:"UnifiedFeedWelcomePage.importDocsBold2",defaultMessage:"Import"},templatesPrefix:{id:"UnifiedFeedWelcomePage.templatesPrefix",defaultMessage:"Explore our template gallery by clicking "},templatesBold:{id:"UnifiedFeedWelcomePage.templatesBold",defaultMessage:"Templates"},templatesSuffix:{id:"UnifiedFeedWelcomePage.templatesSuffix",defaultMessage:" in the sidebar and start writing whatever you like!"},moreInfoPrefix:{id:"UnifiedFeedWelcomePage.moreInfoPrefix",defaultMessage:"👉 Want more tips or ideas? Check out our guides "},moreInfoLink:{id:"UnifiedFeedWelcomePage.moreInfoLink",defaultMessage:"here"},moreInfoMiddle:{id:"UnifiedFeedWelcomePage.moreInfoMiddle",defaultMessage:" or "},moreInfoBold:{id:"UnifiedFeedWelcomePage.moreInfoBold",defaultMessage:"ask AI"},moreInfoSuffix:{id:"UnifiedFeedWelcomePage.moreInfoSuffix",defaultMessage:" in Search or clicking on the face in the bottom right!"}}),wt=[{type:"sub_header",messageKey:"tipsHeader"},{type:"bulleted_list",messageKey:"__SEGMENTED__",segments:[{messageKey:"inviteTeamPrefix"},{messageKey:"inviteTeamBold1",formatting:{bold:!0}},{messageKey:"inviteTeamMiddle"},{messageKey:"inviteTeamBold2",formatting:{bold:!0}}]},{type:"bulleted_list",messageKey:"__SEGMENTED__",segments:[{messageKey:"importDocsPrefix"},{messageKey:"importDocsBold1",formatting:{bold:!0}},{messageKey:"importDocsMiddle"},{messageKey:"importDocsBold2",formatting:{bold:!0}}]},{type:"bulleted_list",messageKey:"__SEGMENTED__",segments:[{messageKey:"templatesPrefix"},{messageKey:"templatesBold",formatting:{bold:!0}},{messageKey:"templatesSuffix"}]},{type:"text",messageKey:"__SEGMENTED__",segments:[{messageKey:"moreInfoPrefix"},{messageKey:"moreInfoLink",link:"https://www.notion.com/help/guides"},{messageKey:"moreInfoMiddle"},{messageKey:"moreInfoBold",formatting:{bold:!0}},{messageKey:"moreInfoSuffix"}]}];function Tt(){return(0,le.jsx)(yt,{cacheName:"UnifiedFeedWelcomePost.cache",inUnifiedFeed:!0,messages:It,contentLines:wt})}function kt(e){const{posts:t,inUnifiedFeed:o,renderCaughtUpAction:i,currentLimit:s}=e,[a,l]=(0,n.useState)(void 0),d=(0,r().v3)().currentUser.id;(0,n.useEffect)((()=>{if(!d||a)return;(async()=>{const e=await(0,Ce().lX)(t,10,(async e=>{const t=e.getCreatedById()===d,o=e.pointer.spaceId;if(t||!o)return{id:e.id,read:!0};const n=(0,ve().$5)({parent_id:e.id,user_id:d}),i=(0,b().Oo)(e,{table:ve().F9,id:n,spaceId:o});await i.load();const r=i.getKeyStore("visited_at").getValue();return{id:e.id,read:Boolean(r)}})),o=null==e?void 0:e.findIndex((e=>e.read)),n=o>0?e[o]:null;l(null==n?void 0:n.id)})()}),[a,t,d]);const c=(0,n.useMemo)((()=>t.length>=s?null:o?(0,le.jsx)(Tt,{}):(0,le.jsx)(Mt,{})),[o,t.length,s]);return(0,le.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[t.map(((e,t)=>(0,le.jsxs)(n.Fragment,{children:[e.id===a&&(0,le.jsx)(jt,{renderCaughtUpAction:i}),(0,le.jsx)(gt,{store:e,index:t,inUnifiedFeed:o})]},e.id))),c]})}function jt(e){const{renderCaughtUpAction:t}=e,o=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:12,paddingTop:24,paddingBottom:24,alignItems:"center"},textWrapper:{display:"flex",flexDirection:"column",gap:2,alignItems:"center"},primaryText:{fontSize:j().J.UIRegular.desktop,fontWeight:j().Wy.medium,color:k().Ay.mediumTextColor},secondaryText:{fontSize:j().J.UIRegular.desktop,fontWeight:j().Wy.regular,color:k().Ay.mediumTextColor}})),[]);return(0,le.jsxs)("div",{style:o.container,children:[(0,le.jsx)(ye().Q,{iconGroup:Se().a,variantName:"fill",colorName:"tertiary"}),(0,le.jsxs)("div",{style:o.textWrapper,children:[(0,le.jsx)("div",{style:o.primaryText,children:(0,le.jsx)(T().sA,{defaultMessage:"You’re all caught up",id:"posts.discoverCTA.caughtUp"})}),t]})]})}function At(e){const{posts:t,draftPostStore:o,createDraft:i,composerStyle:l,setComposerStyle:d,inUnifiedFeed:c,canWritePosts:m,teamStore:p,collectionContextStore:g,subscribedUserTeamStores:S,currentLimit:v}=e,C=(0,r().v3)(),{canJoinTeam:y}=(0,_().i)({teamStore:p}),x=(0,s().K8)((()=>K().A.state.isOpen),[]),b=function(){const[e,t]=(0,n.useState)(void 0),o=(0,s().K8)((()=>e&&!e.pathIsDead()),[e]),[i,r]=(0,n.useState)(!1),a=(0,n.useCallback)((()=>{r(!0)}),[]),l=(0,n.useCallback)((e=>{t(e),r(!1)}),[]),d=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{d.current=Boolean(o&&!i)}),[o,i]),(0,L().X)((()=>{d.current&&u().u4({name:"abandon_draft_post"})})),{handleCreatedDraft:l,handleComposerFullScreenClick:a,handleComposerDraftDiscarded:(0,n.useCallback)((()=>{u().u4({name:"abandon_draft_post"})}),[])}}(),M=(0,n.useCallback)((()=>{const e=i();return b.handleCreatedDraft(e),e}),[i,b]),I=(0,n.useCallback)((()=>{R().t({environment:C,draftPostStore:o,from:c?"unified_feed":"team_home"}),null==d||d("preview")}),[o,C,d,c]),w=(0,n.useCallback)((()=>{o&&(0,B().s)(o)?K().A.setState({isOpen:!0}):I()}),[o,I]),T=(0,n.useCallback)((()=>{o&&(h().createAndCommit({environment:C,perform:e=>{f().zv({store:o,data:{alive:!1,permissions:[]},transaction:e})},userAction:"PostChannel.discardDraft",canUndo:!1}),b.handleComposerDraftDiscarded())}),[o,C,b]),k=(0,a().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:16,paddingTop:2,paddingLeft:0}})),[]),j=c&&S&&S.length>0||!c&&(m||y);return(0,le.jsxs)("div",{style:k.container,children:[j&&(0,le.jsx)(de,{collectionContextStore:g,teamStore:p,postStore:o,isEditing:!1,onSubmit:w,createDraft:M,onFullScreenClick:b.handleComposerFullScreenClick,discardDraft:T,composerStyle:l,setComposerStyle:d}),(0,le.jsx)(kt,{posts:t,inUnifiedFeed:c,renderCaughtUpAction:(0,le.jsx)(Pt,{collectionContextStore:g}),currentLimit:v}),(0,le.jsx)(D().A,{postStore:o,isOpen:x,onDismiss:()=>K().A.setState({isOpen:!1}),onConfirm:()=>{K().A.setState({isOpen:!1}),I()}})]})}function Pt(e){const t=(0,r().v3)(),{collectionContextStore:o}=e,n=(0,a().IS)((e=>({secondaryText:{fontSize:j().J.UIRegular.desktop,fontWeight:j().Wy.regular,color:k().Ay.mediumTextColor},container:{display:"flex",flexDirection:"column",gap:12,alignItems:"center"}})),[]),i=(0,s().K8)((()=>{var e,n;const i=null==o||null===(e=o.collectionViewStore())||void 0===e?void 0:e.getCollectionSource(),r="typed"===(null==i?void 0:i.type)&&"notion://posts_collection_discover"===(null==i?void 0:i.databaseType);if(!o||r)return;const s=null==o||null===(n=o.collectionViewBlockStore())||void 0===n?void 0:n.getCollectionViewStores().find((e=>{const t=e.getCollectionSource();return"typed"===(null==t?void 0:t.type)&&"notion://posts_collection_discover"===t.databaseType}));return s?()=>{(0,A().t)({environment:t,collectionContextStore:o,collectionViewId:s.id,isFullScreen:o.isFullScreenStore.state,isRootChild:o.isRootChildStore.state,isInPeekRenderer:o.isInPeekRendererStore.state})}:void 0}),[o,t]);return i?(0,le.jsxs)("div",{style:n.container,children:[(0,le.jsx)("div",{style:n.secondaryText,children:(0,le.jsx)(T().sA,{defaultMessage:"Discover posts across the workspace",id:"posts.discoverCTA.discoverText"})}),(0,le.jsx)(P().A,{size:"md",onClick:i,children:(0,le.jsx)(T().sA,{defaultMessage:"Discover More",id:"posts.discoverCTA.discoverMore"})})]}):null}const _t=[];function Rt(e){const{collectionViewStore:t,collectionContextStore:o,paddingLeft:T,paddingRight:k}=e,[j,A]=(0,n.useState)("preview"),P=(0,r().v3)(),_=(0,s().K8)((()=>{var e;return null===(e=(0,y()._m)(P))||void 0===e?void 0:e.id}),[P]),R=(0,s().K8)((()=>t.getCollectionStore()),[t]),B=(0,s().K8)((()=>o.collectionViewBlockStore()),[o]),L=(0,s().K8)((()=>null==B?void 0:B.getParentStore()),[B]),K=(0,s().K8)((()=>o.groupsStore.getGroupState(_t)),[o]),D=(0,s().K8)((()=>{var e;return(null==K||null===(e=K.currentLimit)||void 0===e?void 0:e.state)??10}),[null==K?void 0:K.currentLimit]),E=void 0===R,V={type:"results",filter:{operator:"and",filters:[]},limit:D},F=(0,v().A)({id:"default_posts_collection_key",reducer:V,collectionContextStore:o,groupsPointer:_t}),[U,W]=(0,n.useState)(!1);(0,n.useEffect)((()=>{null==K||K.reducerResultStore.setState(F),F&&W(!0)}),[F,null==K?void 0:K.reducerResultStore]),(0,n.useEffect)((()=>{u().u4({name:"open_feed",args:{feed_type:E?"unified":"team"}})}),[E]);const{draftPosts:H,allPosts:z}=(0,s().K8)((()=>{if(null==K||!K.resultsStore||!U)return{draftPosts:void 0,allPosts:void 0};return((null==K?void 0:K.resultsStore.state)??[]).reduce(((e,t)=>{t.uiLocation.removeParent();const o=t.getModel();return"draft"===(null==o?void 0:o.getDraftStatus())?e.draftPosts.push(t):e.allPosts.push(t),e}),{draftPosts:[],allPosts:[]})}),[null==K?void 0:K.resultsStore,U]),O=(0,s().K8)((()=>S().XQ({collectionContextStore:o,reducerResult:F,isFullScreen:!1})),[o,F]),N=(0,s().K8)((()=>B?(0,le.jsx)(C().Ay,{groupsPointer:_t,store:B,collectionContextStore:o,format:t.getFormat(),isFullScreen:o.isFullScreenStore.state,incrementLimitsInRelatedGroups:!1}):void 0),[B,o,t]),G=(0,s().K8)((()=>{if(!(L instanceof b().ZI))return;const e=L.getTeamId(),t=x().default.state.currentSpaceStore;return t&&e?b().sk.createChildStore(t,{table:"team",id:e,spaceId:t.id}):void 0}),[L]),Y=(0,s().K8)((()=>Boolean(_)&&(d().p2((null==R?void 0:R.getRole())??"none")??!1)),[_,R]),Z=(0,s().O$)(o.isLoadedStore),{currentSpaceViewStore:J,currentSpaceStore:$}=(0,s().K8)((()=>({currentSpaceViewStore:x().default.state.currentSpaceViewStore,currentSpaceStore:x().default.state.currentSpaceStore})),[]),[{value:q}]=(0,l().Yb)((async()=>{if(!$)return{unsubscribedTeamIds:void 0};const e=await m().callApi({eventName:"getSubscribedAndUnsubscribedTeams",environment:P,data:{spaceId:$.id}});if("failed"===e.type)throw e.error;return"success"===e.type?{unsubscribedTeamIds:e.data.unsubscribedTeamIds}:e}),[$,P]),{unsubscribedTeamIds:X}=q??{unsubscribedTeamIds:void 0},Q=(0,n.useMemo)((()=>i().A.withListenerIgnored((()=>null==J?void 0:J.getTeamsStores()))),[J]),ee=(0,s().K8)((()=>{if(Q&&X)return null==Q?void 0:Q.filter((e=>!(null!=X&&X.includes(e.id))&&e.allowsUserToPost()))}),[Q,X]),te=(0,s().K8)((()=>{const e=t.getCollectionSource();if("typed"===(null==e?void 0:e.type))return e.teamId}),[t]),oe=(0,s().K8)((()=>{if(te&&$)return b().h4.createChildStore($,{table:c().yK,id:te,spaceId:$.id})}),[te,$]),ne=(0,s().K8)((()=>{if(!oe||!_)return!1;return oe.isMemberOrGuest(_,M()._.getSpacePermissionGroupIds({userId:_,spaceId:oe.getSpaceId()}))}),[oe,_]),ie=(0,s().K8)((()=>!!oe&&oe.allowsUserToPost()),[oe]);(0,n.useEffect)((()=>{if(ee&&te&&X&&(X.includes(te)||!ne||!ie)){const e=ee[0];e&&(0,I().z)({environment:P,collectionContextStore:o,currentSpaceViewStore:J,selectedStore:e,postStore:void 0}),g().YH(),A("preview")}}),[X,te,P,o,J,ee,ne,ie]);const re=(0,s().K8)((()=>{const e=t.getCollectionSource();if("typed"===(null==e?void 0:e.type)){var o;return(null==e?void 0:e.teamId)??(null==ee||null===(o=ee[0])||void 0===o?void 0:o.id)}}),[t,ee]),se=null==ee?void 0:ee.find((e=>e.id===re));(0,n.useEffect)((()=>{se&&ee&&o&&Z&&w().u.setState({selectedTeamStore:se,subscribedUserTeamStores:ee,collectionContextStore:o,isPostsCollectionLoaded:Z,setComposerStyle:A})}),[se,ee,o,Z]);const ae=(0,s().K8)((()=>null==se?void 0:se.getChannelStore()),[se]),de=(0,s().K8)((()=>{if(H){if(E){return H.find((e=>e.getPostTeamId()===(null==ae?void 0:ae.id)))}return H[0]}}),[H,ae,E]),ce=(0,s().K8)((()=>{if(!$||!ae)return;const e=b().sk.createUniqueRootStore(P,{table:"block",id:ae.id,spaceId:$.id});return e.isCollectionView()?e:void 0}),[P,$,ae]),ue=(0,s().K8)((()=>null==ce?void 0:ce.getCollectionStore()),[ce]),me=(0,n.useCallback)((()=>{const e=null==L?void 0:L.getSpaceId();let t=R;if(E&&(t=ue),!_||!e||!t||!Y&&!E)return;return h().createAndCommit({environment:P,perform:e=>{const o=f().Wv({environment:P,transaction:e,type:"page",inMemoryRecordCache:P.defaultRecordCache.inMemoryRecordCache,permissions:[{role:"editor",type:"user_permission",user_id:_},{type:"restricted_permission"}]});f().zv({store:o,transaction:e,data:{alive:!0,parent_id:t.id,parent_table:t.table}}),f().zv({store:o.getFormatStore(),transaction:e,data:{draft_status:"draft"}});const n=f().Wv({environment:P,transaction:e,type:"text",inMemoryRecordCache:P.defaultRecordCache.inMemoryRecordCache}),i=b().Bv.createChildStore(o,n.pointer);return f().zv({store:i,transaction:e,data:{alive:!0,parent_id:o.id,parent_table:o.table}}),p().BC({parentStore:o.getContentStore(),appendStore:i,transaction:e}),o},userAction:"PostChannel.createEmptyPostStore",canUndo:!1}).performResult}),[L,P,R,Y,_,ue,E]),pe=(0,a().IS)((()=>({padding:{paddingLeft:T,paddingRight:k},loadMore:{paddingTop:24,paddingBottom:24}})),[T,k]);return Z&&void 0!==z&&L?(0,le.jsxs)("div",{style:pe.padding,children:[(0,le.jsx)(At,{collectionContextStore:E?o:void 0,posts:z,draftPostStore:de,composerStyle:j,setComposerStyle:A,createDraft:me,inUnifiedFeed:E,canWritePosts:Y,teamStore:G,subscribedUserTeamStores:ee,currentLimit:D}),O&&(0,le.jsx)("div",{style:pe.loadMore,children:N})]}):null}var Bt=()=>o(938090),Lt=()=>o(817942),Kt=()=>o(696746),Dt=()=>o(143650);function Et(){const e=(0,a().IS)((e=>({pageLayout:{paddingTop:24,order:3,display:"flex",flexDirection:"column",width:"100%",backgroundColor:e.contentBackground},scroller:{height:"100dvh"},layoutContent:{flex:1,height:"100%"},newChatButtonText:{color:e.lightTextColor,fontSize:12,display:"flex",alignItems:"center"}})),[]);(0,Dt().e)();const t=(0,s().K8)((()=>{const e=(0,Kt().XH)("posts");if(null!=e&&e.isCollectionView())return e}),[]);return t?(0,le.jsx)(G().H,{type:q().A.Y,style:e.scroller,className:"home-content",children:(0,le.jsx)(Lt().Mx,{type:"home-phone",style:e.pageLayout,children:(0,le.jsx)(Lt().vV,{style:e.layoutContent,children:(0,le.jsx)(Bt().dN,{store:t,disabled:!1,isFullScreen:!0,overrideViewType:"feed",isFirstItem:!0,isLastItem:!0,hideViewTabBar:!1,headerAllowedActions:["filter","sort","automations","search","noDate"]})})})}):null}},748539:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(645873).O2)("pageCovers",(async()=>o.e(40198).then(o.bind(o,193645))))},777092:(e,t,o)=>{o.d(t,{JQ:()=>c,d5:()=>u,vt:()=>d});var n=()=>o(764880),i=()=>o(310442),r=()=>o(824862),s=()=>o(798880),a=()=>o(534177),l=()=>o(630116);function d(e){const{parentStore:t,pointer:o}=e,i=(0,l().Oo)(t,o).getValue();if(i)return(0,n().D3)({table:o.table,value:i})}function c(e){const{parentStore:t,pointer:o}=e;return o.table===r().GP?l().vK.createChildStore(t,o):o.table===s().oo?l().LU.createChildStore(t,o):o.table===i().yj?l().pH.createChildStore(t,o):void(0,a().HB)(o)}function u(e){return e.table===r().GP?(0,n().oC)(e.getValue()):e.table===s().oo?(0,n().MR)(e.getValue()):e.table===i().yj?(0,n().w2)(e.getValue()):void(0,a().HB)(e)}},811879:(e,t,o)=>{o.d(t,{E:()=>p});o(296540);var n=()=>o(56366),i=()=>o(401497),r=()=>o(310442),s=()=>o(824862),a=()=>o(798880),l=()=>o(534177),d=()=>o(256863),c=()=>o(453697),u=()=>o(777092),m=o(474848);function p(e){let{authorStore:t,avatarSize:o,avatarStyle:p,hasTooltip:g=!0}=e;const f=(0,n().K8)((()=>(0,u().d5)(t)),[t]),h=(0,i().IS)((e=>({placeholder:{width:o,height:o,background:e.lightDividerColor,borderRadius:o/2,flexShrink:0,...p}})),[o,p]);return f.asActor?f.table===a().oo?(0,m.jsx)(c().A,{hasTooltip:g,userValue:f.asActor,style:p,size:o,avatarShouldShowShadow:!1}):f.table===s().GP?(0,m.jsx)(d().A,{botValue:f,size:o,style:p}):f.table===r().yj?(0,m.jsx)("div",{style:h.placeholder}):void(0,l().HB)(f):(0,m.jsx)("div",{style:h.placeholder})}},835755:(e,t,o)=>{o.d(t,{p:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},867772:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>n,pF:()=>s,vS:()=>i});const n="loadingLocalImage",i="uploading",r="downloading",s="loaded";class a extends(()=>o(757695))().default{getInitialState(){return{loadingMode:s}}}const l=a},877051:(e,t,o)=>{o.d(t,{V:()=>s});var n=()=>o(56366),i=()=>o(351360),r=()=>o(963589);function s(){const e=(0,r().X)("lazier_dependencies"),t=(0,n().K8)((()=>i().default.state.renderPhase),[]);return e&&"rendered"!==t}}}]);