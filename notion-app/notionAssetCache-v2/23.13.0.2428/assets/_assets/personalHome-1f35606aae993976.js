"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44802,79883],{22394:(e,t,n)=>{n.d(t,{o:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("circleCheck",{viewBox:"0 0 12 12",svg:(0,o.jsx)("path",{d:"M6.09277 11.1855C8.88574 11.1855 11.1855 8.88574 11.1855 6.09277C11.1855 3.30469 8.88086 1 6.08789 1C3.2998 1 1 3.30469 1 6.09277C1 8.88574 3.2998 11.1855 6.09277 11.1855ZM6.09277 10.0674C3.89062 10.0674 2.12305 8.29492 2.12305 6.09277C2.12305 3.89062 3.88574 2.11816 6.08789 2.11816C8.29492 2.11816 10.0625 3.89062 10.0674 6.09277C10.0723 8.29492 8.29492 10.0674 6.09277 10.0674ZM5.57031 8.41699C5.75586 8.41699 5.92188 8.31934 6.0293 8.15332L8.17773 4.81836C8.24609 4.71094 8.2998 4.58887 8.2998 4.47656C8.2998 4.21289 8.07031 4.03711 7.82129 4.03711C7.66016 4.03711 7.51855 4.125 7.41113 4.30078L5.55566 7.2793L4.68652 6.19043C4.56934 6.03906 4.44727 5.98047 4.2959 5.98047C4.03711 5.98047 3.82715 6.18555 3.82715 6.44922C3.82715 6.57129 3.87598 6.68359 3.96387 6.7959L5.0918 8.1582C5.22852 8.3291 5.37988 8.41699 5.57031 8.41699Z"})})},124085:(e,t,n)=>{n.d(t,{P:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("thinPlus",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M 7.75 0L 6.25 0L 6.25 6.25L 0 6.25L 0 7.75L 6.25 7.75L 6.25 14L 7.75 14L 7.75 7.75L 14 7.75L 14 6.25L 7.75 6.25L 7.75 0Z"})})},143650:(e,t,n)=>{n.d(t,{e:()=>s});var o=n(296540),i=()=>n(484714),r=()=>n(317909),a=()=>n(351360);function s(){const[e,t]=(0,o.useState)(!0),n=(0,i().v3)();(0,o.useEffect)((()=>{if(e){const{currentSpaceViewStore:e}=a().default.state;if(!e)return;r().createAndCommit({userAction:"PostsHomePanel.updateLastOpened",environment:n,canUndo:!0,perform:t=>{r().applyOperation({store:e,operation:{pointer:e.pointer,path:["settings","last_opened_aggregated_feed"],command:"set",args:Date.now()},transaction:t})}})}}),[e,n])}},165987:(e,t,n)=>{n.d(t,{J:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("openBook",{viewBox:"0 0 22 19",svg:(0,o.jsx)("path",{d:"M0.150391 16.8906C0.150391 17.2943 0.261068 17.5807 0.482422 17.75C0.703776 17.9193 0.960938 18.0039 1.25391 18.0039C1.41667 18.0039 1.57617 17.9616 1.73242 17.877C1.88867 17.7988 2.05794 17.7012 2.24023 17.584C2.7806 17.2194 3.36979 16.9297 4.00781 16.7148C4.65234 16.5065 5.31641 16.4056 6 16.4121C6.70312 16.4186 7.38997 16.5521 8.06055 16.8125C8.73763 17.0729 9.34961 17.4668 9.89648 17.9941C10.1113 18.1895 10.3034 18.3229 10.4727 18.3945C10.6419 18.4727 10.8177 18.5117 11 18.5117C11.1758 18.5117 11.3483 18.4727 11.5176 18.3945C11.6934 18.3229 11.8854 18.1895 12.0938 17.9941C12.6406 17.4668 13.2493 17.0729 13.9199 16.8125C14.597 16.5521 15.2904 16.4186 16 16.4121C16.6771 16.4056 17.3346 16.5065 17.9727 16.7148C18.6172 16.9297 19.2096 17.2194 19.75 17.584C19.9323 17.7012 20.1016 17.7988 20.2578 17.877C20.4141 17.9616 20.5768 18.0039 20.7461 18.0039C21.0326 18.0039 21.2865 17.9193 21.5078 17.75C21.7292 17.5807 21.8398 17.2943 21.8398 16.8906V3.63867C21.8398 3.55404 21.8333 3.47591 21.8203 3.4043C21.8073 3.33268 21.7747 3.25456 21.7227 3.16992C21.4362 2.66862 21.0098 2.20638 20.4434 1.7832C19.877 1.36003 19.2096 1.02148 18.4414 0.767578C17.6797 0.507161 16.8529 0.376953 15.9609 0.376953C14.8932 0.376953 13.9199 0.56901 13.041 0.953125C12.1686 1.33073 11.4883 1.82227 11 2.42773C10.5052 1.82227 9.81836 1.33073 8.93945 0.953125C8.06706 0.56901 7.10026 0.376953 6.03906 0.376953C5.14062 0.376953 4.30729 0.507161 3.53906 0.767578C2.77734 1.02148 2.11328 1.36003 1.54688 1.7832C0.986979 2.20638 0.560547 2.66862 0.267578 3.16992C0.215495 3.25456 0.182943 3.33268 0.169922 3.4043C0.156901 3.47591 0.150391 3.55404 0.150391 3.63867V16.8906ZM1.72266 16.0605V3.86328C1.98307 3.47917 2.33789 3.14388 2.78711 2.85742C3.23633 2.57096 3.73763 2.34961 4.29102 2.19336C4.85091 2.0306 5.43359 1.94922 6.03906 1.94922C6.96354 1.94922 7.80339 2.12826 8.55859 2.48633C9.3138 2.8444 9.86393 3.32292 10.209 3.92188V16.2266C9.87695 15.9596 9.48958 15.722 9.04688 15.5137C8.61068 15.3053 8.13542 15.1426 7.62109 15.0254C7.10677 14.9017 6.57943 14.8398 6.03906 14.8398C5.1862 14.8398 4.38216 14.9505 3.62695 15.1719C2.87174 15.3932 2.23698 15.6895 1.72266 16.0605ZM11.7812 16.2266V3.92188C12.1263 3.32292 12.6764 2.8444 13.4316 2.48633C14.1868 2.12826 15.0299 1.94922 15.9609 1.94922C16.5599 1.94922 17.1361 2.0306 17.6895 2.19336C18.2493 2.34961 18.7539 2.57096 19.2031 2.85742C19.6523 3.14388 20.0072 3.47917 20.2676 3.86328V16.0605C19.7533 15.6895 19.1185 15.3932 18.3633 15.1719C17.6081 14.9505 16.8073 14.8398 15.9609 14.8398C15.4141 14.8398 14.8835 14.9017 14.3691 15.0254C13.8613 15.1426 13.3861 15.3053 12.9434 15.5137C12.5007 15.722 12.1133 15.9596 11.7812 16.2266Z"})})},167068:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(296540),i=n(474848);function r(e){let{...t}=e;const o=(0,n(959013).tz)(),r=(0,n(401497).IS)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:24,width:24},threeDotIcon:{width:12,height:12,fill:e.mediumIconColor}})),[]),a=o.formatMessage({defaultMessage:"View options",id:"PersonalHomePanel.moreDropdownButton.tooltip"});return(0,i.jsx)(n(704152).A,{ariaLabel:a,style:r.buttonStyle,mobileFeedback:!1,...t,children:(0,n(30626)._)(r.threeDotIcon)})}const a=o.memo(r)},235022:(e,t,n)=>{n.d(t,{RK:()=>d,x:()=>l,zf:()=>a});n(898992),n(354520),n(581454);var o=()=>n(179034),i=()=>n(351360),r=()=>n(630116);const a=10;const s=new class{constructor(){this.localStorageStore=new(n(419494).Ay)({namespace:"recentsCache",important:!1,trackingType:"preference"})}get(e){return this.localStorageStore.get(e)}set(e,t){this.localStorageStore.set(e,t)}remove(e){this.localStorageStore.remove(e)}};function l(e){var t;const n=null===(t=i().default.state.currentSpaceViewStore)||void 0===t?void 0:t.id;if(!n)return!1;const o=e.filter((e=>e.canRead())).slice(0,a);return s.set(n,o.map((e=>e.id))),!0}function d(){const{currentSpaceViewStore:e}=i().default.state;if(!e)return;const t=s.get(e.id);return t?t.map((t=>r().Bv.createChildStore(e,{id:t,table:o().ev,spaceId:e.id}))):void 0}},266945:(e,t,n)=>{n.d(t,{x:()=>d});n(296540);var o=()=>n(56366),i=()=>n(959013),r=()=>n(534177),a=()=>n(502176),s=()=>n(212326),l=n(474848);function d(){const e=(0,o().K8)((()=>(0,s().dl)()),[]);switch(e){case"unread_and_read":case"unread_only":return(0,l.jsx)(a().A,{message:(0,l.jsx)(i().sA,{defaultMessage:"You'll be notified here for @mentions, page activity, and page invites",id:"inbox.filterEmptyState.nonArchivedMessage"}),title:(0,l.jsx)(i().sA,{defaultMessage:"You're all caught up",id:"inbox.filterEmptyState.nonArchivedTitle"})});case"archived_only":return(0,l.jsx)(a().A,{message:(0,l.jsx)(i().sA,{defaultMessage:"Any Inbox updates you archived will show up here.",id:"inbox.filterEmptyState.archivedMessage"}),title:(0,l.jsx)(i().sA,{defaultMessage:"No archived updates",id:"inbox.filterEmptyState.archivedTitle"})});case"all_updates":return(0,l.jsx)(a().A,{message:(0,l.jsx)(i().sA,{defaultMessage:"Any activity in the workspace will show up here.",id:"inbox.filterEmptyState.allPagesMessage"}),title:(0,l.jsx)(i().sA,{defaultMessage:"No activity in the workspace",id:"inbox.filterEmptyState.allPagesTitle"})});default:(0,r().HB)(e)}}},286993:(e,t,n)=>{n.d(t,{c:()=>d});n(581454),n(296540);var o=()=>n(56366),i=()=>n(496603),r=()=>n(812119),a=()=>n(175116),s=()=>n(62856),l=n(474848);function d(e){const{isFullScreen:t,hasGroups:n,hasPartialResults:d,hasSearchQuery:c,overrideNumShimmerRows:u}=e,m=(0,a().Ks)(),p=(0,o().K8)((()=>null==m?void 0:m.isInHomeWidgetStore.state),[m]);if(!(0,s().A)(!0,0,100))return null;let h=1;void 0!==u?h=u:n||d||c||(h=t?10:3);const g=h>1?["50%","30%","40%","40%","30%","30%","40%","40%","30%","30%"]:["35%"],f=i().Hn(h).map((e=>(0,l.jsx)(r().J,{isInHomeWidget:p,widthPercentage:e<g.length?g[e]:void 0},e)));return(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",alignSelf:"stretch",marginLeft:p?8:3},children:f})}},320260:(e,t,n)=>{n.d(t,{y:()=>m});var o=n(296540),i=()=>n(401497),r=()=>n(381828),a=()=>n(644187),s=()=>n(720665),l=()=>n(645873);const d=new(l().O2)("notionCalendarIcons",(async()=>n.e(23537).then(n.bind(n,531783)))),c=new(l().O2)("notionCalendarIconsRefresh",(async()=>n.e(39850).then(n.bind(n,91160))));var u=()=>n(963589);function m(e){const t=(0,u().X)("app_switcher_icon_refresh"),n=(0,l().fJ)(d),m=(0,l().fJ)(c),p=function(){const[e,t]=(0,o.useState)(new Date),n=(0,o.useRef)();return(0,o.useEffect)((()=>{const o=()=>{const n=new Date;n.getDate()!==e.getDate()&&t(n)},i=new Date,r=new Date(i);r.setHours(i.getHours()+1),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);const a=r.getTime()-i.getTime(),l=setTimeout((()=>{o(),n.current=window.setInterval(o,s().pT)}),a);return()=>{clearTimeout(l),clearInterval(n.current)}}),[e]),e}(),h=e.dateNumber??p.getDate(),g=(0,i().IS)((t=>({icon:{width:16,height:16,color:t.mediumIconColor,...e.style}})),[e.style]),f=(0,o.useCallback)((e=>{const o=t?a().K:r().K;if(e<1||e>31)return o(g.icon);const i=`calendarDate${e<10?`0${e}`:`${e}`}Icon`;if(t){if("resolved"!==m.status)return o(g.icon);return(0,m.value[i])(g.icon)}if("resolved"!==n.status)return o(g.icon);return(0,n.value[i])(g.icon)}),[g,n,m,t]);return f(h)}},370873:(e,t,n)=>{n.d(t,{p:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("myTasksLarge",{viewBox:"0 0 48 48",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M21.693 39.17a9.05 9.05 0 0 1-.73 1.238H39.52c1.65 0 2.892-.413 3.727-1.238.835-.824 1.253-2.05 1.253-3.68V19.203c0-1.628-.418-2.855-1.253-3.68-.835-.824-2.078-1.236-3.727-1.236H16.253c-1.66 0-2.908.412-3.744 1.237-.824.814-1.237 2.04-1.237 3.68v5.28c.212-.02.423-.036.635-.047a6.387 6.387 0 0 1 1.269 0c.222.01.438.027.65.048v-5.14c0-.824.211-1.448.634-1.87.423-.424 1.031-.635 1.824-.635h23.188c.783 0 1.39.212 1.824.634.434.423.65 1.047.65 1.872v16.003c0 .825-.216 1.449-.65 1.872-.433.423-1.041.634-1.824.634H22.248a8.47 8.47 0 0 1-.555 1.316ZM15.364 10.082c-.38.381-.629.93-.745 1.65h26.55c-.127-.72-.38-1.269-.761-1.65-.37-.39-.952-.586-1.745-.586H17.125c-.793 0-1.38.195-1.76.586ZM18.52 5.816c-.38.338-.591.846-.634 1.523h20.016c-.053-.677-.275-1.185-.666-1.523-.38-.349-.936-.523-1.665-.523H20.2c-.729 0-1.29.174-1.68.523Z"}),(0,o.jsx)("path",{d:"M9.448 42.073a7.71 7.71 0 0 0 3.11.634c1.088 0 2.12-.211 3.092-.634a8.253 8.253 0 0 0 2.57-1.745 8.123 8.123 0 0 0 1.76-2.57 7.712 7.712 0 0 0 .634-3.108 7.75 7.75 0 0 0-.634-3.124 8.032 8.032 0 0 0-1.729-2.57 8.03 8.03 0 0 0-2.57-1.728 7.75 7.75 0 0 0-3.124-.635 7.71 7.71 0 0 0-3.109.635 7.907 7.907 0 0 0-2.569 1.744 8.253 8.253 0 0 0-1.745 2.57A7.639 7.639 0 0 0 4.5 34.65c0 1.11.211 2.152.634 3.125a8.254 8.254 0 0 0 1.745 2.57 8.03 8.03 0 0 0 2.57 1.728Zm3.807-2.649c-.17.18-.402.27-.698.27-.296 0-.534-.09-.714-.27-.169-.18-.253-.412-.253-.698v-3.108H8.48c-.286 0-.518-.09-.698-.27-.18-.17-.27-.402-.27-.698 0-.296.09-.528.27-.698.18-.18.412-.27.698-.27h3.109v-3.108c0-.285.084-.518.253-.698.18-.18.418-.27.714-.27s.529.09.698.27c.18.18.27.413.27.698v3.109h3.108c.286 0 .518.09.698.27.18.169.27.401.27.697 0 .296-.09.529-.27.698-.18.18-.412.27-.698.27h-3.108v3.108c0 .286-.09.519-.27.698ZM27.229 32.326c.292.341.664.512 1.116.512.514 0 .903-.198 1.166-.592l5.693-8.58c.095-.14.164-.277.21-.413a1.3 1.3 0 0 0 .068-.401c0-.354-.124-.646-.37-.876a1.246 1.246 0 0 0-.901-.352c-.247 0-.456.05-.63.149-.168.094-.328.259-.48.493l-4.78 7.506-2.394-2.868c-.259-.3-.584-.45-.974-.45-.366 0-.668.117-.907.351a1.186 1.186 0 0 0-.357.883c0 .16.024.312.073.456.054.14.15.286.29.438l3.177 3.744Z"})]})})},381828:(e,t,n)=>{n.d(t,{K:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("calendarDate31",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M7.565 10.164c0-.753-.429-1.246-1.104-1.246-.649 0-.87.467-.87 1.207v.13c-.077.013-.142.026-.22.026-.468 0-.805-.39-.805-1.052 0-1.012.935-1.908 2.713-1.908 1.584 0 2.596.805 2.596 2.116 0 .987-.843 1.636-1.674 1.804 1.558.17 2.207 1.052 2.207 2.13 0 1.843-1.39 2.803-3.531 2.803h-.052c-1.61 0-2.74-.662-2.74-1.687 0-.584.442-1.052 1.104-1.052.052 0 .104.013.156.013.13 1.052.857 1.48 1.584 1.48.7 0 1.194-.428 1.194-1.077v-.026c0-1.013-.87-1.117-2.181-1.246l-.208-1.22c1.22-.144 1.83-.494 1.83-1.195zm4.95 4.66v-6.05c-1.298.286-1.583-.285-1.44-.856.779-.13 2.804-.597 3.57-.818v7.776l1.415.286c0 .506-.299.805-.831.805-.442 0-1.467-.026-1.96-.026-.766 0-2.168.026-2.168.026a.851.851 0 01-.052-.299c0-.246.104-.493.441-.584l1.026-.26z"}),(0,o.jsx)("path",{d:"M16.664 0H3.334A3.333 3.333 0 000 3.334v13.332A3.333 3.333 0 003.334 20h13.332A3.333 3.333 0 0020 16.666V3.334A3.333 3.333 0 0016.666 0h-.002zm-.525 17.932H3.861a1.797 1.797 0 01-1.797-1.797V5.485h15.872v10.652c0 .993-.804 1.797-1.797 1.797v-.002z"})]})})},410430:(e,t,n)=>{n.d(t,{k:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("homeDatabaseViews",{viewBox:"0 0 48 48",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7646 26.1309H32.2473L36.0334 22.8856C36.2419 22.7069 36.4666 22.5572 36.7021 22.4365V11.7607C36.7021 10.1982 36.2969 9.0166 35.4863 8.21582C34.6758 7.40527 33.4746 7 31.8828 7H6.80469C5.22266 7 4.02637 7.40527 3.21582 8.21582C2.40527 9.0166 2 10.1982 2 11.7607V29.6025C2 31.165 2.40527 32.3467 3.21582 33.1475C4.02637 33.9482 5.22266 34.3486 6.80469 34.3486H28.2646V31.7785C28.2646 31.6778 28.2678 31.5774 28.274 31.4775H20.7646V26.1309ZM4.88574 23.377V17.9863H17.9521V23.377H4.88574ZM20.7646 23.377V17.9863H33.8164V23.377H20.7646ZM20.7646 15.2324H33.8164V12.0098C33.8164 11.3066 33.6357 10.7793 33.2744 10.4277C32.9131 10.0664 32.3955 9.88574 31.7217 9.88574H20.7646V15.2324ZM17.9521 15.2324V9.88574H6.98047C6.29688 9.88574 5.77441 10.0664 5.41309 10.4277C5.06152 10.7793 4.88574 11.3066 4.88574 12.0098V15.2324H17.9521ZM17.9521 26.1309V31.4775H6.98047C6.29688 31.4775 5.77441 31.3018 5.41309 30.9502C5.06152 30.5889 4.88574 30.0566 4.88574 29.3535V26.1309H17.9521Z"}),(0,o.jsx)("path",{d:"M31.2624 29.6092C30.6291 30.152 30.2646 30.9444 30.2646 31.7785V39.3216C30.2646 40.1106 30.9042 40.7501 31.6932 40.7501H35.0504C35.4448 40.7501 35.7646 40.4303 35.7646 40.0358V34.893C35.7646 34.4985 36.0844 34.1787 36.4789 34.1787H40.0504C40.4449 34.1787 40.7646 34.4985 40.7646 34.893V40.0358C40.7646 40.4303 41.0844 40.7501 41.4789 40.7501H44.8361C45.6251 40.7501 46.2646 40.1106 46.2646 39.3216V31.7785C46.2646 30.9444 45.9002 30.152 45.2669 29.6092L39.1943 24.4042C38.6594 23.9456 37.8699 23.9456 37.3349 24.4042L31.2624 29.6092Z"})]})})},486521:(e,t,n)=>{n.d(t,{v:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("checkboxSquareChecked",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M2.85742 13.4561H11.1357C12.6123 13.4561 13.3779 12.6904 13.3779 11.2344V2.91504C13.3779 1.45215 12.6123 0.693359 11.1357 0.693359H2.85742C1.38086 0.693359 0.615234 1.45215 0.615234 2.91504V11.2344C0.615234 12.6973 1.38086 13.4561 2.85742 13.4561ZM2.93945 12.1162C2.30371 12.1162 1.95508 11.7812 1.95508 11.1182V3.02441C1.95508 2.36133 2.30371 2.0332 2.93945 2.0332H11.0537C11.6826 2.0332 12.0381 2.36133 12.0381 3.02441V11.1182C12.0381 11.7812 11.6826 12.1162 11.0537 12.1162H2.93945ZM6.26855 10.3115C6.51465 10.3115 6.72656 10.1885 6.87012 9.96973L9.92578 5.19141C10.0146 5.04785 10.0967 4.88379 10.0967 4.72656C10.0967 4.3916 9.7959 4.16602 9.47461 4.16602C9.26953 4.16602 9.08496 4.27539 8.94141 4.50781L6.24121 8.8418L4.96973 7.22168C4.80566 7.00977 4.6416 6.93457 4.43652 6.93457C4.10156 6.93457 3.8418 7.20117 3.8418 7.54297C3.8418 7.70703 3.90332 7.85742 4.01953 8.00098L5.63281 9.96973C5.81738 10.209 6.01562 10.3115 6.26855 10.3115Z"})})},513439:(e,t,n)=>{n.d(t,{CollectionItemCover:()=>I,t:()=>E});n(944114),n(898992),n(354520),n(672577),n(581454);var o=n(296540),i=()=>n(807005),r=()=>n(484714),a=()=>n(56366),s=()=>n(401497),l=()=>n(496506),d=()=>n(700500),c=()=>n(713998),u=()=>n(304740),m=()=>n(591779),p=()=>n(179034),h=()=>n(534177),g=()=>n(519839),f=()=>n(963575),v=()=>n(494043),C=()=>n(62856),y=()=>n(630116),x=()=>n(344051),S=()=>n(816559),j=()=>n(298697),w=()=>n(360083),b=()=>n(794959),k=n(474848);function A(e){return"number"==typeof e}function I(e){const{store:t,coverFormat:n,coverContentFadedOverlay:i,coverContentFadedOverlayStyle:s,coverHeight:c,coverWidth:u,coverAspectFormat:h,coverSizeFormat:f,coverPosition:v,imageCoverWrapStyle:C,onLoadProxiedImage:x,showEmptyGalleryCover:S,showLoadingShimmer:j,loadingShimmerStyle:w,emptyGalleryCoverStyle:b,style:A,rendererBlockStyle:I,contentWrapStyle:M,renderAdditionalBlocks:_=!1,isInHomeWidget:H,variant:L,startBlockId:P}=e,{ThemeStore:R}=(0,r().v3)();(0,m().$x)(null==n?void 0:n.type,((e,t)=>e!==t&&(x(),!0)));const B=(0,o.useCallback)((()=>_&&P?"table":"image"),[_,P]),V=(0,a().K8)((()=>{const e=P?(0,g().Oq)({rootStore:t,renderAdditionalBlocks:_,startBlockId:P,tableRenderMode:B()}):(0,g().aK)({rootStore:t,renderAdditionalBlocks:_,theme:R.state.mode});return e.image?e.image:!(j&&0===e.blockIds.length&&!e.isDefined)&&e.blockIds}),[R,t,_,P,j,B]),E=new(l().default)((()=>{const e=(0,g().Oq)({rootStore:t,renderAdditionalBlocks:_,startBlockId:P,tableRenderMode:B()});return e.image?void 0:e.blockIds}),{debugName:"restrictedContentStore"}),D=new(l().default)((()=>{const e=[];if(Array.isArray(V)){let n=0;for(;n<V.length;){let o=V[n],i=y().Bv.createChildStore(t,{table:p().ev,id:o});if(i.getType()===d().xd.numberedList){const r=[{blockId:o,idx:1}],a=[{id:o,format:void 0,depth:r.length-1,index:r[0].idx}];for(n+=1;n<V.length&&(o=V[n],i=y().Bv.createChildStore(t,{table:p().ev,id:o}),i.getType()===d().xd.numberedList);){{const e=i.getParentId();if(i.getParentId()===r[r.length-1].blockId)r.push({blockId:o,idx:1});else{let t=r[r.length-1].idx;for(;r.length>0&&r[r.length-1].blockId!==e;)t=r[r.length-1].idx,r.pop();r.push({blockId:o,idx:t+1})}a.push({id:o,format:void 0,depth:r.length-1,index:r[r.length-1].idx})}n+=1}e.push(a)}else n+=1}}return e}),{debugName:"numberedListsStore"});return"page_cover"===n.type?(0,k.jsx)(z,{store:t,coverHeight:c,coverSizeFormat:f,imageCoverWrapStyle:C,coverWidth:u,onLoadProxiedImage:x,style:A,variant:L,coverAspectFormat:h,coverPosition:v,showEmptyGalleryCover:S,emptyGalleryCoverStyle:b}):"page_content"===n.type?(0,k.jsx)(T,{coverData:V,restrictedContentStore:E,renderAdditionalBlocks:_,numberedListsStore:D,store:t,coverHeight:c,coverSizeFormat:f,coverContentFadedOverlay:i,coverContentFadedOverlayStyle:s,contentWrapStyle:M,coverPosition:v,coverWidth:u,coverAspectFormat:h,isInHomeWidget:H,loadingShimmerStyle:w,showEmptyGalleryCover:S,emptyGalleryCoverStyle:b,variant:L,onLoadProxiedImage:x,imageCoverWrapStyle:C,style:A,rendererBlockStyle:I}):"property"===n.type?(0,k.jsx)(G,{store:t,coverHeight:c,coverSizeFormat:f,imageCoverWrapStyle:C,onLoadProxiedImage:x,coverWidth:u,style:A,variant:L,coverAspectFormat:h,coverPosition:v,showEmptyGalleryCover:S,emptyGalleryCoverStyle:b,property:n.property},n.property):null}function T(e){const{coverData:t,restrictedContentStore:n,numberedListsStore:o,renderAdditionalBlocks:i,store:r,coverHeight:a,coverSizeFormat:s,coverContentFadedOverlay:l,coverContentFadedOverlayStyle:d,contentWrapStyle:c,coverPosition:u,coverWidth:m,coverAspectFormat:p,isInHomeWidget:h,loadingShimmerStyle:g,showEmptyGalleryCover:f,emptyGalleryCoverStyle:v,variant:C,onLoadProxiedImage:y,imageCoverWrapStyle:x,style:S,rendererBlockStyle:j}=e;return!1===t?(0,k.jsx)(D,{coverHeight:a,coverSizeFormat:s,loadingShimmerStyle:g}):t?(0,k.jsx)(_,{coverData:t,restrictedContentStore:n,renderAdditionalBlocks:i,store:r,coverHeight:a,coverSizeFormat:s,coverContentFadedOverlay:l,coverContentFadedOverlayStyle:d,contentWrapStyle:c,coverPosition:u,coverWidth:m,coverAspectFormat:p,isInHomeWidget:h,showEmptyGalleryCover:f,emptyGalleryCoverStyle:v,variant:C,onLoadProxiedImage:y,imageCoverWrapStyle:x,style:S,rendererBlockStyle:j,numberedListsStore:o}):f?(0,k.jsx)(E,{coverHeight:a,coverSizeFormat:s,emptyGalleryCoverStyle:v}):null}function M(e){const{store:t,renderAdditionalBlocks:n,rendererBlockStyle:o,blockId:r,blockIdsToRender:d,restrictedContentStore:c,numberedListsStore:u}=e,m=(0,s().IS)((e=>({renderer:{fontSize:12,opacity:.8,pointerEvents:"none",...o}})),[o]),h=y().Bv.createChildStore(t,{table:p().ev,id:r}),g=(0,a().K8)((()=>h.getType()),[h]),f=(0,a().K8)((()=>{const e="table_row"===g?h.getParentBlockStore():h;return n&&void 0!==g?e&&(0,b().F)({store:e,restrictedBlockIds:d,tableRenderMode:"table"}):(0,x().B)(h)}),[n,g,h,d]),C=new(l().default)((()=>({depth:0,numberedListBlockIdsWithFormat:$(r,u)})),{debugName:"numberedListCounterStore"}),S=(0,a().K8)((()=>(0,v().BN)(h)),[h]);return f?(0,k.jsx)(i().v,{value:c,children:(0,k.jsx)(f,{store:h,disabled:!0,disableCommentMenu:!0,disableHoverMenu:!0,hideContent:S,style:m.renderer,isQuickFind:!0,numberedListCounterStore:C})},r):null}function _(e){const{coverData:t,restrictedContentStore:n,numberedListsStore:o,renderAdditionalBlocks:i,store:l,coverHeight:d,coverSizeFormat:c,coverContentFadedOverlay:u,coverContentFadedOverlayStyle:m,contentWrapStyle:p,coverPosition:h,coverWidth:g,coverAspectFormat:f,isInHomeWidget:v,showEmptyGalleryCover:C,emptyGalleryCoverStyle:y,variant:x,onLoadProxiedImage:j,imageCoverWrapStyle:b,style:A,rendererBlockStyle:I}=e,T=(0,r().v3)(),_=(0,s().DP)(),P=(0,a().K8)((()=>({contentWrapStyle:K(x,T,_,d,c,u,p,v),coverContentFadedOverlay:F(_,m),imageBox:{...L(),...U({renderCollectionImage:!0},x,_,d,c),...B(),objectPosition:`center ${100*(1-H(l,h))}%`},imageCoverWrap:V(d,c,b),proxiedImageBox:{...L(A),...U({renderCollectionImage:!1},x,_,d,c),...B(f),objectPosition:`center ${100*(1-H(l,h))}%`}})),[x,T,_,d,h,c,u,m,f,l,A,p,v,b]),D=(0,a().O$)(n),W=(0,a().K8)((()=>t&&Array.isArray(t)?t.filter((e=>!D||D.includes(e))):[]),[t,D]),N=(0,a().K8)((()=>{var e;return i&&l.isCollectionView()&&!(null===(e=l.getModel())||void 0===e?void 0:e.hasWikiBlockUri())}),[i,l]);return Array.isArray(t)?t.length>0?(0,k.jsxs)("div",{style:P.contentWrapStyle,children:[D?t.filter((e=>D.indexOf(e)>=0)).map((e=>(0,k.jsx)(M,{store:l,renderAdditionalBlocks:i,rendererBlockStyle:I,blockId:e,blockIdsToRender:W,restrictedContentStore:n,numberedListsStore:o},e))):t.map((e=>(0,k.jsx)(M,{store:l,renderAdditionalBlocks:i,rendererBlockStyle:A,blockId:e,blockIdsToRender:W,restrictedContentStore:n,numberedListsStore:o},e))),u&&(0,k.jsx)("div",{style:P.coverContentFadedOverlay})]}):C?(0,k.jsx)(E,{coverHeight:d,coverSizeFormat:c,emptyGalleryCoverStyle:y??P.contentWrapStyle}):null:N?(0,k.jsxs)("div",{style:P.contentWrapStyle,children:[(0,k.jsx)(w().A,{url:t.url,onFinishedLoadingProxyUrl:e=>j(e),isAuthenticated:!0,permissionRecord:t.pointer,width:R(),render:(e,t)=>{if(t)return(0,k.jsx)(S().Ay,{style:P.imageBox,placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"end"},src:t})}}),(0,k.jsx)(O,{variant:x}),(0,k.jsx)("div",{style:P.coverContentFadedOverlay})]}):(0,k.jsxs)("div",{style:P.imageCoverWrap,children:[(0,k.jsx)(w().A,{url:t.url,onFinishedLoadingProxyUrl:e=>j(e),isAuthenticated:!0,permissionRecord:t.pointer,width:R(g,c),render:(e,t)=>{if(t)return(0,k.jsx)(S().Ay,{style:P.proxiedImageBox,src:t})}}),(0,k.jsx)(O,{variant:x})]})}function H(e,t){if(A(t))return t;if(e.getFormatStore().isDefined()){const{page_cover_position:t,card_cover_position:n}=e.getFormat();if(A(n))return n;if(A(t))return t}return.5}function L(e){return e||{}}function P(e,t){if(e)return e;switch(t){case"large":return f().A.card.desktop.large.height;case"small":return f().A.card.desktop.small.height;default:return f().A.card.desktop.medium.height}}function R(e,t){return e||(0,g().rq)(t)}function B(e){return{objectFit:void 0===e?"cover":e}}function V(e,t,n){return{height:P(e,t),position:"relative",pointerEvents:"none",overflow:"hidden",...n}}function E(e){let{coverHeight:t,coverSizeFormat:n,emptyGalleryCoverStyle:o}=e;return(0,k.jsx)("div",{style:{height:P(t,n),...o}})}function D(e){let{coverHeight:t,coverSizeFormat:n,loadingShimmerStyle:o}=e;const i=(0,C().A)(!0,100,0);return(0,k.jsx)("div",{style:{height:P(t,n),...o},children:i?(0,k.jsx)(j().A,{paragraphs:[{lineHeight:12,lineMargin:6,sectionWidths:[100,100,50],repeat:1,sectionMargin:0}]}):null})}function W(e,t,n,o,i){const{ThemeStore:r}=t,a="dark"===r.state.mode,s=i?n.lightDividerColor:n.regularDividerColor;switch(e){case"default":return{};case"gallery":return{background:n.collectionGalleryPreviewCardCover,padding:"8px 8px 0",boxShadow:a?"transparent":`inset 0 -1px 0 0 ${s}`,...o};default:(0,h().HB)(e)}}function F(e,t){return{width:"100%",height:40,position:"absolute",bottom:0,left:0,background:`linear-gradient(to bottom, transparent, ${e.accentColors.gray[30]} 100%)`,...t}}function N(e,t){switch(e){case"default":return{border:`1px solid ${t.stroke.primary}`,borderTopLeftRadius:6,borderTopRightRadius:6,borderBottomRightRadius:6,borderBottomLeftRadius:6};case"gallery":return{borderRadius:0,borderTopLeftRadius:1,borderTopRightRadius:1};default:(0,h().HB)(e)}}function O(e){let{variant:t}=e;const n=(0,s().DP)();switch(t){case"default":return null;case"gallery":return(0,k.jsx)("div",{style:{position:"absolute",left:0,right:0,bottom:0,borderBottom:`1px solid ${n.regularDividerColor}`}});default:(0,h().HB)(t)}return null}function K(e,t,n,o,i,r,a,s){return{height:P(o,i),pointerEvents:"none",overflow:"hidden",position:r?"relative":"static",...W(e,t,n,a,s),...a}}function Z(e,t,n,o){return{width:"100%",height:P(n,o),...N(e,t),objectPosition:"center"}}function z(e){let{store:t,coverHeight:n,coverSizeFormat:o,imageCoverWrapStyle:i,coverWidth:r,onLoadProxiedImage:l,style:d,variant:c,coverAspectFormat:u,coverPosition:m,showEmptyGalleryCover:p,emptyGalleryCoverStyle:h}=e;const g=(0,s().DP)(),f=(0,a().K8)((()=>{var e;return null===(e=t.getCover())||void 0===e?void 0:e.cover}),[t]),v=(0,a().K8)((()=>t.pointer),[t]),C=(0,a().K8)((()=>H(t,m)),[m,t]);return f?(0,k.jsxs)("div",{style:V(n,o,i),children:[(0,k.jsx)(w().A,{url:f,isAuthenticated:!0,permissionRecord:v,width:R(r,o),onFinishedLoadingProxyUrl:e=>l(e),render:(e,t)=>{if(t)return(0,k.jsx)(S().Ay,{style:{...L(d),...Z(c,g,n,o),...B(u),objectPosition:`center ${100*(1-C)}%`},src:t})}}),(0,k.jsx)(O,{variant:c})]}):p?(0,k.jsx)(E,{coverHeight:n,coverSizeFormat:o,emptyGalleryCoverStyle:{background:g.collectionGalleryPreviewCardCover,...h}}):null}function G(e){let{property:t,store:n,coverHeight:o,coverSizeFormat:i,imageCoverWrapStyle:r,onLoadProxiedImage:l,coverWidth:d,style:m,variant:p,coverAspectFormat:h,coverPosition:g,showEmptyGalleryCover:f,emptyGalleryCoverStyle:v}=e;const C=(0,s().DP)(),y=(0,a().K8)((()=>(0,c().pJ)(n.getPropertyValue(t)).find((e=>(0,u().rS)({url:e.url})))),[t,n]),x=(0,a().K8)((()=>n.pointer),[n]),j=(0,a().K8)((()=>H(n,g)),[g,n]);return y?(0,k.jsxs)("div",{style:V(o,i,r),children:[(0,k.jsx)(w().A,{onFinishedLoadingProxyUrl:e=>l(e),url:y.url,isAuthenticated:!0,permissionRecord:x,width:R(d,i),render:(e,t)=>{if(t)return(0,k.jsx)(S().Ay,{style:{...L(m),...Z(p,C,o,i),...B(h),objectPosition:`center ${100*(1-j)}%`},src:t})}}),(0,k.jsx)(O,{variant:p})]}):f?(0,k.jsx)(E,{coverHeight:o,coverSizeFormat:i,emptyGalleryCoverStyle:v}):null}function U(e,t,n,o,i){const{renderCollectionImage:r}=e;return{...Z(t,n,o,i),objectPosition:"center center",...r&&{height:void 0,border:`1px solid ${n.lightDividerColor}`,borderBottom:"none",borderBottomLeftRadius:0,borderBottomRightRadius:0}}}function $(e,t){const n=t.state;for(const o of n)if(o.find((t=>t.id===e)))return o;return[]}},533345:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().default{getInitialState(){return{open:!1}}}const i=new o},550125:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var o=()=>n(56366),i=()=>n(401497),r=()=>n(141333),a=n(474848);function s(e){let{scrollerStore:t}=e;const n=(0,o().K8)((()=>t.state.elementRef??{current:null}),[t]),s=0===(0,r().yE)(n),l=(0,i().IS)((e=>({border:{flexShrink:0,width:"100%",boxShadow:s?"0 0 0 transparent":`0 1px 0 ${e.regularDividerColor}`,transition:"box-shadow 300ms",height:2,marginTop:-2,zIndex:99}})),[s]);return(0,a.jsx)("div",{style:l.border})}},590856:(e,t,n)=>{n.d(t,{y:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("collectionForm",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M5.50195 4.75635C5.37435 4.75635 5.26953 4.71305 5.1875 4.62646C5.10547 4.53988 5.06445 4.43734 5.06445 4.31885C5.06445 4.1958 5.10547 4.09326 5.1875 4.01123C5.26953 3.9292 5.37435 3.88818 5.50195 3.88818H10.5059C10.6289 3.88818 10.7314 3.9292 10.8135 4.01123C10.8955 4.09326 10.9365 4.1958 10.9365 4.31885C10.9365 4.43734 10.8955 4.53988 10.8135 4.62646C10.7314 4.71305 10.6289 4.75635 10.5059 4.75635H5.50195ZM5.50195 7.0874C5.37435 7.0874 5.26953 7.04639 5.1875 6.96436C5.10547 6.87777 5.06445 6.77295 5.06445 6.6499C5.06445 6.53141 5.10547 6.43115 5.1875 6.34912C5.26953 6.26709 5.37435 6.22607 5.50195 6.22607H10.5059C10.6289 6.22607 10.7314 6.26709 10.8135 6.34912C10.8955 6.43115 10.9365 6.53141 10.9365 6.6499C10.9365 6.77295 10.8955 6.87777 10.8135 6.96436C10.7314 7.04639 10.6289 7.0874 10.5059 7.0874H5.50195ZM5.50195 9.42529C5.37435 9.42529 5.26953 9.38428 5.1875 9.30225C5.10547 9.22021 5.06445 9.11995 5.06445 9.00146C5.06445 8.87842 5.10547 8.77588 5.1875 8.69385C5.26953 8.60726 5.37435 8.56396 5.50195 8.56396H7.92188C8.04948 8.56396 8.1543 8.60726 8.23633 8.69385C8.31836 8.77588 8.35938 8.87842 8.35938 9.00146C8.35938 9.11995 8.31836 9.22021 8.23633 9.30225C8.1543 9.38428 8.04948 9.42529 7.92188 9.42529H5.50195ZM2.13867 13.1577V2.84229C2.13867 2.10856 2.32552 1.55257 2.69922 1.17432C3.07292 0.791504 3.62663 0.600098 4.36035 0.600098H11.6406C12.3743 0.600098 12.9281 0.791504 13.3018 1.17432C13.6755 1.55257 13.8623 2.10856 13.8623 2.84229V13.1577C13.8623 13.896 13.6755 14.4543 13.3018 14.8325C12.9281 15.2108 12.3743 15.3999 11.6406 15.3999H4.36035C3.62663 15.3999 3.07292 15.2108 2.69922 14.8325C2.32552 14.4543 2.13867 13.896 2.13867 13.1577ZM3.48535 13.0757C3.48535 13.3901 3.56738 13.6317 3.73145 13.8003C3.89551 13.9689 4.14388 14.0532 4.47656 14.0532H11.5312C11.8639 14.0532 12.1123 13.9689 12.2764 13.8003C12.4404 13.6317 12.5225 13.3901 12.5225 13.0757V2.93115C12.5225 2.61214 12.4404 2.36833 12.2764 2.19971C12.1123 2.02653 11.8639 1.93994 11.5312 1.93994H4.47656C4.14388 1.93994 3.89551 2.02653 3.73145 2.19971C3.56738 2.36833 3.48535 2.61214 3.48535 2.93115V13.0757Z"})})},613735:(e,t,n)=>{n.d(t,{b:()=>a});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var o=()=>n(278238),i=()=>n(945778),r=()=>n(267419);function a(e){let{icon:t,theme:n}=e;if(t)return(0,i().A)(t)?r().A.state.emojiByColorProcessed[t]:(0,o().T8)(t)?function(e){var t;let{uri:n,theme:i}=e;const r=null===(t=n.match(/\/icons\/[\w\-]*_(.+)\.svg/))||void 0===t?void 0:t[1];if(!function(e){if(!e)return!1;return s.has(e)}(r))return;return o().l8[i.mode][r]}({uri:t,theme:n}):void 0}const s=new Set((0,n(534177).uv)(o().l8.light))},617941:(e,t,n)=>{n.d(t,{A:()=>s,J:()=>r});var o=n(296540),i=n(474848);const r=16;function a(e){let{icon:t,style:o,size:a=r}=e;return(0,i.jsx)(n(854672).A,{type:"notion_icon",size:a,icon:`/icons/${t}_lightgray.svg`,largeIcon:!0,style:o})}const s=o.memo(a)},644187:(e,t,n)=>{n.d(t,{K:()=>i});n(296540);const o={viewBox:"0 0 20 20",svg:(0,n(474848).jsx)("path",{d:"M5.612 4.08A1.895 1.895 0 0 0 3.971 5.81l-.005.092.001 9.439-.864.053h-.035a.883.883 0 0 1-.571-.245.921.921 0 0 1-.28-.646V4.137c0-.88.683-1.61 1.562-1.665l10.187-.651a.755.755 0 0 1 .786.551.826.826 0 0 1 .03.175v.943l-9.133.583-.037.007Zm12.172 12.67a.779.779 0 0 1-.617.747c-.006 0-.013.003-.02.003l-11.045.681h-.034a.883.883 0 0 1-.571-.245.921.921 0 0 1-.28-.647l-.001-.03V6.072l.001-.047a.777.777 0 0 1 .67-.709c.01 0 .018-.003.027-.003l11.052-.706a.755.755 0 0 1 .786.551.824.824 0 0 1 .03.175l.002 11.418Zm-1.248-8.726a.388.388 0 0 0-.418-.393l-9.213.563c-.23.012-.439.177-.439.436v7.533c-.01.484.31.61.673.583L16 16.221l.002-.001c.466-.018.534-.374.534-.65V8.024Zm-7.35 2.458c-.429.026-.574.353-.573.856v.089c-.051.012-.094.023-.146.026-.309.02-.531-.232-.532-.682 0-.689.616-1.336 1.79-1.41 1.045-.064 1.714.441 1.715 1.333 0 .67-.556 1.147-1.104 1.296 1.028.05 1.458.624 1.459 1.357.001 1.254-.915 1.964-2.329 2.052l-.034.002c-1.063.066-1.809-.338-1.81-1.035 0-.397.29-.733.728-.76.035-.003.068.004.103.002.087.71.567.97 1.046.941.463-.029.788-.34.788-.782v-.018c0-.688-.575-.723-1.44-.757l-.138-.822c.805-.147 1.207-.41 1.207-.887 0-.512-.284-.83-.73-.801Zm3.864-.339c-.857.248-1.045-.129-.952-.523.514-.12 1.85-.521 2.356-.703l.006 5.289.934.136c0 .344-.197.56-.548.581-.291.018-.968.043-1.294.063-.505.031-1.43.107-1.43.107a.572.572 0 0 1-.035-.201c0-.168.068-.34.29-.416l.677-.219-.004-4.114Z"})},i=(0,n(340498).wt)("calendarDate31",o)},654777:(e,t,n)=>{n.d(t,{X:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("externalLink",{viewBox:"0 0 17 16",svg:(0,o.jsx)("path",{d:"M4.94922 13.498C4.31641 13.498 3.83789 13.3359 3.51367 13.0117C3.18945 12.6914 3.02734 12.2188 3.02734 11.5938V4.46289C3.02734 3.83398 3.18945 3.35938 3.51367 3.03906C3.83789 2.71875 4.31641 2.55859 4.94922 2.55859H12.0449C12.6777 2.55859 13.1562 2.71875 13.4805 3.03906C13.8047 3.35938 13.9668 3.83398 13.9668 4.46289V11.5938C13.9668 12.2188 13.8047 12.6914 13.4805 13.0117C13.1562 13.3359 12.6777 13.498 12.0449 13.498H4.94922ZM5.01953 12.3438H11.9746C12.2441 12.3438 12.4512 12.2734 12.5957 12.1328C12.7402 11.9922 12.8125 11.7793 12.8125 11.4941V4.55664C12.8125 4.27539 12.7402 4.06445 12.5957 3.92383C12.4512 3.7832 12.2441 3.71289 11.9746 3.71289H5.01953C4.74609 3.71289 4.53711 3.7832 4.39258 3.92383C4.25195 4.06445 4.18164 4.27539 4.18164 4.55664V11.4941C4.18164 11.7793 4.25195 11.9922 4.39258 12.1328C4.53711 12.2734 4.74609 12.3438 5.01953 12.3438ZM10.334 9.54297C10.1855 9.54297 10.0664 9.49609 9.97656 9.40234C9.89062 9.30859 9.84766 9.17969 9.84766 9.01562V8.08398L9.93555 7.24609L9.15039 8.10156L7.09961 10.1465C6.99023 10.2559 6.85742 10.3105 6.70117 10.3105C6.55273 10.3105 6.42969 10.2637 6.33203 10.1699C6.23828 10.0762 6.19141 9.95117 6.19141 9.79492C6.19141 9.6582 6.24609 9.53516 6.35547 9.42578L8.41211 7.36914L9.2793 6.57227L8.47656 6.66602H7.48633C7.32617 6.66602 7.19727 6.62305 7.09961 6.53711C7.00586 6.45117 6.95898 6.33203 6.95898 6.17969C6.95898 6.03516 7.00586 5.91992 7.09961 5.83398C7.19727 5.74414 7.32422 5.69922 7.48047 5.69922H10.2227C10.4062 5.69922 10.5508 5.74609 10.6562 5.83984C10.7617 5.93359 10.8145 6.08398 10.8145 6.29102V9.00977C10.8145 9.16602 10.7695 9.29492 10.6797 9.39648C10.5938 9.49414 10.4785 9.54297 10.334 9.54297Z"})})},736316:(e,t,n)=>{n.d(t,{f:()=>i});var o=()=>n(449412);function i(e){const{name:t,startTime:n,endTime:i}=e;try{performance.measure(t,{start:n,end:i})}catch(r){o().Fg(r,{extra:{name:t,startTime:n,endTime:i}})}}},755170:(e,t,n)=>{n.d(t,{A:()=>v});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497),s=()=>n(284371),l=()=>n(859428),d=()=>n(115512),c=()=>n(962730),u=()=>n(665579),m=()=>n(534177),p=n(474848);const h=function(e){let{additionalStyles:t,transitionMs:o,force:i,children:r}=e;const s=(0,n(827912).j)(),l=(0,a().IS)((()=>{let e;switch(i){case"forceShow":e=1;break;case"forceHide":e=0;break;case void 0:e=s?1:0;break;default:(0,m().HB)(i)}return{hoverStyle:{opacity:e,transition:`opacity ${(0,m().O9)(o)?o:200}ms ease-in`,...t}}}),[t,i,s,o]);return(0,p.jsx)("div",{style:l.hoverStyle,children:r})};var g=()=>n(617941);function f(e){let{icon:t,title:n,tooltip:o,hasRightElement:r,iconContainerStyle:u}=e;const m=(0,i().v3)(),h=(0,a().IS)((e=>({panelTitleAndIcon:{display:"flex",alignItems:"center",fontSize:(0,d().ny)(m,"UISmall"),fontWeight:s().Wy.medium,color:e.text.secondary,fill:e.mediumIconColor,flexShrink:0,maxWidth:r?200:"100%"},title:{...s().RC},panelIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:g().J,height:g().J,marginRight:8,marginTop:1,...u}})),[m,u,r]);return n?(0,p.jsx)(l().A,{renderTooltip:()=>o,disableTooltip:!o,placement:c().W.Top,alignment:c().C.Start,render:e=>(0,p.jsxs)("div",{style:h.panelTitleAndIcon,...e,children:[(0,p.jsx)("div",{style:h.panelIconContainer,children:t}),(0,p.jsx)("span",{style:h.title,children:n})]})}):null}const v=function(e){let{children:t,title:s,icon:l,tooltip:d,iconContainerStyle:c,panelStyle:m,headerStyle:g,rightStyle:v,actions:C,right:y,disableRightFadeIn:x,disableActionsFadeIn:S,hideWrapStyle:j,actionsGap:w}=e;const b=(0,i().WS)(),k=Boolean(s),A=Boolean(y),I=(0,r().uB)(void 0,n(620090).B),T=(0,r().uB)(void 0,n(1248)._),M=(0,o.useMemo)((()=>({isHoveredOnPanelStore:I,sizeStore:T})),[I,T]),_=(0,o.useCallback)((()=>I.setState(!0)),[I]),H=(0,o.useCallback)((()=>I.setState(!1)),[I]),L=(0,o.useCallback)((e=>{e.width<u().Xy?T.setState("narrow"):T.setState("wide")}),[T]),P=(0,a().IS)((e=>({tile:{userSelect:"none",WebkitUserSelect:"none"},panel:j?{}:{paddingLeft:12,paddingRight:12,...(0,u().V$)({isPhone:b,theme:e}),...m},headerContainer:{flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center",height:n(69447).nh,marginLeft:u().Fq,...g},rightActions:{display:"flex",flexDirection:"row",alignItems:"center"},actions:{display:"flex",alignItems:"center",gap:w??6,paddingLeft:6}})),[b,j,m,g,w]),R=(k||A)&&(0,p.jsxs)("div",{style:P.headerContainer,children:[(0,p.jsx)(f,{title:s,icon:l,tooltip:d,hasRightElement:A,iconContainerStyle:c}),(A||C)&&(0,p.jsxs)("div",{style:P.rightActions,children:[A&&(0,p.jsx)(h,{force:x?"forceShow":void 0,additionalStyles:v,children:y}),C&&(0,p.jsx)(h,{force:S?"forceShow":void 0,additionalStyles:P.actions,children:C})]})]});return(0,p.jsx)(n(273923).R.Provider,{value:M,children:(0,p.jsxs)("div",{style:P.tile,onMouseEnter:_,onMouseLeave:H,children:[R,(0,p.jsx)(n(828634).EE,{onSizeChange:L,children:(0,p.jsx)("div",{style:P.panel,children:t})})]})})}},812119:(e,t,n)=>{n.d(t,{J:()=>a});n(296540);var o=()=>n(401497),i=()=>n(710149),r=n(474848);function a(e){const{widthPercentage:t,isInHomeWidget:n}=e,a=(0,o().IS)((e=>({rowContainer:{display:"flex",height:30,alignItems:"center",gap:1,alignSelf:"stretch"},circleShimmer:{width:n?12:16,height:n?12:16,flexShrink:0,borderRadius:12,backgroundColor:e.lightDividerColor},rowShimmer:{width:t||"35%",height:10,flexShrink:0,borderRadius:12,marginLeft:2,backgroundColor:e.lightDividerColor},column:{display:"flex",height:34,padding:"7px 0px",alignItems:"center",gap:6,flex:"1 0 0"}})),[t,n]);return(0,r.jsx)("div",{style:a.rowContainer,children:(0,r.jsxs)("div",{style:a.column,children:[(0,r.jsx)(i().A,{style:a.circleShimmer}),(0,r.jsx)(i().A,{style:a.rowShimmer})]})})}},855685:(e,t,n)=>{n.d(t,{SU:()=>l,ah:()=>d});n(296540);var o=()=>n(484714),i=()=>n(401497),r=()=>n(710149),a=()=>n(665579),s=n(474848);function l(e){const t=(0,o().Y0)(),n=(0,i().IS)((e=>({feedContainer:(0,a().$E)({isPhone:t.isPhone})})),[t.isPhone]);return(0,s.jsxs)("div",{style:n.feedContainer,children:[e.hasComposer&&(0,s.jsx)(c,{}),(0,s.jsx)(u,{}),(0,s.jsx)(m,{})]})}function d(){const e=(0,i().IS)((()=>({teamHomeTitle:{display:"flex",gap:12,alignItems:"center",paddingBottom:24},teamIcon:{width:40,height:40,borderRadius:6},teamName:{width:120,height:28,borderRadius:6}})),[]);return(0,s.jsxs)("div",{style:e.teamHomeTitle,children:[(0,s.jsx)(r().A,{style:e.teamIcon}),(0,s.jsx)(r().A,{style:e.teamName})]})}function c(){const e=p(),t=(0,o().WS)()?300:520;return(0,s.jsxs)("div",{style:e.postContainer,children:[(0,s.jsx)(r().A,{style:e.postTitle}),(0,s.jsx)("div",{style:e.postContentContainer,children:(0,s.jsx)(r().A,{style:{width:t,height:20,borderRadius:10}})}),(0,s.jsx)("div",{style:e.postButtonContainer,children:(0,s.jsx)(r().A,{style:e.postButton})})]})}function u(){const e=p(),{shimmer1:t,shimmer2:n,shimmer3:o}=h();return(0,s.jsxs)("div",{style:e.postContainer,children:[(0,s.jsx)(r().A,{style:e.postTitle}),(0,s.jsxs)("div",{style:e.postContentContainer,children:[(0,s.jsx)(r().A,{style:t}),(0,s.jsx)(r().A,{style:n}),(0,s.jsx)(r().A,{style:o})]}),(0,s.jsxs)("div",{style:e.postComments,children:[(0,s.jsxs)("div",{style:e.postComment,children:[(0,s.jsx)(r().A,{style:{width:20,height:20,borderRadius:10}}),(0,s.jsx)(r().A,{style:{width:160,height:20,borderRadius:6}})]}),(0,s.jsxs)("div",{style:e.postComment,children:[(0,s.jsx)(r().A,{style:{width:20,height:20,borderRadius:10}}),(0,s.jsx)(r().A,{style:{width:80,height:20,borderRadius:6}})]})]})]})}function m(){const e=p(),{shimmer1:t,shimmer2:n,shimmer3:o}=h();return(0,s.jsxs)("div",{style:e.postContainer,children:[(0,s.jsx)(r().A,{style:e.postTitle}),(0,s.jsxs)("div",{style:e.postContentContainer,children:[(0,s.jsx)(r().A,{style:t}),(0,s.jsx)(r().A,{style:n}),(0,s.jsx)(r().A,{style:o})]}),(0,s.jsxs)("div",{style:e.postReactions,children:[(0,s.jsx)(r().A,{style:e.postReaction}),(0,s.jsx)(r().A,{style:e.postReaction}),(0,s.jsx)(r().A,{style:e.postReaction})]})]})}function p(){const e=(0,o().Y0)();return(0,i().IS)((t=>{const{unhoveredBoxShadow:n}=(0,a().UO)({isPhone:e.isPhone,theme:t});return{container:{display:"flex",flexDirection:"column",alignItems:"center"},postContainer:{display:"flex",flexDirection:"column",gap:36,borderRadius:12,boxShadow:n,padding:20,backgroundColor:t.surface.page},feedContainer:{display:"flex",flexDirection:"column",width:700,gap:24},postTitle:{width:80,height:20,borderRadius:10},postContentContainer:{display:"flex",flexDirection:"column",gap:12},postButtonContainer:{display:"flex",justifyContent:"flex-end"},postButton:{width:80,height:20,borderRadius:10},postComments:{display:"flex",flexDirection:"column",gap:12},postComment:{display:"flex",gap:8},postReactions:{display:"flex",gap:8},postReaction:{width:40,height:20,borderRadius:10}}}),[e.isPhone])}function h(){const e=(0,o().WS)();return(0,i().IS)((()=>({shimmer1:{width:e?300:520,height:20,borderRadius:10},shimmer2:{width:e?270:470,height:20,borderRadius:10},shimmer3:{width:e?225:425,height:20,borderRadius:10}})),[e])}},885749:(e,t,n)=>{n.d(t,{Ay:()=>u,cL:()=>d,uF:()=>l});n(898992),n(803949),n(581454);var o=n(296540),i=()=>n(959013),r=()=>n(406699),a=()=>n(939740),s=n(474848);const l=(0,i().YK)({hide:{id:"PersonalHomePanel.moreDropdown.hide.title",defaultMessage:"Hide from Home"}}),d=20;function c(e){let{actions:t}=e;const c=(0,n(401497).IS)((e=>({hideButtonIcon:{height:d,width:d,fill:e.regularIconColor}})),[]),u=(0,i().tz)(),m=(0,o.useMemo)((()=>{const e={};return t.forEach((t=>{"custom"===t.type&&(e[t.item.key]=t.closeOnAccept)})),e}),[t]),p=[{key:"all",render:e=>(0,s.jsx)(n(89924).A,{...e}),items:t.map((e=>{switch(e.type){case"hide":return{key:"hide",render:e=>(0,s.jsx)(n(760217).A,{...e,icon:(0,n(207583).F)(c.hideButtonIcon),title:u.formatMessage(l.hide),style:{borderRadius:n(665579)._g}}),action:e.hide};case"custom":return e.item;default:(0,n(534177).HB)(e)}}))}];return(0,s.jsx)(r().Ay,{popupType:r().z7.Popup,alignmentToOrigin:r().yP.Center,originGap:2,renderOrigin:e=>(0,s.jsx)(n(167068).A,{...e}),render:e=>(0,s.jsx)(n(928600).A,{menuType:n(722872).gu.Popup,children:(0,s.jsx)(a().Ay,{onAccept:t=>((e,t)=>{m[e.key]&&t.close()})(t,e),type:a().Oh.Vertical,sections:p,initialFocus:void 0})})})}const u=o.memo(c)},892008:(e,t,n)=>{n.d(t,{Bs:()=>c,L:()=>d,Ob:()=>l});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(803949);var o=n(296540),i=()=>n(852507),r=()=>n(118884),a=()=>n(994310),s=()=>n(347320);const l=new class{constructor(){this.currentPageId=void 0,this._localStorage=void 0}startCachingViewIds(e){this.currentPageId=e;this.entryForPage(e).v=[]}stopCachingViewIds(){const e=this.currentPageId;if(this.currentPageId=void 0,e){0===this.entryForPage(e).v.length&&delete this.localStorage[e]}}registerView(e,t){if(this.currentPageId!==e)return;const n=this.entryForPage(e);n.v=[...new Set([...n.v,t])],n.t=Date.now(),this.writeToLocalStorage()}unregisterView(e,t){const n=this.localStorage[e];n&&(n.v=n.v.filter((e=>e!==t)),0===n.v.length&&delete this.localStorage[e],this.writeToLocalStorage())}lookupViewIds(e){const t=this.localStorage[e];return(null==t?void 0:t.v)??[]}clear(){this.currentPageId=void 0,this._localStorage=void 0}get localStorage(){return this._localStorage??(this._localStorage=a().A.get(s().O)||Object.create(null))}entryForPage(e){let t=this.localStorage[e];return t||(t={v:[],t:0},this.localStorage[e]=t),t}writeToLocalStorage(){this.limitLocalStorageSize(),a().A.set(s().O,this.localStorage)}limitLocalStorageSize(){const e=Object.keys(this.localStorage);if(e.length>=100){const t={timestamp:Number.MAX_SAFE_INTEGER,key:void 0};e.forEach((e=>{e!==this.currentPageId&&this.localStorage[e].t<t.timestamp&&(t.timestamp=this.localStorage[e].t,t.key=e)})),t.key&&delete this.localStorage[t.key]}}};function d(e){let{collectionContextStore:t,isFullScreen:n,wasCreatedThisSessionStore:i,didDelayOffscreenRenderRef:r,environment:a}=e;const s=(0,o.useCallback)((()=>{var e;const n=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,o=a.RouterStore.state.route;if("page"!==o.name)return;const i=o.blockId;i&&n&&(r.current?(l.unregisterView(i,n),t.shouldDelayRenderStore.removeListener(s)):l.registerView(i,n))}),[t,r,a]);(0,o.useEffect)((()=>{var e;if(n||i.state)return;const o=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,r=a.RouterStore.state.route;if("page"!==r.name)return;return r.blockId&&o?(t.shouldDelayRenderStore.addListener(s),s(),()=>{t.shouldDelayRenderStore.removeListener(s)}):void 0}),[t,n,i,a,s])}function c(e){let{pageId:t,isFrameContext:n}=e;(0,i().l)((()=>{n&&l.startCachingViewIds(t)})),(0,r().X)((()=>{n&&l.stopCachingViewIds()}))}},915086:(e,t,n)=>{n.r(t),n.d(t,{measurePageRenderMetrics:()=>w,setInitialRenderCompleted:()=>S,setSubMetric:()=>C,setSubMetricsAtRenderCallback:()=>v,updateMetricData:()=>y,updateMetricDataWithIsPushTag:()=>j,updateOPFSMetricData:()=>x});n(898992),n(581454),n(737550),n(814603),n(147566),n(198721);var o=()=>n(906510),i=()=>n(410690),r=()=>n(892008),a=()=>n(989423),s=()=>n(807054),l=()=>n(347320),d=()=>n(150749),c=()=>n(836251),u=()=>n(406792),m=()=>n(736316),p=()=>n(508496),h=()=>n(961581),g=()=>n(977390),f=()=>n(606932);function v(e){const{mainStartTime:t,prefetchInitiatedTime:n,statsigBootupBlockingStartTime:o,renderStartTime:r,renderEndTime:a}=e,s=i().getAppStartTime();if(!s)return;const l={app_start_to_main_start:{startTime:s,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:n},prefetch_initiated_to_statsig_bootup_blocking_start:{startTime:n,endTime:o},statsig_bootup_blocking:{startTime:o,endTime:r},render_start_to_render_end:{startTime:r,endTime:a}};for(const[i,d]of Object.entries(l)){const e=null==d?void 0:d.startTime,t=null==d?void 0:d.endTime;e&&t&&(0,m().f)({name:i,startTime:e,endTime:t})}h().A.state.subMetricsStore.update((e=>({...e,...l})))}function C(e){const{name:t,endTime:n}=e,o=e.startTime(h().A.state.subMetricsStore.state);o&&(h().A.state.subMetricsStore.update((e=>({...e,[t]:{startTime:o,endTime:n}}))),(0,m().f)({name:t,startTime:o,endTime:n}))}function y(e){h().A.state.metricDataStore.update((t=>({...t,...e})))}function x(e){h().A.state.OPFSMetricDataStore.update((t=>({...t,...e})))}function S(){h().A.update((e=>({...e,initialRenderCompleted:!0})))}function j(e){const t=e.RouterStore.state;let n;var o;"page"===t.route.name&&(n=t.route.mobileData,y({is_push:null===(o=n)||void 0===o?void 0:o.isPush}))}function w(e){let{environment:t,isEditable:n,isHomePage:r,isWikiHome:l,isPageWithCustomLayout:d,idSchema:m}=e;const{initialRoute:{name:v},route:y}=t.RouterStore.state,{initialRenderCompleted:x,initialRenderAfterLoginCompleted:j}=h().A.state,w=s().isPrewarmedTabInitialRender(t),A=(0,c().w6)(t);x?j||"login"!==v?function(e,t){const n="page"===t.name?t.mobileData:void 0,o=f().A.popTimings();if(o){const{navigationStart:t,requestFirstChunkStart:i,requestFirstChunkEnd:r,requestFirstChunkSource:s,pageViewBlockRender:l,requestFirstChunkDiskMode:d}=o,c=performance.now();u().default.measure({metricName:"navigation_page_render",startTime:t,endTime:c},{environment:e,data:{is_push:(null==n?void 0:n.isPush)??!1,wasm_sqlite_initialized:h().A.state.metricDataStore.state.wasm_sqlite_initialized,first_chunk_disk_mode:"string"==typeof d?"diskCacheOnlyInWebWorker"===d?"web_worker":"default":void 0}}),(0,a().LM)({eventName:"navigation_page_render_sub_metric",sampling:{behavior:"statsig",fallbackBehavior:"statsig",statsigNotAvailableBehavior:"drop"}}).then((n=>{if(!n)return;const o=t=>({environment:e,data:{type:t,chunk_source:s},sampleDecision:n});i&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:t,endTime:i},o("navigation_start_to_request_first_chunk_start")),i&&r&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:i,endTime:r},o("request_first_chunk_start_to_request_first_chunk_end")),r&&l&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:r,endTime:l},o("request_first_chunk_end_to_pvb_render")),l&&u().default.measure({metricName:"navigation_page_render_sub_metric",startTime:l,endTime:c},o("pvb_render_to_handle_navigation_render"))}))}g().A.state.isMeasuring&&g().A.update((e=>({...e,isMeasuring:!1})))}(t,y):function(e){u().default.DO_NOT_USE_measureLegacy("initial_page_render_after_login",{environment:e}),h().A.update((e=>({...e,initialRenderAfterLoginCompleted:!0})))}(t):w?function(e){let{environment:t,initialRoute:n,isEditable:o,isHomePage:i,isWikiHome:r,isPageWithCustomLayout:a,isPublicDomain:s,idSchema:l}=e;S();const d=performance.now();C({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:d});const c=h().A.state.prewarmedTabAppStartTimeOverride;c&&u().default.measure({metricName:"initial_page_render",startTime:c,endTime:d},{environment:t,data:b({initialRoute:n,isEditable:o,isHomePage:i,isWikiHome:r,isPageWithCustomLayout:a,isPublicDomain:s,idSchema:l,isPrewarmedTab:!0,prewarmedTabNavigationStart:c}),shouldSendIfStatsigNotInitialized:!0});g().A.state.isMeasuring&&g().A.update((e=>({...e,isMeasuring:!1})))}({environment:t,initialRoute:v,isEditable:n,isHomePage:r,isWikiHome:l,isPageWithCustomLayout:d,isPublicDomain:A,idSchema:m}):function(e){var t;let{environment:n,initialRoute:r,isEditable:s,isHomePage:l,isWikiHome:d,isPageWithCustomLayout:c,isPublicDomain:m,idSchema:g}=e;const{initialLoadCachedPageChunkCalledAt:f}=h().A.state;S();const v=Boolean(null===(t=performance)||void 0===t?void 0:t.mark)?performance.mark("initial_page_render").startTime:performance.now();o().S3.mark("initial_page_render"),C({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:v});const y=i().getAppStartTime(),x=i().getPageOriginTime();y&&x&&x>0&&y>x&&C({name:"page_origin_to_app_start",startTime:()=>x,endTime:y});u().default.measureFromPageOrigin({metricName:"initial_page_render",endTime:v},{environment:n,data:b({initialRoute:r,isEditable:s,isHomePage:l,isWikiHome:d,isPageWithCustomLayout:c,isPublicDomain:m,idSchema:g,prefetchedQueryCollection:k(n),isPrewarmedTab:!1}),shouldSendIfStatsigNotInitialized:!0});h().A.state.subMetricsStore.state;void 0!==f&&u().default.DO_NOT_USE_measureFromPageOriginLegacy({metricName:"load_cached_page_chunk_wait_time",endTime:f},{environment:n,data:{initial_route:r},shouldSendIfStatsigNotInitialized:!0,sendToStatsig:!0});p().default.checkGate({gateName:"beacon_pre_ipr_assets"})&&function(e,t){var n;if(null===(n=performance)||void 0===n||!n.getEntriesByType)return;const o=performance.getEntriesByType("resource"),i={eventName:"pre_ipr_assets",eventProperties:{ipr_end:t,assets:o.map((e=>{let t;try{t=new URL(e.name).pathname}catch{t=e.name}return{url:t,initiator_type:e.initiatorType,time:e.duration,perf_start:e.startTime,perf_end:e.startTime+e.duration,decoded_body_size:e.decodedBodySize,transfer_size:e.transferSize}}))}};(0,a().u4)({environment:e,event:i})}(n,v)}({environment:t,initialRoute:v,isEditable:n,isHomePage:r,isWikiHome:l,isPageWithCustomLayout:d,isPublicDomain:A,idSchema:m})}function b(e){const{initialRoute:t,isEditable:n,isHomePage:o,isWikiHome:r,isPageWithCustomLayout:a,isPublicDomain:l,isPrewarmedTab:c,idSchema:u,prefetchedQueryCollection:m}=e;return{...s().getSubMetricsAndMetricDataForTracking(e.isPrewarmedTab?{isPrewarmedTab:!0,prewarmedTabNavigationStart:e.prewarmedTabNavigationStart}:{isPrewarmedTab:!1}),initial_route:t,is_editable:n,is_home_page:o,is_page_with_custom_layout:a,is_public_domain:l,profiling_tool:(0,d().getProfilingToolForSession)(),is_wiki_home:r,time_origin_to_app_start:i().getAppStartTime(),includes_page_origin_to_app_start:!0,id_schema:u,prefetched_cvb:m,is_prewarmed_tab:c}}function k(e){const t=e.RouterStore.state.route;if("page"!==t.name||!t.blockId)return!1;return r().Ob.lookupViewIds(t.blockId).some((t=>{var n;const o=(0,l().A)(t),i=null===(n=e.prefetchCache)||void 0===n?void 0:n.getPrefetchAnalytic(o);return"hit-match"===(null==i?void 0:i.type)||"attempted"===(null==i?void 0:i.type)||"hit-mismatch"===(null==i?void 0:i.type)}))}},954933:(e,t,n)=>{n.d(t,{v:()=>d});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=(n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),()=>n(406792));const s=new Set;const l=new Set;function d(e){let{firstMountToReadyMetricName:t,pageOriginToReadyMetricName:n,isReady:d,homeType:c}=e;const u=(0,i().v3)(),m=function(e,t){const n=(0,o.useMemo)((()=>a().default.DO_NOT_USE_markLegacy(e)),[e]),i=(0,o.useRef)(t);return(0,o.useEffect)((()=>{i.current=t}),[t]),(0,o.useCallback)((()=>{s.has(e)||(s.add(e),a().default.DO_NOT_USE_measureLegacy(n,i.current))}),[n,e])}(t,{environment:u}),p=function(e,t){const n=(0,o.useRef)(t);return(0,o.useEffect)((()=>{n.current=t}),[t]),(0,o.useCallback)((()=>{l.has(e)||(l.add(e),a().default.DO_NOT_USE_measureFromPageOriginLegacy(e,n.current))}),[e])}(n,{environment:u}),h=(0,r().K8)((()=>"personal"===c?function(e){const{route:t,initialRoute:n,historyState:o}=e.RouterStore.state;if("page"!==t.name)return!1;switch(n.name){case"root":return 1===(null==o?void 0:o.index);case"page":return n.blockId===t.blockId&&0===(null==o?void 0:o.index);default:return!1}}(u):function(e){const{route:t,initialRoute:n,historyState:o}=e.RouterStore.state;if("team"!==t.name)return!1;switch(n.name){case"root":return 1===(null==o?void 0:o.index);case"team":return n.teamId===t.teamId&&0===(null==o?void 0:o.index);default:return!1}}(u)),[u,c]);(0,o.useEffect)((()=>{h&&d&&(m(),p())}),[d,m,p,h])}},980391:(e,t,n)=>{n.r(t),n.d(t,{PersonalHomeContainer:()=>_i,SetupPendingHomeTile:()=>tt});n(898992),n(803949);var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497),s=()=>n(2143),l=()=>n(867772),d=()=>n(681810),c=()=>n(816559),u=()=>n(331542),m=()=>n(773382),p=()=>n(360083),h=n(474848);function g(e){const t=(0,i().v3)(),n=(0,i().Y0)().isMobile,[s,g]=(0,o.useState)(),f=(0,r().K8)((()=>e.store.getCover()),[e.store]),v=(0,r().K8)((()=>d().A),[]),C=(0,r().K8)((()=>v.state.loadingMode!==l().pF&&v.state.loadingMode!==l().Wc),[v]),y=(0,r().K8)((()=>"uploading"===v.state.loadingMode&&v.state.uploadProgress||0),[v]),x=(0,r().K8)((()=>t.WindowSizeStore.state.paddingTop),[t.WindowSizeStore]),S=(0,a().IS)((e=>({background:{position:"absolute",width:"100%",height:"100%",marginTop:n?x:void 0,top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundImage:`url(${s}`,backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},loadingContainer:{...c().fd,top:8,right:8,height:28},loadingSpinner:{marginRight:4},percentageIndicator:{minWidth:30,textAlign:"right"}})),[s,n,x]);return f?(0,h.jsx)(p().A,{url:f.cover,isAuthenticated:!0,permissionRecord:f.pointer,render:(e,t)=>(g(t),(0,h.jsx)("div",{role:"img",style:S.background,onLoad:()=>{v.setState({loadingMode:"loaded"})},children:C&&(0,h.jsxs)("div",{style:S.loadingContainer,children:[(0,h.jsx)(u().A,{size:"sm",style:S.loadingSpinner}),(0,h.jsx)("div",{style:S.percentageIndicator,children:(0,h.jsx)(m().A,{percentage:y})})]})}))}):null}var f=()=>n(963589),v=()=>n(817942),C=()=>n(756279),y=()=>n(351360),x=()=>n(508496),S=()=>n(17090),j=()=>n(694874),w=()=>n(696746),b=()=>n(75993),k=()=>n(244641),A=()=>n(919709),I=()=>n(959013),T=()=>n(534177),M=()=>n(284371),_=()=>n(854094),H=()=>n(493823),L=()=>n(859428),P=()=>n(962730),R=()=>n(606952),B=()=>n(725614),V=()=>n(317909),E=()=>n(757695);class D extends E().default{getInitialState(){return{open:!1}}}const W=new D;function F(e){let{environment:t}=e;W.reset(),B().clear({environment:t})}var N=()=>n(928600),O=()=>n(14235),K=()=>n(125565),Z=()=>n(246722),z=()=>n(792540),G=()=>n(722872),U=()=>n(115512),$=()=>n(377586);function q(e){let{origin:t}=e;const n=(0,i().v3)(),o=(0,r().K8)((()=>W.state.open),[]),a=(0,r().K8)((()=>y().default.state.currentUserSettingsStore),[]),s=(0,i().WS)();return a?(0,h.jsx)(O().Ay,{popupType:s?$().n.SlideUp:$().n.Popup,open:o,origin:t,placementToOrigin:P().W.Bottom,alignmentToOrigin:P().C.Center,originGap:4,onDismiss:()=>F({environment:n}),render:()=>(0,h.jsx)(Y,{userSettingsStore:a})}):null}function Y(e){let{userSettingsStore:t}=e;const[n,s]=(0,o.useState)(!1),l=(0,i().v3)(),d=(0,I().tz)(),c=(0,r().K8)((()=>{var e;return null===(e=y().default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(d)}),[d]),u=(0,i().WS)(),m=(0,o.useCallback)((()=>s(!0)),[]),p=(0,o.useCallback)((()=>s(!1)),[]),g=(0,o.useCallback)((()=>F({environment:l})),[l]),f=(0,o.useCallback)((()=>function(e){let{environment:t}=e;const n=W.state;if(!n.open)return;const o=n.originalNickname;F({environment:t});const{currentUserSettingsStore:i}=y().default.state;if(!i)return;const r=i.getNicknameStore();V().createAndCommit({environment:t,userAction:"nicknameMenuActions.revertToOldNickname",canUndo:!0,perform:e=>{R().KY({environment:t,store:r,value:o,transaction:e})}})}({environment:l})),[l]),v=(0,a().IS)((e=>({menu:{width:300},menuContainer:{paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14},inputContainer:{display:"flex",alignItems:"center",color:e.regularTextColor,fontSize:(0,U().ny)(l,"UIRegular")},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",width:"100%",borderRadius:4,boxShadow:n?e.outlineBlueInputBoxShadow:e.inputBoxShadow,background:e.inputBackground,cursor:"text",position:"relative",marginTop:8,paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}})),[l,n]),C=(0,r().K8)((()=>t.getSettingsStore().getKeyStore("nickname")),[t]);let x;return x=u?{menuType:G().gu.ActionSheet}:{menuType:G().gu.Popup,width:300},(0,h.jsx)(N().A,{...x,children:(0,h.jsxs)("div",{style:v.menuContainer,children:[(0,h.jsx)(K().A,{isSecondaryColor:!0,children:(0,h.jsx)(I().sA,{id:"personalHomeRenamePopup.title",defaultMessage:"Edit nickname"})}),(0,h.jsx)("div",{style:v.inputContainer,children:(0,h.jsx)(Z().A,{style:v.input,store:C,disabled:!1,onEsc:f,onFocus:m,onBlur:p,onEnter:g,placeholder:c,pasteBehavior:"inline",disableEmojiCommands:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableSlashCommands:!0,disableComment:!0,disableMentions:!0,disableDrag:!0,disableEmbedMenu:!0,disableEquationInteraction:!0,disableMobileActionBar:!0,disableShiftEnter:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,inPageFind:z().Os.none})})]})})}const X=o.memo(q);function J(e){var t;let{nickname:s}=e;const l=(0,i().v3)(),d=(0,a().DP)(),c=o.useRef(null),u=o.useRef();u.current=null===(t=c.current)||void 0===t?void 0:t.getBoundingClientRect();const m=(0,r().K8)((()=>W.state.open),[]),p=(0,r().K8)((()=>{var e;return null===(e=y().default.state.currentUserSettingsStore)||void 0===e?void 0:e.getNicknameStore()}),[]),g=(0,r().K8)((()=>{var e;const t=y().default.state.currentUserSettingsStore,o=null===(e=y().default.state.currentSpaceStore)||void 0===e?void 0:e.id;if(t&&o)return(0,n(921855).S5)({environment:l,textValue:s&&o?{value:s,spaceId:o}:void 0,parentStore:t,disableLinks:!0,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disabled:!0,theme:d,emojiType:(0,n(712030).FN)(l),katex:void 0,formulaValueTypes:[],stopLinkPropagation:!0})}),[l,s,d]),f=(0,o.useMemo)((()=>({height:"100%",flexShrink:1,fontSize:"inherit",fontWeight:"inherit",display:"flow",paddingTop:2,paddingBottom:2,marginLeft:-6,marginRight:-6,marginTop:-2,marginBottom:2,paddingLeft:6,paddingRight:6,...M().RC,color:void 0,lineHeight:void 0})),[]),v=(0,a().IS)((()=>({hiddenButton:{...f,width:0,overflow:void 0,pointerEvents:"none",color:"transparent",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},visibleButton:{...f,textShadow:"none"}})),[f]);return p?(0,h.jsx)(X,{origin:(0,h.jsx)(L().A,{originRect:u.current,placement:P().W.Bottom,render:e=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(H().p,{hovered:!1,style:v.hiddenButton,children:g}),(0,h.jsx)(H().p,{...e,ref:c,hovered:m,style:v.visibleButton,onClick:()=>function(e){let{originalNicknameStore:t}=e;B().setSelection({store:t,selection:{startIndex:0,endIndex:(0,A().qAZ)(t.getValue()).length}}),W.setState({open:!0,originalNickname:t.getValue()})}({originalNicknameStore:p}),onMouseEnter:t=>{var n;null===(n=e.onMouseEnter)||void 0===n||n.call(e,t),_().A.setState({isHovered:!1})},children:g})]}),renderTooltip:()=>(0,h.jsx)(I().sA,{id:"personalHomeHeader.changeNameTooltip",defaultMessage:"Edit nickname"})})}):null}const Q=o.memo(J);function ee(e){let{marginTop:t,marginHorizontal:s,allPanelsLoaded:l,showWelcomeAnimation:d}=e;const[c,u]=o.useState(!1),m=(0,I().tz)(),p=(0,i().WS)(),{name:g,loaded:f}=(0,r().K8)((()=>function(e){let{currentUserStore:t,currentUserSettingsStore:n,intl:o}=e;if(null==n||!n.isReady())return{name:void 0,loaded:!1};const i=n.getNickname();if(i&&te(i))return{name:i,loaded:!0};const r=null==t?void 0:t.getDisplayName(o),a=Boolean(null==t?void 0:t.isReady());return{name:r?[[r]]:void 0,loaded:a}}({currentUserStore:y().default.state.currentUserStore,currentUserSettingsStore:y().default.state.currentUserSettingsStore,intl:m})),[m]),v=(0,r().K8)((()=>{var e;return(null===(e=y().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())??!1}),[]),C=(0,r().K8)((()=>{const e=y().default.state.currentSpaceViewStore;return e&&(0,w().x$)(e)}),[]),x=(0,r().K8)((()=>Boolean(null==C?void 0:C.hasCover())),[C]);(0,o.useEffect)((()=>{const e=setTimeout((()=>{d&&!c&&u(!0)}),500);return()=>{clearTimeout(e)}}),[c,d]);const S=f&&v,j=function(e){let{timeOfDay:t,name:n}=e;if("morning"===t)return n?(0,h.jsx)(I().sA,{id:"personalHomeHeader.goodMorningUserName",defaultMessage:"<NoShrink>Good morning,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:""}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(I().sA,{id:"personalHomeHeader.goodMorningNoUserName",defaultMessage:"Good morning"});if("afternoon"===t)return n?(0,h.jsx)(I().sA,{id:"personalHomeHeader.goodAfternoonUserName",defaultMessage:"<NoShrink>Good afternoon,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:""}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(I().sA,{id:"personalHomeHeader.goodAfternoonNoUserName",defaultMessage:"Good afternoon"});if("evening"===t)return n?(0,h.jsx)(I().sA,{id:"personalHomeHeader.goodEveningUserName",defaultMessage:"<NoShrink>Good evening,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:""}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(I().sA,{id:"personalHomeHeader.goodEveningNoUserName",defaultMessage:"Good evening"});(0,T().HB)(t)}({timeOfDay:function(){const e=k().c9.now().hour;return e>=19||e<2?"evening":e<12?"morning":"afternoon"}(),name:te(g)?(0,h.jsx)(Q,{nickname:g}):void 0}),b=(0,h.jsx)(I().sA,{id:"personalHomeHeader.initialWelcomeText",defaultMessage:"Welcome home"}),A=(0,a().IS)((e=>{const o={width:"100%",height:"100%",marginTop:t,zIndex:1,paddingLeft:2*s,paddingRight:2*s,pointerEvents:"none",transition:"all 0.5s ease-in-out 2.75s"},i=d&&!l;return{container:{width:"100%",height:"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",opacity:c||!d?1:0,transition:"opacity 0.5s ease-in-out"},greetingTextContainer:{...o,opacity:i?0:1,transform:i?"translateY(12px)":"translateY(0px)"},welcomeTextContainer:{...o,opacity:i?1:0,transform:i?"translateY(0px)":"translateY(-12px)",position:"absolute"},headerText:{width:"100%",height:"100%",fontSize:p?24:30,lineHeight:1.2,fontWeight:M().Wy.semibold,color:x?n(100622).Ay.white:e.regularTextColor,textShadow:x?"0px 1px 24px rgba(0, 0, 0, 0.33)":"",display:"flex",alignItems:"center",justifyContent:"center"},greetingTextSpan:{display:"flex",pointerEvents:"all",maxWidth:"100%"},mobileGreetingContainer:{display:"flex",flexDirection:"column",textShadow:x?"0px 1px 24px rgba(0, 0, 0, 0.33)":""},mobileIconContainer:{fontSize:30}}}),[t,s,l,d,c,p,x]),H=(0,h.jsx)("div",{style:A.headerText,children:(0,h.jsx)("span",{style:A.greetingTextSpan,children:j})}),L=(0,h.jsx)("div",{style:A.mobileGreetingContainer,children:(0,h.jsx)("div",{style:A.headerText,children:(0,h.jsx)("span",{style:A.greetingTextSpan,children:j})})}),P=(0,h.jsx)("div",{style:A.greetingTextContainer,children:p?L:H}),R=(0,h.jsx)("div",{style:A.welcomeTextContainer,children:(0,h.jsx)("div",{style:A.headerText,children:b})});return S?(0,h.jsxs)("div",{style:A.container,onMouseEnter:()=>{_().A.setState({isHovered:!0})},onMouseLeave:()=>{_().A.setState({isHovered:!1})},children:[P,R]}):null}function te(e){return!!(0,T().O9)(e)&&0!==(0,A().qAZ)(e).length}const ne=o.memo(ee);n(354520),n(581454),n(737550);var oe=()=>n(915086),ie=()=>n(162674),re=()=>n(296060),ae=()=>n(523713),se=()=>n(199058),le=()=>n(665579),de=()=>n(36951),ce=()=>n(484762),ue=()=>n(985554);function me(){const e=(0,i().v3)(),t=ue().K,n=(0,o.useCallback)((t=>{(0,de().VK)({environment:e,threadId:t.threadId})}),[e]);return(0,h.jsx)(ce().cZ,{aiChatFeature:"home_module",threadStore:void 0,config:void 0,clientStore:t,onThreadChange:n})}var pe=()=>n(693954),he=()=>n(206267),ge=()=>n(496603),fe=()=>n(838924),ve=()=>n(645200),Ce=()=>n(320260),ye=()=>n(689950),xe=()=>n(954933),Se=()=>n(379560),je=()=>n(677169),we=()=>n(755170),be=()=>n(410430),ke=()=>n(370873),Ae=()=>n(401826),Ie=()=>n(972435),Te=()=>n(135428);const Me=(0,I().YK)({lunch:{id:"CalendarFeaturePreview.eventTitle.lunch",defaultMessage:"Lunch"},firstMeeting:{id:"CalendarFeaturePreview.eventTitle.firstMeeting",defaultMessage:"My first meeting"},groceryShop:{id:"CalendarFeaturePreview.eventTitle.groceryShop",defaultMessage:"Grocery shopping"},birthday:{id:"CalendarFeaturePreview.eventTitle.birthday",defaultMessage:"Birthday celebration"},home:{id:"CalendarFeaturePreview.eventLocation.home",defaultMessage:"Home"},office:{id:"CalendarFeaturePreview.eventLocation.office",defaultMessage:"Office"},store:{id:"CalendarFeaturePreview.eventLocation.store",defaultMessage:"Store"},park:{id:"CalendarFeaturePreview.eventLocation.park",defaultMessage:"Park"},restaurant:{id:"CalendarFeaturePreview.eventLocation.restaurant",defaultMessage:"Restaurant"}}),_e=[{title:Me.firstMeeting,time:k().c9.fromObject({hour:9}),location:Me.office,includeJoinButton:!0},{title:Me.lunch,time:k().c9.fromObject({hour:13}),location:Me.restaurant,includeJoinButton:!1}],He=[{title:Me.groceryShop,time:k().c9.fromObject({hour:11}),location:Me.store,includeJoinButton:!1},{title:Me.birthday,time:k().c9.fromObject({hour:14}),location:Me.park,includeJoinButton:!1}];function Le(e){let{date:t,events:n}=e;const r=(0,i().v3)(),s=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",paddingBottom:10},date:{width:"25%",paddingRight:10,display:"flex",flexDirection:"column",fontSize:(0,U().ny)(r,"UISmall"),fontWeight:M().Wy.medium},events:{width:"75%"}})),[r]),l=(0,o.useMemo)((()=>t.day===k().c9.now().day?(0,h.jsx)(I().sA,{id:"notionCalendarEventDate.today",defaultMessage:"Today"}):t.toLocaleString({weekday:"short"})),[t]);return(0,h.jsxs)("div",{style:s.container,children:[(0,h.jsxs)("div",{style:s.date,children:[(0,h.jsx)("div",{children:l}),(0,h.jsx)("div",{children:t.toLocaleString({month:"short",day:"numeric"})})]}),(0,h.jsx)("div",{style:s.events,children:n.map((e=>(0,h.jsx)(Pe,{event:e},e.title.id)))})]})}function Pe(e){let{event:t}=e;const n=(0,I().tz)(),i=(0,a().IS)((e=>({container:{marginBottom:14,display:"flex"},calendarIndicator:{width:4,backgroundColor:e.home.emptyStatePreview.calendarIndicator,borderRadius:4,flexShrink:0},event:{display:"flex",width:"100%",gap:4,overflow:"hidden"},eventDetails:{display:"flex",flexDirection:"column",flex:1,paddingLeft:10,overflow:"hidden"},title:{fontWeight:M().Wy.medium,...M().RC},joinButton:{textAlign:"end",alignSelf:"center",flexShrink:0}})),[]),r=(0,o.useMemo)((()=>(0,Te().ax)({time:t.time,showAmPm:!0,locale:n.locale,timeZone:t.time.zoneName})),[t.time,n.locale]);return(0,h.jsx)("div",{style:i.container,children:(0,h.jsxs)("div",{style:i.event,children:[(0,h.jsx)("div",{style:i.calendarIndicator}),(0,h.jsxs)("div",{style:i.eventDetails,children:[(0,h.jsx)("div",{style:i.title,children:Ie().A.formatMessage(t.title)}),(0,h.jsx)("div",{children:`${r}  ${Ie().A.formatMessage(t.location)}`})]}),t.includeJoinButton&&(0,h.jsx)("div",{style:i.joinButton,children:(0,h.jsx)(Re,{})})]})})}function Re(){const e=(0,a().IS)((e=>({container:{width:"fit-content",padding:"2px 8px 2px 8px",display:"flex",flexDirection:"row",backgroundColor:e.home.emptyStatePreview.joinButtonBackground,borderRadius:4},iconWrapper:{display:"flex",justifyContent:"center",alignItems:"center",paddingRight:4},icon:{width:16,height:16,marginRight:4},joinTitleContainer:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}})),[]);return(0,h.jsxs)("div",{style:e.container,children:[(0,h.jsx)("div",{style:e.iconWrapper,children:(0,Ae().U)(e.icon)}),(0,h.jsx)("div",{style:e.joinTitleContainer,children:(0,h.jsx)(I().sA,{id:"notionCalendarEvent.joinButtonWithMeeting",defaultMessage:"Join meeting"})})]})}const Be=function(){const e=(0,I().tz)(),t=k().c9.now().setLocale(e.locale);return(0,h.jsxs)("div",{children:[(0,h.jsx)(Le,{date:t,events:_e}),(0,h.jsx)(Le,{date:t.plus({days:1}),events:He})]})};var Ve=()=>n(340498);const Ee=(0,Ve().wt)("bookClosedFilled",{viewBox:"0 0 17 16",svg:(0,h.jsx)("path",{d:"M14 4.5V14H6.3275C5.735 14 5.3325 13.8325 4.9125 13.415L3.585 12.0875C3.165 11.6675 3 11.265 3 10.6725V2H11.5V11.5H5.12L6.12 12.5H12.5V4.5H14Z"})}),De=(0,Ve().wt)("exercise",{viewBox:"0 0 17 16",svg:(0,h.jsx)("path",{d:"M9.25 3C9.25 2.2275 9.7275 1.75 10.5 1.75C11.2725 1.75 11.75 2.2275 11.75 3C11.75 3.7725 11.2725 4.25 10.5 4.25C9.7275 4.25 9.25 3.7725 9.25 3ZM10.8775 7.185C11.37 7.77 11.985 8.5 13.5 8.5V7.25C12.565 7.25 12.275 6.905 11.8325 6.38C11.315 5.765 10.67 5 9 5C6.5875 5 5.205 6.2825 4.25 8.19L5.3675 8.75C6.06 7.365 6.795 6.665 7.8025 6.3925L6.565 8.8675C6.0925 9.815 5.3875 10.25 4.33 10.25H3.25V11.75H4.33C6.005 11.75 7.1275 11.065 7.8825 9.585C8.5425 10.085 10.5175 11.7425 11.075 14L12.4975 13.525C11.945 11.285 10.3625 9.6625 9.34 8.8125L10.405 6.685C10.57 6.8275 10.715 6.9975 10.875 7.1875L10.8775 7.185Z"})}),We=(0,Ve().wt)("foodAndDrink",{viewBox:"0 0 17 16",svg:(0,h.jsx)("g",{clipPath:"url(#clip0_6853_89883)",children:(0,h.jsx)("path",{d:"M8.5 8.5C8.5 6.65 9.84 5.5 12 5.5C14.16 5.5 15.5 6.65 15.5 8.5H8.5ZM15.5 9.5H8.5C8.1925 9.5 8 9.6925 8 10V10.5C8 10.8075 8.1925 11 8.5 11H15.5C15.8075 11 16 10.8075 16 10.5V10C16 9.6925 15.8075 9.5 15.5 9.5ZM8.5 12.5C8.5 13.1175 8.8825 13.5 9.5 13.5H14.5C15.1175 13.5 15.5 13.1175 15.5 12.5V12H8.5V12.5ZM8.5 5.5V4H6.005L6.245 1.125L4.75 1L4.5 4H0.5V5.5H1.625L2.2925 13.5H6.71L7.3775 5.5H8.5025H8.5Z"})})}),Fe=(0,Ve().wt)("sun",{viewBox:"0 0 17 16",svg:(0,h.jsx)("path",{d:"M11.5 8C11.5 9.6575 10.1575 11 8.5 11C6.8425 11 5.5 9.6575 5.5 8C5.5 6.3425 6.8425 5 8.5 5C10.1575 5 11.5 6.3425 11.5 8ZM9 1.5H8V4H9V1.5ZM8 14.5H9V12H8V14.5ZM6.025 4.8175L4.2575 3.05L3.55 3.7575L5.3175 5.525L6.025 4.8175ZM10.975 11.1825L12.7425 12.95L13.45 12.2425L11.6825 10.475L10.975 11.1825ZM4.5 7.5H2V8.5H4.5V7.5ZM12.5 7.5V8.5H15V7.5H12.5ZM3.55 12.2425L4.2575 12.95L6.025 11.1825L5.3175 10.475L3.55 12.2425ZM13.45 3.7575L12.7425 3.05L10.975 4.8175L11.6825 5.525L13.45 3.7575Z"})}),Ne=(0,Ve().wt)("wheat",{viewBox:"0 0 17 16",svg:(0,h.jsx)("path",{d:"M12.0625 4.9975L10.56 6.5H13.75C13.75 7.425 13.175 8 12.25 8H9.06L7.56 9.5H10.75C10.75 10.425 10.175 11 9.25 11H6.06L3.06 14L2 12.94L3.5 11.44V8.25C3.5 7.325 4.075 6.75 5 6.75V9.94L6.5 8.44V5.25C6.5 4.325 7.075 3.75 8 3.75V6.94L12.06 2.88C12.6875 2.2525 13.2925 2.0025 14.1825 2.0025H15C15 3.8325 13.8775 4.9725 12.0625 5V4.9975Z"})}),Oe=["wake","breakfast","work","lunch","exercise"];function Ke(){const e=(0,i().v3)(),t=(0,a().IS)((t=>({databaseHeader:{display:"flex",flexDirection:"row",paddingTop:4,paddingBottom:4,gap:4,fontSize:(0,U().ny)(e,"UISmall")},status:{flex:1,textAlign:"end"}})),[e]);return(0,h.jsxs)("div",{style:t.databaseHeader,children:[(0,h.jsx)("div",{children:(0,h.jsx)(I().sA,{id:"CustomDbFeaturePreview.activity.headerTitle",defaultMessage:"Activity"})}),(0,h.jsx)("div",{style:t.status,children:(0,h.jsx)(I().sA,{defaultMessage:"Status",id:"database.propertyTypeName.status"})})]})}function Ze(e){let{type:t}=e;const n=(0,a().IS)((e=>({databaseRow:{display:"flex",flexDirection:"row",borderTop:`1px solid ${e.stroke.secondary}`,gap:12,paddingTop:4,paddingBottom:4},status:{flex:1,textAlign:"end"},title:{fontWeight:M().Wy.medium},iconContainer:{alignContent:"center"},icon:{width:16,height:16,alignSelf:"center",fill:"light"===e.mode?e.icon.quaternary:e.icon.tertiary}})),[]),i=(0,o.useMemo)((()=>{switch(t){case"wake":return Fe;case"breakfast":return Ne;case"work":return Ee;case"lunch":return We;case"exercise":return De;default:(0,T().HB)(t)}}),[t]),r=(0,o.useMemo)((()=>{switch(t){case"wake":return(0,h.jsx)(I().sA,{id:"CustomDbFeaturePreview.rowTitle.wake",defaultMessage:"Wake up and freshen up"});case"breakfast":return(0,h.jsx)(I().sA,{id:"CustomDbFeaturePreview.rowTitle.breakfast",defaultMessage:"Have breakfast"});case"work":return(0,h.jsx)(I().sA,{id:"CustomDbFeaturePreview.rowTitle.work",defaultMessage:"Work or study"});case"lunch":return(0,h.jsx)(I().sA,{id:"CustomDbFeaturePreview.rowTitle.lunch",defaultMessage:"Have lunch"});case"exercise":return(0,h.jsx)(I().sA,{id:"CustomDbFeaturePreview.rowTitle.exercise",defaultMessage:"Exercise"});default:(0,T().HB)(t)}}),[t]),s=(0,o.useMemo)((()=>{switch(t){case"wake":return(0,h.jsx)(I().sA,{id:"database.statusProperty.option.done",defaultMessage:"Done"});case"breakfast":return(0,h.jsx)(I().sA,{id:"database.statusProperty.option.inProgress",defaultMessage:"In progress"});case"work":case"lunch":case"exercise":return(0,h.jsx)(I().sA,{id:"database.statusProperty.option.notStarted",defaultMessage:"Not started"});default:(0,T().HB)(t)}}),[t]);return(0,h.jsxs)("div",{style:n.databaseRow,children:[(0,h.jsx)("div",{style:n.iconContainer,children:i(n.icon)}),(0,h.jsx)("div",{style:n.title,children:r}),(0,h.jsx)("div",{style:n.status,children:s})]})}const ze=function(){const e=(0,a().IS)((e=>({database:{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"}})),[]);return(0,h.jsxs)("div",{style:e.database,children:[(0,h.jsx)(Ke,{}),Oe.map((e=>(0,h.jsx)(Ze,{type:e},e)))]})};var Ge=()=>n(834368),Ue=()=>n(124085);const $e=[{type:"sync",date:k().c9.now(),area:"work"},{type:"review",date:k().c9.now().plus({days:1}),area:"work"},{type:"create",date:k().c9.now().plus({days:7}),area:"work"},{type:"book",date:k().c9.now(),area:"personal"},{type:"dinner",date:k().c9.now().plus({days:7}),area:"personal"}];function qe(e){let{task:t}=e;const{type:n,date:i,area:r}=t,s=(0,I().tz)(),l=(0,a().IS)((e=>({databaseRow:{display:"flex",flexDirection:"row",gap:12,paddingBottom:10,alignItems:"center"},date:{flex:1,textAlign:"end"},title:{fontWeight:M().Wy.medium},checkbox:{borderRadius:2},iconContainer:{alignContent:"center"},icon:{width:14,height:14,borderRadius:2,alignSelf:"center",fill:"light"===e.mode?e.icon.quaternary:e.icon.tertiary}})),[]),d=(0,o.useMemo)((()=>{switch(n){case"sync":return(0,h.jsx)(I().sA,{id:"MyTasksFeaturePreview.taskTitle.sync",defaultMessage:"Sync with Lisa"});case"review":return(0,h.jsx)(I().sA,{id:"MyTasksFeaturePreview.taskTitle.review",defaultMessage:"Review design docs"});case"create":return(0,h.jsx)(I().sA,{id:"MyTasksFeaturePreview.taskTitle.create",defaultMessage:"Create color palette"});case"book":return(0,h.jsx)(I().sA,{id:"MyTasksFeaturePreview.taskTitle.book",defaultMessage:"Book flights to New York"});case"dinner":return(0,h.jsx)(I().sA,{id:"MyTasksFeaturePreview.taskTitle.dinner",defaultMessage:"Dinner with Alex"});default:(0,T().HB)(n)}}),[n]),c=(0,o.useMemo)((()=>{switch(r){case"work":return(0,h.jsx)(I().sA,{id:"MyTasksFeaturePreview.area.work",defaultMessage:"Work"});case"personal":return(0,h.jsx)(I().sA,{id:"MyTasksFeaturePreview.area.personal",defaultMessage:"Personal"});default:(0,T().HB)(r)}}),[r]);return(0,h.jsxs)("div",{style:l.databaseRow,children:[(0,h.jsx)("div",{children:(0,Ge().K)(l.icon)}),(0,h.jsx)("div",{style:l.title,children:d}),(0,h.jsx)("div",{style:l.date,children:i.setLocale(s.locale).toLocaleString({month:"short",day:"numeric",year:"numeric"})}),(0,h.jsx)("div",{children:c})]})}function Ye(){const e=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},iconContainer:{marginRight:14},icon:{width:12,height:12}})),[]);return(0,h.jsxs)("div",{style:e.container,children:[(0,h.jsx)("div",{style:e.iconContainer,children:(0,Ue().P)(e.icon)}),(0,h.jsx)("div",{children:(0,h.jsx)(I().sA,{defaultMessage:"New task",id:"appTemplates.projects.tasksCollectionEmptyButtonTitle"})})]})}const Xe=function(){const e=(0,a().IS)((e=>({database:{display:"flex",flexDirection:"column",overflow:"hidden",height:"100%"}})),[]);return(0,h.jsxs)("div",{style:e.database,children:[$e.map((e=>(0,h.jsx)(qe,{task:e},e.type))),(0,h.jsx)(Ye,{})]})};function Je(e){const{feature:t}=e,n=o.useRef(null),i=(0,a().IS)((e=>({button:{padding:8,width:"fit-content"}})),[]),s=(0,r().K8)((()=>{switch(t){case"custom_db":return(0,h.jsx)(I().sA,{id:"CustomDbHomePanel.setup.button",defaultMessage:"Select database"});case"calendar":return(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.signedOut.buttonText",defaultMessage:"Connect Notion Calendar"});case"calendarDisconnectedAccount":return(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.disconnectedAccount.buttonText",defaultMessage:"Reconnect with Notion Calendar"});case"calendarMissingScopes":return(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.missingScopes.buttonText",defaultMessage:"Access calendar and contacts"});case"tasks":return(0,h.jsx)(I().sA,{defaultMessage:"Don't see your tasks?",id:"tasksEmptyState.noDatabases.title"});default:(0,T().HB)(t)}}),[t]);return(0,h.jsx)("div",{children:(0,h.jsx)(H().p,{isBlue:!0,shouldShrink:!0,onClick:()=>e.onSetup(n),style:i.button,ref:n,children:s})})}function Qe(e){let{feature:t}=e;const n=(0,a().IS)((e=>{const t={...(0,le().Xx)(e),fill:"light"===e.mode?e.text.quaternary:e.text.tertiary,color:e.text.quaternary,margin:8};return{icon:t,calendarIcon:{...t,height:34,width:34}}}),[]);return(0,r().K8)((()=>{switch(t){case"custom_db":return(0,be().k)(n.icon);case"calendar":case"calendarDisconnectedAccount":case"calendarMissingScopes":return(0,h.jsx)(Ce().y,{style:n.calendarIcon});case"tasks":return(0,ke().p)(n.icon);default:(0,T().HB)(t)}}),[t,n.calendarIcon,n.icon])}function et(e){let{feature:t,centerText:n}=e;const o=(0,a().IS)((e=>({featureDescription:{paddingLeft:8,paddingRight:8,marginTop:10,marginBottom:16,textAlign:n?"center":void 0}})),[n]),i=(0,r().K8)((()=>{var e;return null===(e=y().default.state.currentSpaceStore)||void 0===e||null===(e=e.getModel())||void 0===e?void 0:e.getRenderTitle()}),[]),s=(0,r().K8)((()=>{switch(t){case"custom_db":return(0,h.jsx)(I().sA,{id:"CustomDbHomePanel.setup.description",defaultMessage:"Pin a database view to quickly access it from Home."});case"calendar":return(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.signedOut.title",defaultMessage:"See your upcoming events and join meetings from Home."});case"calendarDisconnectedAccount":return(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.calendarAccountDisconnected.title",defaultMessage:"Unable to connect to your account."});case"calendarMissingScopes":return(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.missingScopes.title",defaultMessage:"Missing required permissions to access your calendar and contacts."});case"tasks":return(0,h.jsx)(I().sA,{id:"MyTasksHomePanel.setup.description",defaultMessage:"See all your tasks across {spaceName} in one place.",values:{spaceName:i}});default:(0,T().HB)(t)}}),[t,i]);return(0,h.jsx)("div",{style:o.featureDescription,children:(0,h.jsx)(K().A,{isSecondaryColor:!0,isMultiline:!0,children:s})})}const tt=function(e){let{feature:t,onSetup:o}=e;const s=(0,i().v3)(),l="narrow"===(0,n(30469).q)(),d=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"stretch"},leftContainer:{flexBasis:0,flexGrow:1,paddingTop:36,paddingBottom:36,paddingLeft:24,paddingRight:24,borderRight:l?void 0:`1px solid ${e.home.emptyStatePreview.verticalDivider}`},leftContent:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",alignItems:l?"center":void 0,paddingBottom:["calendar","calendarDisconnectedAccount","calendarMissingScopes"].includes(t)?0:8},right:{flexBasis:0,flexGrow:1,paddingTop:32,paddingLeft:24,paddingRight:24,height:236,fontSize:(0,U().ny)(s,"UIRegular"),color:"light"===e.mode?e.text.quaternary:e.text.tertiary,overflow:"hidden"}})),[s,t,l]),c=(0,r().K8)((()=>{switch(t){case"custom_db":return(0,h.jsx)(ze,{});case"calendar":case"calendarDisconnectedAccount":case"calendarMissingScopes":return(0,h.jsx)(Be,{});case"tasks":return(0,h.jsx)(Xe,{});default:(0,T().HB)(t)}}),[t]);return(0,h.jsxs)("div",{style:d.container,children:[(0,h.jsx)("div",{style:d.leftContainer,children:(0,h.jsxs)("div",{style:d.leftContent,children:[(0,h.jsx)(Qe,{feature:t}),(0,h.jsx)(et,{feature:t,centerText:l}),(0,h.jsx)(Je,{feature:t,onSetup:o})]})}),!l&&(0,h.jsx)("div",{style:d.right,children:c})]})};var nt=()=>n(158751);function ot(e){const{type:t}=e,n=(0,i().v3)(),s=(0,o.useContext)(re().a),l=(0,r().K8)((()=>(0,nt().P8)((0,nt()._I)())),[]),d=(0,o.useCallback)((()=>{const e=he().JW();(0,ye().V0)({environment:n,calendarPanelContext:(0,ye().sp)(null==s?void 0:s.panelState),notionAnalyticsSessionId:e}),(0,ve().i$)({environment:n,from:"homeEmptyStateCreateEvent",notionAnalyticsSessionId:e})}),[n,null==s?void 0:s.panelState]),c=(0,a().IS)((e=>({container:{display:"flex",flexGrow:1,width:"100%",height:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingLeft:"15%",paddingRight:"15%",gap:16},icon:{width:48,height:48,color:e.lightIconColor},titleText:{fontSize:(0,U().ny)(n,"UIRegular"),color:e.lightTextColor,textAlign:"center"},buttonStyle:{color:e.blueColor}})),[n]);let u,m,p,g=!0;switch(t){case"noEvents":u=(0,h.jsxs)(h.Fragment,{children:[1===l&&(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.noEvents.title.today",defaultMessage:"No upcoming events today"}),2===l&&(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.noEvents.title.todayOrTomorrow",defaultMessage:"No upcoming events today or tomorrow"}),l>=3&&(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.noEvents.title",defaultMessage:"No upcoming events in the next {days} days",values:{days:l}})]}),m=(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.noEvents.buttonText",defaultMessage:"+ New event"}),p=d;break;case"loadError":u=(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.loadError.title",defaultMessage:"Events not loading"}),m=(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.loadError.buttonText",defaultMessage:"Try again"}),p=e.onRetry,g=e.isRetryEnabled;break;default:(0,T().HB)(t)}return(0,h.jsxs)("div",{style:c.container,children:[(0,h.jsx)(Ce().y,{style:c.icon}),(0,h.jsx)("div",{style:c.titleText,children:u}),g&&(0,h.jsx)(H().p,{style:c.buttonStyle,onClick:p,children:m})]})}const it=o.memo(ot);var rt=()=>n(680784),at=()=>n(921997),st=()=>n(941541),lt=()=>n(573985),dt=()=>n(812109);n(944114);function ct(e){let{}=e;const t=(0,r().K8)((()=>Se().A.getCalendarAndAccountIds()),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(h.Fragment,{children:[t.map((e=>(0,h.jsx)(ut,{accountId:e.accountId,calendarId:e.calendarId},(0,dt().N)(e)))),(0,h.jsx)(mt,{})]}),(0,h.jsx)(pt,{})]})}function ut(e){let{accountId:t,calendarId:n}=e;const{botId:a}=(0,je().m)();return function(e){let{accountId:t,botId:n,calendarId:a}=e;const s=(0,i().v3)(),l=(0,r().K8)((()=>y().default.state.currentSpaceViewStore),[]),d=(0,o.useRef)([]),c=(0,o.useCallback)((()=>{if(!n)return;const e=(0,at().Xq)({accountId:t,botId:n,calendarId:a}),o=st().Ay.addListener(e,void 0,(0,st().AY)((()=>(0,lt().tD)({currentSpaceViewStore:l,environment:s,botId:n,timeRange:(0,nt().M)(),calendarAndAccountIds:[{calendarId:a,accountId:t}],forceRefetch:!0,reason:"event_change"}))),void 0,s);o&&d.current.push(o);const i=(0,at().Bp)({botId:n,accountId:t,calendarId:a}),r=st().Ay.addListener(i,void 0,(0,st().AY)(((e,o)=>{if("true"!==o&&"false"!==o)return;const i=JSON.parse(o);(0,lt().X8)({environment:s,botId:n,calendarId:a,accountId:t,newIsVisible:i})})),void 0,s);r&&d.current.push(r)}),[n,t,a,s,l]),u=(0,o.useCallback)((()=>{for(const e of d.current)st().Ay.removeListener(e,s);d.current=[]}),[s]);(0,o.useEffect)((()=>(c(),u)),[c,u])}({accountId:t,botId:a,calendarId:n}),null}function mt(){const e=(0,i().v3)(),t=(0,r().K8)((()=>y().default.state.currentSpaceViewStore),[]),{botId:n}=(0,je().m)(),a=(0,o.useRef)(),s=(0,o.useCallback)((()=>{if(!n)return;const o=(0,at().G8)({botId:n});a.current=st().Ay.addListener(o,void 0,(0,st().AY)((()=>(0,lt().tD)({currentSpaceViewStore:t,environment:e,botId:n,timeRange:(0,nt().M)(),forceRefetch:!0,updateMethod:"replace",reason:"calendar_change"}))),void 0,e)}),[n,e,t]),l=(0,o.useCallback)((()=>{a.current&&(st().Ay.removeListener(a.current,e),a.current=void 0)}),[e]);return(0,o.useEffect)((()=>(s(),l)),[s,l]),null}function pt(){const e=(0,i().v3)(),t=(0,r().K8)((()=>y().default.state.currentSpaceViewStore),[]),n=(0,je().m)(),a=(0,o.useCallback)((()=>k().c9.now().plus({minutes:1}).startOf("minute").plus({seconds:1}).diffNow().as("milliseconds")),[]),s=(0,o.useCallback)((()=>(0,lt().m5)({currentSpaceViewStore:t})),[t]);var l,d;l=a,d=s,(0,o.useEffect)((()=>{let e;const t=()=>{d(),e=setTimeout(t,l())};return e=setTimeout(t,l()),()=>clearTimeout(e)}),[d,l]);const c=(0,fe().s5)().toISODate(),u=(0,o.useRef)(c);return(0,o.useEffect)((()=>{n.botId&&c!==u.current&&((0,lt().tD)({environment:e,currentSpaceViewStore:t,botId:n.botId,timeRange:(0,nt().M)(),forceRefetch:!0,reason:"date_change"}),u.current=c)}),[n,t,e,c]),null}const ht=o.memo(ct);var gt=()=>n(406699);class ft extends E().default{getInitialState(){return{open:!1}}close(){this.setState({open:!1})}open(e){this.setState({open:!0,panel:e})}}const vt=ft;var Ct=()=>n(563884),yt=()=>n(742117);const xt=(0,Ve().wt)("circleUnfilled",{viewBox:"0 0 20 20",svg:(0,h.jsx)("circle",{cx:"10",cy:"10",r:"5.125",strokeWidth:"1.75",fill:"none"})});var St=()=>n(207583),jt=()=>n(133033);const wt=(0,Ve().wt)("navigationCrossedOut",{viewBox:"0 0 20 20",svg:(0,h.jsx)("path",{d:"M3.91602 10.6729C3.67904 10.6683 3.47852 10.6136 3.31445 10.5088C3.15495 10.404 3.03418 10.2718 2.95215 10.1123C2.87467 9.94824 2.84277 9.77734 2.85645 9.59961C2.87012 9.41732 2.93164 9.24414 3.04102 9.08008C3.15039 8.91602 3.31445 8.78613 3.5332 8.69043L6.5752 7.27539L7.55957 8.2666L5.22852 9.33301C5.21029 9.34212 5.20117 9.35124 5.20117 9.36035C5.20573 9.36947 5.21484 9.37402 5.22852 9.37402L8.65332 9.35352L10.2529 10.9531L10.2324 14.3779C10.2324 14.3916 10.237 14.4007 10.2461 14.4053C10.2552 14.4053 10.262 14.3984 10.2666 14.3848L11.3467 12.0537L12.3379 13.0449L10.9707 15.998C10.8659 16.2214 10.7314 16.3923 10.5674 16.5107C10.4033 16.6338 10.2279 16.7044 10.041 16.7227C9.85417 16.7409 9.67871 16.7135 9.51465 16.6406C9.35059 16.5677 9.21615 16.4492 9.11133 16.2852C9.00651 16.1257 8.9541 15.9251 8.9541 15.6836L8.94043 10.7754C8.94043 10.7344 8.93587 10.7093 8.92676 10.7002C8.91764 10.6911 8.89486 10.6865 8.8584 10.6865L3.91602 10.6729ZM13.5547 10.3994L12.5566 9.40137L14.5049 5.16992C14.5186 5.13802 14.5186 5.11979 14.5049 5.11523C14.4958 5.10612 14.4798 5.10612 14.457 5.11523L10.2119 7.06348L9.20703 6.07227L14.4639 3.63867C14.7555 3.50195 15.0244 3.44727 15.2705 3.47461C15.5166 3.50195 15.7171 3.59082 15.8721 3.74121C16.0316 3.88704 16.1273 4.08073 16.1592 4.32227C16.1911 4.55924 16.1387 4.82357 16.002 5.11523L13.5547 10.3994ZM15.4141 14.9863L4.72266 4.29492C4.61784 4.19466 4.56543 4.06934 4.56543 3.91895C4.56543 3.764 4.61784 3.63411 4.72266 3.5293C4.82747 3.41992 4.95508 3.36751 5.10547 3.37207C5.26042 3.37207 5.3903 3.42448 5.49512 3.5293L16.1865 14.2139C16.2913 14.3232 16.3415 14.4531 16.3369 14.6035C16.3369 14.7493 16.2868 14.877 16.1865 14.9863C16.0817 15.0911 15.9518 15.1436 15.7969 15.1436C15.6465 15.1436 15.5189 15.0911 15.4141 14.9863Z"})}),bt=(0,Ve().wt)("personCross",{viewBox:"0 0 20 20",svg:(0,h.jsx)("path",{d:"M13.2061 9.75684C13.0374 9.75684 12.8916 9.69531 12.7686 9.57227C12.6501 9.44922 12.5908 9.30339 12.5908 9.13477C12.5908 8.96615 12.6523 8.82259 12.7754 8.7041L14.5801 6.89258L12.7754 5.08105C12.6523 4.96257 12.5908 4.81901 12.5908 4.65039C12.5908 4.47721 12.6501 4.33366 12.7686 4.21973C12.8916 4.10124 13.0374 4.04199 13.2061 4.04199C13.3838 4.04199 13.5319 4.10352 13.6504 4.22656L15.4551 6.02441L17.2803 4.21973C17.4033 4.09212 17.5469 4.02832 17.7109 4.02832C17.8841 4.02832 18.0299 4.08984 18.1484 4.21289C18.2669 4.33138 18.3262 4.47493 18.3262 4.64355C18.3262 4.80762 18.2646 4.95117 18.1416 5.07422L16.3369 6.89258L18.1348 8.69727C18.2624 8.82031 18.3262 8.96615 18.3262 9.13477C18.3262 9.30339 18.2646 9.44922 18.1416 9.57227C18.0231 9.69531 17.8796 9.75684 17.7109 9.75684C17.5332 9.75684 17.3828 9.69303 17.2598 9.56543L15.4551 7.76758L13.6572 9.56543C13.5387 9.69303 13.3883 9.75684 13.2061 9.75684ZM2.89746 16.2441C2.51465 16.2441 2.21387 16.1576 1.99512 15.9844C1.77637 15.8112 1.66699 15.5742 1.66699 15.2734C1.66699 14.8314 1.79915 14.3688 2.06348 13.8857C2.33236 13.4027 2.71745 12.9492 3.21875 12.5254C3.72461 12.1016 4.33301 11.7575 5.04395 11.4932C5.75488 11.2288 6.55241 11.0967 7.43652 11.0967C8.3252 11.0967 9.125 11.2288 9.83594 11.4932C10.5469 11.7575 11.153 12.1016 11.6543 12.5254C12.1602 12.9492 12.5475 13.4027 12.8164 13.8857C13.0853 14.3688 13.2197 14.8314 13.2197 15.2734C13.2197 15.5742 13.1104 15.8112 12.8916 15.9844C12.6729 16.1576 12.3721 16.2441 11.9893 16.2441H2.89746ZM7.44336 9.87988C6.94661 9.87988 6.48861 9.74544 6.06934 9.47656C5.65462 9.20768 5.31966 8.84538 5.06445 8.38965C4.8138 7.93392 4.68848 7.4235 4.68848 6.8584C4.68848 6.30241 4.8138 5.80111 5.06445 5.35449C5.31966 4.90332 5.6569 4.54557 6.07617 4.28125C6.49544 4.01693 6.95117 3.88477 7.44336 3.88477C7.9401 3.88477 8.39811 4.01465 8.81738 4.27441C9.23665 4.53418 9.57161 4.88965 9.82227 5.34082C10.0775 5.78743 10.2051 6.28874 10.2051 6.84473C10.2051 7.41439 10.0775 7.92936 9.82227 8.38965C9.57161 8.84538 9.23665 9.20768 8.81738 9.47656C8.39811 9.74544 7.9401 9.87988 7.44336 9.87988Z"})});var kt=()=>n(148024),At=()=>n(980151),It=()=>n(760217),Tt=()=>n(939740),Mt=()=>n(89924),_t=()=>n(574036),Ht=()=>n(836251),Lt=()=>n(185984),Pt=()=>n(583238);function Rt(){return(0,r().K8)((()=>(0,Pt().pH)()),[])}var Bt=()=>n(885749),Vt=()=>n(149375),Et=()=>n(398208),Dt=()=>n(285790),Wt=()=>n(377515),Ft=(n(672577),()=>n(851979)),Nt=()=>n(569243);function Ot(e){let{botId:t,isMirrored:n}=e;const o=(0,r().K8)((()=>Se().A.getCurrentAccountIds()),[]),i=(0,a().IS)((()=>({container:{width:"100%",display:"flex",flexDirection:"column",height:228,opacity:n?.3:void 0},spacer:{width:"100%",paddingBottom:12}})),[n]);return(0,h.jsxs)("div",{style:i.container,children:[o.map((e=>(0,h.jsx)(Kt,{mirrored:n,botId:t,accountId:e},e))),(0,h.jsx)("div",{style:i.spacer})]})}function Kt(e){let{accountId:t,mirrored:n,botId:s}=e;const l=(0,i().v3)(),d=(0,r().K8)((()=>Se().A.getAccount(t)),[t]),c=(0,r().K8)((()=>Se().A.getCalendarsForAccount(t)),[t]),u=(0,o.useCallback)((()=>{(0,ve().u$)({environment:l,from:"homeDisconnectedAccountWarning"})}),[l]),m=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch"},title:{...M().RC},titleWrapper:{display:"flex",alignItems:"center",gap:4,cursor:"pointer"},disconnectedAccountWarningIcon:{color:e.mediumTextColor,width:12,height:12},sectionItem:{paddingTop:12,paddingBottom:4,marginTop:0,marginBottom:0},sectionTitle:{paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}})),[]);if(!d||d.authorized&&0===c.length)return null;const p=d.authorized?d.displayName:(0,h.jsx)(L().A,{renderTooltip:()=>(0,h.jsx)(I().sA,{id:"notionCalendarPanel.disconnectedAccountWarningTooltip",defaultMessage:"Calendar account requires reconnecting"}),render:e=>(0,h.jsxs)("span",{role:"button",style:m.titleWrapper,onClick:u,...e,children:[(0,h.jsx)("span",{style:m.title,children:d.displayName}),(0,pe().Q)(m.disconnectedAccountWarningIcon)]})});return(0,h.jsxs)("div",{style:m.container,children:[(0,h.jsx)(Mt().A,{title:p,style:m.sectionItem,desktopTitleStyle:m.sectionTitle}),c.map((e=>(0,h.jsx)(Zt,{mirrored:n,botId:s,calendar:e},(0,dt().N)(e))))]})}function Zt(e){var t;let{mirrored:n,botId:s,calendar:l}=e;const d=(0,i().v3)(),c=null===(t=(0,o.useContext)(re().a))||void 0===t?void 0:t.panelState,u=(0,r().K8)((()=>{if(!l.notionParentId||!l.subtitle)return!1;const e=Se().A.getCalendarsForAccount(l.accountId).find((e=>e.id!==l.id&&e.notionParentId&&e.notionParentId===l.notionParentId));return Boolean(e)}),[l.accountId,l.id,l.notionParentId,l.subtitle]),m=(0,r().K8)((()=>{const{currentSpaceViewStore:e}=y().default.state;return!!l&&(0,Wt().Pj)({spaceViewStore:e,botId:s,calendar:l})}),[s,l]),p=(0,a().IS)((e=>({container:{height:32},calendarName:{fontSize:(0,U().ny)(d,"UIRegular"),fontWeight:M().Wy.regular,color:e.regularTextColor,flexGrow:1,...M().RC},calendarColorIndicator:{height:10,width:10,flexShrink:0,flexGrow:0,borderRadius:"100%",backgroundColor:(0,Nt().QL)({theme:e,calendarColor:null==l?void 0:l.color})},calendarVisibilityIndicator:{flexShrink:0,flexGrow:0},eyeIcon:{width:20,height:20,padding:2,fill:e.mediumTextColor},eyeHiddenIcon:{width:20,height:20,fill:e.mediumIconColor},calendarNameAndSubtitleContainer:{display:"flex",alignItems:"center"},calendarSubtitle:{marginLeft:4,color:e.mediumTextColor}})),[null==l?void 0:l.color,d]);if(!l)return null;const g=u?(0,h.jsxs)("div",{style:p.calendarNameAndSubtitleContainer,children:[l.name,(0,h.jsx)("span",{style:p.calendarSubtitle,children:l.subtitle})]}):l.name;return(0,h.jsx)(It().A,{onClick:()=>(0,lt().vA)({environment:d,botId:s,calendarId:l.id,accountId:l.accountId,newIsVisible:!m,panelState:c}),disabled:n,focused:!1,style:p.container,left:(0,h.jsx)("div",{style:p.calendarColorIndicator}),title:g,right:(0,h.jsx)("div",{style:p.calendarVisibilityIndicator,children:m?(0,Ft().h)(p.eyeIcon):(0,St().F)(p.eyeHiddenIcon)})})}const zt=o.memo(Ot);function Gt(e){var t;let{popupStore:l}=e;const d=(0,i().v3)(),{botId:c}=(0,je().m)(),u=null===(t=(0,o.useContext)(re().a))||void 0===t?void 0:t.panelState,m=(0,r().K8)((()=>y().default.state.currentSpaceViewStore),[]),p=(0,r().uB)(void 0,S().A),g=(0,r().K8)((()=>(0,Wt().Xg)({botId:c,spaceViewStore:m})),[c,m]),f=(0,o.useCallback)((()=>{l.close(),(0,ye().lv)({environment:d,action:"close",calendarPanelContext:(0,ye().sp)(u)})}),[d,u,l]),v=(0,o.useCallback)((()=>l.open("main")),[l]),x=(0,o.useCallback)((()=>c&&(0,lt().Kq)({environment:d,botId:c,mirrorWithNotionCalendar:!g,panelState:u})),[c,d,u,g]),j=(0,a().IS)((()=>({accountsListSection:{paddingTop:0,paddingBottom:0}})),[]);if(!c)return null;const w=(0,ge().oE)([{key:"headerSection",render:e=>(0,h.jsx)(Mt().A,{...e}),items:[{key:"headerItem",render:e=>(0,h.jsx)(Ut,{onClose:f,onBackClick:v}),action:()=>{}}]},{key:"mirrorToggle",render:e=>(0,h.jsx)(Mt().A,{...e,topBorder:!0}),items:(0,ge().oE)([{key:"mirrorToggleItem",render:e=>(0,h.jsx)(_t().A,{...e,focused:!1,on:g,title:(0,h.jsx)(I().sA,{id:"calendarSettingsVisibilityPanel.mirrorWithNotionCalendar",defaultMessage:"Mirror calendar app"}),onClick:x}),action:()=>{}}])},{key:"accountsList",render:e=>(0,h.jsx)(Mt().A,{...e,style:j.accountsListSection}),items:(0,ge().oE)([{key:"accountsList",render:e=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n(550125).A,{scrollerStore:p}),(0,h.jsx)(s().H,{type:C().A.Y,store:p,children:(0,h.jsx)(zt,{botId:c,isMirrored:g,...e})})]}),action:()=>{}}])}]);return(0,h.jsx)(Tt().Ay,{onAccept:e=>{},type:Tt().Oh.Vertical,sections:w,initialFocus:void 0})}function Ut(e){let{onClose:t,onBackClick:n}=e;const o=(0,i().v3)(),r=(0,I().tz)(),s=(0,a().IS)((()=>({container:{paddingLeft:8,paddingRight:10,height:28,display:"flex",alignItems:"center",justifyContent:"flex-start",gap:3},arrowLeftIcon:{width:24,height:24,flexShrink:0,flexGrow:0},menuTitle:{flexGrow:1,fontWeight:M().Wy.semibold,fontSize:(0,U().ny)(o,"UIRegular")},closeButton:{flexShrink:0}})),[o]);return(0,h.jsxs)("div",{style:s.container,children:[(0,h.jsx)(Dt().A,{style:s.arrowLeftIcon,icon:Vt().v,ariaLabel:r.formatMessage({id:"calendarSettingsVisibilityPanel.back",defaultMessage:"Back"}),onClick:n}),(0,h.jsx)("div",{style:s.menuTitle,children:(0,h.jsx)(I().sA,{id:"calendarSettingsVisibilityPanel.title",defaultMessage:"Calendars"})}),(0,h.jsx)(Et().A,{onClose:t,style:s.closeButton})]})}const $t=o.memo(Gt);var qt=()=>n(831310),Yt=()=>n(883234),Xt=()=>n(811979);const Jt={one_day:{title:(0,h.jsx)(I().sA,{id:"IncludeEventsPickerMenu.oneDay",defaultMessage:"Today"})},two_days:{title:(0,h.jsx)(I().sA,{id:"IncludeEventsPickerMenu.two_days",defaultMessage:"Today and tomorrow"})},three_days:{title:(0,h.jsx)(I().sA,{id:"IncludeEventsPickerMenu.three_days",defaultMessage:"3 days"})},one_week:{title:(0,h.jsx)(I().sA,{id:"IncludeEventsPickerMenu.one_week",defaultMessage:"1 week"})}};function Qt(e){var t;let{iconStyle:s,...l}=e;const d=(0,i().v3)(),c=null===(t=(0,o.useContext)(re().a))||void 0===t?void 0:t.panelState,u=(0,r().K8)((()=>(0,nt().iI)().key),[]),m=(0,a().IS)((e=>({container:{},lightText:{color:e.mediumTextColor},chevronDownIcon:{width:16,height:16,padding:2,marginLeft:4,fill:e.mediumIconColor},checkIcon:{width:16,height:16,fill:e.mediumIconColor},currentRangeIndicator:{display:"flex",alignItems:"center"}})),[]);return(0,h.jsx)(Xt().A,{...l,popupType:O().nl.Popup,placementToOrigin:P().W.Right,alignmentToOrigin:P().C.Start,renderOrigin:e=>(0,h.jsx)(It().A,{...e,focused:l.focused,icon:(0,n(529854).C)(s),title:(0,h.jsx)(I().sA,{id:"IncludeEventsPickerMenu.includeEventsTitle",defaultMessage:"Include events"}),right:(0,h.jsxs)("div",{style:m.currentRangeIndicator,children:[(0,h.jsx)("span",{style:m.lightText,children:Jt[u].title}),(0,Yt()._)(m.chevronDownIcon)]})}),render:e=>(0,h.jsx)(N().A,{menuType:G().gu.Popup,children:(0,h.jsx)(Tt().Ay,{onAccept:e.close,type:Tt().Oh.Vertical,sections:[{key:"all",render:e=>(0,h.jsx)(Mt().A,{...e}),items:(0,T().WP)(Jt).map((e=>{let[t,{title:n}]=e;return{action:()=>(e=>{(0,lt().w1)({environment:d,timeRange:e,panelState:c})})(t),key:t,render:e=>(0,h.jsx)(It().A,{...e,title:n,right:t===u?(0,qt().o)(m.checkIcon):void 0})}}))}],initialFocus:void 0})})})}const en=o.memo(Qt);function tn(e){var t;let{iconStyle:s,...l}=e;const d=(0,i().v3)(),c=null===(t=(0,o.useContext)(re().a))||void 0===t?void 0:t.panelState,{botId:u}=(0,je().m)(),m=Rt(),p=(0,r().O$)(n(53137).A.externalAuthentications),g=(0,o.useCallback)((e=>{if(!e)return"";const t=p.find((t=>t.parent_id===e.id));return null==t?void 0:t.account_name}),[p]),f=(0,a().IS)((e=>({lightText:{color:e.mediumTextColor},chevronDownIcon:{width:16,height:16,padding:2,marginLeft:4,fill:e.mediumIconColor},checkIcon:{width:16,height:16,fill:e.mediumIconColor},accountIndicator:{display:"flex",alignItems:"center"}})),[]);return(0,h.jsx)(Xt().A,{...l,popupType:O().nl.Popup,placementToOrigin:P().W.Right,alignmentToOrigin:P().C.Start,renderOrigin:e=>(0,h.jsx)(It().A,{...e,focused:l.focused,icon:(0,n(91451).z)(s),title:(0,h.jsx)(I().sA,{id:"NotionCalendarAccountPickerMenu.connectedAccountTitle",defaultMessage:"Connected"}),right:(0,h.jsxs)("div",{style:f.accountIndicator,children:[(0,h.jsx)("span",{style:f.lightText,children:g(m.find((e=>e.id===u)))}),(0,Yt()._)(f.chevronDownIcon)]})}),render:e=>(0,h.jsx)(N().A,{menuType:G().gu.Popup,children:(0,h.jsx)(Tt().Ay,{onAccept:e.close,type:Tt().Oh.Vertical,sections:[{key:"all",render:e=>(0,h.jsx)(Mt().A,{...e}),items:m.map((e=>({action:()=>{(0,lt().rq)({environment:d,botId:e.id,shouldLog:!0,panelState:c})},key:e.id,render:t=>(0,h.jsx)(It().A,{...t,title:g(e),right:e.id===u?(0,qt().o)(f.checkIcon):void 0})})))}],initialFocus:void 0})})})}const nn=o.memo(tn),on={all_day_events:{title:(0,h.jsx)(I().sA,{id:"NotionCalendarSettingsContent.allDayEvents",defaultMessage:"All-day events"}),icon:xt,setStroke:!0},events_without_participants:{title:(0,h.jsx)(I().sA,{id:"NotionCalendarSettingsContent.eventsWithoutParticipants",defaultMessage:"Events without participants"}),icon:bt},events_without_location:{title:(0,h.jsx)(I().sA,{id:"NotionCalendarSettingsContent.eventsWithoutLocation",defaultMessage:"Events without conferencing/location"}),icon:wt}};function rn(e){let{hasConnectedCalendar:t,popupStore:n}=e;const i=(0,r().K8)((()=>n.state.open?n.state.panel:void 0),[n]),[a,s]=(0,o.useState)(0),l=(0,o.useCallback)((e=>{e&&e.getBoundingClientRect().width>0&&!a&&s(e.getBoundingClientRect().width)}),[a]);if(!i)return null;let d;return"main"===i?d=(0,h.jsx)(an,{hasConnectedCalendar:t,popupStore:n}):"calendarVisibility"===i?d=(0,h.jsx)($t,{popupStore:n}):(0,T().ub)(i),(0,h.jsx)(N().A,{menuType:G().gu.Popup,innerRef:l,...a?{width:a}:{},children:d})}function an(e){let{hasConnectedCalendar:t,popupStore:n}=e;const s=(0,i().v3)(),l=(0,I().tz)(),d=(0,r().K8)((()=>y().default.state.currentSpaceViewStore),[]),c=Rt(),u=(0,o.useCallback)((()=>{kt().FH(s,{from:"home_calendar_settings"})}),[s]),m=(0,o.useCallback)((()=>n.open("calendarVisibility")),[n]),p=(0,o.useCallback)((()=>{d&&At().WO({environment:s,currentSpaceViewStore:d,feature:"calendar",from:"calendar_dismiss_button"})}),[d,s]),g=(0,a().IS)((e=>{const t={width:Bt().cL,height:Bt().cL,fill:e.regularIconColor},n=(0,le().EI)(e);return{icon:t,iconWithStroke:{...t,stroke:e.regularIconColor},iconSmall:{...t,padding:2},iconLarge:{...t,margin:-2,width:Bt().cL+4,height:Bt().cL+4},helpIcon:{...t,padding:2,fill:n.icon},rightChevronIcon:{width:16,height:16,fill:e.mediumIconColor},lightMenuButton:{color:n.text}}}),[]),f={key:"calendars",render:e=>(0,h.jsx)(It().A,{...e,icon:(0,Ct().k)(g.iconSmall),title:(0,h.jsx)(I().sA,{id:"NotionCalendarSettingsContent.calendars",defaultMessage:"Calendars"}),right:(0,yt().V)(g.rightChevronIcon)}),action:m},v={key:"includeEvents",render:e=>(0,h.jsx)(en,{iconStyle:g.icon,...e}),action:()=>{}},C=(0,T().WP)(on).map((e=>{let[t,{title:n,icon:o,setStroke:i}]=e;return{key:`eventFilter_${t}`,render:e=>(0,h.jsx)(sn,{...e,filter:t,icon:o(i?g.iconWithStroke:g.icon),title:n}),action:()=>{}}})),x={key:"hideWidget",render:e=>(0,h.jsx)(It().A,{...e,icon:(0,St().F)(g.iconLarge),title:l.formatMessage(Bt().uF.hide)}),action:p},S={key:"learnMore",render:e=>(0,h.jsx)(It().A,{...e,style:g.lightMenuButton,icon:(0,jt().$)(g.helpIcon),href:(0,Ht().xS)("guides.homeCalendar"),title:(0,h.jsx)(I().sA,{id:"NotionCalendarSettingsContent.learnMore",defaultMessage:"Learn more"})}),action:u},j={key:"connectedCalendarAccount",render:e=>(0,h.jsx)(nn,{iconStyle:g.iconSmall,...e}),action:()=>{}},w=(0,ge().oE)([t?{key:"calendarSpecificSettings",render:e=>(0,h.jsx)(Mt().A,{...e}),items:[f,v,...C]}:void 0,{key:"highLevelSettingsAndLinks",render:e=>(0,h.jsx)(Mt().A,{...e,topBorder:t}),items:[...c.length>1?[j]:[],x,S]}]);return(0,h.jsx)(Tt().Ay,{onAccept:e=>{},type:Tt().Oh.Vertical,sections:w,initialFocus:void 0})}function sn(e){var t;let{filter:n,title:s,icon:l,...d}=e;const c=(0,i().v3)(),u=null===(t=(0,o.useContext)(re().a))||void 0===t?void 0:t.panelState,m=(0,r().K8)((()=>(0,Lt().E)(n)),[n]),p=(0,o.useCallback)((()=>{(0,lt().X6)({environment:c,filter:n,panelState:u})}),[c,n,u]),g=(0,a().IS)((e=>({title:{marginRight:8}})),[]);return(0,h.jsx)(_t().A,{...d,on:m,icon:l,title:s,titleStyle:g.title,onClick:p})}const ln=o.memo(rn);function dn(e){var t;let{hasConnectedCalendar:a}=e;const s=(0,i().v3)(),l=(0,r().uB)(void 0,vt),d=(0,r().K8)((()=>l.state.open),[l]),c=null===(t=(0,o.useContext)(re().a))||void 0===t?void 0:t.panelState,u=(0,o.useCallback)((()=>{l.close(),(0,ye().lv)({environment:s,action:"close",calendarPanelContext:(0,ye().sp)(c)})}),[s,c,l]),m=(0,o.useCallback)((()=>{l.open("main"),(0,ye().lv)({environment:s,action:"open",calendarPanelContext:(0,ye().sp)(c)})}),[s,c,l]);return(0,h.jsx)(gt().Ay,{renderOrigin:e=>(0,h.jsx)(n(167068).A,{...e,onClick:m}),open:d,popupType:O().nl.Popup,alignmentToOrigin:gt().yP.End,placementToOrigin:gt().sx.Bottom,onClose:u,onClick:m,render:e=>(0,h.jsx)(ln,{hasConnectedCalendar:a,popupStore:l})},"settings")}const cn=o.memo(dn);let un=!1;function mn(e){switch(e){case"signedOut":case"disconnectedAccount":case"missingScopes":case"loading":case"loadError":return!1;case"noEvents":case"events":return!0;default:(0,T().ub)(e)}}function pn(e){switch(e){case"signedOut":case"disconnectedAccount":case"missingScopes":case"loading":case"loadError":return!1;case"noEvents":case"events":return!0;default:(0,T().ub)(e)}}function hn(e,t){switch(e){case"signedOut":case"disconnectedAccount":case"missingScopes":case"loading":case"loadError":return!1;case"noEvents":case"events":return t.length>0;default:(0,T().ub)(e)}}function gn(e){let{provider:t}=e;return"google"===t}function fn(e){let{provider:t}=e;return"icloud"===t}function vn(e){let{disconnectedAccounts:t,style:n,iconStyle:r}=e;const a=(0,i().v3)(),s=(0,o.useCallback)((()=>{(0,ve().u$)({environment:a,from:"homeDisconnectedAccountWarning"})}),[a]);if(0===t.length)return null;const l=1===t.length?(0,h.jsx)(I().sA,{id:"notionCalendarPanel.disconnectedAccountsWarningTooltip.one",defaultMessage:"{accountName} requires reconnecting",values:{accountName:t[0].displayName}}):(0,h.jsx)(I().sA,{id:"notionCalendarPanel.disconnectedAccountsWarningTooltip.multiple",defaultMessage:"{numDisconnectedAccounts} accounts require reconnecting",values:{numDisconnectedAccounts:t.length}});return(0,h.jsx)(L().A,{renderTooltip:()=>l,render:e=>(0,h.jsx)(H().p,{icon:pe().Q,iconStyle:r,onClick:s,style:n,...e})})}const Cn=function(e){let{maxHeight:t,onLoaded:l,onDisplayStateChanged:d}=e;const c=(0,i().v3)(),u=(0,r().K8)((()=>y().default.state.currentSpaceStore),[]),m=(0,je().m)(),{timeZone:p}=(0,n(767525).mn)(),g=(0,fe().s5)(),f=(0,r().K8)((()=>void 0!==Se().A.getStateForCurrentSpaceView()),[]);(0,o.useEffect)((()=>{l()}),[l]);const v=(0,o.useMemo)((()=>E().default.createValue({})),[]),{isRetryEventLoadingEnabled:x,retryEventLoading:S,eventsLoadingState:j,days:w,numDaysWithEvents:b}=(0,n(196459).O)();(0,o.useEffect)((()=>{let e=0;const t={};for(const o of w){const i=(0,n(823115).qi)(g.toISODate(),o.date,p);for(const{baseEvent:r}of(0,n(307750).Om)(o)){t[(0,rt().f)({event:r,date:o.date})]={eventIndex:e,numDaysFromToday:i},e++}}v.setState(t)}),[w,v,p,g]);const{connectedAccounts:k,disconnectedAccounts:A}=(0,r().K8)((()=>{var e;const t=ge().$z((null===(e=Se().A.getStateForCurrentSpaceView())||void 0===e?void 0:e.accounts.getOrderedValues())??[],(e=>{let{authorized:t}=e;return String(t)}));return{connectedAccounts:t.true??[],disconnectedAccounts:t.false??[]}}),[]),M=function(e){let{botIdState:t,eventsLoadingState:n,isEventsDataAvailable:o,numDaysWithEvents:i,connectedAccounts:r,disconnectedAccounts:a}=e;const s=r.filter((e=>gn(e)||fn(e))),l=a.filter((e=>gn(e)||fn(e)));return t.loading||"resolved"!==n.status&&"rejected"!==n.status||"resolved"===n.status&&"noConnectedBot"===n.value&&!t.loading&&void 0!==t.botId||"resolved"===n.status&&"loadCompleted"===n.value&&!o||"resolved"===n.status&&"appNotSynced"===n.value?"loading":!t.loading&&!t.botId||0===s.length&&0===l.length?"signedOut":0===r.filter(gn).length&&a.filter(gn).length>0?a.filter(gn).some((e=>"missingScopes"===e.authorizationStatus))?"missingScopes":"disconnectedAccount":"rejected"===n.status||"resolved"===n.status&&"loadError"===n.value?"loadError":0===i?"noEvents":"events"}({botIdState:m,eventsLoadingState:j,isEventsDataAvailable:f,numDaysWithEvents:b,connectedAccounts:k,disconnectedAccounts:A});(0,o.useEffect)((()=>d(M)),[M,d]),(0,xe().v)({firstMountToReadyMetricName:"home.calendar.first_mount_to_ready",pageOriginToReadyMetricName:"home.calendar.page_origin_to_ready",isReady:"noEvents"===M||"events"===M,homeType:"personal"});const _=(0,o.useContext)(re().a);(0,o.useEffect)((()=>{if(!un){const e=null==_?void 0:_.panelState;void 0!==e&&((0,ye().qL)({environment:c,calendarPanelContext:(0,ye().sp)(e)}),un=!0)}}),[null==_?void 0:_.panelState,c]);const P=(0,o.useCallback)((()=>{const e=he().JW();(0,ye().V0)({environment:c,calendarPanelContext:(0,ye().sp)(null==_?void 0:_.panelState),notionAnalyticsSessionId:e}),(0,ve().i$)({environment:c,from:"homeCreateEvent",notionAnalyticsSessionId:e})}),[null==_?void 0:_.panelState,c]),R=(0,o.useCallback)((()=>{(0,ve().Op)({environment:c,spaceStore:y().default.state.currentSpaceStore,collectionViewStore:void 0,from:"homeOpenCalendarFromPanel"})}),[c]),B=(0,o.useCallback)((()=>{(0,ve().Op)({environment:c,spaceStore:u,collectionViewStore:void 0,from:"homeSignupClick"})}),[c,u]),V=(0,o.useCallback)((()=>{(0,ve().u$)({environment:c,from:"homeReconnectAccountClick"})}),[c]),D=(0,o.useMemo)((()=>function(e){let{displayState:t,isRetryEventLoadingEnabled:n,retryEventLoading:o,onConnectCalendarClick:i,onReconnectAccountClick:r}=e;const a={minHeight:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0};let s;switch(t){case"signedOut":s={isShowingEmptyState:!0,emptyStateReactNode:(0,h.jsx)(tt,{feature:"calendar",onSetup:i}),styleOverrides:a};break;case"disconnectedAccount":s={isShowingEmptyState:!0,emptyStateReactNode:(0,h.jsx)(tt,{feature:"calendarDisconnectedAccount",onSetup:r}),styleOverrides:a};break;case"missingScopes":s={isShowingEmptyState:!0,emptyStateReactNode:(0,h.jsx)(tt,{feature:"calendarMissingScopes",onSetup:r}),styleOverrides:a};break;case"noEvents":s={isShowingEmptyState:!0,emptyStateReactNode:(0,h.jsx)(it,{type:"noEvents"})};break;case"loadError":s={isShowingEmptyState:!0,emptyStateReactNode:(0,h.jsx)(it,{type:"loadError",onRetry:o,isRetryEnabled:n})};break;case"loading":case"events":s={isShowingEmptyState:!1};break;default:(0,T().HB)(t)}return s}({displayState:M,isRetryEventLoadingEnabled:x,retryEventLoading:S,onConnectCalendarClick:B,onReconnectAccountClick:V})),[M,x,S,B,V]),W=D.isShowingEmptyState,F=(0,a().IS)((e=>{const n=W?le().VQ:0,o={width:24,height:24,padding:0,display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"none"};return{panel:{minHeight:"events"===M?0:t,maxHeight:t,...W?{paddingBottom:le().VQ,paddingLeft:le().VQ,paddingTop:le().VQ,paddingRight:n}:{paddingRight:n,paddingBottom:0},...null==D?void 0:D.styleOverrides},innerContainer:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",paddingBottom:0},listShimmerContainer:{paddingTop:12,height:t,overflow:"hidden"},icon:{width:14,height:14,fill:"inherit"},createEventIcon:{marginRight:0},actionButton:o,createEventButton:{...o,marginLeft:4},arrowUpRightIcon:{transform:"rotate(90deg)",marginTop:4,marginLeft:2,width:14,height:14,fill:e.mediumIconColor},disconnectedAccountWarningIcon:{fill:e.mediumIconColor,marginRight:0},scroller:{paddingTop:10}}}),[W,M,t,null==D?void 0:D.styleOverrides]);return(0,h.jsxs)(h.Fragment,{children:["loading"!==M&&(0,h.jsx)(ht,{}),(0,h.jsx)(we().A,{title:(0,h.jsx)(I().sA,{id:"notionCalendarPanel.panelTitle",defaultMessage:"Upcoming events"}),tooltip:(0,h.jsx)(I().sA,{id:"notionCalendarEmptyState.signedOut.title",defaultMessage:"See your upcoming events and join meetings from Home."}),actions:(0,ge().oE)([hn(M,A)?(0,h.jsx)(vn,{disconnectedAccounts:A,style:F.actionButton,iconStyle:F.disconnectedAccountWarningIcon},"disconnectedAccountWarning"):void 0,pn(M)?(0,h.jsx)(L().A,{renderTooltip:()=>(0,h.jsx)(I().sA,{id:"notionCalendarPanel.openNotionCalendarTooltip",defaultMessage:"Open Notion Calendar"}),render:e=>(0,h.jsx)(H().p,{icon:n(122555).p,iconStyle:F.arrowUpRightIcon,onClick:R,style:F.actionButton,...e})},"openNotionCalendar"):void 0,(0,h.jsx)(cn,{hasConnectedCalendar:!m.loading&&(0,T().O9)(m.botId)},"settings"),mn(M)?(0,h.jsx)(L().A,{renderTooltip:()=>(0,h.jsx)(I().sA,{id:"notionCalendarPanel.createEventTooltip",defaultMessage:"Create event"}),render:e=>(0,h.jsx)(n(204063).A,{icon:n(464699).b,iconStyle:F.createEventIcon,onClick:P,style:F.createEventButton,...e})},"createEvent"):void 0]),actionsGap:2,panelStyle:F.panel,icon:(0,h.jsx)(Ce().y,{style:F.icon}),children:D.isShowingEmptyState?D.emptyStateReactNode:(0,h.jsx)("div",{style:F.innerContainer,children:"loading"===M?(0,h.jsx)("div",{style:F.listShimmerContainer,children:(0,h.jsx)(n(286993).c,{isFullScreen:!1,hasGroups:!1,hasPartialResults:!1,hasSearchQuery:!1})}):(0,h.jsx)(s().H,{type:C().A.Y,style:F.scroller,children:(0,h.jsx)(rt().A,{days:w,eventToAnalyticsStateStore:v})})})})]})};var yn=()=>n(938090);const xn=function(e){const{storeType:t,onLoaded:s,shouldRenderSetup:l,collectionContextStore:d,setCollectionContextStore:c,emptyStateTitle:u,emptyStateTooltip:m,emptyStateIcon:p,pageOriginToReadyMetricName:g,firstMountToReadyMetricName:f}=e,v=(0,i().v3)(),C=(0,i().Y0)(),x=(0,r().K8)((()=>y().default.state.currentSpaceViewStore),[]),S=(0,r().K8)((()=>{const e=(0,w().XH)(t);if(null!=e&&e.isCollectionView())return e}),[t]),j=(0,r().K8)((()=>{const e=null==d?void 0:d.collectionViewStore();return null==e?void 0:e.getType()}),[d]),b=(0,r().K8)((()=>"chart"===j?le().Mk:"list"===j?le().BZ:"feed"===j?le().EC:!C.isPhone||"board"!==j&&"gallery"!==j?le().dd:le().Ed),[C.isPhone,j]),k=(0,r().K8)((()=>(null==d?void 0:d.isLoadedStore.state)||(null==d?void 0:d.remoteErrorStore.state)),[d]);(0,o.useEffect)((()=>{k&&s()}),[k,s]);const A=(0,r().K8)((()=>{const e=Boolean(null==d?void 0:d.collectionStoresStore.state.length);return Boolean(k&&e)}),[d,k]);(0,xe().v)({firstMountToReadyMetricName:f,pageOriginToReadyMetricName:g,isReady:A,homeType:"personal"});const I=(0,a().IS)((e=>({panel:{paddingRight:0,paddingBottom:0,paddingLeft:0,paddingTop:0,height:"100%",minHeight:76,maxHeight:b,..."timeline"===j?{background:e.timelineBackground}:{},...l?{flexDirection:"row"}:{}}})),[j,b,l]),T=(0,o.useMemo)((()=>{const e=S&&(0,h.jsx)(yn().dN,{store:S,disabled:!1,isFullScreen:!1,overrideViewType:j,isFirstItem:!0,isLastItem:!0,maxHeight:b,overridePaddingLeft:"feed"===j?2:0,overridePaddingRight:"feed"===j?2:0,headerActionsBehavior:l?"hidden":void 0,hideViewTabBar:l,setCollectionContextStore:c,headerAllowedActions:"feed"===j?["filter","sort","automations","search","noDate"]:void 0});let n={panelStyle:I.panel,hideWrapStyle:!0,children:e};if(l){const e=()=>{const e=function(e){switch(e){case"customDb":return{feature:"custom_db",from:"custom_db_more_menu"};case"myTasks":return{feature:"tasks",from:"home_more_menu"};default:return}}(t);x&&t&&e&&At().WO({environment:v,currentSpaceViewStore:x,...e})};n={...n,title:u,tooltip:m,icon:p,actions:[(0,h.jsx)(Bt().Ay,{actions:[{type:"hide",hide:e}]},"moreMenu")]}}return(0,h.jsx)(we().A,{...n})}),[v,t,x,S,j,b,l,c,I.panel,u,m,p]);return(0,h.jsx)(n(145214).A,{animate:{maxHeight:b},children:S?(0,h.jsx)(n(13679).A,{store:S,isDefaultContainer:!0,droppable:!0,disableEditNearestBlock:!0,render:e=>{let{selectableEvents:t}=e;return(0,h.jsx)("div",{...t,children:T})}}):T})};const Sn=function(e){let{onLoaded:t}=e;const[i,s]=o.useState(void 0),l=(0,a().IS)((e=>({icon:{color:e.mediumIconColor,width:14,height:14}})),[]),d=(0,r().K8)((()=>{const e=(0,w().XH)("customDb");if(null!=e&&e.isCollectionView())return e}),[]),c=(0,r().K8)((()=>Boolean(d&&i&&!i.collectionStore()&&d.getCollectionViewStores().length<=1)),[i,d]);return(0,h.jsx)(xn,{storeType:"customDb",onLoaded:t,shouldRenderSetup:c,collectionContextStore:i,setCollectionContextStore:s,emptyStateTitle:(0,h.jsx)(I().sA,{id:"homePageTemplates.customDbTitle.includeHome",defaultMessage:"Home views"}),emptyStateTooltip:(0,h.jsx)(I().sA,{id:"CustomDbHomePanel.setup.description",defaultMessage:"Pin a database view to quickly access it from Home."}),emptyStateIcon:(0,n(29118).K)(l.icon),pageOriginToReadyMetricName:"home.custom_db.page_origin_to_ready",firstMountToReadyMetricName:"home.custom_db.first_mount_to_ready"})};n(814603),n(147566),n(198721);var jn=()=>n(654777);const wn=(0,Ve().wt)("videoAttachment",{viewBox:"0 0 28 28",svg:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("rect",{width:"28",height:"28",fill:"none"}),(0,h.jsx)("path",{d:"M14.1333 26.4668C21.103 26.4668 26.8667 20.7031 26.8667 13.7334C26.8667 6.75098 21.103 1 14.1206 1C7.15088 1 1.3999 6.75098 1.3999 13.7334C1.3999 20.7031 7.16357 26.4668 14.1333 26.4668ZM14.1333 24.8164C7.98877 24.8164 3.05029 19.8652 3.05029 13.7334C3.05029 7.58887 7.98877 2.6377 14.1206 2.6377C20.2651 2.6377 25.2163 7.58887 25.229 13.7334C25.229 19.8652 20.2778 24.8164 14.1333 24.8164ZM18.9702 14.3936C19.4653 14.1016 19.4526 13.4287 18.9702 13.1367L11.7212 8.79492C11.2261 8.49023 10.5786 8.73145 10.5786 9.27734V18.2275C10.5786 18.7734 11.188 19.0273 11.7212 18.71L18.9702 14.3936Z"})]})});var bn=()=>n(798880),kn=()=>n(755636),An=()=>n(920773),In=()=>n(132389);function Tn(e){let{completedType:t,offsetLeftOfCompletedType:n,cardWidth:o,from:i,visibleTips:r}=e;const a=function(e,t,n){if("modal"===t)return!1;const{currentUserSettingsStore:o}=y().default.state,i=null==o?void 0:o.getPersonalHomeTipsSettings().progress_data;if(!i)return!1;let r=!1;for(let s=0;s<e.length;s++){const t=e[s].key;if(t===n)r=!0;else{var a;const e=null===(a=i[t])||void 0===a?void 0:a.completed;if(!r&&!e)return!1;if(r&&e)return!1}}return!0}(r,i,t);return a?n+o:void 0}class Mn extends E().default{getInitialState(){return{num_checked:0,total_cards_shown:0}}}const _n=new Mn;var Hn=()=>n(533345),Ln=()=>n(560409),Pn=()=>n(763012),Rn=()=>n(617941);function Bn(e){let{message:t,icon:n,iconStyle:o}=e;const i=(0,a().IS)((e=>({container:{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center",flexDirection:"column",textAlign:"center",gap:12},icon:{...(0,le().Xx)(e),...o}})),[o]);return(0,h.jsxs)("div",{style:i.container,children:[null==n?void 0:n(i.icon),(0,h.jsx)(K().A,{isSecondaryColor:!0,isMultiline:!0,children:t})]})}const Vn=3*le().VQ;function En(){const e=(0,i().v3)(),t=(0,a().IS)((e=>({container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:14,color:e.lightTextColor,flexGrow:1,paddingTop:34,paddingBottom:30},icon:{width:16,height:16,fill:e.blueColor}})),[]);return(0,h.jsx)(Bn,{message:(0,h.jsxs)("div",{style:t.container,children:[(0,h.jsx)(I().sA,{id:"TipsHomePanel.emptyState.message",defaultMessage:"New tips and guides will appear here."}),(0,h.jsx)(In().A,{size:12}),(0,h.jsxs)(An().p,{isBlue:!0,onClick:()=>{kn().f({environment:e,url:"https://www.notion.so/help",targetSelf:!1})},children:[(0,h.jsx)(I().sA,{id:"TipsHomePanel.emptyState.exploreMore",defaultMessage:"Explore more in Help Center"}),(0,h.jsx)(In().A,{size:2}),(0,jn().X)(t.icon)]})]})})}function Dn(e){const{card:t,onCompleted:n}=e,a=(0,i().v3)(),s=(0,r().K8)((()=>{const{isElectron:e,isMobileNative:t}=a.device,n=["local","production"].includes("production");return(!e||n)&&!t}),[a]),l=t.key,d=(0,r().K8)((()=>{const{currentUserSettingsStore:e}=y().default.state;if(!e)return!1;const t=e.getPersonalHomeTipsSettings().progress_data[l];return!!t&&t.completed}),[l]),c=(0,o.useRef)(null),u=(0,o.useCallback)(((e,t)=>{if(e===d)return;(0,j().it)({tipType:l,completed:e,environment:a});const o=_n.state,i=o.num_checked+(e?1:-1);_n.setState({...o,num_checked:i}),ie().kx(a,{tip_key:l,checked:e,from:t,num_checked:i,total_cards_shown:o.total_cards_shown}),e&&c.current&&n(l,t,c.current)}),[l,a,d,n]),m=(0,o.useCallback)((()=>{ie().cF(a,{tip_key:l,was_completed:d,in_app_modal_enabled:s}),s?Hn().A.setState({open:!0,tipCardDisplayInfo:t,onClosed:()=>u(!0,"modal")}):u(!0,"clickthrough")}),[a,l,d,s,u,t]),p=(0,o.useMemo)((()=>{const e=(0,Ht().xS)("guides.guides"),n=new URLSearchParams;return n.set("utm_source","tips"),n.set("utm_medium","inapp"),n.set("utm_campaign","2024q1_tipsinhome_m2"),s?void 0:`${e}${t.href}?${n.toString()}`}),[s,t.href]);return(0,h.jsx)(Fn,{ref:c,isChecked:d,href:p,onCheck:u,onClick:m,card:t})}function Wn(e,t){let{isChecked:i,href:r,onCheck:s,onClick:l,card:d}=e;const[c,u]=(0,o.useState)(!1),m=(0,a().IS)((e=>{const t={opacity:1,transition:"opacity 0.2s ease, transform 200ms ease-out"},n={display:"inline-flex",alignItems:"center",fontSize:12,gap:4};return{container:{height:216,width:240,display:"flex",flexDirection:"column",alignItems:"stretch"},imageContainer:{height:126,flexShrink:0,flexGrow:0,background:e.home.cards.coverPhoto.base,objectFit:"cover"},detailsAndCheckboxContainer:{flexGrow:1,padding:12,paddingBottom:10,display:"flex",flexDirection:"row",justifyContent:"stretch"},checkboxContainer:{flexShrink:0,flexGrow:0,marginLeft:12},detailsContainer:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"start"},title:{fontSize:14,lineHeight:"18px",fontWeight:M().Wy.medium,whiteSpace:"pre-wrap",...(0,U().pA)(2)},caption:{...n,color:e.text.secondary,fill:e.mediumIconColor},pressedCaption:{...n,color:e.text.tertiary,fill:e.lightIconColor},hiddenCheckbox:{baseCheckboxStyle:t,opacity:0},checkbox:t,hoveredCheckbox:{...t,fill:e.home.cards.coverPhoto.base},bookIcon:{padding:1,width:16,height:16}}}),[]),p=i?m.checkbox:c?m.hoveredCheckbox:m.hiddenCheckbox,g=i?m.pressedCaption:m.caption;let f;switch(d.contentType){case"video":f=(0,h.jsxs)("div",{style:g,children:[wn(m.bookIcon),(0,h.jsx)(I().sA,{id:"tipsHomePanel.captionDuration2.watch",defaultMessage:"{duration}m watch",values:{duration:d.durationMinutes}})]});break;case"article":f=(0,h.jsxs)("div",{style:g,children:[(0,n(165987).J)(m.bookIcon),(0,h.jsx)(I().sA,{id:"tipsHomePanel.captionDuration2.read",defaultMessage:"{duration}m read",values:{duration:d.durationMinutes}})]});break;default:(0,T().ub)(d.contentType)}return(0,h.jsxs)(Ln().A,{ref:t,href:r,style:m.container,external:!0,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:l,hasLargeBorderRadius:!1,children:[(0,h.jsx)("img",{src:d.image,style:m.imageContainer}),(0,h.jsxs)("div",{style:m.detailsAndCheckboxContainer,children:[(0,h.jsxs)("div",{style:m.detailsContainer,children:[(0,h.jsx)("div",{style:m.title,children:d.title}),f]}),(0,h.jsx)("div",{style:m.checkboxContainer,children:(0,h.jsx)(n(625830).A,{checked:i,size:20,onClick:()=>s(!i,"check_button"),round:!0,thinOutline:!0,style:p,tooltipHeader:i?(0,h.jsx)(I().sA,{id:"tipsHomePanel.checkboxRedesign.incompleteTooltip",defaultMessage:"Mark incomplete"}):(0,h.jsx)(I().sA,{id:"tipsHomePanel.checkboxRedesign.completeTooltip",defaultMessage:"Mark complete"})})})]})]})}const Fn=o.forwardRef(Wn),Nn=function(e){var t;let{onLoaded:s}=e;const{value:l}=(0,n(645873).fJ)(n(117296).KM.personalHomeLearnHelpers),d=(0,i().v3)(),[c,u]=(0,o.useState)(!0),[m,p]=(0,o.useState)([]),[g,f]=(0,o.useState)([]),[v,C]=(0,o.useState)(void 0),x=null===(t=d.currentUser)||void 0===t?void 0:t.id,S=(0,n(646736).HI)(),w=(0,r().K8)((()=>null==S?void 0:S.getSpaceId()),[S]),b=(0,n(714300).l)({spaceId:w}),k=(0,n(753735).uq)(b),A=(0,r().K8)((()=>{if(!l)return[];const e=n(116499).A.state,{currentUserSettingsStore:t}=y().default.state;if(e)return l.getRelevantTipCards(e);if(null==t||!t.isReady())return[];const o=Boolean(null==S?void 0:S.isWorkspaceOwner())||bn().BF.id===x,i=l.getTipsEligibilityData({isWorkspaceOwner:o,isOnTrial:k});return l.getRelevantTipCards(i)}),[k,l,S,x]),T=(0,r().K8)((()=>{const{currentUserSettingsStore:e}=y().default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),M=(0,o.useCallback)((()=>{const{currentUserSettingsStore:e}=y().default.state;if(null==e||!e.isReady())return;const t=e.getPersonalHomeTipsSettings().progress_data,[n,o]=ge().jB(A,(e=>{const n=e.key,o=t[n];return null==o?void 0:o.completed}));p(n),f(o),u(!1),s(),_n.setState({..._n.state,num_checked:n.length,total_cards_shown:A.length})}),[A,s]),_=(0,o.useCallback)((()=>{(0,j().Qs)({hide:!T,environment:d});const e=_n.state;ie().ZX(d,{show_completed_tips:T,num_checked:e.num_checked,total_cards_shown:e.total_cards_shown}),M()}),[d,T,M]);(0,o.useEffect)((()=>{M()}),[M]);const H=(0,o.useCallback)((e=>{e&&C({position:e.offsetLeft-Vn,animate:!1})}),[]),L=(0,a().IS)((e=>({tileIcon:{width:14,height:14,fill:e.mediumIconColor},iconContainer:{alignItems:"baseline"},divider:{height:void 0,scrollMarginLeft:Vn},dividerColor:{color:e.home.cards.verticalDivider},showHideIcon:{height:Bt().cL,width:Bt().cL,padding:2,fill:e.regularIconColor}})),[]),P=(0,o.useCallback)((()=>{y().default.state.currentSpaceViewStore&&At().WO({environment:d,currentSpaceViewStore:y().default.state.currentSpaceViewStore,feature:"tips",from:"learn_dismiss_button"})}),[d]),R=!c&&T&&0===g.length,B=(0,o.useCallback)(((e,t,n)=>{const o=T?g:m.concat(g),i=Tn({completedType:e,offsetLeftOfCompletedType:n.offsetLeft,cardWidth:240,from:t,visibleTips:o});i&&C({position:i,animate:!0})}),[T,g,m]);return(0,h.jsx)(we().A,{title:(0,h.jsx)(I().sA,{id:"LearnHomePanel.Title",defaultMessage:"Learn"}),actions:[(0,h.jsx)(Bt().Ay,{actions:[{type:"custom",closeOnAccept:!0,item:{key:"show-hide-completed",action:_,render:e=>(0,h.jsx)(It().A,{...e,title:T?(0,h.jsx)(I().sA,{id:"tipsHomePanel.hideCompletedButton.show",defaultMessage:"Show completed"}):(0,h.jsx)(I().sA,{id:"tipsHomePanel.hideCompletedButton.hide",defaultMessage:"Hide completed"}),icon:(0,n(22394).o)(L.showHideIcon)})}},{type:"hide",hide:P}]},"more-menu")],icon:(0,h.jsx)(Rn().A,{icon:"book",style:L.tileIcon}),tooltip:(0,h.jsx)(I().sA,{id:"LearnHomePanel.Tooltip",defaultMessage:"Explore resources from our help center"}),iconContainerStyle:L.iconContainer,hideWrapStyle:!R,children:R?(0,h.jsx)(En,{}):(0,h.jsxs)(Pn().A,{cardWidth:240,scrollPosition:v,children:[!T&&m.map((e=>(0,h.jsx)(Dn,{card:e,onCompleted:B},e.key))),!T&&m.length>0&&g.length>0&&(0,h.jsx)(n(802790).A,{ref:H,vertical:!0,size:1,style:L.divider,dividerColor:L.dividerColor.color}),g.map((e=>(0,h.jsx)(Dn,{card:e,onCompleted:B},e.key)))]})})};const On=function(e){let{onLoaded:t}=e;const[i,s]=o.useState(void 0),l=(0,r().K8)((()=>{var e,t;const n=(null==i||null===(e=i.collectionStoresStore)||void 0===e?void 0:e.state)??[];return Boolean((null==i||null===(t=i.isLoadedStore)||void 0===t?void 0:t.state)&&0===n.length)}),[i]),d=(0,r().K8)((()=>{var e;return null===(e=y().default.state.currentSpaceStore)||void 0===e||null===(e=e.getModel())||void 0===e?void 0:e.getRenderTitle()}),[]),c=(0,a().IS)((e=>({icon:{color:e.mediumIconColor,width:14,height:14}})),[]);return(0,h.jsx)(xn,{storeType:"myTasks",onLoaded:t,shouldRenderSetup:l,collectionContextStore:i,setCollectionContextStore:s,emptyStateTitle:(0,h.jsx)(I().sA,{id:"MyTasksHomePanel.myTasksFeature",defaultMessage:"My tasks"}),emptyStateTooltip:(0,h.jsx)(I().sA,{id:"MyTasksHomePanel.setup.description",defaultMessage:"See all your tasks across {spaceName} in one place.",values:{spaceName:d}}),emptyStateIcon:(0,n(704654).E)(c.icon),pageOriginToReadyMetricName:"home.my_tasks.page_origin_to_ready",firstMountToReadyMetricName:"home.my_tasks.first_mount_to_ready"})};function Kn(){const e=(0,i().WS)(),t=(0,a().IS)((t=>({textContainer:{position:"relative",marginLeft:10},headerText:{fontSize:e?24:30,lineHeight:1,fontWeight:M().Wy.semibold,color:t.regularTextColor}})),[e]);return(0,h.jsx)("span",{style:t.textContainer,children:(0,h.jsx)("span",{style:t.headerText,children:(0,h.jsx)(I().sA,{defaultMessage:"Home",id:"personalHome.header.title"})})})}const Zn=function(e){const{onLoaded:t}=e;(0,n(143650).e)();const[i,r]=o.useState(void 0);return(0,h.jsx)(xn,{storeType:"posts",onLoaded:t,shouldRenderSetup:!1,collectionContextStore:i,setCollectionContextStore:r,emptyStateTitle:(0,h.jsx)(I().sA,{id:"postsHomePanel.title",defaultMessage:"Your Feed"}),emptyStateTooltip:(0,h.jsx)(I().sA,{id:"postsHomePanel.tooltip",defaultMessage:"Catch up on updates from your team"}),emptyStateIcon:(0,h.jsx)(Rn().A,{icon:"clipping"}),pageOriginToReadyMetricName:"home.custom_db.page_origin_to_ready",firstMountToReadyMetricName:"home.custom_db.first_mount_to_ready"})};var zn=()=>n(578136),Gn=()=>n(825972),Un=()=>n(235022);const $n=6;function qn(e){let{showLoadingShimmer:t,width:o,height:i,hasLargeBorderRadius:r}=e;const s=(0,a().IS)((e=>({item:{width:o,height:i,background:t?"unset":e.home.cards.coverPhoto.base,boxShadow:"unset"},loadingShimmer:{width:"100%",height:"100%"}})),[i,t,o]);return(0,h.jsx)(Ln().A,{style:s.item,disabled:!0,hasLargeBorderRadius:r,children:t&&(0,h.jsx)(n(710149).A,{style:s.loadingShimmer})})}const Yn=o.memo(qn);var Xn=()=>n(751735);const Jn=28,Qn=144,eo=144,to=112;function no(e){let{theme:t,dominantColorFromIcon:n,height:o}=e;return{container:{position:"relative",width:Qn,height:o,display:"flex",justifyContent:"stretch"},coverAndIconContainer:{position:"relative",width:Qn,marginBottom:16},emptyGalleryCoverStyle:{border:"unset",background:n?(0,Xn().X4)(n,.1):t.home.cards.coverPhoto.base}}}const oo={titleWrap:{width:"100%",minHeight:72,paddingTop:10,paddingBottom:12,paddingLeft:16,paddingRight:16,position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between",gap:10,flexGrow:1},titleText:{fontWeight:M().Wy.medium,fontSize:M().J.UIRegular.desktop,lineHeight:"normal",width:"auto",whiteSpace:"pre-wrap",...(0,U().pA)(2)}},io={position:"absolute",bottom:-Jn/2,left:16,width:Jn,height:Jn,display:"flex",justifyContent:"flex-start"};var ro=()=>n(584262);const ao=(0,Ve().wt)("newPageIconFilledDark",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289Z",fill:"#252525"}),(0,h.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289ZM13.0347 5.19043C13.0347 4.83496 13.0028 4.50456 12.939 4.19922C12.8797 3.88932 12.7521 3.63867 12.5562 3.44727C12.3693 3.25586 12.1187 3.12826 11.8042 3.06445C11.4943 3.00065 11.1639 2.96875 10.813 2.96875H5.20752C4.84749 2.96875 4.51025 3.00065 4.1958 3.06445C3.88135 3.12826 3.62842 3.25358 3.43701 3.44043C3.25016 3.63639 3.12484 3.88932 3.06104 4.19922C3.00179 4.50911 2.97217 4.84408 2.97217 5.2041V10.8096C2.97217 11.165 3.00179 11.4977 3.06104 11.8076C3.12484 12.113 3.25016 12.3613 3.43701 12.5527C3.62842 12.7396 3.87907 12.8672 4.18896 12.9355C4.50342 12.9993 4.83838 13.0312 5.19385 13.0312H10.813C11.1639 13.0312 11.4943 12.9993 11.8042 12.9355C12.1187 12.8717 12.3693 12.7441 12.5562 12.5527C12.7476 12.3613 12.8752 12.113 12.939 11.8076C13.0028 11.4977 13.0347 11.165 13.0347 10.8096V5.19043ZM4.84521 8C4.84521 7.80859 4.90446 7.65365 5.02295 7.53516C5.14144 7.41211 5.29867 7.35059 5.49463 7.35059H7.36768V5.47754C7.36768 5.29069 7.42692 5.13802 7.54541 5.01953C7.6639 4.89648 7.81429 4.83496 7.99658 4.83496C8.18799 4.83496 8.34294 4.89421 8.46143 5.0127C8.58447 5.13118 8.646 5.28613 8.646 5.47754V7.35059H10.519C10.7104 7.35059 10.8654 7.41211 10.9839 7.53516C11.1024 7.65365 11.1616 7.80859 11.1616 8C11.1616 8.18229 11.1024 8.33268 10.9839 8.45117C10.8654 8.56966 10.7104 8.62891 10.519 8.62891H8.646V10.5088C8.646 10.6956 8.58447 10.8506 8.46143 10.9736C8.34294 11.0921 8.18799 11.1514 7.99658 11.1514C7.81429 11.1514 7.6639 11.0921 7.54541 10.9736C7.42692 10.8506 7.36768 10.6956 7.36768 10.5088V8.62891H5.49463C5.30322 8.62891 5.146 8.56966 5.02295 8.45117C4.90446 8.33268 4.84521 8.18229 4.84521 8Z",fill:"white",fillOpacity:"0.283"})]})}),so=(0,Ve().wt)("newPageIconFilledLight",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289Z",fill:"white"}),(0,h.jsx)("path",{d:"M13.5474 2.46289C13.8937 2.80924 14.117 3.22624 14.2173 3.71387C14.3221 4.19694 14.3745 4.75065 14.3745 5.375V10.6182C14.3745 11.2471 14.3221 11.8031 14.2173 12.2861C14.117 12.7692 13.8937 13.1862 13.5474 13.5371C13.1919 13.888 12.7703 14.1159 12.2827 14.2207C11.7951 14.3255 11.2414 14.3779 10.6216 14.3779H5.37842C4.75407 14.3779 4.19808 14.3255 3.71045 14.2207C3.22738 14.1159 2.81038 13.888 2.45947 13.5371C2.104 13.1862 1.87614 12.7692 1.77588 12.2861C1.67562 11.8031 1.62549 11.2471 1.62549 10.6182V5.36816C1.62549 4.74837 1.67562 4.19694 1.77588 3.71387C1.8807 3.23079 2.10856 2.8138 2.45947 2.46289C2.81038 2.11198 3.22738 1.88411 3.71045 1.7793C4.19808 1.67448 4.74951 1.62207 5.36475 1.62207H10.6216C11.2414 1.62207 11.7951 1.67448 12.2827 1.7793C12.7703 1.88411 13.1919 2.11198 13.5474 2.46289ZM13.0347 5.19043C13.0347 4.83496 13.0028 4.50456 12.939 4.19922C12.8797 3.88932 12.7521 3.63867 12.5562 3.44727C12.3693 3.25586 12.1187 3.12826 11.8042 3.06445C11.4943 3.00065 11.1639 2.96875 10.813 2.96875H5.20752C4.84749 2.96875 4.51025 3.00065 4.1958 3.06445C3.88135 3.12826 3.62842 3.25358 3.43701 3.44043C3.25016 3.63639 3.12484 3.88932 3.06104 4.19922C3.00179 4.50911 2.97217 4.84408 2.97217 5.2041V10.8096C2.97217 11.165 3.00179 11.4977 3.06104 11.8076C3.12484 12.113 3.25016 12.3613 3.43701 12.5527C3.62842 12.7396 3.87907 12.8672 4.18896 12.9355C4.50342 12.9993 4.83838 13.0312 5.19385 13.0312H10.813C11.1639 13.0312 11.4943 12.9993 11.8042 12.9355C12.1187 12.8717 12.3693 12.7441 12.5562 12.5527C12.7476 12.3613 12.8752 12.113 12.939 11.8076C13.0028 11.4977 13.0347 11.165 13.0347 10.8096V5.19043ZM4.84521 8C4.84521 7.80859 4.90446 7.65365 5.02295 7.53516C5.14144 7.41211 5.29867 7.35059 5.49463 7.35059H7.36768V5.47754C7.36768 5.29069 7.42692 5.13802 7.54541 5.01953C7.6639 4.89648 7.81429 4.83496 7.99658 4.83496C8.18799 4.83496 8.34294 4.89421 8.46143 5.0127C8.58447 5.13118 8.646 5.28613 8.646 5.47754V7.35059H10.519C10.7104 7.35059 10.8654 7.41211 10.9839 7.53516C11.1024 7.65365 11.1616 7.80859 11.1616 8C11.1616 8.18229 11.1024 8.33268 10.9839 8.45117C10.8654 8.56966 10.7104 8.62891 10.519 8.62891H8.646V10.5088C8.646 10.6956 8.58447 10.8506 8.46143 10.9736C8.34294 11.0921 8.18799 11.1514 7.99658 11.1514C7.81429 11.1514 7.6639 11.0921 7.54541 10.9736C7.42692 10.8506 7.36768 10.6956 7.36768 10.5088V8.62891H5.49463C5.30322 8.62891 5.146 8.56966 5.02295 8.45117C4.90446 8.33268 4.84521 8.18229 4.84521 8Z",fill:"#C7C6C4"})]})});function lo(){const e=(0,i().v3)(),t=(0,r().K8)((()=>(0,zn().D)({isMobileNative:e.device.isMobileNative,disableExposureLogging:!0})),[e]),s=(0,o.useCallback)((()=>{n(869562).quickAddPage({environment:e,from:"home_recents_new_page_button",pageVisitSource:ro().y8.PersonalHomeTileRecentsQuickAdd})}),[e]),l=(0,a().IS)((e=>no({theme:e,dominantColorFromIcon:void 0,height:t?to:eo})),[t]);return(0,h.jsxs)(Ln().A,{style:l.container,onClick:s,hasLargeBorderRadius:!0,children:[(0,h.jsxs)("div",{style:l.coverAndIconContainer,children:[(0,h.jsx)(n(513439).t,{coverHeight:44,emptyGalleryCoverStyle:l.emptyGalleryCoverStyle}),(0,h.jsx)(co,{})]}),(0,h.jsx)(uo,{})]})}function co(){const e=(0,a().DP)().mode,t=(0,a().IS)((e=>({recordIcon:{...io,fill:e.lightIconColor}})),[]);switch(e){case"dark":return ao(t.recordIcon);case"light":return so(t.recordIcon);default:(0,T().HB)(e)}}function uo(){const e=(0,a().IS)((e=>({titleWrap:oo.titleWrap,titleText:{...oo.titleText,color:e.lightTextColor}})),[]);return(0,h.jsx)("div",{style:e.titleWrap,children:(0,h.jsx)("div",{style:e.titleText,children:(0,h.jsx)(I().sA,{id:"NewPageRecentsGalleryItem.newPageTitle",defaultMessage:"New page"})})})}const mo=o.memo(lo);var po=()=>n(869190);const ho=(0,Ve().wt)("pageIconFilledDark",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"white",fillOpacity:"0.445"})]})}),go=(0,Ve().wt)("pageIconFilledDarkNoContent",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"#252525"}),(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"white",fillOpacity:"0.445"})]})}),fo=(0,Ve().wt)("pageIconFilledLight",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947ZM10.437 8.93311C10.6831 8.93311 10.8677 9.12451 10.8677 9.36377C10.8677 9.60986 10.6831 9.80127 10.437 9.80127H5.43311C5.17334 9.80127 4.98877 9.60986 4.98877 9.36377C4.98877 9.12451 5.17334 8.93311 5.43311 8.93311H10.437ZM10.437 11.23C10.6831 11.23 10.8677 11.4214 10.8677 11.6675C10.8677 11.9067 10.6831 12.0913 10.437 12.0913H5.43311C5.17334 12.0913 4.98877 11.9067 4.98877 11.6675C4.98877 11.4214 5.17334 11.23 5.43311 11.23H10.437Z",fill:"#91918E"})]})}),vo=(0,Ve().wt)("pageIconFilledLightNoContent",{viewBox:"0 0 16 16",svg:(0,h.jsxs)("g",{children:[(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986Z",fill:"white"}),(0,h.jsx)("path",{d:"M4.35986 15.3999C2.89697 15.3999 2.13818 14.6343 2.13818 13.1577V2.84229C2.13818 1.37256 2.89697 0.600098 4.35986 0.600098H7.65479C8.50928 0.600098 8.98096 0.736816 9.55518 1.31787L13.144 4.96826C13.7388 5.56982 13.8618 6.00732 13.8618 6.95752V13.1577C13.8618 14.6274 13.103 15.3999 11.6401 15.3999H4.35986ZM4.46924 14.0601H11.5239C12.187 14.0601 12.522 13.7114 12.522 13.0757V7.13525H8.8374C7.8667 7.13525 7.38135 6.66357 7.38135 5.68604V1.93994H4.46924C3.80615 1.93994 3.47803 2.29541 3.47803 2.92432V13.0757C3.47803 13.7114 3.80615 14.0601 4.46924 14.0601ZM8.96045 5.95947H12.3374L8.56396 2.12451V5.55615C8.56396 5.83643 8.68018 5.95947 8.96045 5.95947Z",fill:"#91918E"})]})});var Co=()=>n(310442),yo=()=>n(824862),xo=()=>n(614505),So=()=>n(16006),jo=()=>n(256863),wo=()=>n(453697),bo=()=>n(907514);const ko=16;function Ao(e){let{store:t}=e;const o=(0,i().v3)(),s=(0,a().DP)(),l=(0,r().K8)((()=>{var e;return(0,n(613735).b)({icon:null===(e=t.getIconStore())||void 0===e?void 0:e.getValue(),theme:s})}),[t,s]),d=(0,r().K8)((()=>t.isReady()),[t]),c=(0,r().K8)((()=>(0,n(492414).Ay)({store:t,fullyQualified:!1,pageVisitSource:ro().y8.PersonalHomeTileRecents})),[t]),u=(0,r().K8)((()=>(0,zn().D)({isMobileNative:o.device.isMobileNative,disableExposureLogging:!0})),[o]),m=u?to:eo,p=(0,a().IS)((e=>no({theme:e,dominantColorFromIcon:l,height:m})),[l,m]);return d?(0,h.jsxs)(Ln().A,{style:p.container,href:c,metaHref:c,hasLargeBorderRadius:!0,children:[(0,h.jsxs)("div",{style:p.coverAndIconContainer,children:[(0,h.jsx)(n(545040).z,{variant:"gallery",store:t,coverFormat:{type:"page_cover"},coverHeight:44,showEmptyGalleryCover:!0,onLoadProxiedImage:e=>{},emptyGalleryCoverStyle:p.emptyGalleryCoverStyle}),(0,h.jsx)(Io,{store:t})]}),(0,h.jsx)(To,{store:t,hideLastEdited:u})]}):(0,h.jsx)(Yn,{width:Qn,height:m,showLoadingShimmer:!0,hasLargeBorderRadius:!0})}function Io(e){let{store:t}=e;const n=(0,i().WS)(),o=(0,i().v3)(),s=(0,r().K8)((()=>t.hasError()),[t]),l=(0,r().K8)((()=>t.getIcon()),[t]),d=(0,r().K8)((()=>t.isEmptyPage()),[t]),c=(0,a().DP)().mode,u=(0,a().IS)((e=>({recordIcon:io,warningIcon:{fill:e.accentColors.orange[500],width:n?20:16,marginLeft:n?2:4,marginRight:n?4:6,paddingBottom:6,paddingTop:6,display:"inline-block",verticalAlign:"bottom"},defaultIconStyle:{width:Jn-2,height:Jn-2,marginLeft:-3},progressContainer:{top:14,bottom:"unset",right:"unset",fontSize:(0,U().ny)(o,"UISmall")}})),[o,n]);if(s)return(0,pe().Q)(u.warningIcon);const m=function(e){let{style:t,mode:n,isEmptyPage:o}=e;switch(n){case"light":return o?vo(t):fo(t);case"dark":return o?go(t):ho(t);default:(0,T().HB)(n)}}({style:u.defaultIconStyle,mode:c,isEmptyPage:d});return(0,h.jsx)(xo().A,{disabled:!0,bucket:"secure",style:u.recordIcon,progressContainerStyle:u.progressContainer,icon:l,store:t,size:Jn,isEmptyPage:d,defaultIcon:m})}function To(e){let{store:t,hideLastEdited:n}=e;const o=(0,I().tz)(),i=(0,r().K8)((()=>t.getLastEditedTime()),[t]),s=(0,r().K8)((()=>(0,bo().nl)(i,{useCompactFormat:!0,useWeeks:!0})),[i]),l=(0,r().K8)((()=>(0,po().W_)(i,"medium_with_time",o.locale)),[o.locale,i]),d=(0,r().K8)((()=>{const e=t.getLastEditedByPointer();if(e)return t.getRecordStore(t.getKeyStore("last_edited_by_id"),e)}),[t]),c=(0,r().K8)((()=>{if(d)switch(d.table){case bn().oo:return(0,h.jsx)(wo().A,{userStore:d,size:ko});case yo().GP:return(0,h.jsx)(jo().A,{botStore:d,size:ko});case Co().yj:return(0,h.jsx)(wo().A,{userStore:void 0,size:ko});default:(0,T().HB)(d)}}),[d]),u=(0,r().K8)((()=>null==d?void 0:d.getDisplayName(o)),[d,o]),m=(0,a().IS)((e=>({...oo,editedAtWrap:{display:"flex",justifyContent:"start",alignItems:"center",gap:4},tooltipDateText:{color:e.text.contrastSecondary}})),[]);return(0,h.jsxs)("div",{style:m.titleWrap,children:[(0,h.jsx)(So().A,{style:m.titleText,store:t}),!n&&(0,h.jsx)(L().A,{disableTooltip:!d,renderTooltip:()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{children:(0,h.jsx)(I().sA,{id:"recentsGalleryItemV2.lastEditedByTooltipHeader",defaultMessage:"Last edited by"})}),u,(0,h.jsx)("br",{}),d&&(0,h.jsx)("span",{style:m.tooltipDateText,children:l})]}),placement:P().W.Bottom,alignment:P().C.Start,render:e=>0===i?null:(0,h.jsxs)("div",{style:m.editedAtWrap,...e,children:[c,(0,h.jsx)(K().A,{isSmall:!0,isSecondaryColor:!0,children:s})]})})]})}const Mo=o.memo(Ao),_o=20;function Ho(e){let{onLoaded:t}=e;const n=(0,i().v3)(),s=(0,r().K8)((()=>(0,zn().D)({isMobileNative:n.device.isMobileNative,disableExposureLogging:!0})?to:eo),[n]),l=(0,a().IS)((e=>({containerStyle:{minHeight:s+5}})),[s]),d=(0,r().K8)((()=>function(e){if(Gn().NK.state)return{type:"global-recents-store",recentsStores:Gn().NK.state.filter((e=>e.store.canRead())).filter((e=>!e.store.isPost())).slice(0,e).map((e=>e.store)),isInitialized:!0};if(x().default.checkGate({gateName:"home_recents_caching"})){const t=(0,Un().RK)();if(!t)return{type:"cache-miss",recentsStores:void 0,isInitialized:!1};const n=t.length;let o=t.findIndex((e=>!e.isReady()));return o=-1===o?void 0:o,void 0!==o&&o<$n?{type:"cache-hit-blocks-not-ready",firstUnloadedStoreIndex:o,recentsStores:void 0,totalCachedRecents:n,isInitialized:!1}:{type:"cache-hit-blocks-loaded",firstUnloadedStoreIndex:o??Un().zf,recentsStores:t.filter((e=>e.canRead())).slice(0,e),totalCachedRecents:n,isInitialized:!0}}return{type:"caching-not-enabled",recentsStores:void 0,isInitialized:!1}}(_o)),[]),c=(0,r().K8)((()=>d.isInitialized),[d]);!function(e){let{environment:t,recentPagesResult:n}=e;(0,o.useEffect)((()=>{if(!Po)switch(n.type){case"global-recents-store":case"cache-miss":case"caching-not-enabled":return;case"cache-hit-blocks-loaded":case"cache-hit-blocks-not-ready":Po=!0,(0,ie().GE)({environment:t,firstUnloadedCachePageIndex:n.firstUnloadedStoreIndex??Un().zf});break;default:(0,T().ub)(n)}}),[t,n])}({environment:n,recentPagesResult:d});const u=(0,r().K8)((()=>"global-recents-store"===d.type&&d.recentsStores.length<7),[d]);return(0,o.useEffect)((()=>{c&&t()}),[c,t]),(0,xe().v)({firstMountToReadyMetricName:"home.recents.first_mount_to_ready",pageOriginToReadyMetricName:"home.recents.page_origin_to_ready",isReady:c,homeType:"personal"}),(0,h.jsxs)(Pn().A,{cardWidth:Qn,containerStyle:l.containerStyle,preventScroll:!c,children:[!c&&new Array(Lo(d)).fill(0).map(((e,t)=>(0,h.jsx)(Yn,{width:Qn,height:s,showLoadingShimmer:!1,hasLargeBorderRadius:!0},t))),(d.recentsStores??[]).map((e=>(0,h.jsx)(Mo,{store:e},e.id))),u&&(0,h.jsx)(mo,{})]})}function Lo(e){switch(e.type){case"cache-hit-blocks-loaded":case"cache-hit-blocks-not-ready":return e.totalCachedRecents;case"global-recents-store":case"cache-miss":case"caching-not-enabled":return 4;default:return(0,T().ub)(e),4}}let Po=!1;const Ro=function(e){let{onLoaded:t}=e;return(0,h.jsx)(we().A,{title:(0,h.jsx)(I().sA,{id:"recentsHomePanel.multiplayer.title",defaultMessage:"Recently visited"}),tooltip:(0,h.jsx)(I().sA,{id:"recentsHomePanel.tooltip",defaultMessage:"Jump into pages you've seen recently"}),icon:(0,h.jsx)(Rn().A,{icon:"clock-alternate"}),hideWrapStyle:!0,children:(0,h.jsx)(Ho,{onLoaded:t})})},Bo=(0,Ve().wt)("suggestedLarge",{viewBox:"0 0 48 48",svg:(0,h.jsx)("path",{d:"M10.7126 24.083C7.82146 24.083 5.48723 21.5473 5.48723 18.4192C5.47538 15.3622 7.84516 12.8621 10.7126 12.8621C13.6156 12.8621 15.9498 15.3266 15.9498 18.4074C15.9498 21.5355 13.6156 24.083 10.7126 24.083ZM24.2441 24.083C21.3529 24.083 19.0187 21.5473 19.0069 18.4192C19.0069 15.3622 21.3648 12.8621 24.2441 12.8621C27.1471 12.8621 29.4813 15.3266 29.4813 18.4074C29.4813 21.5355 27.1352 24.083 24.2441 24.083ZM37.7756 24.083C34.8844 24.083 32.5502 21.5473 32.5383 18.4192C32.5383 15.3622 34.8963 12.8621 37.7756 12.8621C40.6785 12.8621 43.0128 15.3266 43.0128 18.4074C43.0128 21.5355 40.6785 24.083 37.7756 24.083ZM10.7245 21.8317C12.3122 21.8317 13.6274 20.3269 13.6274 18.4074C13.6274 16.5352 12.3122 15.1134 10.7245 15.1134C9.14854 15.1134 7.80962 16.5589 7.80962 18.4192C7.80962 20.3506 9.14854 21.8317 10.7245 21.8317ZM24.2441 21.8317C25.8318 21.8317 27.1471 20.3269 27.1471 18.4074C27.1471 16.5352 25.8318 15.1134 24.2441 15.1134C22.6682 15.1134 21.3292 16.5589 21.3411 18.4192C21.3411 20.3506 22.6682 21.8317 24.2441 21.8317ZM37.7874 21.8317C39.3633 21.8317 40.6904 20.3269 40.6904 18.4074C40.6904 16.5352 39.3752 15.1134 37.7874 15.1134C36.1996 15.1134 34.8726 16.5589 34.8726 18.4192C34.8726 20.3506 36.2115 21.8317 37.7874 21.8317ZM3.36627 35.138C1.26901 35.138 0.25 34.4508 0.25 32.9934C0.25 29.652 4.40897 25.3982 10.7126 25.3982C17.0281 25.3982 21.1871 29.652 21.1871 32.9934C21.1871 34.4508 20.1562 35.138 18.0589 35.138H3.36627ZM24.2441 25.3982C30.5477 25.3982 34.7067 29.652 34.7067 32.9934C34.7067 34.4508 33.6877 35.138 31.5904 35.138H22.3127C22.7748 34.4508 22.9051 33.6925 22.8814 32.8867H31.8511C32.0999 32.8867 32.1947 32.8038 32.1947 32.6024C32.1947 30.8843 29.3273 27.6495 24.2441 27.6495C23.0118 27.6495 21.9098 27.851 20.9619 28.1827C20.4761 27.5429 19.8718 26.9623 19.1846 26.4291C20.642 25.7892 22.3364 25.3982 24.2441 25.3982ZM37.7756 25.3982C44.091 25.3982 48.25 29.652 48.25 32.9934C48.25 34.4508 47.2191 35.138 45.1219 35.138H35.8323C36.2944 34.4508 36.4248 33.6925 36.4129 32.8867H45.3826C45.6432 32.8867 45.738 32.8038 45.738 32.6024C45.738 30.8843 42.8587 27.6495 37.7756 27.6495C36.5433 27.6495 35.4413 27.851 34.4934 28.1946C34.0076 27.5429 33.4033 26.9623 32.7042 26.4409C34.1616 25.8011 35.8679 25.3982 37.7756 25.3982ZM3.10559 32.8867H18.3196C18.5803 32.8867 18.6751 32.8038 18.6751 32.6024C18.6751 30.8843 15.7958 27.6495 10.7126 27.6495C5.62941 27.6495 2.76197 30.8843 2.76197 32.6024C2.76197 32.8038 2.85676 32.8867 3.10559 32.8867Z"})});function Vo(e){let{store:t,style:n,scrollContainerStyle:o,collectionContextStore:i,emptyState:l,pageOriginToReadyMetricName:d,firstMountToReadyMetricName:c,...u}=e;const m=(0,a().IS)((()=>({container:{position:"relative",display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden",paddingBottom:0,...n},innerContainer:{paddingLeft:8,paddingBottom:4},scrollerStyle:{paddingRight:8,paddingTop:12},emptyStateWrapper:{paddingRight:le().VQ,paddingBottom:le().VQ,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),[n]),p=(0,r().K8)((()=>null==i?void 0:i.isEmptyStore.state),[i]);return(0,xe().v)({firstMountToReadyMetricName:c,pageOriginToReadyMetricName:d,isReady:Boolean(!p&&i&&t),homeType:"personal"}),p&&l?(0,h.jsx)("div",{style:m.emptyStateWrapper,children:l}):(0,h.jsx)("div",{style:m.container,children:t&&(0,h.jsx)(s().H,{type:C().A.Y,style:m.scrollerStyle,children:(0,h.jsx)("div",{style:m.innerContainer,children:(0,h.jsx)(Do,{store:t,...u})})})})}function Eo(e){let{store:t,...n}=e;return(0,h.jsx)(yn().dN,{store:t,disabled:!1,hideViewTabBar:!0,headerActionsBehavior:"hidden",isFullScreen:!1,overrideViewType:"list",...n})}const Do=o.memo(Eo),Wo=o.memo(Vo);function Fo(e){let{onLoaded:t,panelStyle:n}=e;const i=(0,r().K8)((()=>{const e=(0,w().XH)("similarUsers");if(null!=e&&e.isCollectionView())return e}),[]),[a,s]=o.useState(void 0);return(0,o.useEffect)((()=>{null!=a&&a.shouldShowSpinnerStore&&null!=a&&a.isLoadingStore&&t()}),[a,t]),(0,h.jsx)(we().A,{title:(0,h.jsx)(I().sA,{id:"personalHomePanelConfig.similarUsersActivityPanelTitle.withWorkspaceName",defaultMessage:"Suggested for you"}),icon:(0,h.jsx)(Rn().A,{icon:"light-bulb"}),tooltip:(0,h.jsx)(I().sA,{id:"personalHomePanel.panelTooltip.similarUsers",defaultMessage:"Suggestions based on your recent activity"}),panelStyle:n,children:(0,h.jsx)(Wo,{store:i,collectionContextStore:a,setCollectionContextStore:s,emptyState:(0,h.jsx)(No,{}),pageOriginToReadyMetricName:"home.suggested_for_you.page_origin_to_ready",firstMountToReadyMetricName:"home.suggested_for_you.first_mount_to_ready"})})}function No(){return(0,h.jsx)(Bn,{icon:Bo,message:(0,h.jsx)(I().sA,{id:"SimilarUsersHomePanel.emptyState.message",defaultMessage:"Pages relevant to you will show up here."})})}const Oo=o.memo(Fo);var Ko=()=>n(437622),Zo=()=>n(402390),zo=()=>n(388821),Go=()=>n(959577),Uo=()=>n(449506),$o=()=>n(630116);function qo(e){if("function"===e.type)switch(e.persona){case"student":return"13FpH1AGHci69ERczKupOU";case"educator":return"7ys8LLEWhlmVEwjJjASuE2";case"operations":return"4SPA9JI4ZQtyKtYzZvAVt1";case"knowledge_management":return"5IRBIHYcfXWjy5HamFCwAn";case"it_admin":return"2lxkUWVxPdhbYcvxe7FFty";case"hr":return"17Fklm4NRZaaMdctNNyl8L";case"support":return"2SmrAf6VMtcqx2Rszb5QZn";case"sales_or_success":return"4pVIkK7rg7S6DcqwvyNHs";case"finance":return"jDnY125acofk3O42a2IZ8";case"marketing":return"3TTtGQffJRQ0H3MSUNYs6j";case"product":return"3OAmgIdyPo9wEXGRH6j4dO";case"project_or_program_management":return"1mSX3Ie5sfGGT9ZrBuPXuO";case"product_design":return"W5d1S5UYPjuiY1t2cRG4T";case"eng":return"7vJ3HPIubGvIa4PzHrAG04";case"internal_communication":return"6F1MIc09JzFpGsxknKL0pq";case"creative":return"6H3xYAAg00HPET7xvqwcl4";default:(0,T().HB)(e)}else if("space_intent"===e.type)switch(e.persona){case"life":return"2X7QqO4KLsoTArIKyG7QA";case"school":return"5zeHsLqZ0Vk5kMfTQYiupq";case"work":return"1XoFa69pF2Yf1QzikYDOk6";default:(0,T().HB)(e)}else if("space_type"===e.type)switch(e.persona){case"multiplayer":return"2mk1W9x7ihl3uEpAwIy3zP";case"singleplayer":return"hjxAjQJHiLsYhivckSUZP";default:(0,T().HB)(e)}else(0,T().HB)(e)}var Yo=()=>n(769705),Xo=()=>n(553965);function Jo(e){const t=(0,a().IS)((e=>({chevronRightIcon:{width:14,height:14,fill:e.lightIconColor}})),[]);return(0,h.jsx)(Xt().A,{...e,stopClickPropagation:!0,popupType:gt().z7.Popup,render:e=>(0,h.jsx)(Qo,{onClose:()=>e.close()}),placementToOrigin:P().W.Right,renderOrigin:n=>(0,h.jsx)(It().A,{...(0,Xo().A)(e,n),right:(0,yt().V)(t.chevronRightIcon),title:(0,h.jsx)(I().sA,{id:"TemplatesHomePanel.DebugPersonaPickerMenuTitle",defaultMessage:"(Dev debug): Change user persona"})})})}function Qo(e){let{onClose:t}=e;const n=(0,i().v3)(),s=(0,r().K8)((()=>["clear",...se().U7.map((e=>({type:"function",persona:e}))),...se().mh.map((e=>({type:"space_intent",persona:e}))),...se().Ol.map((e=>({type:"space_type",persona:e})))]),[]),l=(0,r().K8)((()=>{var e,t;return(0,Ko().y$)(n,{space:null===(e=y().default.state.currentSpaceStore)||void 0===e?void 0:e.getModel(),spaceView:null===(t=y().default.state.currentSpaceViewStore)||void 0===t?void 0:t.getModel()})}),[n]),d=(0,o.useCallback)((e=>{Yo().A.setState(e),t("selectedOption")}),[t]),c=(0,a().IS)((e=>({selectedOptionCheck:{width:14},icon:{width:20,height:20}})),[]),u={menuType:G().gu.Popup,width:250,onClickOutside:()=>t("clickedOutside")},m=[{key:"settings-item-section",render:e=>(0,h.jsx)(Mt().A,{...e}),items:s.map((e=>{if("clear"===e)return{key:"clear",action:()=>d(void 0),render:e=>(0,h.jsx)(It().A,{...e,title:"clear",shouldWrapCaption:!0,right:void 0===l?(0,h.jsx)("div",{style:c.selectedOptionCheck,children:(0,qt().o)()}):void 0})};const{type:t,persona:n}=e,o=`${t} - ${n}`;return{key:o,action:()=>d(e),render:e=>(0,h.jsx)(It().A,{...e,title:o,shouldWrapCaption:!0,right:l===o?(0,h.jsx)("div",{style:c.selectedOptionCheck,children:(0,qt().o)()}):void 0})}}))}];return(0,h.jsx)(N().A,{...u,children:(0,h.jsx)(Tt().Ay,{type:Tt().Oh.Vertical,sections:m,initialFocus:void 0})})}var ei=()=>n(278238);const ti=150,ni=240;function oi(){return{height:ti,width:ni}}function ii(e){let{store:t}=e;const s=(0,i().v3)(),l=(0,r().K8)((()=>t.getName()),[t]),d=(0,r().K8)((()=>{const e=t.getTemplateImage();if(null!=e&&e.url)return(0,n(390575).NU)(e.url)}),[t]),c=(0,r().K8)((()=>{const e=t.getTemplateIcon();if(e){if((0,ei().T8)(e)){const{iconName:t}=(0,ei().DV)(e)??{};if(!t)return;return`/icons/${t}_lightgray.svg`}return e.endsWith(".svg")?void 0:`/icons/${e}_lightgray.svg`}}),[t]),u=Boolean(c),m=!u,p=(0,o.useCallback)((()=>{const e=s.RouterStore.state.route,{currentSpaceStore:o}=y().default.state,i=(0,n(174723).dY)(t);if(!i||!o||"page"!==e.name||!e.blockId)return;const r=n(148832).B.createChildStore(o,{table:n(179034).ev,id:e.blockId,spaceId:o.id});n(857783).uK({environment:s,store:r,pageVisitSource:ro().y8.PersonalHomeTileTemplates,templateGalleryItem:i})}),[s,t]),{height:g,width:f}=oi(),v=(0,a().IS)((e=>{const t=e.home.cards.templateCardBackground;return{container:{width:f,height:g,display:"flex",flexDirection:"column",justifyContent:"stretch",background:t.base,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.base},containerHovered:{background:t.hovered,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.hovered},containerPressed:{background:t.pressed,boxShadow:"dark"!==e.mode?void 0:e.homeShadow.templateCard.hovered},headerTitleAndIconContainer:{paddingTop:14,paddingBottom:14,paddingLeft:m?24:16,paddingRight:16,display:"flex",alignItems:"center",gap:12,flexShrink:0,justifyContent:"start"},headerTextContainer:{display:"flex",flexDirection:"column",gap:2,alignItems:"start",flexGrow:1,flexShrink:1},headerIcon:{width:32,height:32},offsetImageContainer:{position:"relative",flexShrink:1,flexGrow:1,minHeight:0},offsetImage:{position:"absolute",width:f,top:0,left:24,borderRadius:6,boxShadow:"0px 6px 16px 0px rgba(0, 0, 0, 0.05), 0px 0px 0px 1px rgba(18, 18, 18, 0.03)"},text:{width:"100%",lineHeight:1.3,...M().RC}}}),[f,g,m]);return(0,h.jsxs)(Ln().A,{style:v.container,hoveredStyle:v.containerHovered,pressedStyle:v.containerPressed,onClick:p,hasLargeBorderRadius:!1,children:[(0,h.jsxs)("div",{style:v.headerTitleAndIconContainer,children:[u&&(0,h.jsx)(ri,{templateIcon:c,size:32}),(0,h.jsxs)("div",{style:v.headerTextContainer,children:[(0,h.jsx)(K().A,{style:v.text,children:l}),(0,h.jsx)(K().A,{isSmall:!0,isSecondaryColor:!0,children:(0,h.jsx)(I().sA,{id:"templatesGalleryItem.authorByNotion",defaultMessage:"By Notion"})})]})]}),(0,h.jsx)("div",{style:v.offsetImageContainer,children:(0,h.jsx)("img",{style:v.offsetImage,src:d})})]})}function ri(e){let{templateIcon:t,size:n}=e;const o=(0,a().IS)((e=>({headerIcon:{width:n,height:n,opacity:.6}})),[n]);return t?(0,h.jsx)("img",{src:t,crossOrigin:"anonymous",style:o.headerIcon}):null}const ai=o.memo(ii);function si(e){let{onLoaded:t}=e;const s=(0,i().v3)(),l=(0,I().tz)(),d=(0,r().K8)((()=>(0,n(37433).nk)("dev_only")),[]),c=(0,r().K8)((()=>{const{currentSpaceStore:e}=y().default.state,t=Yo().A.state;if(t)return t;const{function:n,useCases:o}=(0,Ko().p3)();return(0,se().Lt)({spaceSurveyData:null==e?void 0:e.getSpaceSurveyData(),userUseCases:o,userPersonaValue:n})}),[]),[u]=(0,n(187174).Yb)((async()=>{if(c)return await async function(e){let{persona:t,environment:n,intl:o}=e;const{currentSpaceStore:i}=y().default.state;if(!i)return[];const r=await Uo().callApi({eventName:"getTemplateContentGroup",environment:n,data:{contentfulId:qo(t),locale:(0,Zo().Nk)(o),includeRecordMap:!0}});return"success"!==r.type||!1===r.data.success||"template"!==r.data.type?[]:zo().RecordMapWithRole.create(r.data.recordMap).getByTable(Go().XX).map((e=>$o().$x.createChildStore(i,{table:Go().XX,id:e.pointer.id})))}({persona:c,environment:s,intl:l})}),[s,l,c]),m="pending"===(null==u?void 0:u.status),p=(0,r().K8)((()=>"resolved"===(null==u?void 0:u.status)?u.value??[]:[]),[u]);(0,o.useEffect)((()=>{m||t()}),[m,t]);const g=(0,o.useCallback)((()=>{const{currentSpaceViewStore:e}=y().default.state;e&&At().WO({environment:s,currentSpaceViewStore:e,feature:"templates",from:"templates_dismiss_button"})}),[s]),f=(0,o.useCallback)((()=>{(0,n(806638).P)({environment:s})}),[s]),v=(0,a().IS)((e=>({templatesIcon:{width:Bt().cL,height:Bt().cL,padding:2,fill:e.regularIconColor}})),[]),C=(0,o.useMemo)((()=>{const e=[{type:"custom",closeOnAccept:!0,item:{key:"all_templates",render:(e,t)=>(0,h.jsx)(It().A,{...e,title:(0,h.jsx)(I().sA,{id:"TemplatesHomePanel.showAllTemplates",defaultMessage:"Explore more templates"}),icon:(0,n(214683).T)(v.templatesIcon)}),action:f}},{type:"hide",hide:g}];return d&&e.push({type:"custom",closeOnAccept:!1,item:{key:"debug",render:e=>(0,h.jsx)(Jo,{...e}),action:()=>{}}}),[(0,h.jsx)(Bt().Ay,{actions:e},"more")]}),[g,f,d,v.templatesIcon]),x=oi();return(0,h.jsx)(we().A,{title:(0,h.jsx)(I().sA,{id:"TemplatesHomePanel.Title",defaultMessage:"Featured templates"}),tooltip:(0,h.jsx)(I().sA,{id:"TemplatesHomePanel.tooltip",defaultMessage:"Get inspired about how to use Notion"}),icon:(0,h.jsx)(Rn().A,{icon:"kind"}),actions:C,hideWrapStyle:!0,children:(0,h.jsx)(Pn().e,{cardWidth:x.width,children:m||0===p.length?[...Array(3).keys()].map((e=>(0,h.jsx)(Yn,{width:x.width,height:x.height,showLoadingShimmer:m,hasLargeBorderRadius:!1},e))):p.map((e=>(0,h.jsx)(ai,{store:e},e.id)))})})}const li=o.memo(si);var di=()=>n(668725);const ci=(0,Ve().wt)("trendingArrow",{viewBox:"0 0 20 20",svg:(0,h.jsx)("path",{d:"M3.76208 13.6882L2.71619 12.6491L5.81287 9.49773C5.98604 9.32 6.15466 9.19467 6.31873 9.12175C6.48735 9.04428 6.66052 9.00554 6.83826 9.00554C7.01599 9.00554 7.18917 9.04428 7.35779 9.12175C7.53097 9.19923 7.69958 9.32455 7.86365 9.49773L10.2494 11.986C10.3086 12.0453 10.3679 12.0749 10.4271 12.0749C10.4909 12.0749 10.5524 12.0453 10.6117 11.986L13.2367 9.29949L12.2181 8.28093C12.1088 8.17156 12.0518 8.05307 12.0472 7.92547C12.0472 7.79786 12.0905 7.68393 12.1771 7.58367C12.2683 7.47885 12.3913 7.40593 12.5463 7.36492L16.5726 6.33269C16.7094 6.29623 16.837 6.30763 16.9554 6.36687C17.0785 6.42612 17.1696 6.51498 17.2289 6.63347C17.2881 6.74741 17.2995 6.87501 17.2631 7.01629L16.224 11.0495C16.183 11.2044 16.1101 11.3275 16.0052 11.4186C15.9004 11.5052 15.7842 11.5485 15.6566 11.5485C15.5336 11.544 15.4174 11.487 15.308 11.3776L14.2758 10.3386L11.4525 13.1755C11.1198 13.5081 10.778 13.6745 10.4271 13.6745C10.2494 13.6745 10.0739 13.6358 9.90076 13.5583C9.72758 13.4762 9.56124 13.3486 9.40173 13.1755L7.01599 10.694C6.9613 10.6302 6.90206 10.5983 6.83826 10.5983C6.77901 10.5983 6.71977 10.6302 6.66052 10.694L3.76208 13.6882Z"})});var ui=()=>n(254982),mi=()=>n(704152),pi=()=>n(933117),hi=()=>n(299545),gi=()=>n(898808);function fi(e){let{onLoaded:t,panelStyle:n}=e;const[i,s]=o.useState(void 0),l=(0,r().K8)((()=>{const{currentSpaceStore:e,currentUserStore:t}=y().default.state;if(!e||!t)return;const n=(0,w().XH)("trending");return null!=n&&n.isCollectionView()?n:void 0}),[]),d=(0,a().IS)((e=>({icon:{width:20,height:20,margin:-2,fill:e.mediumIconColor},rightStyle:{overflow:"hidden"}})),[]);return(0,o.useEffect)((()=>{null!=i&&i.shouldShowSpinnerStore&&null!=i&&i.isLoadingStore&&t()}),[i,t]),(0,h.jsx)(we().A,{title:(0,h.jsx)(I().sA,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.trending",defaultMessage:"Trending"}),right:i&&(0,h.jsx)(vi,{collectionContextStore:i}),rightStyle:d.rightStyle,disableRightFadeIn:!0,icon:ci(d.icon),tooltip:(0,h.jsx)(I().sA,{id:"personalHomePanel.panelTooltip.trending",defaultMessage:"Popular pages this week"}),panelStyle:n,children:(0,h.jsx)(Wo,{store:l,collectionContextStore:i,setCollectionContextStore:s,emptyState:(0,h.jsx)(xi,{}),pageOriginToReadyMetricName:"home.trending.page_origin_to_ready",firstMountToReadyMetricName:"home.trending.first_mount_to_ready"})})}function vi(e){let{collectionContextStore:t}=e;const n=(0,i().v3)(),{currentSpaceViewStore:a,currentSpaceStore:s}=(0,r().K8)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=y().default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),l=(0,r().K8)((()=>(null==a?void 0:a.getTeamsStores())??[]),[a]),d=(0,r().K8)((()=>t.collectionViewStore()),[t]),c=(0,r().K8)((()=>{if(!s)return;const e=null==d?void 0:d.getCollectionSource();if("trending"!==(null==e?void 0:e.type))return;const t=e.teamId;return t?l.find((e=>e.id===t)):s}),[l,s,d]),u=(0,o.useCallback)((e=>{At().hK({environment:n,currentSpaceViewStore:a,selectedStore:e,collectionContextStore:t})}),[n,t,a]),m=(0,r().K8)((()=>{if(!s)return{};const e={};return e[s.id]=null==s?void 0:s.getName(),l.forEach((t=>{e[t.id]=t.getName()})),e}),[s,l]);return a&&s&&c?(0,h.jsx)(pi().A,{items:[s,...l],getKey:e=>e.id,selectedItem:c,onSelect:u,renderItem:e=>{const t=e.value;return(0,h.jsx)(It().A,{...e,title:m[t.id],icon:(0,h.jsx)(gi().x,{store:t,size:16,disabled:!0})})},renderOrigin:e=>(0,h.jsx)(Ci,{...e,selectedStore:c}),width:300}):null}function Ci(e){const t=(0,i().v3)(),{device:n}=t,{selectedStore:o,...r}=e,s=(0,a().IS)((e=>({dropdownButton:{width:"100%",padding:"6px 8px",color:e.text.secondary,fontSize:(0,U().ny)(t,"UISmall"),display:"inline-flex",justifyContent:"end",alignItems:"center",borderRadius:le()._g},dropdownIcon:{width:10,marginLeft:4,fill:e.lightIconColor},dropdownText:{display:"inline-flex",alignItems:"center",fontWeight:M().Wy.medium,overflow:"hidden"}})),[t]);return(0,h.jsxs)(mi().A,{mobileFeedback:n.isMobile,style:s.dropdownButton,...r,children:[(0,h.jsx)("div",{style:s.dropdownText,children:(0,h.jsx)(yi,{selectedStore:o})}),(0,di().b)(s.dropdownIcon)]})}function yi(e){let{selectedStore:t}=e;const n=(0,r().K8)((()=>null==t?void 0:t.getName()),[t]),o=(0,a().IS)((()=>({icon:{marginLeft:4,marginRight:4},spaceOrTeamName:{...M().RC}})),[]),i=(0,h.jsx)(gi().x,{store:t,size:16,disabled:!0,style:o.icon});return n?(0,h.jsx)(I().sA,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withWorkspaceOrTeamName",defaultMessage:"In {spaceOrTeamIcon} {spaceOrTeamName}",values:{spaceOrTeamIcon:i,spaceOrTeamName:(0,h.jsx)("div",{style:o.spaceOrTeamName,children:n})}}):(0,hi().$R)(t)?(0,h.jsx)(I().sA,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutTeamName",defaultMessage:"In your teamspace"}):(0,h.jsx)(I().sA,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutWorkspaceName",defaultMessage:"In your workspace"})}function xi(){return(0,h.jsx)(Bn,{icon:ui().G,message:(0,h.jsx)(I().sA,{id:"PersonalHomeTrendingPanel.emptyState.message",defaultMessage:"Popular pages will show up here."})})}const Si=o.memo(fi);const ji=function(){const e=(0,r().K8)((()=>{const{currentSpaceStore:e}=y().default.state;if(e)return e.id}),[]),t=(0,i().v3)(),s=(0,r().K8)((()=>t.device.isPhone),[t]),l=(0,a().DP)(),d=(0,a().IS)((e=>({emptyState:{marginTop:100,cursor:"auto"},tile:{height:400,overflowY:"auto"}})),[]),[c,u]=(0,o.useState)(!1),m=(0,o.useCallback)((e=>{if(c)return;const o=e.target,i=o.scrollTop,r=o.scrollHeight;i+o.clientHeight>=r-150&&(u(!0),(0,n(989423).u4)({environment:t,event:{eventName:"scroll_to_bottom",eventProperties:{source:"homeTile"}}}))}),[c,t]),p=(0,n(395361).Y)(m,250);return e?(0,h.jsx)(we().A,{title:(0,h.jsx)(I().sA,{id:"recentUpdatesHomePanel.title",defaultMessage:"Recent updates"}),tooltip:(0,h.jsx)(I().sA,{id:"recentUpdatesHomePanel.tooltip",defaultMessage:"Catch up with recent updates from suggested pages"}),icon:(0,h.jsx)(Rn().A,{icon:"friends"}),hideWrapStyle:!0,children:(0,h.jsx)("div",{style:{...(0,le().V$)({isPhone:s,theme:l}),...d.tile},onScroll:p,children:(0,h.jsx)(n(60499).A,{spaceId:e,source:"home_tile",empty:()=>(0,h.jsx)("div",{style:d.emptyState,children:(0,h.jsx)(n(266945).x,{})})},"suggested_page_updates_home_tile")})}):null},wi=k().c9.fromISO("2024-05-06");function bi(e){let{showWelcomeAnimation:t,onAllPanelsLoaded:s,gap:l}=e;const[d,c]=(0,o.useState)({recents:!1,updates:!1,tips:!1,templates:!1,similarUsersAndTrending:!1,tasks:!1,customDb:!1,calendar:!1,unifiedFeed:!1,aiChatModule:!1}),u=(0,i().v3)(),{isMobile:m,isPhone:p}=(0,i().Y0)(),g=(0,r().K8)((()=>{var e;return(null===(e=y().default.state.currentSpaceViewStore)||void 0===e?void 0:e.getHomeEnabledFeatures())??{}}),[]),C=(0,f().X)("updates_ai"),x=(0,f().X)("posts_feed_on_home"),S=(0,n(327300).w4)(),b=(0,r().K8)((()=>{var e;const t=y().default.state.currentSpaceStore;return{aiChatModule:S.showAiChatModuleInHome,recents:!0,updates:C,tasks:Boolean(g.tasks),customDb:Boolean(g.custom_db),similarUsersAndTrending:(0,se().Az)()&&!1!==(null==t||null===(e=t.getSettings())||void 0===e?void 0:e.show_home_virtual_views),tips:Boolean(g.tips),templates:!m&&Boolean(g.templates),calendar:(0,ae().x)({isPhone:p,spaceStore:t})&&Boolean(g.calendar),unifiedFeed:x}}),[S.showAiChatModuleInHome,g,m,p,C,x]),[A,M]=(0,o.useState)(void 0),_=(0,o.useMemo)((()=>({panelState:A})),[A]),H=(0,r().K8)((()=>{if(!Object.values(b).some(Boolean))return!1;for(const[e,t]of(0,T().WP)(b))if(t&&!d[e])return!1;return!0}),[b,d]),L=(0,r().K8)((()=>{const e=y().default.state.currentSpaceStore;return!!e&&k().c9.fromMillis(e.getCreatedTime())>wi}),[]);(0,n(852507).l)((()=>{oe().updateMetricDataWithIsPushTag(u),oe().measurePageRenderMetrics({environment:u,isHomePage:!0,isEditable:!1,isWikiHome:!1,isPageWithCustomLayout:!1})})),(0,o.useEffect)((()=>{H&&s(!0),t||c({recents:!0,updates:!0,tips:!0,templates:!0,similarUsersAndTrending:!0,tasks:!0,calendar:!0,customDb:!0,unifiedFeed:d.unifiedFeed,aiChatModule:d.aiChatModule})}),[t,H,s,d.unifiedFeed,d.aiChatModule]);const P=(0,a().IS)((()=>({suggestedTiles:{height:le().BZ,paddingRight:0,paddingBottom:0,paddingLeft:0},stackedTilesContainer:{height:le().dd,display:"flex",flexDirection:"column",gap:l},collectionFormIconStyle:{width:15,height:15,marginRight:2},unifiedFeedContainer:d.unifiedFeed?{display:"contents"}:{display:"block",opacity:0}})),[l,d.unifiedFeed]),R=(0,o.useCallback)((e=>{switch(e){case"events":M("connected_with_events");break;case"noEvents":M("connected_no_events");break;case"signedOut":M("disconnected");break;case"disconnectedAccount":case"missingScopes":M("connected_permissions_error");break;case"loadError":M("load_error");break;case"loading":M(void 0);break;default:(0,T().ub)(e),M(void 0)}}),[]),B=(0,o.useCallback)((e=>({"--depth":e})),[]),V=(0,o.useCallback)((e=>{c((t=>({...t,[e]:!0})))}),[]),E=(0,o.useCallback)((()=>V("recents")),[V]),D=(0,o.useCallback)((()=>V("tasks")),[V]),W=(0,o.useCallback)((()=>V("similarUsersAndTrending")),[V]),F=(0,o.useCallback)((()=>{V("calendar")}),[V]),N=(0,o.useCallback)((()=>V("templates")),[V]),O=(0,o.useCallback)((()=>V("tips")),[V]),K=(0,o.useCallback)((()=>V("customDb")),[V]),Z=(0,o.useCallback)((()=>V("unifiedFeed")),[V]),z=(0,r().K8)((()=>{if(!1!==t)return H?"home-tile-fade-up-in":n(38337).Rag}),[t,H]),G=(0,n(640945).X)();(0,o.useEffect)((()=>{var e;null===(e=u.mobileNative)||void 0===e||e.markTransitionReady({type:"posts"})}),[u.mobileNative]),(0,o.useEffect)((()=>{if(!H)return;(0,ie().Ao)({environment:u,args:{tasks:b.tasks?"show":"hide",custom_db:b.customDb?"show":"hide",tips:b.tips?"show":"hide",templates:m?"always_hide":b.templates?"show":"hide",calendar:(0,ae().x)({isPhone:p,spaceStore:y().default.state.currentSpaceStore})?b.calendar?"show":"hide":"always_hide"}});const e=y().default.state.currentSpaceViewStore;if(e){var t;const n=null===(t=(0,w().x$)(e))||void 0===t?void 0:t.id,o=e.getUserId();o&&n&&(0,j().Oh)({userId:o,enabledFeatures:b,blockId:n})}}),[H]);const U=function(e){const{showTipsAboveCalendar:t,unifiedFeedEnabled:n}=e;if(t)return["aiChatModule",n?void 0:"recents","updates","tips","calendar","tasks","customDb","similarUsersAndTrending","templates"].filter(T().O9);return["aiChatModule",n?void 0:"recents","updates","calendar","tasks","customDb","similarUsersAndTrending","tips","templates"].filter(T().O9)}({showTipsAboveCalendar:L,unifiedFeedEnabled:b.unifiedFeed}).map((e=>{if(b[e])switch(e){case"recents":return{key:e,type:"single",content:(0,h.jsx)(Ro,{onLoaded:E})};case"updates":return{key:e,type:"single",content:(0,h.jsx)(ji,{})};case"calendar":return{key:e,type:"single",content:(0,h.jsx)(re().a.Provider,{value:_,children:(0,h.jsx)(Cn,{maxHeight:le().BZ,onLoaded:F,onDisplayStateChanged:R})})};case"tasks":return{key:e,type:"single",content:(0,h.jsx)(On,{onLoaded:D})};case"customDb":return{key:e,type:"single",content:(0,h.jsx)(Sn,{onLoaded:K})};case"similarUsersAndTrending":return{key:e,type:"twoColumn",left:(0,h.jsx)(Oo,{panelStyle:P.suggestedTiles,onLoaded:W}),right:(0,h.jsx)(Si,{panelStyle:P.suggestedTiles,onLoaded:W})};case"templates":return{key:e,type:"single",content:(0,h.jsx)(li,{onLoaded:N})};case"tips":return{key:e,type:"single",content:(0,h.jsx)(Nn,{onLoaded:O})};case"aiChatModule":return{key:e,type:"single",content:(0,h.jsx)(me,{})};default:(0,T().HB)(e)}})).filter(T().O9),$=(0,h.jsx)(h.Fragment,{children:U.map(((e,t)=>"single"===e.type?(0,h.jsx)(v().vV,{className:z,style:B(t),children:e.content},e.key):(0,h.jsx)(v().MR,{minWidth:300,className:z,style:B(t),left:e.left,right:e.right},e.key)))});if(b.unifiedFeed){const e=b.aiChatModule?(0,h.jsx)(v().vV,{children:(0,h.jsx)(me,{})},"aiChatModuleForFeedTable"):null,t=(0,h.jsx)(v().vV,{className:z,style:B(0),children:(0,h.jsx)(Ro,{onLoaded:E})},"recents");return(0,h.jsx)(Ai,{style:"right-tabs",items:[{key:"feed",icon:e=>(0,h.jsxs)("div",{style:{position:"relative"},children:[(0,n(590856).y)({...e,...P.collectionFormIconStyle}),G&&(0,h.jsx)(n(837822).xw,{top:-1.7,right:-.5})]}),label:(0,h.jsx)(I().sA,{defaultMessage:"Feed",id:"personalHome.header.feed"}),children:(0,h.jsxs)(h.Fragment,{children:[e,t,(0,h.jsxs)(v().vV,{children:[!d.unifiedFeed&&(0,h.jsx)(n(855685).SU,{hasComposer:!1}),(0,h.jsx)("div",{style:P.unifiedFeedContainer,children:(0,h.jsx)(Zn,{onLoaded:Z})})]})]})},{key:"my-tasks",icon:e=>(0,n(486521).v)({...e,width:18,height:18}),label:(0,h.jsx)(I().sA,{defaultMessage:"My Tasks",id:"personalHome.header.myTasks"}),children:$}]})}return $}const ki=new(n(178624).R)({key:"home_page_tab_preference",namespace:n(419494).cd,important:!1,trackingType:"preference"});function Ai(e){let{items:t,style:n}=e;const i=o.useRef(void 0),a=(0,r().K8)((()=>(void 0===i.current&&void 0!==ki.state&&(i.current=ki.state),e=>ki.setState(e))),[]),[s,l]=o.useState(void 0),d=(0,o.useCallback)((e=>{l(e),a(e)}),[a]);return(0,h.jsx)(v().Yi,{items:t,style:n,index:s??i.current??0,setIndex:d,title:(0,h.jsx)(Kn,{})})}const Ii=o.memo(bi);function Ti(e,t){return e?"home-phone":t?"home-redesign-desktop":"home"}function Mi(){const[e,t]=(0,o.useState)(!1),[l,d]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1),m=(0,i().WS)(),p=(0,i().v3)();(0,o.useEffect)((()=>b().A.setState(!0)),[]);const k=(0,r().K8)((()=>{const e=y().default.state.currentSpaceViewStore;return e&&(0,w().x$)(e)}),[]),A=(0,r().K8)((()=>{var e;return Boolean(null===(e=y().default.state.currentSpaceViewStore)||void 0===e?void 0:e.isReady())}),[]),I=(0,r().K8)((()=>{var e;return Boolean(null===(e=y().default.state.currentSpaceViewStore)||void 0===e||null===(e=e.getPersonalHomeSettings())||void 0===e?void 0:e.seen_welcome_animation)}),[]),T=(0,f().X)("home_welcome_animation");(0,o.useEffect)((()=>{n(116225).u4({name:"open_home"})}),[]),(0,o.useEffect)((()=>{c||async function(){await x().default.waitUntilStatsigReady(),u(!0)}()}),[c]),(0,o.useEffect)((()=>{A&&c&&!I&&(t(!1),d(!0),j().aX({environment:p,newSeenWelcomeHomeValue:!0}));const e=setTimeout((()=>{t(!0),d(!1)}),3e3);return()=>{clearTimeout(e)}}),[p,A,e]),(0,o.useEffect)((()=>{"rendered"!==y().default.state.renderPhase&&y().default.setState({...y().default.state,renderPhase:"rendered"})}),[]);const M=(0,r().K8)((()=>(0,n(710857).x)(y().default.state.currentSpaceViewStore).greeting),[]),_=(0,n(293633).l)(),H=(0,r().K8)((()=>n(150193).A.state.banners),[]),L=(0,r().K8)((()=>!m||M?H.length>0?124:64:0),[H,m,M]),P=(0,r().uB)(void 0,S().A),R=(0,r().K8)((()=>P.state.elementRef??{current:null}),[P]),B=(0,n(141333).yE)(R),V=(0,o.useCallback)((()=>{const e=0===B;b().A.setState(e)}),[B]),E=T&&(!I||l);let D=!1;H.forEach((e=>{"over_free_block_limit"===e.contentKey&&(D=!0)}));const W=(0,r().O$)(n(749240).subscriptionDataStoreInstance),F=(0,n(847554).b)(W),N=(0,r().K8)((()=>(0,n(807778).Km)(F)),[F]),O=(0,r().K8)((()=>(0,n(175947).ek)(p.device.isElectronMac)),[p.device]),K=N&&D,Z=L-(K?O:0),z=(0,a().IS)((e=>({container:{width:"100%",height:"100%",cursor:"default",backgroundColor:e.contentBackground},topPaddingWhenHeaderHidden:{width:"100%",marginTop:Z},banner:m?{}:{paddingTop:O}})),[Z,m,O]),G=(0,f().X)("posts_feed_on_home");return A&&c?(0,h.jsxs)(h.Fragment,{children:[k&&(0,h.jsx)(g,{store:k}),(0,h.jsx)(s().H,{type:C().A.Y,style:z.container,className:"home-content",onScroll:V,store:P,children:(0,h.jsx)(n(852302).l,{children:(0,h.jsxs)(v().Mx,{type:Ti(m,G),gap:_,withBottomPadding:!0,children:[(0,h.jsxs)(v().Pb,{children:[K?(0,h.jsx)("div",{style:z.banner,children:(0,h.jsx)(n(811481).i,{})}):null,M&&!G?(0,h.jsx)("div",{children:(0,h.jsx)(ne,{marginTop:Z,marginHorizontal:_,allPanelsLoaded:e,showWelcomeAnimation:E})}):(0,h.jsx)("div",{style:z.topPaddingWhenHeaderHidden})]}),(0,h.jsx)(Ii,{showWelcomeAnimation:E,onAllPanelsLoaded:t,gap:_})]})})})]}):null}const _i=o.memo(Mi)}}]);