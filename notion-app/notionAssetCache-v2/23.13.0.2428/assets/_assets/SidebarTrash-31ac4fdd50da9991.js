"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[8953],{56394:(e,t,n)=>{n.d(t,{A:()=>u});n(296540);var o=()=>n(484714),i=()=>n(401497),r=()=>n(668725),s=()=>n(704152),l=()=>n(963589),a=n(474848);function u(e){const{icon:t,title:n,on:u,disabled:d,hasDiff:c,wrapStyle:m,innerStyle:p,hideChevron:h}=e,f=(0,o().v3)(),g=(0,l().X)("db_ux_simplification_next"),C=(0,i().IS)((e=>{const t=f.device.isMobile;return{filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:t?28:24,lineHeight:t?"28px":"24px",padding:"0 8px",...!g&&{border:`1px solid ${e.outlineButtonBorder}`},color:e.mediumTextColor,...u&&{color:e.text.uiBluePrimary,borderColor:e.filterPillBorder,background:e.tint.uiBlue},...d&&{color:e.text.uiBlueTertiary,borderColor:e.text.uiBlueTertiary,background:e.tint.uiBlue},...p},hovered:u?{background:e.tint.uiBlueHover}:{},pressed:u?{background:e.tint.uiBluePressed}:{},chevron:{width:10,marginLeft:4,marginTop:1,fill:d?e.text.uiBlueTertiary:u?e.blueColor:e.lightIconColor},diffDot:{position:"absolute",top:-2,right:-2,background:"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[300],border:`1px solid ${e.contentBackground}`,width:9,height:9,borderRadius:9}}}),[g,d,f.device.isMobile,p,u]);return(0,a.jsxs)("div",{style:{borderRadius:14,marginRight:6,display:"inline-flex",...c&&{position:"relative"},...m},children:[(0,a.jsxs)(s().A,{disabled:d,style:C.filterPill,hoveredStyle:C.hovered,pressedStyle:C.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,n,!h&&(0,r().b)(C.chevron)]}),c&&(0,a.jsx)("div",{style:C.diffDot})]})}},58293:(e,t,n)=>{n.d(t,{r:()=>r});var o=()=>n(56366),i=()=>n(351360);function r(){return(0,o().K8)((()=>i().default.state.currentSpaceStore),[])}},64901:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(e){const t=(0,n(484714).v3)(),i=(0,n(401497).DP)();return(0,o.jsx)(n(187485).A,{style:{display:"flex",alignSelf:"stretch",width:36,...e.isRight?{marginRight:-8}:{marginLeft:-8}},external:!0,href:e.href,onClick:()=>n(148024).FH(t,{from:e.analyticsFrom}),children:(0,o.jsx)(n(704152).A,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,n(133033).$)({width:18,marginTop:1,fill:i.lightIconColor})})})}},65767:(e,t,n)=>{n.d(t,{l:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("closeThick",{viewBox:"0 0 8 8",svg:(0,o.jsx)("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})})},140828:(e,t,n)=>{n.d(t,{A:()=>g});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(581454),n(296540);var o=()=>n(484714),i=()=>n(56366),r=()=>n(764880),s=()=>n(798880),l=()=>n(695608),a=()=>n(959013),u=()=>n(106628),d=()=>n(630116),c=()=>n(448693),m=()=>n(848401),p=()=>n(297401),h=()=>n(457688),f=n(474848);const g=function(e){let{mode:t,title:i,userIds:r,onChange:s,disabled:l,focused:d,onMenuDismiss:c,onMenuOpen:m,parentStore:p}=e;const h=(0,o().v3)(),g=(0,a().tz)();return(0,f.jsx)(n(821879).A,{mode:t,title:i,icon:n(91451).z,iconStyles:b(h).recordIcon,items:r,onChange:s,disabled:l,focused:d,renderFilter:(e,t)=>(0,f.jsx)(S,{item:e,args:t,parentStore:p}),renderToken:(e,t)=>(0,f.jsx)(y,{item:e,handlers:t,userIds:r,parentStore:p}),renderItemForSummary:e=>(0,f.jsx)(x,{item:e,parentStore:p}),addItemLabel:(0,f.jsx)(a().sA,{defaultMessage:"Add a person",id:"search.filterMenu.addAPersonButton.label"}),labelText:{title:i,tokenInputPlaceholder:g.formatMessage({defaultMessage:"Search people",id:"search.filterMenu.searchPeople.placeholder"}),componentDebugName:"SearchPersonFilter"},performRequest:e=>async function(e,t){let{query:n,current:o}=e;const i=new Set(o),r=await u().T.searchActions.load(),s=await r.searchVisibleSpaceUsers({environment:t,query:n,membersOnly:!1});return s.filter((e=>!i.has(e.id))).slice(0,20).map((e=>e.id))}(e,h),renderResultMenuItem:(e,t)=>(0,f.jsx)(v,{item:e,props:t,parentStore:p}),onMenuDismiss:c,onMenuOpen:m,hasItemsSelected:(null==r?void 0:r.length)>0})};function C(e,t){const n=function(e,t){return d().LU.createChildStore(t,{table:s().oo,id:e})}(e,t);return n.getValue()}function x(e){let{item:t,parentStore:n}=e;const o=(0,a().tz)(),r=(0,i().K8)((()=>C(t,n)),[t,n]);return(0,f.jsx)(f.Fragment,{children:(0,l().c6)(o,r)})}function y(e){let{item:t,handlers:n,userIds:s,parentStore:l}=e;const a=(0,o().v3)(),u=1===s.length,d=(0,i().K8)((()=>C(t,l)),[t,l]);return d?(0,f.jsx)(c().Ay,{format:a.device.isMobile?m().mI.Large:m().mI.Small,showRemoveButton:!0,isSingle:u,onClickRemove:n.onRemove,actor:(0,r().MR)(d),shouldShrink:!0,style:{background:"transparent"}},t):null}function v(e){let{item:t,props:n,parentStore:o}=e;const s=(0,i().K8)((()=>C(t,o)),[t,o]);return(0,f.jsx)(h().A,{...n,actor:(0,r().MR)(s)})}function b(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:2,fill:"currentColor"}}}function S(e){let{item:t,args:n,parentStore:s}=e;const{disabled:l,onRemove:a,onClick:u}=n,d=b((0,o().v3)()),c=(0,i().K8)((()=>C(t,s)),[t,s]),m=(0,f.jsx)(p().A,{disabled:l,onClick:a});return(0,f.jsx)(h().A,{disabled:l,focused:!1,actor:(0,r().MR)(c),right:m,style:d.menuItem,desktopTitleStyle:d.menuItemTitle,onClick:u},t)}},297401:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(e){const t=(0,n(484714).v3)(),i={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:r,disabled:s}=e,{device:l}=t,a=l.isMobile?{...i.removeFilterButton,...i.removeFilterButtonMobile}:i.removeFilterButton;return(0,o.jsx)(n(285790).A,{icon:n(931121).J,onClick:r,disabled:s,disableBackground:!0,style:a})}},381138:(e,t,n)=>{n.d(t,{q:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("search",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},386367:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ke});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(401497),l=()=>n(584262),a=()=>n(921940),u=()=>n(187174),d=()=>n(381138),c=()=>n(735384),m=()=>n(340498),p=n(474848);const h=(0,m().wt)("trashSlash",{viewBox:"0 0 16 16",svg:(0,p.jsx)("path",{d:"M12.3359 10.4551L11.293 9.41797L11.5273 4.45508H6.33594L5.1582 3.27148H5.33984V2.54492C5.33984 2.0957 5.47461 1.74609 5.74414 1.49609C6.01758 1.24219 6.39648 1.11523 6.88086 1.11523H9.11328C9.59766 1.11523 9.97461 1.24219 10.2441 1.49609C10.5176 1.74609 10.6543 2.0957 10.6543 2.54492V3.42383H13.2617C13.4062 3.42383 13.5273 3.47266 13.625 3.57031C13.7266 3.66797 13.7773 3.78906 13.7773 3.93359C13.7773 4.07812 13.7285 4.20117 13.6309 4.30273C13.5332 4.4043 13.4102 4.45508 13.2617 4.45508H12.6172L12.3359 10.4551ZM6.42969 3.42383H9.57031V2.60352C9.57031 2.45117 9.52148 2.33008 9.42383 2.24023C9.32617 2.14648 9.19531 2.09961 9.03125 2.09961H6.96289C6.79883 2.09961 6.66797 2.14648 6.57031 2.24023C6.47656 2.33008 6.42969 2.45117 6.42969 2.60352V3.42383ZM5.31055 14.3398C4.85742 14.3398 4.49414 14.2129 4.2207 13.959C3.95117 13.7051 3.80664 13.3516 3.78711 12.8984L3.41211 4.88867L4.53125 6.00781L4.85352 12.7168C4.86133 12.8887 4.91797 13.0293 5.02344 13.1387C5.13281 13.248 5.26758 13.3027 5.42773 13.3027H10.5723C10.7285 13.3027 10.8574 13.252 10.959 13.1504C11.0645 13.0527 11.123 12.9277 11.1348 12.7754L11.1406 12.6172L12.0195 13.502L12.0137 13.6074C11.8965 13.8379 11.7246 14.0176 11.498 14.1465C11.2754 14.2754 11.0078 14.3398 10.6953 14.3398H5.31055ZM8.41602 6.5293L7.70703 5.82031V5.5625C7.78125 5.48438 7.87891 5.44531 8 5.44531C8.125 5.44531 8.22461 5.48242 8.29883 5.55664C8.37695 5.62695 8.41602 5.71875 8.41602 5.83203V6.5293ZM10.2383 8.35156L9.45312 7.57227L9.50586 5.83203C9.50977 5.71484 9.54883 5.62109 9.62305 5.55078C9.69727 5.48047 9.79297 5.44531 9.91016 5.44531C10.0352 5.44531 10.1328 5.48242 10.2031 5.55664C10.2773 5.62695 10.3145 5.71875 10.3145 5.83203L10.2383 8.35156ZM6.27734 12.3535C6.15625 12.3535 6.05859 12.3203 5.98438 12.2539C5.91016 12.1836 5.87109 12.0898 5.86719 11.9727L5.73828 7.21484L6.55859 8.04688L6.67578 11.9668C6.67969 12.084 6.64453 12.1777 6.57031 12.248C6.49609 12.3184 6.39844 12.3535 6.27734 12.3535ZM8 12.3535C7.87891 12.3535 7.7793 12.3203 7.70117 12.2539C7.62695 12.1836 7.58984 12.0898 7.58984 11.9727V9.07812L8.41602 9.89258V11.9727C8.41602 12.0859 8.37695 12.1777 8.29883 12.248C8.22461 12.3184 8.125 12.3535 8 12.3535ZM9.73438 12.3535C9.60547 12.3535 9.50391 12.3184 9.42969 12.248C9.35938 12.1777 9.32617 12.084 9.33008 11.9668L9.35938 10.8477L10.1152 11.6035L10.1035 12.043C10.0801 12.25 9.95703 12.3535 9.73438 12.3535ZM12.9863 13.4434L2.35742 2.81445C2.26758 2.72852 2.22266 2.61914 2.22266 2.48633C2.22266 2.35352 2.26758 2.24414 2.35742 2.1582C2.44727 2.06445 2.55664 2.01953 2.68555 2.02344C2.81836 2.02344 2.92969 2.06836 3.01953 2.1582L13.6426 12.7812C13.7324 12.8711 13.7773 12.9805 13.7773 13.1094C13.7773 13.2383 13.7324 13.3496 13.6426 13.4434C13.5527 13.5332 13.4414 13.5781 13.3086 13.5781C13.1797 13.5781 13.0723 13.5332 12.9863 13.4434Z"})});var f=()=>n(885791),g=()=>n(112452);const C=(0,m().wt)("wifiExclamationMark",{viewBox:"0 0 16 16",svg:(0,p.jsx)("path",{d:"M7.99414 13.2441C7.81055 13.2441 7.64062 13.1992 7.48438 13.1094C7.33203 13.0195 7.21094 12.8984 7.12109 12.7461C7.03125 12.5977 6.98633 12.4316 6.98633 12.248C6.98633 12.0645 7.03125 11.8984 7.12109 11.75C7.21094 11.5977 7.33203 11.4785 7.48438 11.3926C7.64062 11.3027 7.81055 11.2578 7.99414 11.2578C8.18164 11.2578 8.35156 11.3027 8.50391 11.3926C8.66016 11.4785 8.78125 11.5977 8.86719 11.75C8.95703 11.8984 9.00195 12.0645 9.00195 12.248C9.00195 12.4316 8.95703 12.5977 8.86719 12.7461C8.78125 12.8984 8.66016 13.0195 8.50391 13.1094C8.35156 13.1992 8.18164 13.2441 7.99414 13.2441ZM8 10.2676C7.79688 10.2676 7.63672 10.209 7.51953 10.0918C7.40234 9.9707 7.33984 9.80469 7.33203 9.59375C7.32812 9.20703 7.32422 8.80859 7.32031 8.39844C7.31641 7.98438 7.31055 7.56641 7.30273 7.14453C7.29492 6.71875 7.28711 6.29492 7.2793 5.87305C7.27539 5.45117 7.26953 5.03906 7.26172 4.63672C7.25781 4.23047 7.25391 3.83789 7.25 3.45898C7.25 3.25195 7.32031 3.08008 7.46094 2.94336C7.60547 2.80273 7.7832 2.73242 7.99414 2.73242C8.20898 2.73242 8.38672 2.80273 8.52734 2.94336C8.66797 3.08008 8.73828 3.25195 8.73828 3.45898C8.73438 3.83789 8.73047 4.23047 8.72656 4.63672C8.72266 5.03906 8.71875 5.45117 8.71484 5.87305C8.71094 6.29492 8.70508 6.71875 8.69727 7.14453C8.69336 7.56641 8.6875 7.98438 8.67969 8.39844C8.67578 8.80859 8.67188 9.20703 8.66797 9.59375C8.66016 9.80469 8.59766 9.9707 8.48047 10.0918C8.36328 10.209 8.20312 10.2676 8 10.2676ZM6.37109 3.48828L6.40625 5.36328C5.66797 5.50781 4.96875 5.76172 4.30859 6.125C3.65234 6.48828 3.05469 6.95508 2.51562 7.52539C2.45312 7.5918 2.37891 7.62695 2.29297 7.63086C2.21094 7.63086 2.13672 7.59961 2.07031 7.53711L1.25 6.69922C1.19922 6.64062 1.17188 6.57617 1.16797 6.50586C1.16406 6.43555 1.18555 6.37305 1.23242 6.31836C1.61133 5.84961 2.06641 5.42578 2.59766 5.04688C3.13281 4.66406 3.7207 4.33984 4.36133 4.07422C5.00195 3.80859 5.67188 3.61328 6.37109 3.48828ZM9.61133 3.48828C10.3184 3.60938 10.9922 3.80469 11.6328 4.07422C12.2734 4.33984 12.8574 4.66406 13.3848 5.04688C13.916 5.42969 14.375 5.85352 14.7617 6.31836C14.8086 6.37305 14.8301 6.43555 14.8262 6.50586C14.8262 6.57617 14.7969 6.64062 14.7383 6.69922L13.918 7.51953C13.8555 7.58594 13.7832 7.62109 13.7012 7.625C13.6191 7.625 13.5488 7.5957 13.4902 7.53711C12.9395 6.96289 12.3359 6.49219 11.6797 6.125C11.0234 5.75781 10.3242 5.50391 9.58203 5.36328L9.61133 3.48828ZM9.57031 7.00391C10.1602 7.14453 10.7012 7.36523 11.1934 7.66602C11.6855 7.9668 12.0918 8.31055 12.4121 8.69727C12.459 8.75195 12.4805 8.81445 12.4766 8.88477C12.4727 8.95117 12.4434 9.01172 12.3887 9.06641L11.4746 9.96289C11.4043 10.0293 11.3301 10.0645 11.252 10.0684C11.1738 10.0684 11.1055 10.0352 11.0469 9.96875C10.8477 9.75781 10.6191 9.56641 10.3613 9.39453C10.1074 9.21875 9.83398 9.07422 9.54102 8.96094L9.57031 7.00391ZM6.42969 7.00391L6.45898 8.95508C6.17383 9.06445 5.9043 9.20508 5.65039 9.37695C5.40039 9.54492 5.17773 9.73438 4.98242 9.94531C4.91602 10.0195 4.83984 10.0605 4.75391 10.0684C4.67188 10.0723 4.5957 10.041 4.52539 9.97461L3.60547 9.06641C3.55078 9.01172 3.52148 8.95117 3.51758 8.88477C3.51367 8.81445 3.53516 8.75195 3.58203 8.69727C3.91016 8.30273 4.31836 7.95898 4.80664 7.66602C5.29883 7.36914 5.83984 7.14844 6.42969 7.00391Z"})});var x=()=>n(179034),y=()=>n(959013),v=()=>n(857783),b=()=>n(755636),S=()=>n(537941),A=()=>n(345913),I=()=>n(780054),k=()=>n(38337),j=()=>n(722872),M=()=>n(836251),T=()=>n(963589),B=()=>n(62856),w=()=>n(106628),R=()=>n(361330),F=()=>n(869562),D=()=>n(989423),L=()=>n(718807);function P(e,t,n){L().Ay.setState({...L().Ay.state,currentTab:e,limit:L().Ay.startLimit}),n.setState({...n.state,result:null}),function(e,t){(0,D().vd)(e,"toggle_trash_tab",t)}(t,{tab:e})}var H=()=>n(419357),O=()=>n(331542),K=()=>n(409066),E=()=>n(693176),W=()=>n(821879),V=()=>n(351360),z=()=>n(140828);function _(e){let{createdByFilterIds:t,setEditedByFilter:n,parentStore:o}=e;return(0,p.jsx)(z().A,{mode:W().C.Pill,focused:!1,title:(0,p.jsx)(y().sA,{id:"searchFilters.editedByFilterTitle",defaultMessage:"Last edited by"}),parentStore:o,userIds:t,onChange:n})}const N=(0,y().YK)({filterByPlaceholder:{id:"sidebarTrash.filterBy.placeholder",defaultMessage:"Search pages in Trash"}});function q(e){L().Ay.setState({...L().Ay.state,...e,limit:L().Ay.startLimit})}function U(e){const{requestStore:t}=e,{device:n}=(0,i().v3)(),o=(0,s().IS)((()=>({header:{margin:n.isMobile?0:"10px 0"},filterBar:{display:"flex",flexFlow:n.isMobile?"column":"row",margin:n.isMobile?0:"10px 12px"}})),[n]),l=(0,r().K8)((()=>V().default.state.currentUserRootStore),[]),a=(0,r().K8)((()=>{var e;return null===(e=V().default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),{lastEditedByIds:u,teamspaceIds:d,inPageIds:c}=(0,r().K8)((()=>{const{teamspaceIds:e,inPageIds:t}=L().Ay.state;return{lastEditedByIds:(0,L().yg)(L().Ay.state,a),teamspaceIds:e,inPageIds:t}}),[a]),m=(0,r().K8)((()=>e=>{q({lastEditedByIds:e,isInitialLastEditedByState:!1})}),[]),h=(0,r().K8)((()=>e=>{q({teamspaceIds:e})}),[]),f=(0,r().K8)((()=>e=>{q({inPageIds:e})}),[]);return(0,p.jsxs)("div",{style:o.header,children:[(0,p.jsx)(Z,{requestStore:t}),l&&(0,p.jsxs)("div",{style:o.filterBar,children:[(0,p.jsx)(_,{parentStore:l,createdByFilterIds:u,setEditedByFilter:m}),(0,p.jsx)(K().E,{mode:W().C.Pill,title:(0,p.jsx)(y().sA,{id:"sidebarTrash.searchPageFilter.location",defaultMessage:"In"}),parentStore:l,blockIds:c,onChange:f,focused:!1}),(0,p.jsx)(E().S,{mode:W().C.Pill,focused:!1,title:(0,p.jsx)(y().sA,{id:"sidebarTrash.searchPageFilter.Teamspaces",defaultMessage:"Teamspaces"}),parentStore:l,teamIds:d,onChange:h})]})]})}function Z(e){let{requestStore:t}=e;const n=(0,y().tz)(),o=(0,s().IS)((e=>({searchIcon:{width:14,height:14,flexGrow:0,flexShrink:0,color:e.lightIconColor}})),[]),l=(0,i().v3)(),a=(0,r().K8)((()=>t.state.loading),[t]),u=(0,r().K8)((()=>L().Ay.state.filter),[]),{device:c}=l,m=(0,B().A)(a,500,200),h=(0,r().K8)((()=>c.isMobile?m?(0,p.jsx)(O().A,{legacySize:14,style:o.searchIcon}):(0,d().q)(o.searchIcon):null),[c.isMobile,m,o.searchIcon]);return(0,p.jsx)(H().Ay,{inputLeft:h,style:{...c.isAndroid&&{borderBottom:"none"}},showClearButton:!0,placeholder:n.formatMessage(N.filterByPlaceholder),focus:!c.isMobile||void 0,value:u,onChange:$})}function $(e){L().Ay.setState({...L().Ay.state,filter:e.target.value,limit:L().Ay.startLimit})}var G=()=>n(496067),Y=()=>n(962730),X=()=>n(227440),J=()=>n(630116),Q=()=>n(299797),ee=()=>n(285790),te=()=>n(928600),ne=()=>n(939740),oe=()=>n(64e3),ie=()=>n(45552),re=()=>n(305390),se=()=>n(228927),le=()=>n(89924),ae=()=>n(533655),ue=()=>n(859428),de=()=>n(64901),ce=()=>n(979340),me=()=>n(284371),pe=()=>n(287882);var he=()=>n(58293),fe=()=>n(646736),ge=()=>n(404141),Ce=()=>n(125565),xe=()=>n(690197);function ye(){const e=(0,s().IS)((e=>({menuItem:{backgroundColor:e.lightBlueBannerBackground}})),[]),t=(0,p.jsx)(ve,{});return(0,p.jsx)(le().A,{style:e.menuItem,topBorder:!0,disableDesktopPadding:!1,children:t})}function ve(){const e=(0,he().r)(),t=(0,fe().HI)(e),n=(0,r().K8)((()=>Boolean((null==t?void 0:t.isWorkspaceOwner())&&(0,ce().OX)(null==e?void 0:e.getSubscriptionTier()))),[t,e]),o=(0,s().IS)((()=>({changeSettingsLink:{textDecoration:"underline",cursor:"pointer"},b:{fontWeight:me().Wy.medium},footerLabel:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:n?"6px 8px":"0px 8px",paddingLeft:10},helpButton:{marginLeft:2},helpIcon:{fill:"inherit"}})),[n]),i=function(e){const t=(0,y().tz)();return(0,r().K8)((()=>{const n=(0,ce().OX)(null==e?void 0:e.getSubscriptionTier())?null==e?void 0:e.getSettings().delete_from_trash_delay_seconds:void 0;return(0,pe().rN)(n,t)}),[e,t])}(e),l=n?(0,p.jsx)(y().sA,{defaultMessage:"Pages in Trash for over {deleteFromTrashDelayString} will be automatically deleted. <link>Change settings</link>",id:"sidebarTrash.footer.deletedAfterWithButton",values:{deleteFromTrashDelayString:i,b:e=>(0,p.jsx)("b",{style:o.b,children:e}),link:e=>(0,p.jsx)("a",{style:o.changeSettingsLink,onClick:()=>ge().A.setState({openedFrom:"sidebar_trash",highlightedSetting:void 0,open:!0,currentTab:"security",defaultSubtab:"data_retention"}),children:e})}}):(0,p.jsx)(y().sA,{defaultMessage:"Pages in Trash for over {deleteFromTrashDelayString} will be automatically deleted",id:"sidebarTrash.footer.deletedAfter",values:{deleteFromTrashDelayString:i,b:e=>(0,p.jsx)("b",{style:o.b,children:e})}});return(0,p.jsxs)(Ce().A,{isMultiline:!0,style:o.footerLabel,isSmall:!0,children:[(0,p.jsxs)("div",{children:[" ",l]}),(0,p.jsx)(xe().A,{style:o.helpButton,href:(0,M().xS)("guides.trash"),analyticsFrom:"trash",iconStyle:o.helpIcon})]})}const be=(0,y().YK)({filterByPlaceholder:{id:"sidebarTrash.filterBy.placeholder",defaultMessage:"Search pages in Trash"}});const Se=L().Jv;function Ae(){return(0,p.jsx)(de().A,{href:(0,M().xS)("guides.trash"),analyticsFrom:"trash"})}function Ie(e){return{width:14,height:14,flexGrow:0,flexShrink:0,color:e.lightIconColor}}const ke=function(){const e=(0,i().v3)(),t=(0,r().uB)(void 0,n(40851).A);return(0,o.useEffect)((()=>(L().Ay.setState({...L().Ay.state,limit:L().Ay.startLimit,excludePages:new Set,isInitialLastEditedByState:!0}),()=>{L().Ay.setState({...L().Ay.state,filter:"",lastEditedByIds:[],teamspaceIds:[],inPageIds:[]})})),[]),(0,r().K8)((()=>{var t;return(null===(t=e.mobileNative)||void 0===t?void 0:t.supportsNativeHomeOnPhone())||!1}),[e])?(0,p.jsx)(Fe,{requestStore:t}):(0,p.jsx)(Re,{requestStore:t})};function je(e){L().Ay.setState({...L().Ay.state,filter:e.target.value,limit:L().Ay.startLimit})}function Me(e){const{mobileNative:t}=e,n=()=>{G().A.setState({...G().A.state,open:!1})};null!=t&&t.supportsNativeHomeOnPhone()?S().navigateToHomeTab(e,n):n()}function Te(e){let{requestStore:t}=e;const n=(0,y().tz)(),o=(0,s().DP)(),l=(0,i().v3)(),a=(0,r().K8)((()=>t.state.loading),[t]),u=(0,r().K8)((()=>L().Ay.state.filter),[]),{device:c}=l,m=(0,B().A)(a,500,200),h=(0,r().K8)((()=>{if(c.isMobile)return m?(0,p.jsx)(O().A,{size:"sm",style:Ie(o)}):(0,d().q)(Ie(o))}),[c.isMobile,o,m]);return(0,p.jsx)(H().Ay,{inputLeft:h,style:{...c.isAndroid&&{borderBottom:"none"}},showClearButton:!0,placeholder:n.formatMessage(be.filterByPlaceholder),focus:!c.isMobile||void 0,value:u,onChange:je})}function Be(e){const{intl:t,requestKey:n}=e,d=(0,s().DP)(),m=(0,i().v3)(),[C]=(0,u().Yb)((()=>async function(e,t){const{currentSpaceStore:n,mainEditorCurrentBlockStore:o,currentUserStore:i}=V().default.state;if(!n||!i)return;const{limit:r,filter:s,teamspaceIds:l,inPageIds:a,currentTab:u}=L().Ay.state;if("in_current_page"===u){if(!o)return;if(o.isCollectionView()){if(!o.isDefined())return;if(!o.getCollectionPointer())return}}const d=(0,L().yg)(L().Ay.state,i.id),c=await w().T.searchActions.load();return await c.searchTrashPages({environment:t,query:s,limit:r,ancestorIds:a,spaceId:n.id,editedByIds:d,teamspaceIds:l})}(0,m)),[n,m],{debounce:R().tu}),S=C.value,k=(0,o.useCallback)((e=>{var t;return function(e){const{offsetFromBottom:t,queryResult:n}=e,{isReady:o,isEndOfResultsReached:i}=n;t<=L().Ay.loadMoreOffset&&o&&!i&&L().Ay.setState({...L().Ay.state,limit:L().Ay.state.limit+L().Ay.limitIncrement})}({offsetFromBottom:e,queryResult:{isReady:"resolved"===C.status||"rejected"===C.status,isEndOfResultsReached:null===(t=C.value)||void 0===t?void 0:t.endOfResultsReached}})}),[C]),{device:j}=m,M=(0,r().K8)((()=>V().default.state.mainEditorCurrentBlockStore),[]),D=(0,r().K8)((()=>V().default.state.currentSpaceStore),[]),P=(0,T().X)("trash_dont_need_current_page"),H=(0,r().K8)((()=>{const e=S?S.results:[];if(P){if(!D)return[];return e.map((e=>J().Bv.createChildStore(D,{table:x().ev,id:e}))).filter((e=>e.isDefined()&&!e.isFormBlock()&&!L().Ay.state.excludePages.has(e.id)))}if(!M)return[];return e.map((e=>J().Bv.createChildStore(M,{table:x().ev,id:e}))).filter((e=>e.isDefined()&&!e.isFormBlock()&&!L().Ay.state.excludePages.has(e.id)))}),[D,M,S,P]),K=(0,r().K8)((()=>L().Ay.state.filter),[]),E="pending"===C.status,W=(0,B().A)(E,500,200);if(P);else if(!M)return null;const z=H.map((e=>{const n={key:e.id,action:t=>{let{event:n}=t;if("metaKey"in n&&n.metaKey){const t=(0,a().A)({baseUrl:I().A.domainBaseUrl,pageId:e.id,pageVisitSource:l().y8.SidebarTrash});b().f({environment:m,url:t})}else v().uK({environment:m,store:e,pageVisitSource:l().y8.SidebarTrash}),G().A.setState({...G().A.state,open:!1});j.isMobile&&F().close()},render:n=>(0,p.jsx)(re().A,{...n,dontShrinkRight:!0,store:e,right:(0,p.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,p.jsx)(ue().A,{placement:Y().W.Bottom,renderTooltip:()=>(0,p.jsx)(y().sA,{defaultMessage:"Restore",id:"sidebarTrash.restorePageButton.tooltip"}),render:n=>(0,p.jsx)(ee().A,{icon:g()._,iconStyle:{width:16,height:16,color:d.mediumIconColor},...n,onClick:()=>function(e,t){const{currentSpaceStore:n}=V().default.state;n&&A().iN({environment:t,block:e,spaceId:e.pointer.spaceId||n.id,from:"trash_sidebar"})}(e,m),ariaLabel:t.formatMessage({defaultMessage:"Restore page",id:"sidebarTrash.restorePageButton.ariaLabel"})})}),(0,p.jsx)(ue().A,{placement:Y().W.Bottom,renderTooltip:()=>(0,p.jsx)(y().sA,{defaultMessage:"Delete from Trash",id:"sidebarTrash.permanentlyDeletePageButton.tooltip"}),render:n=>(0,p.jsx)(ee().A,{icon:f().h,iconStyle:{width:16,height:16,color:d.mediumIconColor},...n,onClick:()=>function(e,t){A().Ne({environment:t,blocks:[e],from:"trash_sidebar"})}(e,m),ariaLabel:t.formatMessage({defaultMessage:"Delete from Trash",id:"sidebarTrash.permanentlyDeletePageButton.ariaLabel"})})})]})})};return n}));return E&&0===z.length?(0,p.jsx)(le().A,{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)(Q().A,{icon:c().I,title:(0,p.jsx)(y().sA,{defaultMessage:"Trashed pages appear here",id:"sidebarTrash.filterBy.loadingTitle"}),description:null})}):0===z.length&&K?(0,p.jsx)(le().A,{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:j.isMobile?(0,p.jsx)(oe().A,{title:(0,p.jsx)(y().sA,{defaultMessage:"No matches",id:"sidebarTrash.mobileFilterBy.noMatchesTitle"})}):(0,p.jsx)(Q().A,{icon:h,title:(0,p.jsx)(y().sA,{defaultMessage:"No matches",id:"sidebarTrash.filterBy.noMatchesTitle"}),description:(0,p.jsx)(y().sA,{defaultMessage:"Try checking for typos",id:"sidebarTrash.filterBy.noMatchesDescription"})})}):0===z.length?(0,p.jsx)(le().A,{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:j.isMobile?(0,p.jsx)(oe().A,{title:(0,p.jsx)(y().sA,{defaultMessage:"No results",id:"sidebarTrash.mobileFilterBy.noResultsTitle"})}):(0,p.jsx)(Q().A,{icon:f().h,title:(0,p.jsx)(y().sA,{defaultMessage:"No results",id:"sidebarTrash.filterBy.noResultsTitle"}),description:null})}):(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)(ne().Ay,{type:ne().Oh.Vertical,initialFocus:void 0,sections:[{key:0,items:z,render:e=>(0,p.jsx)(le().A,{...e})}]}),W&&(0,p.jsx)("div",{style:{height:44,display:"flex",flex:1,alignItems:"center",justifyContent:"center"},children:(0,p.jsx)(O().A,{})}),(0,p.jsx)(se().A,{onChange:k})]})}function we(){const e=(0,y().tz)(),t=(0,r().K8)((()=>!X().A.state.online),[]),n=(0,r().K8)((()=>{var e;return null===(e=V().default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),o=(0,r().O$)(L().Ay),{filter:i,teamspaceIds:s,inPageIds:l,limit:a,currentTab:u}=o;if(t)return(0,p.jsx)(le().A,{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)(Q().A,{icon:C,title:(0,p.jsx)(y().sA,{defaultMessage:"You're offline",id:"sidebarTrash.goOnline.title"}),description:(0,p.jsx)(y().sA,{defaultMessage:"Please go online to view Trash",id:"sidebarTrash.goOnline.description"})})});{const t=(0,L().yg)(o,n);t.sort(),s.sort(),l.sort();const r=`${i}:${t}:${s}:${l}:${a}${u}`;return(0,p.jsx)(Be,{intl:e,requestKey:r})}}function Re(e){let{requestStore:t}=e;const n=(0,i().v3)(),r=(0,y().tz)(),s=(0,o.useCallback)((()=>function(e,t){const n=Se.indexOf(L().Ay.state.currentTab),o=Se[n-1];void 0!==o&&P(o,e,t)}(n,t)),[n,t]),l=(0,o.useCallback)((()=>function(e,t){const n=Se.indexOf(L().Ay.state.currentTab),o=Se[n+1];void 0!==o&&P(o,e,t)}(n,t)),[n,t]),{device:a}=n;let u;return u=a.isMobile?{menuType:j().gu.Modal,title:(0,p.jsx)(y().sA,{defaultMessage:"Trash",id:"sidebarTrash.menu.header"}),left:(0,p.jsx)(Ae,{}),right:(0,p.jsx)(ie().DoneMenuText,{}),rightAriaLabel:r.formatMessage(ie().mobileModalMessages.done),onClickRight:()=>Me(n),onCancel:()=>Me(n),header:(0,p.jsx)(U,{requestStore:t})}:{menuType:j().gu.Popup,height:"50vh",width:414,header:(0,p.jsx)(U,{requestStore:t}),footer:(0,p.jsx)(ye,{})},(0,p.jsx)(ae().A,{onSwipeLeft:l,onSwipeRight:s,render:e=>(0,p.jsx)(te().A,{...u,...e,className:k().MHX,children:(0,p.jsx)(we,{})})})}function Fe(e){let{requestStore:t}=e;const n=(0,i().v3)(),o=(0,y().tz)(),r={menuType:j().gu.Modal,title:(0,p.jsx)(y().sA,{defaultMessage:"Trash",id:"sidebarTrash.menu.header"}),left:(0,p.jsx)(Ae,{}),right:(0,p.jsx)(ie().DoneMenuText,{}),rightAriaLabel:o.formatMessage(ie().mobileModalMessages.done),onClickRight:()=>Me(n),onCancel:()=>Me(n),header:(0,p.jsx)(Te,{requestStore:t})};return(0,p.jsx)(te().A,{...r,className:k().MHX,children:(0,p.jsx)(we,{})})}},409066:(e,t,n)=>{n.d(t,{E:()=>A});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(581454),n(296540);var o=()=>n(484714),i=()=>n(56366),r=()=>n(784892),s=()=>n(687646),l=()=>n(179034),a=()=>n(959013),u=()=>n(972435),d=()=>n(825972),c=()=>n(106628),m=()=>n(351360),p=()=>n(630116),h=()=>n(614505),f=()=>n(305390),g=()=>n(16006),C=()=>n(297401),x=()=>n(881690),y=()=>n(821879),v=n(474848);const b={token:{display:"flex",alignItems:"center"},icon:{marginRight:4}},S=(0,a().YK)({searchPages:{defaultMessage:"Search pages",id:"searchPageFilter.searchTokenFilter.tokenInput.placeholder"},selectAPage:{defaultMessage:"Select a page",id:"searchPageFilter.searchTokenFilter.resultSection.title"}});function A(e){let{mode:t,title:n,blockIds:i,onChange:r,disabled:l,focused:p,onMenuDismiss:h,onMenuOpen:f,parentStore:g}=e;const C=(0,o().v3)();return(0,v.jsx)(y().A,{mode:t,hasItemsSelected:(null==i?void 0:i.length)>0,title:n,icon:s().k,iconStyles:T(C).recordIcon,items:i,onChange:r,focused:p,renderFilter:(e,t)=>(0,v.jsx)(B,{item:e,args:t,parentStore:g}),renderToken:(e,t)=>(0,v.jsx)(j,{item:e,handlers:t,blockIds:i,parentStore:g}),renderItemForSummary:e=>(0,v.jsx)(k,{item:e,parentStore:g}),addItemLabel:(0,v.jsx)(a().sA,{defaultMessage:"Add another page",id:"searchPageFilter.searchTokenFilter.addAPage.button"}),labelText:{title:n,tokenInputPlaceholder:u().A.formatMessage(S.searchPages),componentDebugName:"SearchPageFilter"},performRequest:e=>async function(e,t){let{query:n,current:o}=e;const{currentSpaceStore:i}=m().default.state;if(!i)return[];const r=await c().T.searchActions.load(),s=n?(await r.searchPageIds({environment:t,query:n,limit:20,spaceId:i.id,requireEditPermissions:!1,excludeTemplates:!1,source:"ancestor_filter_page_search",boostRecentlyViewedPages:!0})).results:d().NK.state.map((e=>e.pageId)),l=new Set(o);return s.filter((e=>!l.has(e)))}(e,C),renderResultMenuItem:(e,t)=>(0,v.jsx)(M,{item:e,props:t,parentStore:g}),disabled:l,onMenuDismiss:h,onMenuOpen:f})}function I(e,t){return p().Bv.createChildStore(t,{table:l().ev,id:e})}function k(e){let{item:t,parentStore:n}=e;const o=I(t,n);return(0,v.jsx)(g().A,{store:o,shouldWrap:!0,maxLength:50})}function j(e){let{item:t,handlers:n,blockIds:s,parentStore:l}=e;const a=(0,o().v3)(),u=b,d=1===s.length,c=I(t,l),m=(0,i().K8)((()=>c.getIcon()),[c]),p=(0,v.jsxs)("div",{style:u.token,children:[(0,v.jsx)(h().A,{disabled:!0,icon:m,isEmptyPage:!1,size:20,style:u.icon}),(0,v.jsx)(g().A,{store:c})]});return(0,v.jsx)(x().A,{format:a.device.isMobile?r().NY.Large:r().NY.Small,value:p,showRemoveButton:!0,onClickRemove:n.onRemove,isSingle:d,shouldShrink:!0,backgroundColor:"transparent",shouldWrap:!1})}function M(e){let{item:t,props:n,parentStore:o}=e;const r=(0,i().K8)((()=>I(t,o)),[t,o]);return(0,v.jsx)(f().A,{...n,store:r})}function T(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{fill:"currentColor"}}}function B(e){let{item:t,args:n,parentStore:i}=e;const{disabled:r,onRemove:s,onClick:l}=n,a=T((0,o().v3)()),u=I(t,i),d=(0,v.jsx)(C().A,{disabled:r,onClick:s});return(0,v.jsx)(f().A,{disabled:r,focused:!1,store:u,right:d,style:a.menuItem,desktopTitleStyle:a.menuItemTitle,onClick:l})}},457688:(e,t,n)=>{n.d(t,{A:()=>f,S:()=>p});var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(764880),l=()=>n(959013),a=()=>n(962730),u=()=>n(554509),d=()=>n(453697),c=n(474848);const m=o.forwardRef(((e,t)=>{const{actor:o,userTitle:u,defaultUserTitle:m="name_only",defaultUserCaption:f,useEmailAsTooltip:g,tooltip:C,tooltipPlacement:x,hoveredStyle:y,disabledFeedback:v,customUserTitleStyles:b}=e,S=(0,i().v3)(),A=(0,l().tz)(),I=(0,r().K8)((()=>o.asActor&&o.asActor.getDisplayName(A)),[o,A]),{email:k,showEmail:j}=(0,r().K8)((()=>{const e=o.asActor&&o.isUser()?o.email:void 0;return{email:e,showEmail:I!==e}}),[o,I]),M=g&&k?k:C;let T=20;S.device.isMobile&&(T=24),"email"===f&&(T=32);const B=("name_and_email"===m||"name_and_email_unless_right"===m&&!Boolean(e.right))&&void 0===f?(0,c.jsx)(h,{actor:null==o?void 0:o.asActor,customStyles:b}):(0,c.jsx)(p,{bold:"name_only_semibold"===m,customStyles:b,actor:null==o?void 0:o.asActor}),w=u??B,R="email"===f&&j?k:void 0;let F;return(0,s().H3)(o)?F=(0,c.jsx)(n(256863).A,{botValue:null==o?void 0:o.asActor,size:T}):(0,s().ps)(o)?F=(0,c.jsx)(d().A,{userValue:null==o?void 0:o.asActor,size:T}):(0,s().h2)(o)?F=(0,c.jsx)(d().A,{userValue:void 0,size:T}):(0,n(534177).HB)(o),(0,c.jsx)(n(859428).A,{placement:x??a().W.Bottom,alignment:a().C.Start,textWrap:!0,render:o=>(0,c.jsx)(n(760217).A,{...(0,n(553965).A)(o,e),icon:F,title:w,disabledFeedback:v,className:"notranslate",right:e.right,ref:t,hoveredStyle:y,caption:R}),disableTooltip:!M,renderTooltip:()=>M})}));function p(e){const{actor:t,bold:n,customStyles:o}=e,s=(0,i().v3)(),a=(0,l().tz)(),d=(0,r().K8)((()=>t&&t.id===s.currentUser.id),[s,t]),m=(0,r().K8)((()=>t&&t.getDisplayName(a)),[t,a]),p=n?"UIRegular-14px/Semibold":"UIRegular-14px/Regular";return d?(0,c.jsx)(l().sA,{id:"UserMenuItem.fullName.authorLabel",defaultMessage:"<author>{fullName}</author> <you>(You)</you>",values:{author:e=>(0,c.jsx)(u().D,{as:"span",styleName:p,customStyles:o,children:e}),fullName:m,you:e=>(0,c.jsx)(u().D,{as:"span",colorName:"secondary",styleName:"UIRegular-14px/Regular",customStyles:o,children:e})}}):m?(0,c.jsx)(u().D,{styleName:p,customStyles:o,children:m}):(0,c.jsx)(u().D,{styleName:p,customStyles:o,children:(0,c.jsx)(l().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}function h(e){const{actor:t,customStyles:n}=e,o=(0,l().tz)(),i=(0,r().K8)((()=>t&&t.getDisplayName(o)),[t,o]),{email:s,showEmail:a}=(0,r().K8)((()=>{const e=t&&t.asActor&&t.isUser()?t.email:void 0;return{email:e,showEmail:i!==e}}),[t,i]);return i?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u().D,{styleName:"UIRegular-14px/Semibold",customStyles:n,children:i}),a&&(0,c.jsx)(u().D,{styleName:"UIRegular-14px/Regular",customStyles:n,children:s})]}):(0,c.jsx)(u().D,{styleName:"UIRegular-14px/Semibold",customStyles:n,children:(0,c.jsx)(l().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}m.displayName="UserMenuItem";const f=m},522500:(e,t,n)=>{n.d(t,{q:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("megaphone",{viewBox:"0 0 64 64",svg:(0,o.jsx)("path",{d:"m54,10v40h-4l-20-10h-4l4,16h-10l-4-16c-4.94,0-8-3.06-8-8v-4c0-4.94,3.06-8,8-8h14l20-10h4Z"})})},626822:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(959013),r=n(474848);function s(e,t){const{teamStore:o,renderAsEveryoneMention:s}=e,{name:l}=(0,n(56366).K8)((()=>({name:o.getName()})),[o]);return(0,r.jsx)(n(760217).A,{...e,icon:s?(0,n(522500).q)({width:14,height:14}):(0,r.jsx)(n(898808).x,{size:14,store:o,disabled:!0}),title:s?(0,r.jsx)(i().sA,{id:"posts.teamMenuItem.everyoneMention",defaultMessage:"@everyone"}):l,ref:t,inline:!0,caption:s?(0,r.jsx)(i().sA,{id:"posts.teamMenuItem.caption",defaultMessage:"Notifies everyone in the teamspace"}):void 0})}const l=o.forwardRef(s)},687646:(e,t,n)=>{n.d(t,{k:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("searchInPage",{viewBox:"0 0 12 14",svg:(0,o.jsx)("path",{d:"M2.877 13.365h6.24c.63 0 1.104-.164 1.424-.492.32-.324.48-.8.48-1.43V6.13c0-.274-.015-.504-.046-.691a1.531 1.531 0 00-.182-.522 2.185 2.185 0 00-.387-.498l-3.07-3.123a2.11 2.11 0 00-.48-.38 1.528 1.528 0 00-.51-.183A3.464 3.464 0 005.7.68H2.877c-.629 0-1.104.164-1.424.492-.32.324-.48.8-.48 1.43v8.841c0 .633.16 1.112.48 1.436.32.324.795.486 1.424.486zm.094-1.154c-.282 0-.492-.072-.633-.217-.14-.144-.211-.351-.211-.621V2.678c0-.27.07-.479.21-.627.142-.149.354-.223.64-.223h2.496V5.04c0 .418.101.73.304.938.207.207.52.31.938.31h3.158v5.086c0 .27-.07.477-.21.621-.142.145-.354.217-.64.217H2.971zm3.855-6.938c-.12 0-.209-.027-.263-.082-.051-.054-.077-.142-.077-.263V1.986l3.229 3.287H6.826z"})})},693176:(e,t,n)=>{n.d(t,{S:()=>b});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(803949),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(874963),l=()=>n(854150),a=()=>n(245241),u=()=>n(959013),d=()=>n(37433),c=()=>n(106628),m=()=>n(351360),p=()=>n(630116),h=()=>n(988499),f=()=>n(614505),g=()=>n(848401),C=()=>n(297401),x=()=>n(626822),y=()=>n(821879),v=n(474848);function b(e){let{mode:t,title:n,teamIds:o,onChange:r,disabled:l,focused:p,onMenuDismiss:f,onMenuOpen:g,parentStore:C}=e;const x=(0,i().v3)(),b=(0,u().tz)(),S=(0,a().fg)(o);return(0,v.jsx)(y().A,{mode:t,title:n,icon:s().f,iconStyles:j(x).recordIcon,items:S||[],onChange:r,disabled:l,focused:p,renderFilter:(e,t)=>(0,v.jsx)(M,{item:e,args:t,parentStore:C}),renderToken:(e,t)=>(0,v.jsx)(k,{item:e,handlers:t,teamIds:o,parentStore:C}),renderItemForSummary:e=>(0,v.jsx)(A,{item:e,parentStore:C}),addItemLabel:(0,v.jsx)(u().sA,{defaultMessage:"Add a teamspace",id:"search.filterMenu.addATeamButton.label"}),labelText:{title:n,tokenInputPlaceholder:b.formatMessage({defaultMessage:"Search teamspaces",id:"search.filterMenu.searchTeams.placeholder"}),componentDebugName:"SearchTeamFilter"},performRequest:e=>async function(e,t){var n;let{query:o,current:i}=e;const r=new Set(i),s=m().default.state.currentSpaceViewStore,l=m().default.state.currentSpaceStore,a=null===(n=m().default.state.currentUserStore)||void 0===n?void 0:n.id;if(!s||!l||!a)return[];if(!o){const e=new Set(s.getTeamsStores().map((e=>e.id)));if(h().A.state.teams.map((e=>e.id)).forEach((t=>e.add(t))),e.size>0)return[...e]}const u=await(0,d().qd)({fromCache:!0,environment:t,spaceStore:l,includeArchived:!1,currentUserId:a}),p=await c().T.searchActions.load();return(await p.searchTeams({query:o,spaceViewStore:s,teamStores:u.teams})).filter((e=>!r.has(e.id))).slice(0,20).map((e=>e.id))}(e,x),renderResultMenuItem:(e,t)=>(0,v.jsx)(I,{item:e,props:t,parentStore:C}),onMenuDismiss:f,onMenuOpen:g,hasItemsSelected:Boolean(S&&(null==S?void 0:S.length)>0)})}function S(e,t){return p().h4.createChildStore(t,{table:l().yK,id:e})}function A(e){let{item:t,parentStore:n}=e;return(0,v.jsx)(v.Fragment,{children:S(t,n).getName()})}function I(e){let{item:t,props:n,parentStore:i}=e;const r=S(t,i);return(0,o.createElement)(x().A,{...n,key:t,teamStore:r})}function k(e){let{item:t,handlers:n,teamIds:o,parentStore:s}=e;const l=(0,i().v3)(),u=(0,a().fg)(o),d=1===(null==u?void 0:u.length),c=(0,r().K8)((()=>S(t,s)),[t,s]),m=(0,r().K8)((()=>c.getName()),[c]),p=(0,r().K8)((()=>function(e){const t=e.getIcon();return function(e){return(0,v.jsx)(f().A,{disabled:!0,icon:t,isEmptyPage:!1,size:e})}}(c)),[c]);return c?(0,v.jsx)(g().Ay,{format:l.device.isMobile?g().mI.Large:g().mI.Small,showRemoveButton:!0,isSingle:d,onClickRemove:n.onRemove,renderAvatar:p,title:m,style:{background:"transparent"}}):null}function j(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:6,fill:"currentColor"}}}function M(e){let{item:t,args:n,parentStore:o}=e;const{disabled:r,onRemove:s,onClick:l}=n,a=j((0,i().v3)()),u=S(t,o),d=(0,v.jsx)(C().A,{disabled:r,onClick:s});return(0,v.jsx)(x().A,{disabled:r,focused:!1,teamStore:u,right:d,style:a.menuItem,desktopTitleStyle:a.menuItemTitle,onClick:l},t)}},806754:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:i,marginAfter:r,desktopStyle:s,desktopTitleStyle:l,...a}=e,u=(r||s)&&{...r&&t.marginAfter,...s},d=l?{...t.desktopTitleStyle,...l}:t.desktopTitleStyle;return(0,o.jsx)(n(89924).A,{disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:u,desktopTitleStyle:d,shouldShowBottomDivider:!1,title:i,...a})}},821879:(e,t,n)=>{n.d(t,{C:()=>D,A:()=>L});n(898992),n(354520),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(401497),s=()=>n(959013),l=()=>n(496603),a=()=>n(115512),u=()=>n(962730),d=()=>n(377586),c=()=>n(493823),m=()=>n(760217),p=()=>n(14235),h=()=>n(204063),f=()=>n(89924),g=()=>n(978625),C=()=>n(56366),x=()=>n(857639),y=()=>n(229833),v=()=>n(722872),b=()=>n(970585),S=()=>n(939740),A=()=>n(64e3),I=()=>n(45552),k=()=>n(856952),j=n(474848);const M={menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}};const T=function(e){let{labelText:t,value:r,renderResultMenuItem:s,onConfirm:l,items:a,performRequest:u,onDismiss:d,onChange:c,renderToken:m,onRemove:p,onClear:h,disabled:f}=e;const g=(0,i().v3)(),x=(0,C().uB)(void 0,b().A),y=(0,C().uB)(void 0,n(40851).A),[v,S]=(0,n(857437).$)(),A=(0,o.useCallback)(((e,n,o)=>(0,j.jsx)(F,{error:e,data:n,ready:o,labelText:t,value:r,renderResultMenuItem:s,onConfirm:l,menuListStore:x,comboboxProps:S})),[t,r,s,l,x,S]),I={query:r,current:a};return(0,j.jsx)(n(928600).A,{...R(g,d,t,r,a,c,m,p,h,f,v),children:(0,j.jsx)(n(251126).A,{debounce:100,requestStore:y,request:I,performRequest:u,render:A})})};function B(e){const{device:t}=e;return t.isMobile}function w(e){let{labelText:t,value:n,items:o,disabled:r,onChange:s,renderToken:a,onRemove:u,onClear:d,inputComboboxProps:c}=e;const m=(0,i().v3)(),p=o.map((e=>a(e,{onRemove:()=>u(e)})));return(0,j.jsx)(f().A,{isInput:!0,children:(0,j.jsx)("div",{style:{padding:"4px 8px"},children:(0,j.jsx)(k().Ay,{focus:!B(m)||void 0,focusAfterAnimation:!0,format:k().le.FilterValue,tokens:p,placeholder:t.tokenInputPlaceholder,onRemoveLastToken:()=>function(e,t){const n=l().HV(e);n&&t(n)}(o,u),onClearButtonClick:d,value:n,onChange:s,showClearButton:!0,disabled:Boolean(r),style:M.inputMenu,...c})})})}function R(e,t,n,o,i,r,s,l,a,u,d){if(B(e)){return{menuType:v().gu.Modal,title:n.title,right:(0,j.jsx)(I().DoneMenuText,{}),onClickRight:t,header:(0,j.jsx)(w,{labelText:n,value:o,items:i,disabled:u,onChange:r,renderToken:s,onRemove:l,onClear:a,inputComboboxProps:d})}}return{menuType:v().gu.Popup,onClickOutside:t,header:(0,j.jsx)(w,{labelText:n,value:o,items:i,disabled:u,onChange:r,renderToken:s,onRemove:l,onClear:a,inputComboboxProps:d}),...M.menu}}function F(e){let{error:t,data:n,ready:i,labelText:r,value:l,renderResultMenuItem:a,onConfirm:u,menuListStore:d,comboboxProps:c}=e;const m=(0,C().uB)(d,b().A),p=(0,o.useCallback)((e=>(0,j.jsx)(f().A,{...e,title:r.resultSectionTitle,loading:!i})),[r,i]);if(t)return x().log({level:"error",from:r.componentDebugName,type:"requestFailed",error:(0,y().n6)(t),data:{miscDataToConvertToString:{query:l}}}),(0,j.jsx)(p,{children:(0,j.jsx)(A().A,{title:(0,j.jsx)(s().sA,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!n)return(0,j.jsx)(p,{children:(0,j.jsx)(A().A,{title:(0,j.jsx)(s().sA,{defaultMessage:"Loadingâ€¦",id:"search.inputMenu.loading.message"})})});if(n&&0===n.length)return(0,j.jsx)(p,{children:(0,j.jsx)(A().A,{title:(0,j.jsx)(s().sA,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const h={key:"results",items:n.map((e=>function(e,t,n){return{key:e,action:()=>n(e),render:n=>t(e,n)}}(e,a,u))),render:p};return(0,j.jsx)(S().Ay,{type:S().Oh.Vertical,store:m,initialFocus:0,sections:[h],comboboxProps:c})}let D=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});function L(e){const{items:t,keepInputOnItemConfirm:n,mode:r,onChange:s,onMenuDismiss:a,onMenuOpen:u}=e,{device:d}=(0,i().v3)(),c=(0,o.useRef)(),m=(0,o.useRef)(null),[p,h]=(0,o.useState)(!1),[f,g]=(0,o.useState)(""),[C,x]=(0,o.useState)(void 0),[y,v]=(0,o.useState)(void 0);function b(e,t){c.current=requestAnimationFrame((e=>{if(m&&m.current&&(v(m.current.getBoundingClientRect()),t)){const{shouldOpenMenu:e,nextIndexToReplace:n}=t;e&&(h(!0),x(n))}}))}(0,o.useEffect)((()=>(window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b),c.current&&(cancelAnimationFrame(c.current),c.current=void 0)})),[]);const S=t.length;function A(e){k(),h(!1),x(void 0),null==a||a(e)}function I(e){g(e.target.value)}function k(){g("")}function M(){s([])}const T=(0,o.useCallback)((e=>{const n=t.filter((t=>t!==e));s(n)}),[t,s]),B=(0,o.useCallback)((e=>{if("number"==typeof C&&C<t.length){const n=t.slice(0,C).concat(e,t.slice(C+1));s(n)}else if(t.includes(e)&&D.Pill)T(e);else{const n=t.concat(e);s(l().sb(n))}n||k()}),[T,C,t,n,s]);return(0,o.useEffect)((()=>{b()}),[S,r]),d.isMobile?(0,j.jsx)(_,{inputTemporaryValue:f,isMenuOpen:p,onClearInput:k,onClearItems:M,onItemConfirm:B,onMenuClose:A,onMenuInputChange:I,onMenuOpen:function(){h(!0)},onRemove:T,searchTokenFilterProps:e}):(0,j.jsx)(O,{hasItemsSelected:r===D.Pill&&e.hasItemsSelected,inputTemporaryValue:f,isMenuOpen:p,onClearInput:k,onClearItems:M,onItemConfirm:B,onMenuClose:A,onMenuInputChange:I,onMenuOpen:function(e){null==u||u(),b(0,{shouldOpenMenu:!0,nextIndexToReplace:e})},onRemove:T,popupOriginRect:y,ref:m,searchTokenFilterProps:e})}function P(e){return{buttonMenuItem:{color:e.mediumTextColor},appendListItemButton:{color:e.lightTextColor}}}function H(e,t){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:a().ny(e,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===t?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}const O=(0,o.forwardRef)((function(e,t){const{hasItemsSelected:r,inputTemporaryValue:s,isMenuOpen:l,onClearInput:a,onClearItems:c,onItemConfirm:m,onMenuClose:h,onMenuInputChange:f,onMenuOpen:g,onRemove:C,popupOriginRect:x,searchTokenFilterProps:y}=e,{addItemLabel:v,disabled:b,focused:S,icon:A,iconStyles:I,items:k,mode:M,renderFilter:T,title:B}=y,w=(0,i().v3)(),R=b||l,F=(0,o.useCallback)((()=>{g()}),[g]);return(0,j.jsxs)(n(806754).A,{title:M===D.Section?B:void 0,marginAfter:M===D.Section,style:H(w,M).sectionMenuItem,children:[M!==D.Pill&&(0,j.jsx)(K,{disableFilters:R,items:k,onClick:g,onRemove:C,renderFilter:T}),M===D.Section?(0,j.jsx)(E,{addItemLabel:v,disabled:b,isMenuOpen:l,mode:M,onClick:F,ref:t}):M===D.Button?(0,j.jsx)(W,{disabled:b,focused:S,icon:A,isMenuOpen:l,mode:M,onClick:F,ref:t,title:B}):M===D.Pill?(0,j.jsx)(V,{disabled:b,hasItemsSelected:r,icon:A,iconStyles:I,onClick:F,ref:t,title:B}):void(0,n(534177).HB)(M),(0,j.jsx)(p().Ay,{alignmentToOrigin:u().C.Start,keepFocus:!0,onDismiss:h,open:l,originRect:x,placementToOrigin:u().W.Bottom,popupType:d().n.Popup,preventScaleTransition:!0,render:()=>(0,j.jsx)(N,{searchTokenFilterProps:y,inputTemporaryValue:s,onMenuInputChange:f,onClearInput:a,onClearItems:c,onItemConfirm:m,onMenuClose:h,onRemove:C}),trapFocus:!0})]})}));function K(e){const{disableFilters:t,items:n,onClick:i,onRemove:r,renderFilter:s}=e,l=(0,o.useMemo)((()=>n.map(((e,n)=>(0,j.jsx)("li",{children:s(e,{disabled:t,onClick:()=>i(n),onRemove:()=>r(e)})},`${e}_${n}`)))),[t,n,i,r,s]);return(0,j.jsx)("ul",{style:a().$t,children:l})}const E=(0,o.forwardRef)((function(e,t){const{addItemLabel:o,disabled:s,isMenuOpen:l,mode:a,onClick:u}=e,d=H((0,i().v3)(),a),c=(0,r().IS)(P,[P]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{ref:t,style:d.menuItemWrapper}),(0,j.jsx)(m().A,{disabled:s||l,focused:!1,icon:(0,n(689094).W)(d.iconSmall),onClick:u,style:{...d.appendListItemButton,...c.appendListItemButton},title:o})]})})),W=(0,o.forwardRef)((function(e,t){const{disabled:n,focused:o,icon:s,isMenuOpen:l,mode:a,onClick:u,title:d}=e,c=H((0,i().v3)(),a),p=(0,r().IS)(P,[P]),h={...c.menuItem,...p.buttonMenuItem};return(0,j.jsx)("div",{ref:t,style:c.menuItemWrapper,children:(0,j.jsx)(m().A,{disabled:n||l,focused:o,icon:s(c.icon),onClick:u,style:h,title:d})})})),V=(0,o.forwardRef)((function(e,t){const{disabled:o,hasItemsSelected:r,icon:s,iconStyles:l,onClick:a,title:u}=e,d=H((0,i().v3)(),D.Pill);return(0,j.jsx)("div",{ref:t,style:d.menuItemWrapper,children:(0,j.jsx)(n(56394).A,{on:r,icon:s({...d.icon,...l}),title:(0,j.jsx)("span",{children:u}),onClick:a,wrapStyle:{opacity:o?.4:1}})})}));function z(e){const{disableFilters:t,items:n,mode:o,onClickClear:r,onMenuOpen:s,renderItemForSummary:l,title:u}=e,d=H((0,i().v3)(),o),c={...a().$t,...d.summary},m=n.length-1,p=(0,j.jsx)("ul",{style:c,children:n.map(((e,t)=>(0,j.jsxs)("li",{style:d.summaryItem,children:[l(e),t!==m&&","," "]},e)))});return(0,j.jsx)(g().A,{disabled:t,label:u,onClick:s,onClickClear:r,title:p})}function _(e){const{inputTemporaryValue:t,isMenuOpen:n,onClearInput:o,onClearItems:r,onItemConfirm:s,onMenuClose:l,onMenuInputChange:a,onMenuOpen:u,onRemove:c,searchTokenFilterProps:h}=e,{mode:f,disabled:g,title:C,items:x,renderItemForSummary:y,icon:v}=h,b=H((0,i().v3)(),f),S=g||n,A=f===D.Section?(0,j.jsx)(z,{disableFilters:S,items:x,mode:f,onClickClear:r,onMenuOpen:u,renderItemForSummary:y,title:C}):(0,j.jsx)(m().A,{disabled:S,focused:!1,icon:v({...b.icon}),onClick:u,title:C});return(0,j.jsx)(p().Ay,{keepFocus:!0,onDismiss:l,open:n,origin:A,popupType:d().n.SlideUp,render:()=>(0,j.jsx)(N,{inputTemporaryValue:t,onClearInput:o,onClearItems:r,onItemConfirm:s,onMenuClose:l,onMenuInputChange:a,onRemove:c,searchTokenFilterProps:h})})}function N(e){const{inputTemporaryValue:t,onClearInput:n,onClearItems:o,onItemConfirm:i,onMenuClose:r,onMenuInputChange:l,onRemove:a,searchTokenFilterProps:u}=e,{renderToken:d,renderFooter:m,allowApplyBatchSelection:p}=u;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(T,{...u,onChange:l,onClear:()=>{n(),o()},onConfirm:i,onDismiss:r,onRemove:a,renderToken:d,value:t}),m&&(0,j.jsxs)(f().A,{style:{padding:6,justifyContent:"space-between",display:"flex",flexDirection:"row"},topBorder:!0,children:[(0,j.jsx)(c().p,{onClick:o,children:(0,j.jsx)(s().sA,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),p&&(0,j.jsx)(h().A,{onClick:()=>{r("applyButton")},children:(0,j.jsx)(s().sA,{defaultMessage:"Apply",id:"searchTokenFilter.applyButton"})})]})]})}},856952:(e,t,n)=>{n.d(t,{Ay:()=>h,le:()=>p,sA:()=>m});var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(401497),l=()=>n(496603),a=()=>n(722872),u=()=>n(623580),d=()=>n(545805),c=n(474848);const m="20px";let p=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e}({});const h=o.forwardRef((function(e,t){const{disabled:o,value:i,message:r,right:s,showClearButton:a,format:u,focus:m,dontShowBorderBottom:p,showBorder:h,style:f,onClick:g,inputAndTokenWrapRightStyle:C,tokens:x,hideInput:y,onRemoveLastToken:v,onKeyDown:S,onChange:A,focusInitial:I,focusAfterAnimation:k,preventScrollOnFocus:j,inputFullWidth:M,inputDivStyle:T,inputStyle:B,rightWrapStyle:w,tokenWrapStyle:R,type:F,placeholder:D,onEmptySubmit:L,onSubmit:P,textarea:H,autoComplete:O,onClearButtonClick:K,inputElementAttributes:E,suppressFocusRing:W,onFocus:V,onBlur:z}=e;return(0,c.jsx)(d().A,{debugName:"TokenInputMenuItem",capture:!o,onLeft:l().D_,onRight:l().D_,onSelectAll:l().D_,onRedo:l().D_,onUndo:l().D_,onToggleBold:l().D_,onToggleItalics:l().D_,onToggleCode:l().D_,onCut:l().D_,onCopy:l().D_,onPaste:l().D_,onKeypress:l().D_,children:(0,c.jsx)(d().A,{debugName:"TokenInputMenuItem",capture:!o&&i.length>0,onDelete:l().D_,onBackspace:l().D_,children:(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minWidth:0,gap:r?4:void 0},children:[(0,c.jsx)(b,{ref:t,right:s,showClearButton:a,format:u,focus:m,dontShowBorderBottom:p,disabled:o,showBorder:h,style:f,rightWrapStyle:w,onClick:g,inputAndTokenWrapRightStyle:C,tokens:x,hideInput:y,value:i,onRemoveLastToken:v,onKeyDown:S,onChange:A,focusInitial:I,focusAfterAnimation:k,preventScrollOnFocus:j,inputFullWidth:M,inputDivStyle:T,inputStyle:B,type:F,placeholder:D,onEmptySubmit:L,onSubmit:P,textarea:H,autoComplete:O,onClearButtonClick:K,inputElementAttributes:E,suppressFocusRing:W,onFocus:V,onBlur:z,tokenWrapStyle:R}),r&&(0,c.jsx)(n(125565).A,{isSmall:!0,children:r})]})})})}));function f(e){return e===p.Group}function g(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":e.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden",fontSize:14,minHeight:28,padding:4,borderRadius:6}}function C(e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${e.regularDividerColor}`,fontSize:16,background:e.popoverBackground}}const x={borderRadius:4};function y(e){return{[p.Select]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[p.Person]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[p.Relation]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[p.Group]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[p.FilterValue]:{desktopWrapStyleOverride:{padding:"4px 6px",boxShadow:e.inputBoxShadow,background:e.inputBackground},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[p.Share]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}const v=o.forwardRef((function(e,t){let{tokens:n,disabled:r,value:l,onRemoveLastToken:a,onKeyDown:d,onChange:m,focus:p,focusInitial:h,focusAfterAnimation:f,preventScrollOnFocus:g,format:C,inputFullWidth:x,inputDivStyle:y,inputStyle:v,type:b,placeholder:S,onEmptySubmit:I,onSubmit:k,textarea:j,autoComplete:M,inputMenuItemStore:T,onFocus:B,onBlur:w,inputElementAttributes:R,suppressFocusRing:F}=e;const D=(0,s().DP)(),L=(0,i().v3)(),P=(0,o.useCallback)((e=>{"Backspace"===e.key&&0===l.length&&a(),d&&d(e)}),[l,a,d]),H=(0,o.useCallback)((e=>{0===l.length&&I&&I(),k&&k(e)}),[l,I,k]),O=(0,o.useCallback)((()=>{T.setState({focused:!1}),null==w||w()}),[T,w]),K=(0,o.useCallback)((()=>{T.setState({focused:!0}),null==B||B()}),[T,B]),E=0===n.length;return(0,c.jsx)(u().A,{disabled:r,format:u().C.Transparent,onKeyDown:P,onChange:m,value:l,focus:p,focusInitial:h,focusAfterAnimation:f,preventScrollOnFocus:g,style:A(C,L,D,x,y),inputStyle:v||{height:L.device.isMobile?24:20},size:1,ref:t,type:b,placeholder:E?S:"",onSubmit:H,onFocus:K,onBlur:O,textarea:j,autoComplete:M,inputElementAttributes:R,suppressFocusRing:F})})),b=o.forwardRef((function(e,t){const{right:l,showClearButton:u,format:d,focus:m,dontShowBorderBottom:p,disabled:h,showBorder:x,style:b,onClick:A,inputAndTokenWrapRightStyle:I,tokenWrapStyle:k,tokens:j,hideInput:M,value:T,onRemoveLastToken:B,onKeyDown:w,onChange:R,focusInitial:F,focusAfterAnimation:D,preventScrollOnFocus:L,inputFullWidth:P,inputDivStyle:H,inputStyle:O,rightWrapStyle:K,type:E,placeholder:W,onEmptySubmit:V,onSubmit:z,textarea:_,autoComplete:N,onClearButtonClick:q,onFocus:U,onBlur:Z,inputElementAttributes:$,suppressFocusRing:G}=e,Y=(0,s().DP)(),X=(0,i().v3)(),J=(0,o.useContext)(a().xu),[Q,ee]=o.useState(!1),te=(0,r().uB)(void 0,n(995444).A);(0,n(852507).l)((()=>{(m||F)&&te.setState({focused:!0})})),(0,o.useEffect)((()=>{L&&ee(!0),void 0!==m&&te.setState({focused:m})}),[m,te,L]);const ne=(0,r().K8)((()=>te.state.focused),[te]),oe=(0,o.useRef)(null),[ie,re]=(0,n(819121).A)(),se=(0,n(93583).A)(t,oe,ie),le=(0,o.useCallback)((()=>{var e;h||(null===(e=oe.current)||void 0===e||e.focus(),null==A||A())}),[h,A,oe]),ae="combobox"===(null==$?void 0:$.role)&&re&&!G,ue=function(e){let{environment:t,theme:n,format:o,focus:i,dontShowBorderBottom:s,disabled:l,showBorder:u,menuContext:d,showFocusRing:c}=e;return(0,r().K8)((()=>{const{WindowSizeStore:e}=t,r=y(n)[o];return t.device.isMobile?{...C(n),paddingTop:14,paddingBottom:8,paddingLeft:(null==d?void 0:d.menuType)!==a().gu.Popup?e.getSafePaddingLeftCSS(16):16,paddingRight:(null==d?void 0:d.menuType)!==a().gu.Popup?e.getSafePaddingRightCSS(16):16,...s&&{borderBottom:"none"}}:{...g(n,l),...r.desktopWrapStyleOverride,...u&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...u&&i&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...i&&r.inputDivDesktopFocusStyle,...c&&{boxShadow:n.outlineBlueInputBoxShadow}}}),[l,s,t,i,o,null==d?void 0:d.menuType,u,n,c])}({environment:X,theme:Y,format:d,focus:m,dontShowBorderBottom:p,disabled:h,showBorder:x,menuContext:J,showFocusRing:ae}),{inputElementAttributes:de,wrapperElementAttributes:ce}=(0,o.useMemo)((()=>{if("combobox"===(null==$?void 0:$.role)){const{role:e,"aria-expanded":t,"aria-haspopup":n,"aria-controls":o,"aria-orientation":i,...r}=$;return{inputElementAttributes:r,wrapperElementAttributes:{role:e,"aria-expanded":t,"aria-haspopup":n,"aria-controls":o,"aria-orientation":i}}}return{inputElementAttributes:$,wrapperElementAttributes:{}}}),[$]);return!X.device.isMobile||l||u?(0,c.jsxs)(n(2143).H,{type:n(756279).A.All,style:{...ue,flexWrap:"nowrap",...b},onClick:le,...ce,children:[(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...k,...l||u?I:null},children:[j,!M&&(0,c.jsx)(v,{ref:se,tokens:j,disabled:h,value:T,onRemoveLastToken:B,onKeyDown:w,onChange:R,focus:m,focusInitial:F,focusAfterAnimation:D,preventScrollOnFocus:Q,format:d,inputFullWidth:P,inputDivStyle:H,inputStyle:O,type:E,placeholder:W,onEmptySubmit:V,onSubmit:z,textarea:_,autoComplete:N,inputMenuItemStore:te,onFocus:U,onBlur:Z,inputElementAttributes:de,suppressFocusRing:G})]}),l||u?(0,c.jsx)("div",{style:{flexShrink:0,...K},children:(0,c.jsx)(S,{showClearButton:u,right:l,onClearButtonClick:q,tokens:j,value:T})}):null]}):(0,c.jsxs)("div",{style:{...ue,flexWrap:"nowrap",...b},onClick:le,tabIndex:-1,role:"none",...ce,children:[(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,gap:6,overflow:"hidden",marginRight:f(d)?6:0},children:[j,!M&&(0,c.jsx)(v,{ref:se,tokens:j,disabled:h,value:T,onRemoveLastToken:B,onKeyDown:w,onChange:R,focus:m,focusInitial:F,focusAfterAnimation:D,format:d,inputFullWidth:P,inputDivStyle:H,inputStyle:O,type:E,placeholder:W,onEmptySubmit:V,onSubmit:z,textarea:_,autoComplete:N,inputMenuItemStore:te,onFocus:U,onBlur:Z,inputElementAttributes:de,suppressFocusRing:G})]}),(0,c.jsx)(n(594739).A,{show:ne})]})}));function S(e){let{showClearButton:t,right:o,onClearButtonClick:r,tokens:l,value:a}=e;const u=(0,n(959013).tz)(),d=(0,s().DP)(),m=(0,i().v3)(),{isMobile:p}=m.device;return o?(0,c.jsx)(c.Fragment,{children:o}):t&&(l.length>0||a.length>0)?(0,c.jsx)(n(704152).A,{"aria-label":u.formatMessage({id:"tokenInputMenuItem.clearButton",defaultMessage:"Clear"}),onClick:r,style:{flexShrink:0,flexGrow:0,borderRadius:p?24:20,marginTop:2},children:(0,n(931121).J)({width:p?16:14,height:p?16:14,fill:d.lightIconColor})}):null}function A(e,t,n,o,i){return{flexGrow:1,flexShrink:1,flexBasis:o?"100%":60,minWidth:60,width:"auto",lineHeight:m,...t.device.isMobile?{margin:"0 8px 8px 0"}:y(n)[e].inputDivDesktopStyle,...i}}},874963:(e,t,n)=>{n.d(t,{f:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("openTeamSearch",{viewBox:"0 0 16 14",svg:(0,o.jsx)("path",{d:"M9.506 13.342h4.447c.348 0 .621-.11.82-.328.2-.22.3-.516.3-.891V4.852c0-.375-.1-.67-.3-.885-.199-.219-.472-.328-.82-.328H9.922v1.136h3.709c.101 0 .178.026.228.077.051.05.076.127.076.228v6.815c0 .101-.025.177-.076.228-.05.05-.127.076-.228.076H9.506v1.143zm2.28-6.358h.925c.129 0 .193-.064.193-.193v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .129.062.193.187.193zm0 2.168h.925c.129 0 .193-.066.193-.199v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .133.062.2.187.2zm0 2.163h.925c.129 0 .193-.067.193-.2v-.896c0-.13-.064-.194-.193-.194h-.926c-.125 0-.187.065-.187.194v.896c0 .133.062.2.187.2zm-10.864.808c0 .375.1.672.299.89.199.22.474.329.826.329H9.44c.348 0 .621-.11.82-.328.204-.22.305-.516.305-.891V1.928c0-.38-.101-.676-.304-.89-.2-.22-.473-.329-.82-.329H2.046c-.352 0-.627.11-.826.328-.2.215-.3.512-.3.89v10.196zm1.142-.228V2.162c0-.105.026-.183.077-.234.05-.051.127-.076.228-.076h6.75c.102 0 .178.025.229.076.05.05.076.129.076.234v9.733c0 .101-.026.177-.076.228-.051.05-.127.076-.229.076H2.37c-.101 0-.178-.025-.228-.076-.051-.05-.077-.127-.077-.228zm1.588.85h.891v-1.946c0-.117.06-.176.182-.176h2.039c.12 0 .181.059.181.176v1.945h.89V10.5c0-.25-.058-.435-.175-.557-.117-.125-.295-.187-.533-.187H4.36c-.238 0-.416.062-.533.187-.117.122-.176.307-.176.557v2.244zm.17-8.362h1.12c.156 0 .234-.078.234-.235v-1.09c0-.156-.078-.234-.235-.234H3.822c-.148 0-.222.078-.222.235v1.09c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.235v-1.09c0-.156-.077-.234-.229-.234H6.541c-.152 0-.229.078-.229.235v1.09c0 .156.077.234.229.234zM3.822 6.627h1.12c.156 0 .234-.078.234-.234V5.309c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.234V5.309c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .156.077.234.229.234zm-2.719 2.25h1.12c.156 0 .234-.08.234-.24V7.553c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .16.074.24.222.24zm2.719 0h1.12c.152 0 .228-.08.228-.24V7.553c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .16.077.24.229.24z"})})},885791:(e,t,n)=>{n.d(t,{h:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("trashSmall",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M5.31055 14.3398C4.85742 14.3398 4.49414 14.2129 4.2207 13.959C3.95117 13.7051 3.80664 13.3516 3.78711 12.8984L3.38867 4.45508H2.74414C2.59961 4.45508 2.47656 4.4043 2.375 4.30273C2.27344 4.20117 2.22266 4.07812 2.22266 3.93359C2.22266 3.79297 2.27344 3.67383 2.375 3.57617C2.47656 3.47461 2.59961 3.42383 2.74414 3.42383H13.2617C13.4062 3.42383 13.5273 3.47266 13.625 3.57031C13.7266 3.66797 13.7773 3.78906 13.7773 3.93359C13.7773 4.07812 13.7266 4.20117 13.625 4.30273C13.5273 4.4043 13.4062 4.45508 13.2617 4.45508H12.6172L12.2188 12.8926C12.1992 13.3457 12.0527 13.6992 11.7793 13.9531C11.5059 14.2109 11.1445 14.3398 10.6953 14.3398H5.31055ZM5.42773 13.3027H10.5723C10.7363 13.3027 10.8711 13.248 10.9766 13.1387C11.082 13.0332 11.1387 12.8926 11.1465 12.7168L11.5273 4.45508H4.45508L4.85352 12.7168C4.86133 12.8887 4.91797 13.0293 5.02344 13.1387C5.12891 13.248 5.26367 13.3027 5.42773 13.3027ZM6.27734 12.3535C6.15625 12.3535 6.05859 12.3203 5.98438 12.2539C5.91016 12.1836 5.87109 12.0898 5.86719 11.9727L5.69141 5.83203C5.6875 5.71875 5.72266 5.62695 5.79688 5.55664C5.87109 5.48242 5.96875 5.44531 6.08984 5.44531C6.21094 5.44531 6.30859 5.48047 6.38281 5.55078C6.45703 5.62109 6.49414 5.71289 6.49414 5.82617L6.67578 11.9668C6.67578 12.084 6.63867 12.1777 6.56445 12.248C6.49414 12.3184 6.39844 12.3535 6.27734 12.3535ZM8 12.3535C7.87891 12.3535 7.7793 12.3184 7.70117 12.248C7.62695 12.1777 7.58984 12.0859 7.58984 11.9727V5.83203C7.58984 5.71875 7.62695 5.62695 7.70117 5.55664C7.7793 5.48242 7.87891 5.44531 8 5.44531C8.125 5.44531 8.22461 5.48242 8.29883 5.55664C8.37695 5.62695 8.41602 5.71875 8.41602 5.83203V11.9727C8.41602 12.0859 8.37695 12.1777 8.29883 12.248C8.22461 12.3184 8.125 12.3535 8 12.3535ZM9.72852 12.3535C9.60352 12.3535 9.50391 12.3184 9.42969 12.248C9.35938 12.1777 9.32617 12.084 9.33008 11.9668L9.50586 5.83203C9.50977 5.71484 9.54883 5.62109 9.62305 5.55078C9.69727 5.48047 9.79297 5.44531 9.91016 5.44531C10.0352 5.44531 10.1328 5.48242 10.2031 5.55664C10.2773 5.62695 10.3125 5.71875 10.3086 5.83203L10.1328 11.9727C10.1289 12.0898 10.0898 12.1836 10.0156 12.2539C9.94141 12.3203 9.8457 12.3535 9.72852 12.3535ZM5.33984 3.81055V2.54492C5.33984 2.0957 5.47461 1.74609 5.74414 1.49609C6.01758 1.24219 6.39648 1.11523 6.88086 1.11523H9.10742C9.5918 1.11523 9.9707 1.24219 10.2441 1.49609C10.5176 1.74609 10.6543 2.0957 10.6543 2.54492V3.81055H9.57031V2.59766C9.57031 2.44922 9.52148 2.33008 9.42383 2.24023C9.32617 2.14648 9.19531 2.09961 9.03125 2.09961H6.95703C6.79688 2.09961 6.66797 2.14648 6.57031 2.24023C6.47266 2.33008 6.42383 2.44922 6.42383 2.59766V3.81055H5.33984Z"})})},978625:(e,t,n)=>{n.d(t,{A:()=>a});n(296540);var o=()=>n(484714),i=()=>n(284371),r=()=>n(946548),s=()=>n(297401),l=n(474848);const a=function(e){const{disabled:t,label:i,title:r,onClick:s,isToggle:a,isToggleActive:c,onClickClear:m,...p}=e,h=(0,n(401497).DP)(),f=(0,o().v3)(),g=function(e){return{menuItemLabel:{color:e.lightTextColor}}}(h),C=u(f),x=(0,l.jsx)("span",{style:g.menuItemLabel,children:i});return(0,l.jsx)(n(760217).A,{focused:!1,...p,inline:a,disabled:t,icon:x,title:r,right:(0,l.jsx)(d,{disabled:!!t,isToggle:!!a,isToggleActive:!!c,onClick:s,onClickClear:m}),onClick:s,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:C.menuItem,desktopIconStyle:C.menuItemLabel})};function u(e){return{menuItem:{background:void 0,minHeight:void 0,fontSize:e.device.isMobile?i().J.UISmall.mobile:i().J.UIRegular.desktop,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}function d(e){let{disabled:t,isToggle:n,isToggleActive:i,onClick:a,onClickClear:d=(()=>{})}=e;const c=u((0,o().v3)()).rightWrapper;return n?(0,l.jsx)("div",{style:c,children:(0,l.jsx)(r().A,{on:!!i,onClick:a})}):(0,l.jsx)(s().A,{disabled:t,onClick:d})}}}]);