"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[20108,47381],{15897:(e,t,i)=>{i.d(t,{A:()=>d});i(581454),i(296540);var n=()=>i(401497),a=()=>i(962730),r=()=>i(704152),s=()=>i(859428),o=i(474848);function l(e){const{isFirst:t,isLast:i,isSelected:l,item:d,itemStyle:c,selectedItemStyle:u,innerStyle:p,children:g,colors:m,onClick:h}=e,{isDisabled:f,tooltip:y}=d,S=(0,n().IS)((e=>{const n=(null==m?void 0:m.selectedOutline)??e.blueColor,a=(null==m?void 0:m.unselectedOutline)??e.selectorBorderUnselected;return{SegmentedItem:{alignItems:"center",background:l?null==m?void 0:m.selectedBackground:void 0,borderBottomLeftRadius:t?3:0,borderBottomRightRadius:i?3:0,borderColor:l?n:a,borderStyle:"solid",borderTopLeftRadius:t?3:0,borderTopRightRadius:i?3:0,borderWidth:1,cursor:f?void 0:"pointer",display:"flex",flexBasis:"50%",marginLeft:t?0:-1,padding:0,userSelect:"none",zIndex:l?10:0,...c,...l?u:void 0},Inner:{borderBottomLeftRadius:t?2:0,borderBottomRightRadius:i?2:0,borderColor:l?n:"transparent",borderStyle:"solid",borderTopLeftRadius:t?2:0,borderTopRightRadius:i?2:0,borderWidth:1,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",padding:"12px 20px",textAlign:"center",width:"100%",...p}}}),[null==m?void 0:m.selectedBackground,null==m?void 0:m.selectedOutline,null==m?void 0:m.unselectedOutline,t,i,l,f,c,u,p]),v=()=>{h&&h(d.key)};return(0,o.jsx)(s().A,{render:e=>(0,o.jsx)(r().A,{ariaLabel:d.ariaLabel,"aria-pressed":l,onClick:v,style:S.SegmentedItem,disabled:f,...e,children:(0,o.jsx)("div",{style:S.Inner,children:g})}),renderTooltip:()=>(0,o.jsx)("div",{children:y}),disableTooltip:l||void 0===y,placement:a().W.Bottom})}function d(e){const{items:t=[],itemStyle:i,selectedItemStyle:a,innerStyle:r,outerStyle:s,value:d,onChange:c,colors:u}=e,p=(0,n().IS)((e=>({SegmentedButton:{background:e.cardContentBackground,display:"flex",width:"100%",...s}})),[s]);return 0===t.length?null:(0,o.jsx)("div",{style:p.SegmentedButton,children:t.map(((e,n)=>(0,o.jsx)(l,{isFirst:0===n,isLast:n===t.length-1,isSelected:e.key===d,item:e,itemStyle:i,selectedItemStyle:a,innerStyle:r,colors:u,onClick:c,children:e.render()},e.key)))})}},58293:(e,t,i)=>{i.d(t,{r:()=>r});var n=()=>i(56366),a=()=>i(351360);function r(){return(0,n().K8)((()=>a().default.state.currentSpaceStore),[])}},83848:(e,t,i)=>{i.d(t,{b:()=>s});var n=()=>i(56366),a=()=>i(351360),r=()=>i(134217);function s(e){return(0,n().K8)((()=>r().GU({billingData:e,spaceStore:a().default.state.currentSpaceStore})),[e])}},86089:(e,t,i)=>{i.d(t,{o:()=>l});var n=i(296540),a=()=>i(484714),r=()=>i(56366),s=()=>i(351360),o=()=>i(779795);function l(){const e=(0,a().v3)(),[t,i]=(0,n.useState)([]),l=(0,r().K8)((()=>{var e;return null===(e=s().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]);return(0,n.useEffect)((()=>{(async()=>{if(l){const t=await(0,o().p_)({environment:e,spaceId:l});i(t)}})()}),[e,l]),t}},122116:(e,t,i)=>{i.d(t,{O:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("chat",{viewBox:"0 0 32 32",svg:(0,n.jsx)("path",{d:"M7.52 28.727c.591 0 .993-.205 1.706-.842l3.732-3.41c.802.898 2.017 1.375 3.566 1.375h3.844l3.721 3.252c.68.591 1.048.898 1.582.898.77 0 1.204-.557 1.204-1.421V25.85h.468c2.796 0 4.657-1.716 4.657-4.695v-6.719c0-2.978-1.86-4.695-4.657-4.695h-1.75v-.864C25.593 5.785 23.8 4 20.77 4H4.825C1.916 4 0 5.785 0 8.877v10.47c0 3.093 1.916 4.878 4.825 4.878h1.47v3.103c0 .876.435 1.399 1.226 1.399zm.458-5.264c0-.648-.38-.955-.87-.955H4.937c-1.972 0-3.142-1.091-3.142-3.217V8.934c0-2.115 1.17-3.229 3.142-3.229h15.721c1.973 0 3.142 1.114 3.142 3.229v.807h-7.275c-2.92 0-4.647 1.717-4.647 4.695v6.72c0 .613.067 1.17.212 1.682l-4.111 3.865v-3.24zm17.225 4.48l-3.576-3.275c-.446-.398-.713-.523-1.326-.523h-3.666c-1.86 0-2.975-1.034-2.975-3.047l.011-6.605c0-2 1.103-3.047 2.964-3.047h10.607c1.85 0 2.964 1.046 2.964 3.047v6.605c0 2.013-1.114 3.047-2.964 3.047h-1.18c-.48 0-.859.284-.859.932v2.865z"})})},137465:(e,t,i)=>{i.d(t,{Q:()=>s});var n=()=>i(148307),a=()=>i(979340);const r=(0,i(959013).YK)({unlimitedBlocksForIndividuals:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForIndividuals",defaultMessage:"Unlimited blocks for individuals"},unlimitedBlocksForTeams:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForTeams",defaultMessage:"Unlimited blocks for teams"},unlimitedFileUploads:{id:"SpaceSubscriptionPlans.includes.unlimitedFileUploads",defaultMessage:"Unlimited file uploads"},collaborativeWorkspace:{id:"SpaceSubscriptionPlans.includes.collaborativeWorkspaces",defaultMessage:"Collaborative workspace"},integrations:{id:"SpaceSubscriptionPlans.includes.integrations",defaultMessage:"Slack, GitHub, and more integrations"},pageHistory7Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.7",defaultMessage:"7 day page history"},pageHistory30Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.30",defaultMessage:"30 day page history"},pageHistory90Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.90",defaultMessage:"90 day page history"},pageHistoryUnlimited:{id:"SpaceSubscriptionPlans.includes.pageHistory.unlimited",defaultMessage:"Unlimited page history"},guests10:{id:"SpaceSubscriptionPlans.includes.guests.10",defaultMessage:"Invite up to 10 guests"},guests100:{id:"SpaceSubscriptionPlans.includes.guests.100",defaultMessage:"Invite up to 100 guests"},guests250:{id:"SpaceSubscriptionPlans.includes.guests.250",defaultMessage:"Invite up to 250 guests"},guestsCustom:{id:"SpaceSubscriptionPlans.includes.guests.custom",defaultMessage:"Custom guest limits"},aiCredits:{id:"SpaceSubscriptionPlans.includes.aiCredits",defaultMessage:"10 free AI credits"},samlSSO:{id:"SpaceSubscriptionPlans.includes.saml.sso",defaultMessage:"SAML SSO"},userProvisioning:{id:"SpaceSubscriptionPlans.includes.scim",defaultMessage:"User provisioning (SCIM)"},advancedSecurityControls:{id:"SpaceSubscriptionPlans.includes.advancedSecurityControls",defaultMessage:"Advanced security controls"},auditLog:{id:"SpaceSubscriptionPlans.includes.auditLog",defaultMessage:"Audit log"},privateTeamspaces:{id:"SpaceSubscriptionPlans.includes.privateTeamspaces",defaultMessage:"Private Teamspaces"},bulkPdfExport:{id:"SpaceSubscriptionPlans.includes.bulkPdfExport",defaultMessage:"Bulk PDF export"},customerSuccessManager:{id:"SpaceSubscriptionPlans.includes.customerSuccessManager",defaultMessage:"Customer success manager"}}),s={ai:{imageByMode:{light:n().A.images.pricing.aiLogoPng,dark:n().A.images.pricing.aiLogoPng},originalImage:{path:n().A.images.pricing.aiLogoPng,width:100,height:100},planTitle:a().v0.ai,highlights:[],highlightsWhenComparedWithPlanBelow:[]},sites_custom_hostnames:{imageByMode:{dark:n().A.images.pricing.dark.freePlanPng,light:n().A.images.pricing.light.freePlanPng},originalImage:{path:n().A.images.pricing.original.freePng,width:108,height:146},planTitle:a().v0.sites,highlights:[],highlightsWhenComparedWithPlanBelow:[]},free:{imageByMode:{dark:n().A.images.pricing.dark.freePlanPng,light:n().A.images.pricing.light.freePlanPng},originalImage:{path:n().A.images.pricing.original.freePng,width:108,height:146},planTitle:a().v0.freePlan,highlights:[r.unlimitedBlocksForIndividuals,r.collaborativeWorkspace,r.integrations,r.pageHistory7Days,r.guests10],highlightsWhenComparedWithPlanBelow:[]},personal:{imageByMode:{light:n().A.images.pricing.light.plusPlanPng,dark:n().A.images.pricing.dark.plusPlanPng},originalImage:{path:n().A.images.pricing.original.plusPng,width:163,height:168},planTitle:a().v0.plusPlan,highlights:[r.integrations,r.unlimitedFileUploads,r.pageHistory30Days,r.guests100],highlightsWhenComparedWithPlanBelow:[]},student:{imageByMode:{light:n().A.images.pricing.light.freePlanPng,dark:n().A.images.pricing.dark.freePlanPng},originalImage:{path:n().A.images.pricing.original.freePng,width:108,height:146},planTitle:a().v0.educationPlusPlan,highlights:[r.unlimitedBlocksForIndividuals,r.integrations,r.pageHistory30Days,r.guests100],highlightsWhenComparedWithPlanBelow:[]},plus:{imageByMode:{light:n().A.images.pricing.light.plusPlanPng,dark:n().A.images.pricing.dark.plusPlanPng},originalImage:{path:n().A.images.pricing.original.plusPng,width:163,height:168},planTitle:a().v0.plusPlan,highlights:[r.collaborativeWorkspace,r.integrations,r.unlimitedBlocksForTeams,r.unlimitedFileUploads,r.pageHistory30Days,r.guests100],highlightsWhenComparedWithPlanBelow:[]},business:{imageByMode:{light:n().A.images.pricing.light.businessPlanPng,dark:n().A.images.pricing.dark.businessPlanPng},originalImage:{path:n().A.images.pricing.original.businessPng,width:122,height:146},planTitle:a().v0.businessPlan,highlights:[r.samlSSO,r.privateTeamspaces,r.bulkPdfExport,r.pageHistory90Days,r.guests250],highlightsWhenComparedWithPlanBelow:[]},enterprise:{imageByMode:{light:n().A.images.pricing.light.enterprisePlanPng,dark:n().A.images.pricing.dark.enterprisePlanPng},originalImage:{path:n().A.images.pricing.original.enterprisePng,width:197,height:206},planTitle:a().v0.enterprisePlan,highlights:[r.samlSSO,r.privateTeamspaces,r.bulkPdfExport,r.pageHistoryUnlimited,r.guestsCustom,r.userProvisioning,r.advancedSecurityControls,r.auditLog,r.customerSuccessManager],highlightsWhenComparedWithPlanBelow:[]}}},141273:(e,t,i)=>{i.d(t,{g:()=>l});var n=i(296540),a=()=>i(484714),r=()=>i(56366),s=()=>i(351360),o=()=>i(749356);function l(e){const t=(0,a().v3)(),[i,l]=(0,n.useState)(),d=(0,r().K8)((()=>{var e;return null===(e=s().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]);return(0,n.useEffect)((()=>{!async function(){d&&l(await(0,o().L6)({environment:t,spaceId:d,offerCampaign:e}))}()}),[t,d,e]),i}},240865:(e,t,i)=>{i.d(t,{V:()=>r});var n=()=>i(56366),a=()=>i(351360);function r(){return(0,n().K8)((()=>{const{currentSpaceStore:e}=a().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())||null}),[])}},314907:(e,t,i)=>{i.d(t,{E:()=>r});var n=()=>i(56366),a=()=>i(134217);function r(e){return(0,n().K8)((()=>a().Fq(e.state)),[e])}},324561:(e,t,i)=>{i.d(t,{Gi:()=>g,Q7:()=>p,UU:()=>m,_3:()=>u,a9:()=>c,f_:()=>d});var n=()=>i(484714),a=()=>i(56366),r=()=>i(857639),s=()=>i(762433),o=()=>i(596513),l=()=>i(714300);function d(e){let{spaceId:t}=e;const i=(0,n().v3)();return(0,a().K8)((()=>{if(t)return o().t.getData(i,{spaceId:t})}),[i,t])}function c(e){if("admin"===(null==e?void 0:e.type))return e}function u(e){let{spaceId:t}=e;return c((0,l().l)({spaceId:t}))}function p(e,t,i){if(!t)return 0;const n=(0,s().yB)({spaceId:e,logFunction:r().log.bind(r()),billingData:t});return n?Math.max(n,i):0}function g(e){var t;const i=null===(t=(0,s().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!i)return;const n=i.unitAmount,a="year"===i.billingInterval?12:1;return{amount:n.amount/a,currencyCode:n.currencyCode}}function m(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},382055:(e,t,i)=>{i.d(t,{$3:()=>u,AQ:()=>d,Ae:()=>l,BL:()=>c,FL:()=>o,FX:()=>a,Vp:()=>s,XL:()=>r,nY:()=>p});var n=()=>i(989423);function a(e,t){n().vd(e,"workspace_creation_ability",t)}function r(e,t){n().vd(e,"workspace_creation_setting_updated",t)}function s(e,t){n().vd(e,"claimable_spaces_viewed",t)}function o(e,t){n().vd(e,"space_transfer_requested",t)}function l(e,t){n().vd(e,"space_transfer_completed",t)}function d(e,t){n().vd(e,"space_claim_upgrade_requested",t)}function c(e,t){n().vd(e,"space_claim_upgrade_completed",t)}function u(e,t){n().vd(e,"space_claim_deletion_started",t)}function p(e,t){n().vd(e,"space_claim_deletion_canceled",t)}},430395:(e,t,i)=>{i.d(t,{A:()=>a});class n extends(()=>i(757695))().default{getInitialState(){return{open:!1,succeeded:!1}}close(){this.setState({open:!1,succeeded:!1})}closeWithSuccess(){this.setState({open:!1,succeeded:!0})}open(e){this.setState({open:!0,temporaryBillingInterval:"month",temporaryAddress:{name:"",businessName:"",addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:""},appliedPromo:void 0,error:void 0,vatApplicable:!1,calculatingTax:!1,payButtonState:"disabled",subscriptionTier:"enterprise",targetPlan:void 0,targetSpace:e,totalUpgradeCost:void 0,onlyShowAddOn:!1,sessionId:i(206267).JW(),type:i(506090).p.TargetSpace})}setAddressField(e){this.state.open&&this.setState({...this.state,temporaryAddress:{...this.state.temporaryAddress,...e},taxCalculationError:void 0})}}const a=new n},477217:(e,t,i)=>{i.r(t),i.d(t,{ClaimAndUpgradeModal:()=>Oe});var n=()=>i(624119),a=i(296540),r=()=>i(484714),s=()=>i(852507),o=()=>i(56366),l=()=>i(401497),d=()=>i(212050),c=()=>i(959013),u=()=>i(100622),p=()=>i(252105),g=()=>i(84817),m=()=>i(297872),h=()=>i(957986),f=()=>i(2143),y=()=>i(559504),S=()=>i(38337),v=()=>i(756279),x=()=>i(351360),b=()=>i(227440),A=()=>i(17090),C=(i(581454),()=>i(857639)),I=()=>i(643819),j=()=>i(382055),M=()=>i(449506),P=()=>i(901389),w=()=>i(496414),T=()=>i(436572),_=()=>i(57605),k=()=>i(112527),B=()=>i(134217),U=()=>i(430395),W=()=>i(601203),D=i(474848);const O=(0,c().YK)({loading:{defaultMessage:"Claiming and upgrading workspace...",id:"spaceSubscriptionUpgradeModal.upgradeTargetSpace.loading"}});function F(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}async function L(e){const{environment:t,data:i,requestingSpaceId:n,paymentData:a}=e,r=U().A.state;if(!r.open)return;const s=r.targetPlan;if(!s)return;const o=r.temporaryAddress;w().m({message:O.loading});const l=r.targetSpace.id,d=await M().callApi({eventName:"claimAndUpgradeSpace",environment:t,data:{requestingSpaceId:n,targetSpaceId:l,targetPlan:s,paymentMethodId:F(a),customerName:o.name,businessName:o.businessName,addressLine1:o.addressLine1,addressCity:o.city,addressZip:o.zipCode,addressState:o.state,addressCountry:o.country,vatId:r.vatApplicable?r.temporaryVatCode:void 0}});var u,g,m,h;(w().V(),"success"===d.type)?(U().A.closeWithSuccess(),h=r.targetSpace.name,T().D6({label:(0,D.jsx)(c().sA,{id:"identityProvisioningSettings.claimWorkspaces.claimModal.selfServe.toast",defaultMessage:"Successfully claimed â€œ{spaceName}â€œ",values:{spaceName:h}})}),j().BL(t,{previousOwners:r.targetSpace.admins.map((e=>e.id)),newOwners:t.currentUser.id?[t.currentUser.id]:[],targetSpaceId:l,verifiedDomain:r.targetSpace.creatorEmailDomain,memberCount:r.targetSpace.memberCount,costForUpgrade:null===(u=r.totalUpgradeCost)||void 0===u?void 0:u.amount,currencyCode:null===(g=r.totalUpgradeCost)||void 0===g?void 0:g.currencyCode,currentPlan:null===(m=B().RJ(i))||void 0===m?void 0:m.plan,targetPlan:s})):(P().Qg(d),function(e){const{environment:t,modalId:i}=e;U().A.reset(),p().OC(t,{modal_id:i})}({environment:t,modalId:r.sessionId}))}const H=(0,i(496603).sg)((async function(e){const{environment:t,state:i,data:n,requestingSpaceId:a,stripe:r,elements:s,intl:o}=e;p().Fp(t,{modal_id:i.sessionId}),U().A.update((e=>({...e,payButtonState:"disabled"}))),await async function(e){const{environment:t,state:i,data:n,requestingSpaceId:a,stripe:r,elements:s,intl:o}=e;if(!s||!r)return void C().log({level:"error",from:"SpaceSubscriptionUpgradeModal",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});let l=i.paymentData;if(!l){const{error:e}=await s.submit();if(e)return p().qC(t,{error:"could not submit form",error_type:"payment_method",modal_id:i.sessionId}),void U().A.setState({...i,error:o.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});const n=await r.createPaymentMethod({elements:s});if(n.error)return p().qC(t,{error:n.error.message,error_type:"payment_method",modal_id:i.sessionId}),p().cr(t,{error:n.error.code,stripe_decline_code:n.error.decline_code}),void U().A.setState({...i,error:k().translateStripeError(o,n.error)});if(!n.paymentMethod)return p().qC(t,{error:"could not create token",error_type:"payment_method",modal_id:i.sessionId}),void U().A.setState({...i,error:o.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});l={type:"paymentMethodId",value:n.paymentMethod.id},U().A.setState({...i,paymentData:l})}await L({environment:t,data:n,requestingSpaceId:a,paymentData:l})}({environment:t,state:i,data:n,requestingSpaceId:a,stripe:r,elements:s,intl:o});const l=U().A.state;l.open&&U().A.setState({...l,payButtonState:"enabled"})}),1e3,{leading:!0,trailing:!1});async function z(e){const{requestingSpaceId:t,environment:i,state:n}=e;U().A.update((e=>({...e,totalUpgradeCost:void 0,payButtonState:"disabled"})));const a=n.targetSpace.isActorInSpace?n.targetSpace.memberCount:n.targetSpace.memberCount+1,r=B().EX(n.temporaryBillingInterval),s=await M().callApi({eventName:"getCostForSpaceUpgrade",environment:i,data:{targetSpaceId:n.targetSpace.id,requestingSpaceId:t,subscriptionTier:"enterprise",billingInterval:r,memberCount:a}});if("failed"===s.type)P().Qg(s),U().A.close();else{const e=s.data?I().W.fromValue({amount:s.data.totalCost,currencyCode:s.data.currencyCode}).zeroIfNegative():void 0;U().A.update((t=>({...t,totalUpgradeCost:e,targetPlan:s.data.targetPlan,payButtonState:"enabled"})))}}var R=()=>i(477530),E=()=>i(585312),K=()=>i(847554),q=()=>i(662866),N=()=>i(981046),Q=()=>i(730764),V=()=>i(125565);function Y(e){const{error:t}=e.state,i=(0,l().IS)((()=>({label:{marginTop:8,color:u().Ay.red}})),[]);return t?(0,D.jsx)(V().A,{isMultiline:!0,style:i.label,children:t}):null}var G=()=>i(762433),X=()=>i(204063),Z=()=>i(506090),$=()=>i(807778),J=()=>i(972418);function ee(e){const{state:t}=e,{open:i,type:n,isTrial:a,subscriptionTier:r}=t;return i?n===Z().p.TargetSpace?(0,D.jsx)(c().sA,{id:"subscriptionUpgradeModal.targetSpace.button.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"}):a?(0,D.jsx)(c().sA,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion {subscriptionTier, select, business {Business} other {Plus}} trial",values:{subscriptionTier:r}}):(0,D.jsx)(c().sA,{id:"subscriptionUpgradeModal.upgradeButton.upgradeNow",defaultMessage:"Upgrade now"}):null}function te(e){const{state:t,onClickUpgrade:i,customStyles:n}=e,a=(0,l().IS)((()=>({upgradeButton:{height:40,marginTop:24,fontSize:16}})),[]),r=(0,o().K8)((()=>{var e;return null===(e=x().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),s=(0,J().lh)({spaceId:r}),d=(0,G().Fv)(s),c=(0,o().K8)((()=>(0,$().Ir)()&&!1),[d]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(X().A,{disabled:"disabled"===t.payButtonState,style:{...a.upgradeButton,...n},onClick:()=>i({useTestClock:!1}),children:(0,D.jsx)(ee,{state:t})}),c?(0,D.jsx)(X().A,{disabled:"disabled"===t.payButtonState,style:a.upgradeButton,onClick:()=>i({useTestClock:!0}),children:"ðŸš§ Upgrade with Test Clock ðŸš§"}):void 0]})}var ie=()=>i(122116),ne=()=>i(979340),ae=()=>i(284371),re=()=>i(864943),se=()=>i(508496),oe=()=>i(19575);function le(e){const{state:t}=e,i=(0,l().IS)((e=>({contactSalesButton:{width:"100%",height:40,marginTop:10},contactSalesCta:{fontWeight:ae().Wy.medium},contactSalesIcon:{height:18,width:20,marginRight:6},contactSalesQuestionsText:{color:e.mediumTextColor,fontSize:12,lineHeight:ae().K_.UISmall.desktop}})),[]),[n,a]=(0,o().K8)((()=>{const e=se().default.getEligibleGroup({experimentId:"in_app_contact_sales_cta_billing",defaultGroup:"control"});return[t.subscriptionTier,e]}),[t]);if(!(0,ne().HO)(n))return null;const r="on"===a?(0,D.jsx)(c().sA,{defaultMessage:"Request a demo",id:"helpButton.salesChat.menuItemDemoVariant"}):(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.upgradeModal.contactSales",defaultMessage:"Contact sales"});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(re().A,{size:"lg",style:i.contactSalesButton,onClick:()=>{(0,oe().lK)({initialQuestion:B().pt(t.subscriptionTier),openedFrom:(0,ne().OX)(t.subscriptionTier)?"enterprise_checkout_modal":"business_checkout_modal"})},children:[(0,ie().O)(i.contactSalesIcon),(0,D.jsx)("span",{style:i.contactSalesCta,children:r})]}),(0,D.jsx)("p",{style:i.contactSalesQuestionsText,children:(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.upgradeModal.sales.questions",defaultMessage:"Questions? Contact our sales team for more information."})})]})}function de(e){const{state:t,products:i,onClickUpgrade:n}=e,{isTrial:a}=t;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[(0,D.jsx)(te,{state:t,onClickUpgrade:n}),(0,D.jsx)(Q().w,{showTrialEndDisclaimer:!1,products:i})]}),(0,D.jsx)(Y,{state:t}),a?null:(0,D.jsx)(le,{state:t})]})}var ce=()=>i(558094);function ue(){const e=(0,l().IS)((e=>({primaryTextStyle:{fontWeight:ae().Wy.bold,fontSize:20,lineHeight:1.1,marginTop:16,marginBottom:6,padding:0},secondaryTextStyle:{fontWeight:ae().Wy.regular,fontSize:16,lineHeight:1.4,color:e.mediumTextColor}})),[]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ce().X,{product:"enterprise"}),(0,D.jsx)("h2",{style:e.primaryTextStyle,id:S().Kvs,children:(0,D.jsx)(c().sA,{id:"subscriptionUpgradeModal.targetSpace.title.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"})}),(0,D.jsx)("div",{style:e.secondaryTextStyle,id:S().SdC,children:(0,D.jsx)(c().sA,{id:"subscriptionUpgradeModal.oneLiner.enterprise",defaultMessage:"Controls and support to run your company."})})]})}var pe=()=>i(802790),ge=()=>i(298697),me=()=>i(690197),he=()=>i(836251),fe=()=>i(517492),ye=()=>i(331542);function Se(e){const{lineItemData:t,nameStyle:i,priceStyle:n,showZeroPrice:a}=e,r=(0,l().IS)((e=>({container:{marginTop:24},itemContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",lineHeight:1,minHeight:18},name:{fontSize:12,color:e.mediumTextColor,...i||void 0},price:{fontSize:12,color:"promotion"===t.type?"#53A83F":e.regularTextColor,...n||void 0},caption:{fontSize:12,color:e.mediumTextColor},captionContainer:{display:"flex",flexDirection:"column"}})),[t,i,n]);let s="-";return t.price&&(t.price.amount>0||a)&&(s=(0,D.jsx)(fe().v,{cost:t.price.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})),(0,D.jsxs)("div",{style:r.itemContainer,children:[(0,D.jsxs)("div",{style:r.captionContainer,children:[(0,D.jsx)("span",{style:r.name,children:t.name}),t.subtitle&&(0,D.jsx)("span",{style:r.caption,children:t.subtitle})]}),"calculating"===t.type?(0,D.jsx)(ye().A,{}):(0,D.jsx)("span",{style:r.price,children:s})]})}function ve(e){var t;const{state:i}=e,n=(0,l().IS)((e=>({container:{display:"flex",flexDirection:"column"},header:{fontSize:16,color:e.regularTextColor,fontWeight:ae().Wy.semibold,marginBottom:10},couponLink:{fontSize:12},helpButton:{marginLeft:0,marginTop:-4,marginBottom:12},helpButtonInner:{fontSize:12}})),[]),a=i.calculatingTax||null===(t=I().W.sum(i.totalUpgradeCost,i.taxAmount))||void 0===t?void 0:t.zeroIfNegative(),r=i.targetSpace.isActorInSpace?i.targetSpace.memberCount:i.targetSpace.memberCount+1;return(0,D.jsxs)("div",{style:n.container,children:[(0,D.jsx)("label",{style:n.header,children:(0,D.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.header",defaultMessage:"Order summary"})}),void 0!==i.totalUpgradeCost?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(be,{totalCostForUpgrade:i.totalUpgradeCost,memberCount:r}),(0,D.jsx)(me().A,{style:n.helpButton,buttonStyle:n.helpButtonInner,title:(0,D.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.helpButton.label",defaultMessage:"Learn more about prorated charges"}),href:(0,he().xS)("guides.billingAndPayment"),analyticsFrom:"invoices"}),(0,D.jsx)(xe,{state:i}),(0,D.jsx)(pe().A,{size:14}),(0,D.jsx)(Se,{showZeroPrice:!0,lineItemData:{price:a,type:"standard",name:(0,D.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.orderTotal",defaultMessage:"Total"})},priceStyle:{fontSize:20}})]}):(0,D.jsx)(Ae,{})]})}function xe(e){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(Se,{showZeroPrice:!0,lineItemData:{type:"standard",name:(0,D.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.subTotal",defaultMessage:"Subtotal"}),price:e.state.totalUpgradeCost}}),(0,D.jsx)(Se,{lineItemData:{type:e.state.calculatingTax?"calculating":"standard",name:(0,D.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.tax.title",defaultMessage:"Tax"}),price:e.state.taxAmount,subtitle:e.state.taxAmount||0===e.state.taxAmount?void 0:(0,D.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.tax.subtitle",defaultMessage:"if applicable"})}})]})}function be(e){const{totalCostForUpgrade:t,memberCount:i}=e,n=(0,l().IS)((e=>({container:{display:"flex",justifyContent:"space-between",marginBottom:6},item:{},title:{fontSize:14},subtitle:{color:e.mediumTextColor,fontSize:12},price:{fontSize:14,color:e.regularTextColor}})),[]);return(0,D.jsxs)("div",{style:n.container,children:[(0,D.jsxs)("div",{style:n.item,children:[(0,D.jsx)("div",{style:n.title,children:(0,D.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.proratedChanges",defaultMessage:"Prorated charges"})}),(0,D.jsx)("div",{style:n.subtitle,children:(0,D.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.proratedChangesCaption",defaultMessage:"All charges due to claim and upgrade the workspace ({memberCount, plural, one {{memberCount} member} other {{memberCount} members}}).",values:{memberCount:i}})})]}),(0,D.jsx)("div",{style:n.price,children:(0,D.jsx)(fe().v,{cost:t,trailingZeroDisplay:"stripIfInteger"})})]})}function Ae(){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ge().A,{paragraphs:[{lineHeight:18,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:0},{lineHeight:14,lineMargin:4,sectionWidths:[100,40],repeat:1,sectionMargin:-2}]}),(0,D.jsx)("div",{style:{display:"block",height:27}}),(0,D.jsx)(ge().A,{paragraphs:[{lineHeight:16,lineMargin:1,sectionWidths:[100],repeat:2,sectionMargin:4}]}),(0,D.jsx)(ge().A,{paragraphs:[{lineHeight:14,lineMargin:0,sectionWidths:[30],repeat:1,sectionMargin:4}]}),(0,D.jsx)(pe().A,{size:14}),(0,D.jsx)(ge().A,{paragraphs:[{lineHeight:24,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:1}]})]})}i(16280),i(944114);var Ce=()=>i(654601),Ie=()=>i(15897),je=()=>i(714300);const Me=function(e){const t=(n=e.reduceTopMargin,(0,l().IS)((e=>({discountDescription:{alignItems:"center",marginBottom:36,color:e.mediumTextColor,fontSize:12,lineHeight:ae().K_.UISmall.desktop,marginTop:n?-8:void 0}})),[n]));var n;return(0,D.jsx)("div",{style:t.discountDescription,children:(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.discountMessage",defaultMessage:"Get an additional <bold>50% off Notion AI</bold> for the next 3 months with a paid plan. <terms>See details.</terms>",values:{bold:e=>(0,D.jsx)("b",{children:e}),terms:e=>(0,D.jsx)(i(719147).A,{href:(0,he().xS)("terms.discounts.ai.summer.2023"),children:e})}})})};function Pe(){return(0,l().IS)((e=>({discountText:{color:e.invoiceGreen,fontSize:12},icon:{width:16,height:16},mainTextSelected:{fontWeight:ae().Wy.medium,color:e.regularTextColor,fontSize:14,lineHeight:"14px"},mainTextUnselected:{color:e.mediumTextColor,fontSize:14,lineHeight:"14px"},priceText:{fontSize:14,color:e.mediumTextColor,marginTop:2},row:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,lineHeight:"14px"},section:{marginBottom:20},sectionHeader:{display:"flex",alignItems:"center",marginBottom:11,fontSize:11,fontWeight:ae().Wy.semibold,color:e.mediumTextColor}})),[])}function we(e){const{header:t,children:i}=e,n=Pe();return(0,D.jsxs)("div",{style:n.section,children:[(0,D.jsx)("div",{style:n.sectionHeader,children:t}),i]})}function Te(e){const{isSelected:t,billingInterval:i}=e,n=Pe(),a=t?n.mainTextSelected:n.mainTextUnselected;let r;switch(i){case"month":r=(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.monthly",defaultMessage:"Monthly"});break;case"year":r=(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearly",defaultMessage:"Yearly"});break;default:throw new Error(`Unsupported billing interval: ${i}`)}return(0,D.jsxs)("div",{style:n.row,children:[(0,D.jsx)("div",{style:a,children:r}),"year"===i?(0,D.jsx)("div",{style:n.discountText,children:(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearlyDiscount",defaultMessage:"{percent}% off",values:{percent:20}})}):null]})}function _e(e){const{isSelected:t}=e,i=Pe(),n=t?i.mainTextSelected:i.mainTextUnselected;return(0,D.jsx)("div",{style:n,children:(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.noThanks",defaultMessage:"No thanks"})})}function ke(e){const{coupon:t,isSelected:i}=e,n=Pe(),a=i?n.mainTextSelected:n.mainTextUnselected;return(0,D.jsxs)("div",{style:n.row,children:[(0,Ce().X)(n.icon),(0,D.jsx)("div",{style:a,children:(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.notionAi",defaultMessage:"Notion AI"})}),t?(0,D.jsx)("div",{style:n.discountText,children:(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.aiDiscount",defaultMessage:"{percent}% off",values:{percent:50}})}):null]})}function Be(e){const{subscriptionTier:t,billingInterval:i,addOnFeature:n,canAddAI:s,coupon:l,onChangeBillingInterval:d,onChangeAddOnFeature:u,isTrial:g,modalId:m}=e,h=(0,r().v3)(),f=(0,o().K8)((()=>{var e;return null===(e=x().default.getState().currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]),y=(0,je().l)({spaceId:f});(0,a.useEffect)((()=>{W().Qe({environment:h,billingData:y})}),[h,i,n,y]);const S=(0,a.useMemo)((()=>[{key:"month",render:()=>(0,D.jsx)(Te,{isSelected:"month"===i,billingInterval:"month",subscriptionTier:t,coupon:l})},{key:"year",render:()=>(0,D.jsx)(Te,{isSelected:"year"===i,billingInterval:"year",subscriptionTier:t,coupon:l})}]),[i,t,l]),v=(0,a.useMemo)((()=>[{key:"none",render:()=>(0,D.jsx)(_e,{isSelected:!n,coupon:l})},{key:"ai",render:()=>(0,D.jsx)(ke,{isSelected:!!n,coupon:l})}]),[n,l]);return g?null:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(we,{header:(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.header",defaultMessage:"Billing period"}),children:(0,D.jsx)(Ie().A,{items:S,value:i,onChange:e=>{p().bT(h,{billingInterval:e,modal_id:m}),d(e)}})}),s?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(we,{header:(0,D.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.header",defaultMessage:"Add-ons"}),children:(0,D.jsx)(Ie().A,{items:v,value:n??"none",onChange:e=>{const t=[];let i;if("ai"===e)i="ai",t.push("ai");else i=void 0;p().Gs(h,{addOnFeatures:t,modal_id:m}),u&&u(i)}})}),l?(0,D.jsx)(Me,{reduceTopMargin:!0}):null]}):null]})}function Ue(){return(0,l().IS)((e=>({closeButton:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:21,right:20,width:22,height:22,padding:0,borderRadius:"50%",border:"none",background:"light"===e.mode?u().XA.light.gray[75]:u().XA.dark.gray[500],zIndex:10},closeButtonIcon:{width:12,height:12,fill:"light"===e.mode?u().XA.light.gray[400]:u().XA.dark.gray[800]},modal:{background:"dark"===e.mode?"#191919":e.popoverBackground,borderRadius:12,width:750,maxHeight:760,display:"flex"},modalContent:{flex:1,maxWidth:"60%",display:"flex",flexDirection:"column",position:"relative",borderRadius:"12px 0 0 12px"},modalContentBody:{padding:"36px 42px 50px 42px",display:"flex",flexDirection:"column"},modalContentSidebar:{flex:1,maxWidth:"40%",background:"dark"===e.mode?"#202020":e.sidebarSecondaryBackground,borderLeft:`1px solid ${e.lightDividerColor}`,padding:"20px 29px 50px 27px",display:"flex",flexDirection:"column"}})),[])}function We(e){const{state:t,data:i,requestingSpaceId:a}=e,{subscriptionTier:r,onlyShowAddOn:s,calculatingTax:l,temporaryBillingInterval:d,taxAmount:c,addOnFeature:u,coupon:p}=t,g=(0,o().K8)((()=>{var e;return(null===(e=t.totalUpgradeCost)||void 0===e?void 0:e.currencyCode)??N().A.selectedCurrencyCode}),[t]),m=(0,K().b)(i),{payAmount:h}=B().TQ({subscriptionTier:r,memberCount:m,promo:t.appliedPromo,currencyCode:g,data:i,onlyShowAddOn:s,calculatingTax:l,billingInterval:d??"year",taxAmount:null==c?void 0:c.amount,addOnFeature:u,coupon:p}),f=(0,k().useElementsOptions)({type:"subscription",amount:h.amount,currency:h.currencyCode});return(0,D.jsx)(n().Elements,{stripe:(0,k().getStripe)(),options:f,children:(0,D.jsx)(De,{state:t,data:i,requestingSpaceId:a})})}function De(e){const{state:t,data:i,requestingSpaceId:a}=e,s=(0,r().v3)(),l=(0,c().tz)(),u=Ue(),m=(0,n().useStripe)(),h=(0,n().useElements)(),S=(0,o().K8)((()=>b().A.state.online),[]),x=(0,o().uB)(void 0,A().A),[C,I,j,M,P,w,T]=(0,o().K8)((()=>{const e=U().A.state;return e.open?[e.subscriptionTier,e.temporaryBillingInterval,e.addOnFeature,e.coupon,e.sessionId,e.temporaryAddress.name,e.temporaryAddress.businessName]:[]}),[]);if(!t.open||!C||!I)return null;if(!S)return(0,D.jsx)(q()._,{});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{style:u.modalContent,children:(0,D.jsxs)(f().H,{type:v().A.Y,store:x,children:[(0,D.jsxs)("div",{style:u.modalContentBody,children:[(0,D.jsx)("div",{style:{paddingBottom:24},children:(0,D.jsx)(ue,{})}),(0,D.jsx)(Be,{subscriptionTier:C,billingInterval:I,addOnFeature:j,canAddAI:!1,coupon:M,onChangeBillingInterval:e=>{U().A.update((t=>({...t,temporaryBillingInterval:e}))),p().bT(s,{billingInterval:e,modal_id:P}),async function(e){const{environment:t,spaceId:i,state:n}=e,a=await _().A.awaitData(t,{spaceId:i});await z({requestingSpaceId:i,environment:t,state:n}),await W().dn(t,a)}({environment:s,spaceId:a,state:t})}}),(0,D.jsxs)(g().Y1,{gap:8,children:[(0,D.jsx)(R().c,{formData:{name:w??"",businessName:T??""},onChangeFormData:e=>{U().A.update((t=>t.open?{...t,temporaryAddress:{...t.temporaryAddress,...e}}:t))},modalId:P}),(0,D.jsx)(E().q,{modalId:P})]})]}),(0,D.jsx)(y().S,{store:x})]})}),(0,D.jsx)("div",{style:u.modalContentSidebar,children:(0,D.jsxs)(f().H,{type:v().A.Y,children:[(0,D.jsx)(ve,{state:t}),(0,D.jsx)(de,{state:t,products:[C],onClickUpgrade:()=>H({environment:s,intl:l,state:t,stripe:m,elements:h,data:i,requestingSpaceId:a})})]})}),(0,D.jsx)("button",{style:u.closeButton,onClick:()=>{U().A.close()},children:(0,d().u)(u.closeButtonIcon)})]})}function Oe(e){const{data:t,spaceStore:i}=e,n=(0,o().K8)((()=>U().A.state),[]),a=(0,r().v3)(),l=(0,c().tz)(),d=Ue();return(0,s().l)((()=>{var e;const{state:i}=U().A;if(!i.open)return;const n=null===(e=x().default.state.currentSpaceStore)||void 0===e?void 0:e.id;n&&z({environment:a,state:i,requestingSpaceId:n});const{currentUserStore:r}=x().default.state,s=null!=r&&r.isDefined()?r.getModel():void 0;if(s){const e=s.getDisplayName(l);var o;if(U().A.setState({...i,temporaryAddress:{...i.temporaryAddress,name:e}}),"subscribed_admin"===t.type||"unsubscribed_admin"===t.type)U().A.setState({...i,appliedPromo:null===(o=t.customerData)||void 0===o?void 0:o.stripe.promo})}})),(0,D.jsx)(h().A,{ariaLabelledBy:S().Kvs,ariaDescribedBy:S().SdC,open:n.open,preventHideChildrenWhileOpening:!0,innerStyle:d.modal,render:()=>(0,D.jsx)(m().A,{capture:!0,allowEsc:!0,render:()=>n.open?(0,D.jsx)(We,{state:n,data:t,requestingSpaceId:i.id}):null})})}},477401:(e,t,i)=>{i.d(t,{U:()=>f});var n=i(296540),a=()=>i(484714),r=()=>i(56366),s=()=>i(786508),o=()=>i(166386),l=()=>i(449506),d=()=>i(58293),c=()=>i(437622),u=()=>i(985395),p=()=>i(240865),g=()=>i(351360),m=()=>i(10984),h=()=>i(141273);function f(e){const t=(0,a().v3)(),[i,f]=(0,n.useState)(!1),y=function(e){const t=(0,h().g)("ai_fifty_percent_upgrade"),i=(0,u().n)(),n=(0,p().V)();return(0,r().K8)((()=>{const a=t&&!i&&(0,m().wb)()&&1===n,r=(0,c().aB)(g().default.state.currentSpaceStore);return Boolean(a&&(!r||"sidebar"!==e||r>=7))}),[t,i,n,e])}(e),S=(0,d().r)(),v=(0,r().K8)((()=>null==S?void 0:S.canAdmin()),[S]),x=(0,r().K8)((()=>null==S?void 0:S.getSpaceId()),[S]);return(0,n.useEffect)((()=>{!async function(){if(y&&x&&v)try{const i=await l().callApi({eventName:"getCustomerOffer",environment:t,data:{spaceId:x,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===i.type)return;if("offer"in i.data){var e;const t=(0,s().RS)(null===(e=i.data)||void 0===e?void 0:e.offer);f((0,o().J5)(t))}}catch(i){return}}()}),[t,y,x,v]),i}},558094:(e,t,i)=>{i.d(t,{X:()=>s});i(296540);var n=()=>i(816559),a=()=>i(137465),r=i(474848);function s(e){const{product:t}=e,i=function(e){switch(e){case"free":case"student":case"personal":return a().Q.free.originalImage;case"plus":return a().Q.plus.originalImage;case"business":return a().Q.business.originalImage;case"enterprise":return a().Q.enterprise.originalImage;case"ai":return a().Q.ai.originalImage;case"sites_custom_hostnames":return a().Q.sites_custom_hostnames.originalImage;default:return}}(t);return i?(0,r.jsx)(n().Ay,{src:i.path,style:{width:49,height:52}}):null}},585312:(e,t,i)=>{i.d(t,{q:()=>y});var n=()=>i(624119),a=(n(),i(296540),()=>i(484714)),r=()=>i(852507),s=()=>i(56366),o=()=>i(959013),l=()=>i(252105),d=()=>i(84817),c=()=>i(710149),u=()=>i(351360),p=()=>i(506090),g=()=>i(932065),m=()=>i(414402),h=()=>i(471725),f=i(474848);function y(e){const{modalId:t}=e,i=(0,s().O$)(h().D),d=(0,a().v3)();(0,r().w)((()=>{h().D.setState(!0)}));const c={defaultValues:{billingDetails:(0,s().K8)((()=>{const e=u().default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])},terms:{card:"never"}};return(0,f.jsxs)(g().iy,{title:i?(0,f.jsx)(m().y,{labelOnly:!0}):(0,f.jsx)(o().sA,{id:"subscriptions.checkout.paymentMethod.title",defaultMessage:"Payment method"}),children:[i?(0,f.jsx)(S,{}):null,(0,f.jsx)(n().PaymentElement,{options:c,onChange:e=>{l().C3(d,{event:e,modal_id:t}),p().A.update((e=>{if(!e.open)return e;const{paymentData:t,...i}=e;return i}))},onReady:()=>h().D.setState(!1)})]})}function S(){return(0,f.jsxs)(d().Y1,{gap:12,children:[(0,f.jsxs)(d().Y1,{direction:"horizontal",gap:12,children:[(0,f.jsx)(c().A,{style:{width:"50%",height:60,borderRadius:6}}),(0,f.jsx)(c().A,{style:{width:"50%",height:60,borderRadius:6}})]}),(0,f.jsx)(m().y,{}),(0,f.jsx)(m().y,{}),(0,f.jsx)(m().y,{}),(0,f.jsx)(m().y,{})]})}},614415:(e,t,i)=>{i.d(t,{Wx:()=>s,fM:()=>n,l9:()=>a,sM:()=>r});const n=new(i(645873).O2)("framer-motion",(async()=>await Promise.all([i.e(44711),i.e(53321),i.e(37043)]).then(i.bind(i,399791))));function a(e){return e.useAnimate()}function r(e){return e.useAnimation()}function s(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.useInView(...i)}},662866:(e,t,i)=>{i.d(t,{_:()=>o});i(296540);var n=()=>i(959013),a=()=>i(125565),r=()=>i(843878),s=i(474848);function o(){return(0,s.jsx)(r().Ay,{children:(0,s.jsx)(a().A,{isSmall:!0,style:{textAlign:"center"},children:(0,s.jsx)(n().sA,{id:"spaceSubscriptionPlans.offlineMessage",defaultMessage:"Please go online to manage your plan."})})})}},677195:(e,t,i)=>{i.d(t,{R:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},714300:(e,t,i)=>{i.d(t,{l:()=>l});var n=()=>i(484714),a=()=>i(56366),r=()=>i(176983),s=()=>i(596513),o=()=>i(324561);function l(e){let{spaceId:t}=e;const i=(0,n().v3)(),l=(0,r().J)();return(0,a().K8)((()=>{if(!t||!l)return;const e=s().t.getData(i,{spaceId:t});return(0,o().a9)(e)}),[i,t,l],{useDeepEqual:!0})}},749356:(e,t,i)=>{i.d(t,{VY:()=>p,Qm:()=>g,z6:()=>u,OC:()=>f,L6:()=>m,Zc:()=>y,x3:()=>h});var n=()=>i(857639),a=()=>i(386164);const r={plans_page:["lic_25","lic_50","resurrection_offer","ai_fifty_percent_upgrade"],sidebar_upsell:["lic_25","lic_50"]};var s=()=>i(229833),o=()=>i(449506),l=()=>i(901389),d=()=>i(989423),c=()=>i(351360);async function u(e,t){var i;const{spaceId:n,offerCampaign:a}=t;if(!n||!a||null===(i=c().default.state.currentSpaceStore)||void 0===i||!i.canAdmin())return;const r=await o().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:n,offerCampaign:a}});return"failed"!==r.type&&"offer"in r.data&&r.data.offer?r.data.offer:void 0}async function p(e){const{environment:t,spaceId:i,offerCampaign:n,entrypoint:a}=e,r=await o().callApi({eventName:"applyCustomerOffer",environment:t,data:{spaceId:i,offerCampaign:n,entrypoint:a??"unknown"}});if("failed"!==r.type)return r;l().Qg(r)}async function g(e,t){const i=await o().callApi({eventName:"applyCustomerOffer",environment:e,data:{...t}});if("failed"!==i.type)return i;l().Qg(i)}async function m(e){const{environment:t,spaceId:i,offerCampaign:n}=e;return void 0!==await u(t,{spaceId:i,offerCampaign:n})}async function h(e){var t;const{environment:i,hasReceived:r,offerType:l,newPlan:d,coupon:u}=e,p=null===(t=c().default.state.currentSpaceStore)||void 0===t?void 0:t.getSpaceId();if(!p)return;const g=await o().callApi({eventName:"updateCustomerOffer",environment:i,data:{spaceId:p,hasReceived:r,offerType:l,newPlan:d,coupon:u},headers:(0,a().WS)({cellId:void 0,spaceId:p})});"failed"===g.type&&n().log({level:"error",from:"offerActions",type:"updateLegacyCustomerOfferFailed",error:(0,s().n6)(g.error)})}async function f(e,t,i){const n=function(e){if(r.hasOwnProperty(e))return r[e]}(i);if(n)for(const a of n){const i=await u(e,{spaceId:t,offerCampaign:a});if((null==i?void 0:i.campaign)===a)return i}}function y(e){let{environment:t,spaceName:i,offerCampaign:n}=e;if(i)switch(n){case"lic_25":case"lic_50":(0,d().WU)(t,"lic_offer_eligible","lic_offer_eligible",3600,{workspace_name:i,lic_25:"lic_25"===n,lic_50:"lic_50"===n});break;case"resurrection_offer":(0,d().WU)(t,"resurrection_offer_eligible","resurrection_offer_eligible",3600,{workspace_name:i});break;default:return}}},843878:(e,t,i)=>{i.d(t,{AL:()=>r,Ay:()=>o,J_:()=>s});i(296540);var n=()=>i(802790),a=i(474848);function r(e){return e?18:60}function s(){return(0,a.jsx)(n().A,{size:37})}const o=function(e){let{children:t,controlRow:n,bannerText:s,controlRowPaddingTopBottom:o,removeBoxShadow:l,contentPaddingLeftRight:d,controlRowPaddingLeftRight:c,getPaddingTopBottom:u,disableScroller:p,maxWidth:g,centerContent:m}=e;const h=(0,i(484714).v3)(),{device:f}=h,y=u?u():f.isMobile?18:36,S=(0,i(401497).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:g??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:d??r(f.isMobile),paddingRight:d??r(f.isMobile),paddingTop:s?15:y,paddingBottom:s?22:y,...m?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:c??r(f.isMobile),paddingRight:c??r(f.isMobile),paddingTop:o,paddingBottom:o,boxShadow:l?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:r(f.isMobile),paddingRight:r(f.isMobile)},childrenWithoutScroller:{paddingTop:y,paddingBottom:y},controlRowWithoutScroller:{paddingTop:o,paddingBottom:o,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[g,d,f.isMobile,s,y,c,o,l,m]);return p?(0,a.jsxs)("div",{style:S.containerWithoutScroller,children:[(0,a.jsx)("div",{style:S.childrenWithoutScroller,children:t}),n&&(0,a.jsx)("div",{style:S.controlRowWithoutScroller,children:n})]}):(0,a.jsxs)("div",{style:S.containerWithScroller,children:[s&&(0,a.jsx)(i(716583).A,{styleKey:i(135552).q.Blue,isMobile:!1,children:s}),(0,a.jsx)(i(2143).H,{type:i(756279).A.All,style:S.scroller,children:t}),n&&(0,a.jsx)("div",{style:S.controlRowWithScroller,children:n})]})}},972418:(e,t,i)=>{i.d(t,{lh:()=>s().l,bw:()=>o().b,UL:()=>l().U,lI:()=>p,IU:()=>S,Wo:()=>g().W,EF:()=>v().E,o2:()=>x().o});var n=()=>i(484714),a=()=>i(187174),r=()=>i(449506);var s=()=>i(714300),o=()=>i(83848),l=()=>i(477401),d=()=>i(56366),c=()=>i(176983),u=()=>i(975971);function p(e){let{spaceId:t}=e;const i=(0,n().v3)(),a=(0,c().J)();return(0,d().K8)((()=>{if(!t||!a)return;const e=u().A.getData(i,{spaceId:t});return null==e?void 0:e.billingData}),[i,t,a])}var g=()=>i(987427),m=()=>i(762433),h=()=>i(351360),f=()=>i(134217),y=()=>i(847554);function S(e,t){const i=(0,d().O$)(e),n=(0,y().b)(i),o=(0,d().K8)((()=>{var e;return null===(e=h().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),l=(0,s().l)({spaceId:o}),c=(0,d().K8)((()=>f().GU({billingData:l,spaceStore:h().default.state.currentSpaceStore})),[l]),[{value:u}]=(0,a().Yb)((()=>r().callApi({eventName:"isEmailEducation",environment:t,data:{}})),[t]);return!!u&&("failed"!==u.type&&(!!u.data.isEligible&&(!!i&&(!!l&&(!Boolean((0,m().KH)(l,"plan"))&&(c&&1===n))))))}var v=()=>i(314907),x=()=>i(86089)},985395:(e,t,i)=>{i.d(t,{n:()=>s});var n=()=>i(56366),a=()=>i(441738),r=()=>i(749240);function s(){return(0,n().K8)((()=>{var e;const t=(null===(e=r().subscriptionDataStoreInstance.state)||void 0===e?void 0:e.addOns)??[];return(0,a().GI)(t)}),[])}},987427:(e,t,i)=>{i.d(t,{W:()=>r});var n=i(296540),a=()=>i(854418);function r(){const e=(0,a().t)(),[t,i]=(0,n.useState)();return(0,n.useEffect)((()=>{i(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),t}}}]);