"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[31517,34208],{31902:(e,t,i)=>{i.d(t,{A:()=>r});i(296540);var o=()=>i(959013),a=i(474848);const r=function(e){let{collectionViewName:t,collectionViewType:r}=e;return t?(0,a.jsx)(i(288722).A,{children:t}):"page"===r?(0,a.jsx)(o().sA,{id:"database.collectionView.untitledName.untitled",defaultMessage:"Untitled"}):(0,a.jsx)(o().sA,{...i(519839).Xg[r]})}},34373:(e,t,i)=>{i.d(t,{k:()=>a});i(296540);var o=i(474848);const a=(0,i(340498).wt)("collectionBoard",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M2.39697 14.4634H13.5964C15.0532 14.4634 15.8311 13.6921 15.8311 12.2485V4.24609C15.8311 2.80249 15.0532 2.03125 13.5964 2.03125H2.39697C0.940186 2.03125 0.162354 2.7959 0.162354 4.24609V12.2485C0.162354 13.6987 0.940186 14.4634 2.39697 14.4634ZM2.52222 12.9934C1.94214 12.9934 1.63232 12.7034 1.63232 12.0969V4.39771C1.63232 3.79126 1.94214 3.50122 2.52222 3.50122H4.92822V12.9934H2.52222ZM6.34546 12.9934V3.50122H9.64795V12.9934H6.34546ZM13.4712 3.50122C14.0447 3.50122 14.3611 3.79126 14.3611 4.39771V12.0969C14.3611 12.7034 14.0447 12.9934 13.4712 12.9934H11.0652V3.50122H13.4712Z"})})},50170:(e,t,i)=>{i.d(t,{u:()=>a});i(296540);var o=i(474848);const a=(0,i(340498).wt)("collectionList",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M2.08716 5.15576C2.64087 5.15576 3.08911 4.70752 3.08911 4.15381C3.08911 3.6001 2.64087 3.15186 2.08716 3.15186C1.53345 3.15186 1.08521 3.6001 1.08521 4.15381C1.08521 4.70752 1.53345 5.15576 2.08716 5.15576ZM5.29736 4.85254H14.2161C14.605 4.85254 14.9148 4.54272 14.9148 4.15381C14.9148 3.76489 14.605 3.45508 14.2161 3.45508H5.29736C4.90845 3.45508 4.59863 3.7583 4.59863 4.15381C4.59863 4.54272 4.90186 4.85254 5.29736 4.85254ZM2.08716 9.24927C2.64087 9.24927 3.08911 8.80103 3.08911 8.24731C3.08911 7.6936 2.64087 7.24536 2.08716 7.24536C1.53345 7.24536 1.08521 7.6936 1.08521 8.24731C1.08521 8.80103 1.53345 9.24927 2.08716 9.24927ZM5.29736 8.94604H14.2161C14.605 8.94604 14.9148 8.64282 14.9148 8.24731C14.9148 7.8584 14.605 7.54858 14.2161 7.54858H5.29736C4.90845 7.54858 4.59863 7.8584 4.59863 8.24731C4.59863 8.63623 4.90186 8.94604 5.29736 8.94604ZM2.08716 13.3428C2.64087 13.3428 3.08911 12.8945 3.08911 12.3408C3.08911 11.7937 2.64087 11.3389 2.08716 11.3389C1.53345 11.3389 1.08521 11.7937 1.08521 12.3408C1.08521 12.8945 1.53345 13.3428 2.08716 13.3428ZM5.29736 13.0396H14.2161C14.605 13.0396 14.9148 12.7363 14.9148 12.3408C14.9148 11.9519 14.605 11.6487 14.2161 11.6487H5.29736C4.90845 11.6487 4.59863 11.9519 4.59863 12.3408C4.59863 12.7297 4.90186 13.0396 5.29736 13.0396Z"})})},83027:(e,t,i)=>{i.r(t),i.d(t,{getMobilePreviewTemplates:()=>m,getSuggestedTemplatesForSearch:()=>p});i(581454);var o=()=>i(255591),a=()=>i(797573),r=()=>i(435009),n=()=>i(972435),l=()=>i(951340),s=()=>i(174723),c=()=>i(508496),d=()=>i(87726);function p(e){const{persona:t,environment:i}=e,o=n().A.getIntl();return(0,l().DC)(c().default,t).map((e=>{const t=(0,a().B)(e,o);return{name:t.name,icon:e.emoji||e.icon||void 0,onClick:()=>{(e=>{const t=(0,s().Up)({templateGalleryItem:e.rootId});r().oo({environment:i,url:t})})(t)}}}))}function m(e){const t=(0,d().un)(e);return(0,d().Iw)(e).map((e=>{const i=t[e];return{category:e,sectionHeaderMessage:o().bJ[e],templates:i}}))}},87726:(e,t,i)=>{i.d(t,{Hk:()=>u,Iw:()=>v,kc:()=>y,un:()=>f});i(898992),i(354520),i(581454);var o=()=>i(979340),a=()=>i(255591),r=()=>i(228271),n=()=>i(797573),l=()=>i(534177),s=()=>i(780054),c=()=>i(47373),d=()=>i(972435),p=()=>i(951340),m=()=>i(508496);const u=(0,i(959013).YK)({addToTeamspace:{id:"templateGalleryHelpers.addToTeamspace",defaultMessage:"Add to a teamspace"},addToPrivate:{id:"teamPickerButton.addToPrivate",defaultMessage:"Add to Private"}}),g=(0,l().uv)(a().PY);function v(e){let{userPersona:t,subscriptionTier:i}=e;return[...g].sort(((e,a)=>function(e,t,i,a){const r=(0,o().Pg)(a),n=(0,p().NI)({persona:i,defaultToLife:r});if("suggested"===e||"suggested"===t)return"suggested"===e?-1:1;if(n===e||n===t)return n===e?-1:1;if(("life"===e||"life"===t)&&r)return"life"===e?-1:1;if(("student"===e||"student"===t)&&function(e){let{persona:t,isPersonalishPlan:i}=e;const o=i?["other","unfilled","personal","undefined"]:["personal"];return o.includes(t??"undefined")}({persona:i,isPersonalishPlan:r}))return"student"===e?-1:1;return 0}(e,a,t,i)))}function f(e){let{subscriptionTier:t,environment:i}=e;const s=d().A.getIntl(),p=(0,c().WC)({environment:i}),u=p?function(e){return(0,o().Pg)(e)?a().sw:a().ht}(t):a().PY.suggested;return(0,l().s8)(a().PY,((e,t)=>"suggested"===t?u.map((e=>(0,n().B)(e,s))):e.filter((e=>(0,r().vc)(e,m().default))).map((e=>p?(0,r().G2)(e):e)).filter((e=>!u.includes(e))).map((e=>(0,n().B)(e,s)))))}function y(e){return`${s().A.domainBaseUrl}/@${e}`}},89849:(e,t,i)=>{i.d(t,{h:()=>r});i(296540);var o=i(474848);const a={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10 13.504a3.5 3.5 0 1 0-.001-7.002A3.5 3.5 0 0 0 10 13.504m1.167-3.502a1.168 1.168 0 1 1-2.335.002 1.168 1.168 0 0 1 2.335-.002"}),(0,o.jsx)("path",{d:"M10 3.895c-4.093 0-7.662 2.189-9.351 5.408-.231.44-.231.964 0 1.404 1.689 3.22 5.258 5.408 9.351 5.408s7.662-2.189 9.351-5.408c.231-.44.231-.964 0-1.404-1.689-3.22-5.258-5.408-9.351-5.408m-8.245 5.99C3.218 7.096 6.347 5.144 10 5.144s6.782 1.952 8.245 4.74a.26.26 0 0 1 0 .24c-1.463 2.788-4.592 4.74-8.245 4.74s-6.782-1.952-8.245-4.74a.26.26 0 0 1 0-.24"})]})},r=(0,i(340498).wt)("eye",a)},97789:(e,t,i)=>{i.d(t,{a6:()=>o,dL:()=>n,w$:()=>r,xc:()=>a});const o="notion://projects_app",a="notion://wiki_app",r="notion://docs_app",n="notion://meetings_app"},174723:(e,t,i)=>{i.d(t,{$Y:()=>g,AF:()=>d,Px:()=>u,Up:()=>p,dY:()=>m});i(898992),i(354520);var o=()=>i(662303),a=()=>i(427704),r=()=>i(534177),n=()=>i(939768),l=()=>i(780054),s=()=>i(22102),c=()=>i(630116);async function d(e,t){const i=await s().k.load();return e.filter((e=>{const o=e.getCopiedFromPointer();return Boolean(o&&i.isTemplate(o)&&Boolean(t&&t(o.id)))}))}function p(e){const t=window.location.href;return n().O$(t,{tg:e.templateGalleryItem})}function m(e){let t;return e instanceof c().$x?t=e.getBlockId():"type"in e?"preset"===e.type?t=void 0:"pageTemplate"===e.type?t=e.template.rootId:(0,r().HB)(e):t=e.rootId,t}function u(e){const t=o().locale&&"en-us"!==o().locale.toLocaleLowerCase()?`/${o().locale.toLowerCase()}`:"",i=void 0!==e?`${t}${a().JZ.templates}/${encodeURIComponent(e)}`:`${t}${a().JZ.templates}`;return`${l().A.domainBaseUrl}${i}`}function g(e){if(!e)return"";try{const i=JSON.parse(e);if("text"===i.content[0].content[0].nodeType){var t;const e=(null==i||null===(t=i.content)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.content)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.value)||"";return e.replace(/^(#{2,6})\s+/gm,"# ")}}catch(i){return""}}},200562:(e,t,i)=>{i.d(t,{z:()=>r});var o=()=>i(645873);const a=new(o().O2)("topbarSidebarButton",(async()=>await i.e(62033).then(i.bind(i,304012)))),r=(0,o()._h)(a,(e=>e.TopbarSidebarButton))},226916:(e,t,i)=>{i.d(t,{c:()=>C,t:()=>h});i(16280);var o=()=>i(908006),a=()=>i(388821),r=()=>i(919709),n=()=>i(970330),l=()=>i(669548),s=()=>i(606952),c=()=>i(317909),d=()=>i(62287),p=()=>i(389658),m=()=>i(972435),u=()=>i(129522),g=()=>i(351360),v=()=>i(508496),f=()=>i(75368);const y=(0,i(959013).YK)({formDatabaseTitle:{id:"newBlock.databaseInline.formDatabaseTitle",defaultMessage:"New form"}});function C(e){var t,i,r;const{environment:c,store:m,viewType:y,transaction:C}=e,h=null===(t=m.getBlockTitleStore())||void 0===t?void 0:t.getValue();v().default.checkGate({gateName:"mobile_keep_template_gallery_open"})&&f().A.state.open&&f().A.setState({open:!1});const k=m.getSpaceId()??(null===(i=g().default.state.currentSpaceStore)||void 0===i?void 0:i.id)??(null===(r=g().default.state.mainEditorCurrentBlockStore)||void 0===r?void 0:r.getSpaceId()),w=k?c.idCreator.getSpaceIdCreatorSync(k):void 0;l().j({environment:c,sourceBlockId:"root",targetBlockPointer:m.pointer,sourceBlockSubtree:(0,a().partialRecordMapToRecordMap)((0,p().qP)({isInline:!1,viewType:y})),targetRecordCache:m.inMemoryRecordCache,transaction:C,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,spaceIdCreator:w}),d().pd({environment:c,block:m,blockType:"collection_view_page",transaction:C}),h&&s().KY({environment:c,store:m.getBlockTitleStore(),value:h,transaction:C}),o().default.afterNextFlush((()=>{const e=u().K.findCollectionViewBlockFromStore(m);var t;e&&"handleCreated"in e&&(null===(t=e.handleCreated)||void 0===t||t.call(e))})),n().v(c,{from:"template_picker",type:"collection_view_page",creating_block_id:m.id,is_full_screen:!0,view_type:y})}async function h(e){var t,o,s;const{environment:u,store:v}=e,f=null===(t=v.getBlockTitleStore())||void 0===t?void 0:t.getValue(),{formsEditorDependency:C}=await Promise.resolve().then(i.bind(i,339034)),{formEditorActions:h}=await C.load(),k=v.getSpaceId()??(null===(o=g().default.state.currentSpaceStore)||void 0===o?void 0:o.id)??(null===(s=g().default.state.mainEditorCurrentBlockStore)||void 0===s?void 0:s.getSpaceId()),w=k?u.idCreator.getSpaceIdCreatorSync(k):void 0;c().createAndCommit({userAction:"HorizontalTemplatePicker.createForm",environment:u,canUndo:!0,perform:e=>{var t;l().j({environment:u,sourceBlockId:"root",targetBlockPointer:v.pointer,sourceBlockSubtree:(0,a().partialRecordMapToRecordMap)((0,p().mT)({isInline:!1,name:(0,r().w9s)(f)?(0,r().x9d)(m().A.formatMessage(y.formDatabaseTitle)):f})),targetRecordCache:v.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,spaceIdCreator:w}),d().pd({environment:u,block:v,blockType:"collection_view_page",transaction:e});const i=v.getCollectionStore(),o=null==i||null===(t=i.getModel())||void 0===t?void 0:t.getNormalizedSchema(),s=v;if(!o)throw new Error("Schema not found");const c=h.createCollectionFormEditorView({environment:u,transaction:e,collectionViewBlockStore:s,schema:o,initializeWithAllDefaultQuestions:!0});h.createResponsesCollectionView({environment:u,transaction:e,collectionViewBlockStore:s,schema:o}),n().v(u,{from:"template_picker",type:"form",creating_block_id:v.pointer.id,form_id:null==c?void 0:c.formId,view_id:s.id})}})}},255591:(e,t,i)=>{i.d(t,{PY:()=>l,bJ:()=>n,ht:()=>c,sw:()=>s});var o=()=>i(66689),a=()=>i(837384),r=()=>i(544008);const n={suggested:r().DZ.suggestedCategory,design:r().DZ.designer,eng:r().DZ.engineering,product:r().DZ.productManagement,marketing:r().DZ.marketing,sales:r().DZ.sales,support:r().DZ.support,hr:r().DZ.hr,life:r().DZ.life,student:r().DZ.student},l=(o().Vq,o().WX,o().I0,o().Y8,o().ud,o().I0,o().WX,o().I0,o().WX,o().WX,o().WX,o().WX,{suggested:[a().kx.defaultWiki],product:[a().kx.oneOnOneNotes,a().kx.productWiki,a().kx.productSpec,a().kx.visionAndStrategy,a().kx.presentation,a().kx.investorUpdate,a().kx.userResearch,a().kx.experimentResults,a().kx.brainstorm,a().kx.productLaunchBrief],design:[a().kx.designSprint,a().kx.designSystem,a().kx.designPortfolio,a().kx.userResearch,a().kx.brainstorm],eng:[a().kx.engineeringWiki,a().kx.engineeringTechSpec,a().kx.experimentResults,a().kx.brainstorm],marketing:[a().kx.presentation,a().kx.brandAssets,a().kx.brainstorm,a().kx.contentCalendar,a().kx.blogEditorialCalendar,a().kx.socialMediaCalendar,a().kx.campaignBrief,a().kx.moodBoard,a().kx.mediaList],hr:[a().kx.companyHome,a().kx.newHireOnboarding,a().kx.employeeBenefits,a().kx.interviewGuide,a().kx.recruitingTracker,a().kx.jobBoard,a().kx.applicantTracker,a().kx.peopleDirectory],sales:[a().kx.salesWiki,a().kx.salesCRM,a().kx.salesAssets,a().kx.competitiveAnalysis],support:[a().kx.productFAQs,a().kx.helpCenter],life:[a().kx.readingListV2,a().kx.habitTrackerV2,a().kx.simpleBudgetV2,a().kx.weeklyTodoV2,a().kx.travelPlannerV2,a().kx.journalV2,a().kx.resumeV2,a().kx.personalHomeV3,a().kx.quickNoteV2,a().kx.jobApplicationsV2,a().kx.lifeWikiV2,a().kx.moodBoardV2,a().kx.blogPostV2,a().kx.personalCRMV2],student:[a().kx.studentPlanner,a().kx.classNotesV2,a().kx.courseScheduleV2,a().kx.gradeCalculatorV2,a().kx.cornellNotesSystemV2,a().kx.syllabusV2,a().kx.lessonPlansV2,a().kx.classDirectoryV2,a().kx.classroomHomeV2,a().kx.clubHomepageV2]}),s=[a().kx.todoListMobile,a().kx.quickNoteMobile,a().kx.habitTrackerMobile,a().kx.journalMobile,a().kx.weeklyPlanMobile,a().kx.classNotesMobile],c=[a().kx.todoListMobile,a().kx.quickNoteMobile,a().kx.oneOnOneNotesMobile,a().kx.weeklyPlanMobile]},272600:(e,t,i)=>{i.d(t,{p:()=>n});i(898992),i(672577);var o=()=>i(896628),a=()=>i(246826),r=()=>i(508496);function n(e){const{collectionViewBlockStore:t,collectionPointer:i,transaction:n}=e;a().zv({store:t,data:{collection_id:null},transaction:n});if(r().default.checkGate({gateName:"workflow_container"})){const e=t.getCollectionPointers();(null==e?void 0:e.find((e=>e.id===i.id)))||o().zA({stores:[t],update:{collection_pointers:[...e??[],i]},transaction:n})}o().zA({stores:[t],update:{collection_pointer:i},transaction:n})}},316091:(e,t,i)=>{i.r(t),i.d(t,{default:()=>F,getIconStyle:()=>z});i(944114),i(898992),i(354520),i(581454);var o=i(296540),a=()=>i(484714),r=()=>i(56366),n=()=>i(401497),l=()=>i(799954),s=()=>i(30626),c=()=>i(356596),d=()=>i(383286),p=()=>i(654601),m=()=>i(919709),u=()=>i(959013),g=()=>i(496603),v=()=>i(160568),f=()=>i(557281),y=()=>i(413677),C=()=>i(33301),h=()=>i(261374),k=()=>i(317909),w=()=>i(178658),x=()=>i(459240),S=()=>i(519839),b=()=>i(601734),M=()=>i(549500),_=()=>i(862835),A=()=>i(964345),T=()=>i(921855),P=()=>i(68465),I=()=>i(437622),H=()=>i(645873),V=()=>i(351360),B=()=>i(24157),j=()=>i(611371),E=()=>i(331542),D=()=>i(939740),L=()=>i(532731),K=()=>i(286611),N=i(474848);const Z=(0,u().YK)({genericHelpMeWriteNewPage:{defaultMessage:"Write “{filter}” with AI…",id:"id.completions.genericHelpMeWriteNewPage"},genericHelpMeWriteNewPageEmpty:{defaultMessage:"Start writing with AI…",id:"id.completions.genericHelpMeWriteNewPageEmpty"},dictate:{defaultMessage:"Dictate",id:"id.dictate.dictateIntoNewPage"}});function W(e){let{menuListStore:t,sectionTitleStyle:i,handleTemplatePickerEmptyEnter:o,sectionsBeforeMobilePreviewSections:n,renderMobileTemplatePreviewItem:l}=e;const s=(0,r().K8)((()=>{var e;return null===(e=V().default.state.currentSpaceStore)||void 0===e?void 0:e.getSubscriptionTier()}),[]),c=(0,r().K8)((()=>(0,I().p3)().function),[]),d=(0,a().v3)(),p=(0,H().fJ)(b().Aw),m=(0,r().K8)((()=>{if(!p.value)return[];return p.value.templatePickerItems.getMobilePreviewTemplates({userPersona:c,subscriptionTier:s,environment:d}).map((e=>{let{category:t,sectionHeaderMessage:o,templates:a}=e;return{key:t,render:e=>(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{style:i,children:(0,N.jsx)(u().sA,{...o})}),e.children]},e.key),items:a.map(l)}}))}),[p.value,c,s,d,l,i]),g="pending"===p.status?(0,N.jsx)("div",{style:{marginTop:i.marginTop,marginBottom:i.marginBottom,paddingLeft:10},children:(0,N.jsx)(E().A,{})}):void 0;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(D().Ay,{type:D().Oh.Vertical,store:t,initialFocus:void 0,disableInitialScroll:!0,disableCommandEnter:!0,onEmptyEnter:o,sections:[...n,...m]}),g]})}const F=function(e){let{store:t,menuListStore:o}=e;const n=(0,a().v3)(),l=(0,a().Y0)();(0,i(852507).l)((()=>{o.reset()}));const s=(0,r().K8)((()=>i(411671).A.getMode(n,t)),[n,t]),c=(0,r().K8)((()=>i(227440).A.state.online),[]),d=(0,r().K8)((()=>function(e){return Boolean(e.getAssociatedCollectionStore())}(t)),[t]),p=(0,r().K8)((()=>t.getAssociatedCollectionStore()),[t]),u=(0,r().K8)((()=>p?p.getParentBlockStore():void 0),[p]),g=(0,r().K8)((()=>p?p.getTemplatePageStores():void 0),[p]),v=(0,r().K8)((()=>function(e){return e.isTemplate()}(t)),[t]),y=(0,r().K8)((()=>function(e){const t=e.getAssociatedCollectionStore(),i=t&&t.getParentBlockStore();return S().vo({collectionStore:t,collectionViewBlockStore:i,checkNavigableAncestorLocked:!0})}(t)),[t]),h=(0,r().K8)((()=>!(null==u||!u.isNonEditableState())),[u]);return c?(0,N.jsxs)("div",{children:[!d&&!l.isMobile&&(0,N.jsx)(J,{store:t,menuListStore:o,publicEditMode:s}),!d&&l.isTablet&&(0,N.jsx)($,{store:t,menuListStore:o,publicEditMode:s}),d&&!v&&p&&u&&g&&g.length>0&&(0,N.jsx)(i(975318).A,{isOverlay:!1,collectionStore:p,canConfigureCollection:y,onTemplateClick:e=>function(e,t,i){k().createAndCommit({userAction:"TemplatePicker.handleCollectionTemplateClick",environment:i,canUndo:!0,perform:o=>{const a=t.getTitleValue();f().n5({title:""!==m().q4_(a)?{text:a}:"template",environment:i,store:t,templateStore:e.templateStore,isKeyboard:e.isKeyboard,isCreateIn:!1,transaction:o,from:"template_picker"})}})}(e,t,n),onEmptyEnter:()=>R(n),onEmptyPageClick:()=>function(e,t){k().createAndCommit({userAction:"TemplatePicker.handleTemplateEmptyPageClick",environment:t,canUndo:!0,perform:i=>{C().n({environment:t,store:e,transaction:i})}})}(t,n),locked:h})]}):null};function U(e,t){const{device:i}=e;return{...l().nE,marginTop:16,marginBottom:4,letterSpacing:0,fontSize:i.isMobile?12:13,color:t.lightTextColor,display:"flex",alignItems:"center",fontWeight:500}}function z(e,t){return e.isLargeDatabaseIcon?{width:16,fill:t.lightIconColor,marginLeft:2,marginRight:12}:{width:20,fill:t.lightIconColor,marginRight:10}}function R(e){const t=B().default.state;(0,j().EF)(e)&&"editing"===t.mode&&(k().createAndCommit({userAction:"TemplatePicker.handleTemplatePickerEmptyEnter",environment:e,canUndo:!0,perform:i=>{h().Ve({environment:e,editorMode:"default",transaction:i,multiSelection:t.multiSelection})}}),v().ki(e,{is_keyboard:!0,from:"template_picker",template_type:"empty_page"}))}function O(e,t,i,o){return!!e.device.isMobile&&((0,P().ZE)(o)&&t.focused&&(0,c().K)({width:14,marginRight:6,fill:i.lightIconColor}))}function Y(e,t,i,a,r){return{key:e.name,render:a=>{var n;let{ref:l,...s}=a;return(0,o.createElement)(K().A,{...s,key:e.name,format:"page-menu-item",title:e.name,type:e.type,icon:null===(n=e.iconFn)||void 0===n?void 0:n.call(e,z(e,i)),locked:!1,right:O(t,s,i,r)})},action:i=>{(0,j().EF)(t)&&(v().ki(t,{is_keyboard:"keydown"===i.event.type,from:"template_picker",template_type:e.type}),e.onClick(t,a))}}}function $(e){let{store:t,menuListStore:i,publicEditMode:r}=e;const l=(0,n().DP)(),s=(0,a().v3)(),c=(0,o.useCallback)((e=>Y(e,s,l,t,r)),[s,l,t,r]),d=[{key:"Basic",render:e=>(0,N.jsx)("div",{children:e.children},e.key),items:L().dB.map(c)},{key:"Database",render:e=>(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{style:U(s,l),children:(0,N.jsx)(u().sA,{defaultMessage:"Database",id:"templatePicker.mobileTemplatePicker.databaseTemplateSection.label"})}),e.children]},e.key),items:x()._.filter((e=>e.shouldShow(s))).map(c)}];return(0,N.jsx)(W,{menuListStore:i,sectionTitleStyle:U(s,l),handleTemplatePickerEmptyEnter:()=>R(s),sectionsBeforeMobilePreviewSections:d,renderMobileTemplatePreviewItem:e=>function(e,t){return{key:e.name,render:t=>{let{ref:i,...a}=t;return(0,o.createElement)(K().A,{...a,key:e.name,title:e.name,type:"page_template",format:"page-menu-item",locked:!1})},action:()=>{y().openWithItem({environment:t,item:e,createNewPage:!1,isPrivate:!1,disablePointerEvents:!1})}}}(e,s)})}function G(e,t,i,a,r,n,l){const c=(0,L().F1)(x()._,["table"]),d=g().FF(x()._,...c),p=!n&&d.length>0?function(e,t,i,a,r){return{key:e,render:i=>{let{ref:n,...l}=i;return(0,o.createElement)(K().A,{...l,key:e,format:"page-menu-item",title:(0,N.jsx)(u().sA,{defaultMessage:"More",id:"templatePicker.more.label"}),type:"more",icon:(0,s()._)({width:20,fill:a.lightIconColor,marginRight:10}),locked:!1,right:O(t,l,a,r)})},action:()=>i(!0)}}("moreNew",t,l,i,r):null,m=[L().zD,e?L().Wt:L().vP,...c,...p?[]:d].filter((e=>e.shouldShow(t))).map((e=>Y(e,t,i,a,r)));return p?m.concat(p):m}function J(e){let{store:t,menuListStore:i,publicEditMode:l}=e;const s=(0,u().tz)(),c=(0,n().DP)(),m=(0,a().v3)(),g=(0,r().K8)((()=>A().gZ.state&&A().Di.state===t.id),[t]),[v,f]=(0,o.useState)(!1),y=(0,r().K8)((()=>(0,P().ZE)(l)),[l]),h=(0,r().K8)((()=>(0,_().h)()),[]),x=(0,r().K8)((()=>0===t.getContentLength()),[t])?[Y(L().wL,m,c,t,l)]:[],S=G(y,m,c,t,l,v,f),b=(0,r().K8)((()=>t.getTitleValue()),[t]),I=[];if(y){const e=function(e,t,i,a,r,n){return{key:"ask ai",render:r=>{let{ref:l,...s}=r;const c=e.replace(/(\r\n|\n|\r)/gm," "),d=c.length>30?`${c.slice(0,30)}…`:c;return(0,o.createElement)(K().A,{...s,key:"genericHelpMeWriteNewPageWithAI",format:"page-menu-item",title:c?a.formatMessage(Z.genericHelpMeWriteNewPage,{filter:d}):a.formatMessage(Z.genericHelpMeWriteNewPageEmpty),type:"ai",icon:(0,N.jsx)("div",{style:{height:24,width:24,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",marginRight:4},children:(0,p().X)({width:16,height:16,fill:"dark"===i.mode?i.accentColors.purple[700]:i.accentColors.purple[400]})}),locked:!1,right:O(t,s,i,n)})},action:()=>{k().createAndCommit({userAction:"TemplatePicker.genericHelpMeWriteNewPageWithAI",environment:t,canUndo:!0,perform:i=>{C().n({environment:t,store:r,transaction:i,preventTextSelection:!1,onTextSelection(){(0,w().openHelpMeWriteGenericPopup)({environment:t,title:e})}})}})}}}((0,T().r4)(b,t).trim(),m,c,s,t,l);I.push(e)}if(h){const e=function(e,t,i,a,r){return{key:"dictate",render:a=>{let{ref:n,...l}=a;return(0,o.createElement)(K().A,{...l,key:"dictateNewPage",format:"page-menu-item",title:i.formatMessage(Z.dictate),type:"dictation",icon:(0,N.jsx)("div",{style:{height:24,width:24,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",marginRight:4},children:(0,d().E)({width:16,height:16,fill:"dark"===t.mode?t.accentColors.red[700]:t.accentColors.red[400]})}),locked:!1,right:O(e,l,t,r)})},action:async()=>{const{dictationActions:t}=await M().$O.load();t.startDictation({environment:e,blockStore:a,from:"template_picker",includeSystemAudio:!1})}}}(m,c,s,t,l);I.push(e)}return g?null:(0,N.jsx)(D().Ay,{type:D().Oh.Horizontal,store:i,disableInitialScroll:!0,disableCommandEnter:!0,isEnterOnHoverEmpty:!0,initialFocus:void 0,disableKeyboard:!0,onEmptyEnter:()=>R(m),sections:[{key:"Basic",render:e=>(0,N.jsx)("div",{children:e.children},e.key),items:[...x,...I]},{key:"Add new",render:e=>(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{style:U(m,c),children:(0,N.jsx)(u().sA,{defaultMessage:"Add new",id:"templatePicker.add new.label"})}),e.children]},e.key),items:S}]})}},383286:(e,t,i)=>{i.d(t,{E:()=>a});i(296540);var o=i(474848);const a=(0,i(340498).wt)("microphone",{viewBox:"0 0 17 25",svg:(0,o.jsx)("path",{d:"M0.20752 12.0743C0.20752 13.5496 0.511882 14.853 1.12061 15.9845C1.72933 17.116 2.57438 18.0219 3.65576 18.7023C4.73714 19.3826 5.98324 19.7908 7.39404 19.9269V22.129H3.45166C3.17236 22.129 2.93245 22.2257 2.73193 22.4191C2.53141 22.6196 2.43115 22.8595 2.43115 23.1388C2.43115 23.4109 2.53141 23.6437 2.73193 23.837C2.93245 24.0376 3.17236 24.1378 3.45166 24.1378H13.313C13.5923 24.1378 13.8322 24.0376 14.0327 23.837C14.2332 23.6437 14.3335 23.4109 14.3335 23.1388C14.3335 22.8595 14.2332 22.6196 14.0327 22.4191C13.8322 22.2257 13.5923 22.129 13.313 22.129H9.37061V19.9269C10.7814 19.7908 12.0239 19.3826 13.0981 18.7023C14.1795 18.0219 15.0246 17.116 15.6333 15.9845C16.242 14.853 16.5464 13.5496 16.5464 12.0743V9.94739C16.5464 9.66809 16.4461 9.43176 16.2456 9.2384C16.0522 9.04504 15.8159 8.94836 15.5366 8.94836C15.2573 8.94836 15.0174 9.04504 14.8169 9.2384C14.6164 9.43176 14.5161 9.66809 14.5161 9.94739V11.9991C14.5161 13.2166 14.2583 14.2837 13.7427 15.2003C13.2271 16.1098 12.5109 16.8152 11.5942 17.3165C10.6776 17.8178 9.60693 18.0685 8.38232 18.0685C7.16488 18.0685 6.09424 17.8178 5.17041 17.3165C4.24658 16.8152 3.52686 16.1098 3.01123 15.2003C2.50277 14.2837 2.24854 13.2166 2.24854 11.9991V9.94739C2.24854 9.66809 2.14827 9.43176 1.94775 9.2384C1.74723 9.04504 1.50374 8.94836 1.21729 8.94836C0.94515 8.94836 0.708822 9.04504 0.508301 9.2384C0.30778 9.43176 0.20752 9.66809 0.20752 9.94739V12.0743ZM8.38232 15.8448C9.10563 15.8448 9.75016 15.6766 10.3159 15.34C10.8888 14.9962 11.3364 14.5236 11.6587 13.922C11.9881 13.3204 12.1528 12.6222 12.1528 11.8273V4.59778C12.1528 3.80286 11.9881 3.10461 11.6587 2.50305C11.3364 1.90149 10.8888 1.43241 10.3159 1.09583C9.75016 0.752075 9.10563 0.5802 8.38232 0.5802C7.65902 0.5802 7.0109 0.752075 6.43799 1.09583C5.87223 1.43241 5.42464 1.90149 5.09521 2.50305C4.76579 3.10461 4.60107 3.80286 4.60107 4.59778V11.8273C4.60107 12.6222 4.76579 13.3204 5.09521 13.922C5.42464 14.5236 5.87223 14.9962 6.43799 15.34C7.0109 15.6766 7.65902 15.8448 8.38232 15.8448Z"})})},413677:(e,t,i)=>{i.r(t),i.d(t,{accept:()=>K,close:()=>L,createTemplateInstance:()=>Z,loadAndDuplicatePageTemplate:()=>N,openWithItem:()=>E,previewItem:()=>D,setTemplateVisited:()=>W});i(16280);var o=()=>i(584262),a=()=>i(857639),r=()=>i(763884),n=()=>i(388821),l=()=>i(179034),s=()=>i(665344),c=()=>i(94830),d=()=>i(973647),p=()=>i(449506),m=()=>i(857783),u=()=>i(71584),g=()=>i(34542),v=()=>i(989423),f=()=>i(972435),y=()=>i(108944),C=()=>i(174723),h=()=>i(869562),k=()=>i(351360),w=()=>i(508496),x=()=>i(75368),S=()=>i(714818),b=()=>i(630116),M=()=>i(160568),_=()=>i(624550),A=()=>i(246826),T=()=>i(666144),P=()=>i(778417),I=()=>i(185544),H=()=>i(317909),V=()=>i(345913);const B="LastViewedTemplateId",j=(0,i(959013).YK)({clientCopyError:{defaultMessage:"Client copy could not be created.",id:"spaceActions.createGettingStartedPage.copyNotCreated.error"}});function E(e){const{environment:t,item:i,createNewPage:o,isPrivate:a,disablePointerEvents:n,isCheckout:l=!1}=e;P().IU({environment:t}),S().A.setState({open:!0,item:i,createNewPage:o,isPrivate:a,isLoading:!1,disablePointerEvents:n,isCheckout:l}),r().A.set({userId:t.currentUser.id,key:B,value:i.rootId}),M().oO(t,{template_id:(0,C().dY)(i),from:o?"sidebar":"newPage"})}function D(e){let{templateItem:t,currentUserId:i}=e;const o=S().A.state.item;S().A.setState({...S().A.state,item:t}),o!==t&&r().A.set({userId:i,key:B,value:t.rootId})}function L(e){S().A.setState({item:S().A.state.item,open:!1}),P().IU({environment:e})}async function K(e){const{acceptFrom:t,item:i,environment:a,spaceStore:r,initializeStore:n,...l}=e;S().A.state.open&&S().A.setState({...S().A.state,isLoading:!0}),w().default.checkGate({gateName:"mobile_keep_template_gallery_open"})&&x().A.state.open&&x().A.setState({open:!1});const s=n?{...{...l,item:i,environment:a,spaceStore:r},initializeStore:n,type:"inExistingStore",useMinimalTemplates:!1}:{...{...l,item:i,environment:a,spaceStore:r},type:"inSpace",useMinimalTemplates:!1,isOnboarding:!1};let c=!1;const d=Date.now();let p;try{var u;p=await Z(s),c=!0;const e=null===(u=k().default.state.mainEditorCurrentBlockStore)||void 0===u?void 0:u.id;!p||e&&e===p.id||m().uK({environment:a,store:p,pageVisitSource:o().y8.Create,showMoveTo:!0}),L(a),a.device.isMobile&&(h().close(),x().A.setState({open:!1}))}finally{var g;const o=Date.now()-d,n=e.initializeStore?y().Uo(e.initializeStore):void 0,l=e.initializeStore?!n:e.isPrivate;M().BX(a,{destination:l?"private":"team",template_block_id:i.rootId,template_duplication_duration_ms:o,team_id:null==n?void 0:n.id,created_page_id:null===(g=p)||void 0===g?void 0:g.id}),M().hB(a,{from:"mobileApp",success:c,context:t,template_block_id:i.rootId,target_space_id:r.id,template_duplication_duration_ms:o,public_template_name:i.name,template_id:i.id})}}async function N(e){const{environment:t,initializeStore:i,item:o,isPrivate:a,useMinimalTemplates:r,spaceStore:l,spaceViewStore:s}=e,c=r?o.rootId:o.previewRootId,d=await p().callApi({eventName:"loadBlockSubtree",environment:t,data:{block:{id:c,spaceId:o.spaceId},shallow:!1}});let m;"success"===d.type&&(m=n().RecordMapWithRole.create(d.data.subtreeRecordMap));const g="pageTemplateModalActions.loadAndDuplicatePageTemplate",{performResult:y}=H().createAndCommit({userAction:g,environment:t,canUndo:!0,perform:e=>{const o=i||I().IT({environment:t,spaceStore:l,spaceViewStore:s,isPrivate:a,loading:!0,transaction:e});T()._O({environment:t,inMemoryRecordCache:o.inMemoryRecordCache,recordMap:m,debugSource:g});const r=u().loadLocalSubtree(t,{blockId:c,inMemoryRecordCache:o.inMemoryRecordCache,allowCopyCollections:!0,requireFullSubtree:!1,skipTransclusionContainerChildren:!1,allowCopyExternalObjectInstances:!0}).recordMap;if(!r)throw new Error(f().A.getIntl().formatMessage(j.clientCopyError));return u().localDuplicate({environment:t,sourceBlockId:c,targetBlockPointer:o.pointer,sourceBlockSubtree:r,targetInMemoryRecordCache:o.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0}),o}}),C=y.getCollectionPointer();return(0,v().u4)({environment:t,event:{eventName:"create_app_templates",eventProperties:{target_page_ids:[y.id],template_label:o.name,collection_ids:C?[C.id]:[]}}}),y}async function Z(e){var t;const{environment:i,item:o,useRecordCache:r,useMinimalTemplates:n,spaceStore:p,isOnboarding:m,from:u,type:v,initializeStore:f,teamStore:y,onSuccess:C,onError:h}=e,k=r&&!n?o.previewRootId:o.rootId,x={id:k,table:l().ev,spaceId:o.spaceId},S=m?"onboarding":null!==(t=o.marketplaceTemplateMetadata)&&void 0!==t&&t.isMobileMarketplaceTemplate?"mobile_app":"homepage_team"===u?"team_home":void 0,M=await(0,g().oC)(i,k),A=S?{context:"",source:S,isListedTemplate:!!M,isFirstPartyPaidTemplate:void 0!==M&&(0,c().Z1)(M)}:void 0;let T=!1,P=p;const I=new(b().Bv)(i,{table:l().ev,id:x.id,spaceId:x.spaceId});if("inExistingStore"===v&&f){if(P=f,f.isEmptyPage()){const e=f.getParentStore();e&&e.canEdit()&&("block"===e.table||"space"===e.table||"team"===e.table)&&(T=!0,P=e)}}else"inTeam"===v&&y&&(P=y);A||a().log({level:"warning",from:"pageTemplateModalActions.createTemplateInstance",type:"templateInstallationMetadataNotSet",data:{miscDataToConvertToString:{template_id:o.id,template_block_id:o.rootId,target_space_id:p.id,public_template_name:o.name,isOnboarding:m,from:u,type:v}}});const B=w().default.checkGate({gateName:"enable_local_duplication_for_non_marketplace_templates"}),j=await _().Jx({environment:i,store:I,newParentStore:P,addCopyName:!1,duplicateOnlyCollectionSchema:!1,unlockPage:!0,templateInstallationMetadata:A,shouldAttemptServerBackedLocalDuplication:!(0,s().Fe)(null==A?void 0:A.source)&&B});if(j){if(d().Q.isSuccess(j)&&j.value.length>0){const e=j.value[0];if(T&&f){const t=f;try{await t.waitUntil((()=>t.isDefined()));const{serverCommitResult:o}=H().createAndCommit({userAction:"pageTemplateModalActions.initializePageTemplateInPlace",environment:i,canUndo:!0,perform:e=>{V().oD({environment:i,blocks:[t],transaction:e,permanentlyDelete:!0})}});return await o,e}catch(E){a().log({level:"error",from:"pageTemplateModalActions.initializePageTemplateInPlace",type:"transactionError",data:{miscDataToConvertToString:{error:E}}})}}return null==C||C(e),e}return null==h||h(),void a().log({level:"error",from:"pageTemplateModalActions.initializePageTemplate",type:"duplicateTemplateError",data:{miscDataToConvertToString:{error:j.error,template_id:o.id,template_block_id:o.rootId,target_space_id:p.id,public_template_name:o.name}}})}}function W(e){const{item:t,transaction:i,spaceViewStore:o}=e;if(o){const e=o.getVisitedTemplateIds();if(e.indexOf(t.rootId)<0){const a=e.concat([t.rootId]);A().zv({store:o,data:{visited_templates:a},transaction:i})}}}},459240:(e,t,i)=>{i.d(t,{_:()=>d});i(296540);var o=()=>i(340498),a=i(474848);const r=(0,o().wt)("collectionCalendar",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M3.29688 14.4561H12.7031C14.1797 14.4561 14.9453 13.6904 14.9453 12.2344V3.91504C14.9453 2.45215 14.1797 1.69336 12.7031 1.69336H3.29688C1.82031 1.69336 1.05469 2.45215 1.05469 3.91504V12.2344C1.05469 13.6973 1.82031 14.4561 3.29688 14.4561ZM3.27637 13.1162C2.70898 13.1162 2.39453 12.8154 2.39453 12.2207V5.9043C2.39453 5.30273 2.70898 5.00879 3.27637 5.00879H12.71C13.2842 5.00879 13.6055 5.30273 13.6055 5.9043V12.2207C13.6055 12.8154 13.2842 13.1162 12.71 13.1162H3.27637ZM6.68066 7.38086H7.08398C7.33008 7.38086 7.41211 7.30566 7.41211 7.05957V6.66309C7.41211 6.41699 7.33008 6.3418 7.08398 6.3418H6.68066C6.44141 6.3418 6.35938 6.41699 6.35938 6.66309V7.05957C6.35938 7.30566 6.44141 7.38086 6.68066 7.38086ZM8.92285 7.38086H9.31934C9.56543 7.38086 9.64746 7.30566 9.64746 7.05957V6.66309C9.64746 6.41699 9.56543 6.3418 9.31934 6.3418H8.92285C8.67676 6.3418 8.59473 6.41699 8.59473 6.66309V7.05957C8.59473 7.30566 8.67676 7.38086 8.92285 7.38086ZM11.1582 7.38086H11.5547C11.8008 7.38086 11.8828 7.30566 11.8828 7.05957V6.66309C11.8828 6.41699 11.8008 6.3418 11.5547 6.3418H11.1582C10.9121 6.3418 10.8301 6.41699 10.8301 6.66309V7.05957C10.8301 7.30566 10.9121 7.38086 11.1582 7.38086ZM4.44531 9.58203H4.84863C5.09473 9.58203 5.17676 9.50684 5.17676 9.26074V8.86426C5.17676 8.61816 5.09473 8.54297 4.84863 8.54297H4.44531C4.20605 8.54297 4.12402 8.61816 4.12402 8.86426V9.26074C4.12402 9.50684 4.20605 9.58203 4.44531 9.58203ZM6.68066 9.58203H7.08398C7.33008 9.58203 7.41211 9.50684 7.41211 9.26074V8.86426C7.41211 8.61816 7.33008 8.54297 7.08398 8.54297H6.68066C6.44141 8.54297 6.35938 8.61816 6.35938 8.86426V9.26074C6.35938 9.50684 6.44141 9.58203 6.68066 9.58203ZM8.92285 9.58203H9.31934C9.56543 9.58203 9.64746 9.50684 9.64746 9.26074V8.86426C9.64746 8.61816 9.56543 8.54297 9.31934 8.54297H8.92285C8.67676 8.54297 8.59473 8.61816 8.59473 8.86426V9.26074C8.59473 9.50684 8.67676 9.58203 8.92285 9.58203ZM11.1582 9.58203H11.5547C11.8008 9.58203 11.8828 9.50684 11.8828 9.26074V8.86426C11.8828 8.61816 11.8008 8.54297 11.5547 8.54297H11.1582C10.9121 8.54297 10.8301 8.61816 10.8301 8.86426V9.26074C10.8301 9.50684 10.9121 9.58203 11.1582 9.58203ZM4.44531 11.7832H4.84863C5.09473 11.7832 5.17676 11.708 5.17676 11.4619V11.0654C5.17676 10.8193 5.09473 10.7441 4.84863 10.7441H4.44531C4.20605 10.7441 4.12402 10.8193 4.12402 11.0654V11.4619C4.12402 11.708 4.20605 11.7832 4.44531 11.7832ZM6.68066 11.7832H7.08398C7.33008 11.7832 7.41211 11.708 7.41211 11.4619V11.0654C7.41211 10.8193 7.33008 10.7441 7.08398 10.7441H6.68066C6.44141 10.7441 6.35938 10.8193 6.35938 11.0654V11.4619C6.35938 11.708 6.44141 11.7832 6.68066 11.7832ZM8.92285 11.7832H9.31934C9.56543 11.7832 9.64746 11.708 9.64746 11.4619V11.0654C9.64746 10.8193 9.56543 10.7441 9.31934 10.7441H8.92285C8.67676 10.7441 8.59473 10.8193 8.59473 11.0654V11.4619C8.59473 11.708 8.67676 11.7832 8.92285 11.7832Z"})}),n=(0,o().wt)("collectionGallery",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M2.0542 7.75952H5.96973C7.00464 7.75952 7.50562 7.25854 7.50562 6.19727V3.58691C7.50562 2.53223 7.00464 2.03125 5.96973 2.03125H2.0542C1.01929 2.03125 0.518311 2.53223 0.518311 3.58691V6.19727C0.518311 7.25854 1.01929 7.75952 2.0542 7.75952ZM10.0303 7.75952H13.9392C14.9741 7.75952 15.4751 7.25854 15.4751 6.19727V3.58691C15.4751 2.53223 14.9741 2.03125 13.9392 2.03125H10.0303C8.98877 2.03125 8.48779 2.53223 8.48779 3.58691V6.19727C8.48779 7.25854 8.98877 7.75952 10.0303 7.75952ZM2.06079 6.55322C1.83008 6.55322 1.71802 6.44116 1.71802 6.20386V3.58032C1.71802 3.34961 1.83008 3.23755 2.06079 3.23755H5.96313C6.18726 3.23755 6.30591 3.34961 6.30591 3.58032V6.20386C6.30591 6.44116 6.18726 6.55322 5.96313 6.55322H2.06079ZM10.0369 6.55322C9.79956 6.55322 9.69409 6.44116 9.69409 6.20386V3.58032C9.69409 3.34961 9.79956 3.23755 10.0369 3.23755H13.9392C14.1633 3.23755 14.2754 3.34961 14.2754 3.58032V6.20386C14.2754 6.44116 14.1633 6.55322 13.9392 6.55322H10.0369ZM2.0542 14.4634H5.96973C7.00464 14.4634 7.50562 13.969 7.50562 12.9077V10.2974C7.50562 9.24268 7.00464 8.7417 5.96973 8.7417H2.0542C1.01929 8.7417 0.518311 9.24268 0.518311 10.2974V12.9077C0.518311 13.969 1.01929 14.4634 2.0542 14.4634ZM10.0303 14.4634H13.9392C14.9741 14.4634 15.4751 13.969 15.4751 12.9077V10.2974C15.4751 9.24268 14.9741 8.7417 13.9392 8.7417H10.0303C8.98877 8.7417 8.48779 9.24268 8.48779 10.2974V12.9077C8.48779 13.969 8.98877 14.4634 10.0303 14.4634ZM2.06079 13.2637C1.83008 13.2637 1.71802 13.1516 1.71802 12.9143V10.2974C1.71802 10.0601 1.83008 9.94141 2.06079 9.94141H5.96313C6.18726 9.94141 6.30591 10.0601 6.30591 10.2974V12.9143C6.30591 13.1516 6.18726 13.2637 5.96313 13.2637H2.06079ZM10.0369 13.2637C9.79956 13.2637 9.69409 13.1516 9.69409 12.9143V10.2974C9.69409 10.0601 9.79956 9.94141 10.0369 9.94141H13.9392C14.1633 9.94141 14.2754 10.0601 14.2754 10.2974V12.9143C14.2754 13.1516 14.1633 13.2637 13.9392 13.2637H10.0369Z"})});var l=()=>i(972435);const s=(0,i(959013).YK)({table:{defaultMessage:"Table",id:"templatePickerHelpers.databaseTemplateNames.table"},board:{defaultMessage:"Board",id:"templatePickerHelpers.databaseTemplateNames.board"},list:{defaultMessage:"List",id:"templatePickerHelpers.databaseTemplateNames.list"},calendar:{defaultMessage:"Calendar",id:"templatePickerHelpers.databaseTemplateNames.calendar"},gallery:{defaultMessage:"Gallery",id:"templatePickerHelpers.databaseTemplateNames.gallery"},timeline:{defaultMessage:"Timeline",id:"templatePickerHelpers.databaseTemplateNames.timeline"},form:{defaultMessage:"Form",id:"templatePickerHelpers.databaseTemplateNames.form"}});function c(e){const{environment:t,store:o,viewType:a}=e;i(317909).createAndCommit({userAction:"templatePickerHelpers.handleClickForViewType",environment:t,canUndo:!0,perform:e=>{(0,i(226916).c)({environment:t,store:o,viewType:a,transaction:e}),i(857783).uK({environment:t,store:o,pageVisitSource:i(584262).y8.LinkInPage});const r=o.getCollectionViewStores()[0];r&&(0,i(493260).F)(r.id,{viewType:a})}})}const d=[{name:l().A.formatMessage(s.table),type:"table",iconFn:i(29118).K,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>c({environment:e,store:t,viewType:"table"})},{name:l().A.formatMessage(s.board),type:"board",iconFn:i(34373).k,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>c({environment:e,store:t,viewType:"board"})},{name:l().A.formatMessage(s.list),type:"list",iconFn:i(50170).u,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>c({environment:e,store:t,viewType:"list"})},{name:l().A.formatMessage(s.timeline),type:"timeline",iconFn:i(880261).v,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>c({environment:e,store:t,viewType:"timeline"})},{name:l().A.formatMessage(s.calendar),type:"calendar",iconFn:r,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>c({environment:e,store:t,viewType:"calendar"})},{name:l().A.formatMessage(s.gallery),type:"gallery",iconFn:n,isLargeDatabaseIcon:!0,shouldShow:()=>!0,onClick:(e,t)=>c({environment:e,store:t,viewType:"gallery"})}]},522094:(e,t,i)=>{i.d(t,{A:()=>a});class o extends(()=>i(757695))().default{getInitialState(){return{flowId:void 0}}getOrCreateFlowId(){const e=this.state.flowId||i(206267).JW();return this.state.flowId&&this.setState({flowId:e}),e}}const a=new o},532731:(e,t,i)=>{i.d(t,{F1:()=>f,KQ:()=>c,Wt:()=>m,dB:()=>v,vP:()=>p,wL:()=>d,zD:()=>u});i(944114),i(898992),i(581454),i(908872);var o=()=>i(959013),a=()=>i(33301),r=()=>i(317909),n=()=>i(972435),l=()=>i(806638),s=()=>i(404141);const c=(0,o().YK)({emptyWithIcon:{defaultMessage:"Empty page with icon",id:"templatePickerHelpers.basicTemplateItems.emptyWithIcon"},empty:{defaultMessage:"Empty page",id:"templatePickerHelpers.basicTemplateItems.empty"},templates:{defaultMessage:"Templates",id:"templatePickerHelpers.basicTemplateItems.templates"},import:{defaultMessage:"Import",id:"templatePickerHelpers.basicTemplateItems.import"}}),d={name:n().A.formatMessage(c.empty),iconFn:i(47966).Y,type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{r().createAndCommit({userAction:"templatePickerHelpers.emptyTemplateItems",environment:e,canUndo:!0,perform:i=>{a().n({environment:e,store:t,transaction:i})}})}},p={name:n().A.formatMessage(c.templates),type:"templates",iconFn:e=>(0,i(948352).M)(e),shouldShow:()=>!0,onClick:e=>{(0,l().P)({environment:e})}},m={name:n().A.formatMessage(c.templates),type:"templates",iconFn:e=>(0,i(926329).b)(e),shouldShow:()=>!0,onClick:e=>{(0,l().P)({environment:e})}},u={name:n().A.formatMessage(c.import),type:"import",iconFn:i(555555).n,shouldShow:()=>!0,onClick:(e,t)=>{const o=i(206267).JW();i(522094).A.setState({flowId:o}),i(559926).kY(e,{from:"new_page",flowId:o}),s().A.setState({...s().A.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0})}},g=(0,o().YK)({pageWithIcon:{defaultMessage:"Page with icon",id:"templatePickerHelpers.mobileBasicTemplateItems.pageWithIcon"},emptyPage:{defaultMessage:"Empty page",id:"templatePickerHelpers.mobileBasicTemplateItems.emptyPage"}}),v=[{name:n().A.formatMessage(g.pageWithIcon),type:"page_with_icon",shouldShow:()=>!0,onClick:(e,t)=>{r().createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,canUndo:!0,perform:i=>{a().T({environment:e,store:t,transaction:i})}})}},{name:n().A.formatMessage(g.emptyPage),type:"empty_page",shouldShow:()=>!0,onClick:(e,t)=>{r().createAndCommit({userAction:"templatePickerHelpers.mobileBasicTemplateItems",environment:e,canUndo:!0,perform:i=>{a().n({environment:e,store:t,transaction:i})}})}}];function f(e,t){const i=new Map(e.map((e=>[e.type,e])));return t.reduce(((e,t)=>(i.has(t)&&e.push(i.get(t)),e)),[])}},617668:(e,t,i)=>{i.r(t),i.d(t,{iconDefinition:()=>o,plusIcon:()=>a});i(296540);const o={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"M10.625 3.75a.625.625 0 1 0-1.25 0v5.625H3.75a.625.625 0 1 0 0 1.25h5.625v5.625a.625.625 0 1 0 1.25 0v-5.625h5.625a.625.625 0 1 0 0-1.25h-5.625z"})},a=(0,i(340498).wt)("plus",o)},646668:(e,t,i)=>{i.d(t,{Rh:()=>v,d7:()=>d,nr:()=>m,rr:()=>u,uo:()=>g,v:()=>p});var o=()=>i(636090),a=()=>i(178492),r=()=>i(148307),n=()=>i(604995),l=()=>i(416504),s=()=>i(972435);const c=(0,i(959013).YK)({aiSummaryName:{id:"feature.ai_summary.name",defaultMessage:"AI summary"},aiSummaryDescription:{id:"feature.ai_summary.description",defaultMessage:"Summarize pages with AI"},aiAutofillName:{id:"feature.ai_autofill.name",defaultMessage:"Custom AI autofill"},aiAutofillDescription:{id:"feature.ai_autofill.description",defaultMessage:"Autofill properties with AI"},aiTranslationName:{id:"feature.ai_translation.name",defaultMessage:"AI translation"},aiTranslationDescription:{id:"feature.ai_translation.description",defaultMessage:"Translate pages with AI"},aiKeywordsName:{id:"feature.ai_keywords.name",defaultMessage:"AI keywords"},aiKeywordsDescription:{id:"feature.ai_keywords.description",defaultMessage:"Extract keywords with AI"}}),d=[{uri:a().Bn.priorityHmlFeature,name:"Priority",dependencies:[{uri:a().Kg.priorityHmlProperty,type:"property",collectionUri:o().iH,name:"Priority",description:"High, medium, or low",icon:r().A.images.appPackages.featurePrioritySvg,propertySchema:{type:"select",name:"Priority",options:[{id:"priority_low",value:"Low",color:"green"},{id:"priority_medium",value:"Medium",color:"yellow"},{id:"priority_high",value:"High",color:"red"}]}}],collectionUri:o().iH},{uri:a().Bn.progressBarFeature,collectionUri:o().iH,name:"Progress Bar",description:"Visual representation of progress",icon:r().A.images.appPackages.featureStatusSvg,dependencies:[{uri:a().Kg.progressBarCurrentProperty,type:"property",collectionUri:o().iH,name:"Progress Bar Current",propertySchema:{type:"number",name:"Current"}},{uri:a().Kg.progressBarTargetProperty,type:"property",collectionUri:o().iH,name:"Progress Bar Target",propertySchema:{type:"number",name:"Target"}},{uri:a().Kg.progressBarFormulaProperty,type:"property",collectionUri:o().iH,name:"Progress Bar Progress Formula",propertySchema:{type:"formula",name:"Progress bar",formula2:{code:[["‣",[["fpp",{property:a().Kg.progressBarCurrentProperty,collection:{id:o().iH,table:"collection"}}]]],["/"],["‣",[["fpp",{property:a().Kg.progressBarTargetProperty,collection:{id:o().iH,table:"collection"}}]]]],result_type:{type:"number"}},show_as:{type:"bar",color:"green",maxValue:1,showValue:!1},version:"v2"}}]},{uri:a().Bn.ganttChartFeature,collectionUri:o().iH,name:"Gantt Chat",description:"Chart to show progress of a project's tasks over time.",icon:r().A.images.appPackages.featureGanttSvg,dependencies:[{uri:a().Kg.ganttInitiativeProperty,type:"property",collectionUri:o().iH,name:"Initiative",description:"Initiatives associated with a specific project",icon:r().A.images.appPackages.featurePrioritySvg,propertySchema:{type:"select",name:"Initiative",options:[{id:"initiative_a",value:"Initiative A",color:"purple"},{id:"initiative_b",value:"Initiative B",color:"green"},{id:"initiative_c",value:"Initiative C",color:"blue"}]}},{uri:a().Kg.ganttDueDateProperty,type:"property",collectionUri:o().iH,name:"Due Date",description:"When a project is due.",icon:r().A.images.appPackages.featurePrioritySvg,propertySchema:{type:"date",name:"Due Date"}},{uri:a().Kg.ganttTimelineView,type:"collection_view",collectionUri:o().iH,description:"GANTT chart timeline view of projects",value:{type:"timeline",name:"Timeline",format:{collection_view_icon:"/icons/timeline_gray.svg",timeline_show_table:!0,timeline_table_properties:[{width:171,visible:!0,property:"title"},{width:200,visible:!0,property:a().Kg.ganttInitiativeProperty}],timeline_preference:{zoomLevel:"month",centerTimestamp:(0,n().ln)((0,n().Ec)((0,l().P)()),(0,l().P)())},collection_group_by:{sort:{type:"manual"},type:"multi_select",property:a().Kg.ganttInitiativeProperty,hideEmptyGroups:!0}},query2:{timeline_by:a().Kg.ganttDueDateProperty}},collectionViewBlockUri:o().eh}]}],p=[m(),u(),g(),v()];function m(){return{uri:a().Bn.aiSummaryFeature,collectionUri:o().iH,name:s().A.formatMessage(c.aiSummaryName),description:s().A.formatMessage(c.aiSummaryDescription),icon:r().A.images.appPackages.featureAiSummarizeSvg,tooltipImage:{img:r().A.images.tooltips.properties.aiAutofillSummaryPng,scale:.5},isAi:!0,dependencies:[{uri:a().Kg.aiSummaryProperty,type:"property",collectionUri:o().iH,name:s().A.formatMessage(c.aiSummaryName),propertySchema:{type:"text",name:s().A.formatMessage(c.aiSummaryName),ai_inference:{type:"summarize",auto_update_on_edit:!0}}}]}}function u(){return{uri:a().Bn.aiCustomAutofillFeature,collectionUri:o().iH,name:s().A.formatMessage(c.aiAutofillName),description:s().A.formatMessage(c.aiAutofillDescription),icon:"",tooltipImage:{img:r().A.images.tooltips.properties.aiCustomAutofillPng,scale:.5},isAi:!0,dependencies:[{uri:a().Kg.aiCustomAutofillProperty,type:"property",collectionUri:o().iH,name:s().A.formatMessage(c.aiAutofillName),propertySchema:{name:s().A.formatMessage(c.aiAutofillName),type:"text",ai_inference:{type:"custom",prompt:"",auto_update_on_edit:!0}}}]}}function g(){return{uri:a().Bn.aiTranslationFeature,collectionUri:o().iH,name:s().A.formatMessage(c.aiTranslationName),description:s().A.formatMessage(c.aiTranslationDescription),icon:"",tooltipImage:{img:r().A.images.tooltips.properties.aiTranslationPng,scale:.5},isAi:!0,dependencies:[{uri:a().Kg.aiTranslationProperty,type:"property",collectionUri:o().iH,name:s().A.formatMessage(c.aiTranslationName),propertySchema:{name:s().A.formatMessage(c.aiTranslationName),type:"text",ai_inference:{type:"custom",prompt:"",auto_update_on_edit:!0}}}]}}function v(){return{uri:a().Bn.aiKeywordsFeature,collectionUri:o().iH,name:s().A.formatMessage(c.aiKeywordsName),description:s().A.formatMessage(c.aiKeywordsDescription),icon:"",tooltipImage:{img:r().A.images.tooltips.properties.aiKeywordsPng,scale:.5},isAi:!0,dependencies:[{uri:a().Kg.aiKeywordsProperty,type:"property",collectionUri:o().iH,name:s().A.formatMessage(c.aiKeywordsName),propertySchema:{type:"multi_select",name:s().A.formatMessage(c.aiKeywordsName),select_ai_inference:{type:"multi_select",add_options:!0,auto_update_on_edit:!1}}}]}}},748054:(e,t,i)=>{i.d(t,{M:()=>a});i(296540);const o={viewBox:"0 0 20 20",svg:(0,i(474848).jsx)("path",{d:"M10.282 3.66a5.39 5.39 0 0 0-5.217-.54l-.711.305a.63.63 0 0 0-.38.575v12.425a.625.625 0 1 0 1.25 0v-3.913l.333-.142a4.14 4.14 0 0 1 4.008.414 5.39 5.39 0 0 0 5.504.405l1.06-.53a.63.63 0 0 0 .346-.56V4a.625.625 0 0 0-.905-.558l-1.06.53c-1.36.68-2.983.56-4.228-.312m-5.057 7.495V4.412l.332-.142a4.14 4.14 0 0 1 4.008.413 5.39 5.39 0 0 0 5.504.406l.156-.078v6.703l-.715.357c-1.36.68-2.983.56-4.228-.312a5.4 5.4 0 0 0-5.057-.604"})},a=(0,i(340498).wt)("flag",o)},806638:(e,t,i)=>{i.d(t,{P:()=>r});var o=()=>i(427704),a=()=>i(435009);function r(e){const{environment:t}=e;a().oo({environment:t,url:o().JZ.marketplace,redirect:!1})}},880261:(e,t,i)=>{i.d(t,{v:()=>a});i(296540);var o=i(474848);const a=(0,i(340498).wt)("collectionTimeline",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5964 14.4634H2.39697C0.940186 14.4634 0.162354 13.6987 0.162354 12.2485V4.24609C0.162354 2.7959 0.940186 2.03125 2.39697 2.03125H13.5964C15.0532 2.03125 15.8311 2.80249 15.8311 4.24609V12.2485C15.8311 13.6921 15.0532 14.4634 13.5964 14.4634ZM1.63232 12.0969C1.63232 12.7034 1.94214 12.9934 2.52222 12.9934H13.4712C14.0447 12.9934 14.3611 12.7034 14.3611 12.0969V4.39771C14.3611 3.79126 14.0447 3.50122 13.4712 3.50122H2.52222C1.94214 3.50122 1.63232 3.79126 1.63232 4.39771V12.0969ZM8.92711 6.13826H2.71776C2.44986 6.13826 2.23645 5.91123 2.23645 5.64787C2.23645 5.37997 2.44986 5.15747 2.71776 5.15747H8.92711C9.19955 5.15747 9.40842 5.37542 9.40842 5.64787C9.40842 5.91577 9.19955 6.13826 8.92711 6.13826ZM11.3757 8.49036H4.75992C4.49201 8.49036 4.2786 8.26332 4.2786 7.99996C4.2786 7.73206 4.49201 7.50957 4.75992 7.50957H11.3757C11.6482 7.50957 11.857 7.72752 11.857 7.99996C11.857 8.26332 11.6482 8.49036 11.3757 8.49036ZM13.2822 10.8424H8.24608C7.97818 10.8424 7.76477 10.6109 7.76477 10.352C7.76477 10.0841 7.97818 9.85711 8.24608 9.85711H13.2822C13.5547 9.85711 13.7636 10.0796 13.7636 10.352C13.7636 10.6154 13.5547 10.8424 13.2822 10.8424Z"})})},926329:(e,t,i)=>{i.d(t,{b:()=>a});i(296540);var o=i(474848);const a=(0,i(340498).wt)("templates",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,o.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,o.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},937943:(e,t,i)=>{i.r(t),i.d(t,{applyUntypedFeature:()=>l});var o=()=>i(534177),a=()=>i(896628),r=()=>i(646668),n=()=>i(614537);function l(e){var t;const{environment:i,collectionStore:l,collectionViewBlockStore:s,feature:c,transaction:d}=e,p=c.dependencies,m=(null===(t=s.getFormat())||void 0===t?void 0:t.app_uri_map)??{};for(const u of p)if("property"===u.type)(0,n().Io)({environment:i,collectionStore:l,dependency:u,blockUriMap:m,allFeatures:r().d7,transaction:d});else if("collection_view"===u.type){const e=(0,n().ww)({environment:i,collectionStore:l,collectionViewBlockStore:s,dependency:u,blockUriMap:m,transaction:d});a().zA({stores:[s],update:{app_uri_map:e},transaction:d})}else(0,o().HB)(u)}},948352:(e,t,i)=>{i.d(t,{M:()=>a});i(296540);var o=i(474848);const a=(0,i(340498).wt)("templatesColor",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z",fill:"#3C9ED7"}),(0,o.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z",fill:"#E7595E"}),(0,o.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z",fill:"#F5BC4E"})]})})},951340:(e,t,i)=>{i.d(t,{DC:()=>l,NI:()=>n});i(898992),i(354520),i(581454);var o=()=>i(837384),a=()=>i(255591),r=()=>i(228271);function n(e){let{persona:t,defaultToLife:i}=e;if(!t)return;if(t in a().bJ)return t;const o={customer_support:"support",designer:"design",educator:"student",entrepreneur:"hr",freelancer:"design",hr_recruiting:"hr",it:"eng",marketing_sales:"marketing",media:"marketing",operations:"hr",operations_hr:"hr",personal:"life",product_manager:"product",programmer:"eng",other:i?"life":void 0,unfilled:i?"life":void 0,undefined:i?"life":void 0,creative:"design",founderCeo:"hr",internalCommunication:"hr",productDesign:"design",projectProgramMgmt:"product",finance:void 0,itAdmin:"eng",knowledgeManagement:"hr"};return(null==o?void 0:o[t])??void 0}function l(e,t){const i=n({persona:t,defaultToLife:!0});return(i?null==s?void 0:s[i]:[]).filter((t=>(0,r().vc)(t,e)))}const s={...a().PY,design:[o().kx.designSprint,o().kx.designPortfolio],product:[o().kx.productSpec,o().kx.productWiki,o().kx.visionAndStrategy],marketing:[o().kx.blogEditorialCalendar,o().kx.socialMediaCalendar,o().kx.presentation],hr:[o().kx.companyHome,o().kx.employeeBenefits,o().kx.peopleDirectory],sales:[o().kx.salesWiki,o().kx.presentation,o().kx.oneOnOneNotes],support:[],life:[]}},965072:(e,t,i)=>{i.r(t),i.d(t,{AppInitializationOverlay:()=>K});i(898992),i(354520),i(672577),i(803949),i(581454);var o=i(296540),a=()=>i(662303),r=()=>i(484714),n=()=>i(56366),l=()=>i(401497),s=()=>i(97789),c=()=>i(304740),d=()=>i(982615),p=()=>i(179034),m=()=>i(96689),u=()=>i(854150),g=()=>i(959013),v=()=>i(284371),f=()=>i(989423),y=()=>i(508496);var C=()=>i(413677),h=()=>i(317909),k=()=>i(767435),w=()=>i(925496),x=()=>i(617254),S=()=>i(422651),b=()=>i(313892),M=()=>i(200562),_=()=>i(186445),A=()=>i(644914),T=()=>i(351360),P=()=>i(548821),I=()=>i(630116),H=()=>i(704152),V=()=>i(288722),B=()=>i(594607),j=()=>i(331542),E=()=>i(204063),D=()=>i(299772),L=i(474848);function K(e){var t;const{collectionViewBlockStore:i}=e,K=(0,r().v3)(),{isMobile:N}=(0,r().Y0)(),Z=(0,n().K8)((()=>({top:K.WindowSizeStore.getSafePaddingTopPx(0),bottom:K.WindowSizeStore.getSafePaddingBottomPx(64)})),[K.WindowSizeStore]),W=(0,l().IS)((e=>({overlay:{position:"absolute",top:0,left:0,overflow:"visible",height:"100vh",width:"100%",zIndex:999,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:e.surface.wash,borderLeft:`1px solid ${e.lightDividerColor}`},welcome:{maxWidth:375,minWidth:320,maxHeight:"100%",flex:1,display:"flex",flexDirection:"column",alignItems:"stretch",marginLeft:N?void 0:"10%",marginRight:N?void 0:"10%",padding:N?`${Z.top}px 16px ${Z.bottom}px 16px`:"64px 16px"},welcomeLogo:{height:48,width:48},welcomeTitle:{marginTop:24,color:e.regularTextColor,fontFamily:v().xf({locale:a().locale}),fontWeight:v().Wy.bold,fontSize:28,flex:0,display:"flex",flexDirection:"row",alignItems:"center"},welcomeSubtitle:{marginTop:6,fontSize:18,color:e.mediumTextColor,fontWeight:400,flex:0},presets:{marginTop:32,marginBottom:32,gap:12,display:"flex",flexDirection:"column"},presetSelected:{background:"dark"===e.mode?e.popoverBackground:e.buttonBackground,boxShadow:e.outlineBlueInputBoxShadow},presetSelectedCheckmark:{width:24,height:24,color:e.blueButtonBackground,opacity:0,transform:"scale(0.8)",transition:"all 0.2s ease"},presetSelectedCheckmarkShown:{opacity:1,transform:"scale(1)"},preset:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",padding:"16px 14px 16px 16px",background:"dark"===e.mode?e.accentColors.gray[200]:e.buttonBackground,borderRadius:7,boxShadow:e.elevatedButtonBoxShadow,cursor:"pointer",transition:"box-shadow 0.1s ease, background 0.1s ease"},scroller:{overflow:"auto",padding:4},presetHovered:{background:"dark"===e.mode?e.accentColors.gray[200]:e.accentColors.gray[30]},presetTextContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",flex:1},presetIcon:{flexShrink:0,marginTop:2,marginBottom:2,width:20,height:20,marginRight:12},presetTitle:{color:e.regularTextColor,fontWeight:v().Wy.medium,fontSize:14,marginBottom:1},presetSubtitle:{color:e.mediumTextColor,fontWeight:v().Wy.regular,fontSize:14},previewContainer:{flex:1,overflow:"auto",height:"70%",borderRadius:"8px 0 0 8px",border:e.lightDividerColor,boxShadow:e.shadowMD,background:e.popoverBackground},previewImage:{width:"100%",height:"100%"},actionButton:{flex:0,zIndex:1e3},hamburgerButton:{position:"absolute",zIndex:1e3,margin:5}})),[N,Z]),[F,U]=o.useState(!1),z=(0,n().K8)((()=>T().default.state.currentSpaceViewStore),[]),R=(0,n().K8)((()=>{const e=i.getFormatStore().getKeyStore("app_config_uri").getValue();if(!e)return;return(0,b().yl)((0,x().appConfigs)(),e)}),[i]),[O,Y]=o.useState(void 0);o.useEffect((()=>{Y(i.getFormatStore().getKeyStore("app_template_preset").getValue())}),[i,Y]);const $=(0,n().K8)((()=>{var e;return(null==R||null===(e=R.presets)||void 0===e?void 0:e.filter((e=>"core"===e.type)))??[]}),[null==R?void 0:R.presets]),[G,J]=o.useState(O);o.useEffect((()=>{J(O)}),[O,J]),o.useEffect((()=>{R&&function(e,t){f().vd(e,"app_preset_selection_shown",t),y().default.logEvent("app_preset_selection_shown",t.app_uri,t)}(K,{app_uri:R.uri})}),[R,K]);const X=o.useMemo((()=>null==R?void 0:R.presets.find((e=>e.uri===O))),[R,O]),q=o.useMemo((()=>{if(R&&X&&R.uri===s().xc)return(0,S().xh)(X)}),[R,X]),Q=o.useMemo((()=>{if(!R)return;const t={};return R.presets.forEach((i=>{var o;const a=R.uri===s().xc?(0,S().xh)(i):null===(o=i.previews)||void 0===o?void 0:o.find((e=>"previewRootId"in e));a&&(t[i.uri]=I().Bv.createChildStore(e.collectionViewBlockStore,{id:a.previewRootId,table:p().ev,spaceId:a.spaceId}))})),t}),[R,e.collectionViewBlockStore]),ee=(0,n().K8)((()=>{const e=(0,_().F8)(K);return{left:e,right:e,bottom:(0,D().Wj)(K),coverHeight:(0,D().Qs)(K)}}),[K]),te=(0,n().K8)((()=>{var e;const t=null==X||null===(e=X.previews)||void 0===e?void 0:e.find((e=>"url"in e&&!(0,c().L_)(e)));if(t&&"url"in t)return t.url}),[null==X?void 0:X.previews]),ie=(0,n().K8)((()=>K.device.isPhone),[K]),oe=(0,n().K8)((()=>!!K.device.isMobileBrowser||!K.device.isMobileNative&&!(0,A().KB)(K)),[K]);return o.useEffect((()=>{"rendered"!==T().default.state.renderPhase&&T().default.setState({...T().default.state,renderPhase:"rendered"})}),[]),R?(0,L.jsxs)(B().U,{calloutId:"better_template_initialization",children:[oe&&(0,L.jsx)("div",{style:W.hamburgerButton,children:(0,L.jsx)(M().z,{})}),(0,L.jsxs)("div",{style:W.overlay,children:[(0,L.jsxs)("div",{style:W.welcome,children:[(0,L.jsxs)("div",{style:W.scroller,children:[(0,L.jsx)("div",{style:W.welcomeLogo,children:(0,L.jsx)("img",{src:R.logo,style:{height:"100%",width:"100%"}})}),(0,L.jsx)("div",{style:W.welcomeTitle,children:R.welcomeTitle??(0,L.jsx)(g().sA,{id:"apps.AppInitializationOverlay.welcomeTitle.default",defaultMessage:"Welcome to {appName}",values:{appName:R.name}})}),(0,L.jsx)("div",{style:W.welcomeSubtitle,children:R.welcomeSubtitle??""}),(0,L.jsx)("div",{style:W.presets,children:$.map(((e,t)=>{var i;const o=null!==(i=e.icon)&&void 0!==i&&i.startsWith("/")?(0,L.jsx)("img",{src:e.icon,style:{height:"100%",width:"100%"}}):(0,L.jsx)(V().A,{children:e.icon??""});return(0,L.jsxs)(H().A,{style:{height:"auto",...W.preset,...O===e.uri?W.presetSelected:{}},disabled:F,hoveredStyle:W.presetHovered,onClick:()=>{Y(e.uri),function(e,t){f().vd(e,"app_preset_selection",t),y().default.logEvent("app_preset_selection",t.preset_uri,t)}(K,{preset_uri:e.uri})},onMouseEnter:K.device.isMobile?void 0:()=>J(e.uri),onMouseLeave:K.device.isMobile?void 0:()=>J(O),children:[(0,L.jsx)("div",{style:W.presetIcon,children:o}),(0,L.jsxs)("div",{style:W.presetTextContainer,children:[(0,L.jsx)("div",{style:W.presetTitle,children:e.name}),(0,L.jsx)("div",{style:W.presetSubtitle,children:e.description})]}),(0,L.jsx)("div",{children:(0,d().$)({...W.presetSelectedCheckmark,...O===e.uri?W.presetSelectedCheckmarkShown:void 0})})]},t)}))})]}),(0,L.jsx)("div",{style:{padding:`0 4px ${K.device.isIOS?"32px":0} 4px`,alignSelf:"stretch"},children:(0,L.jsxs)(E().A,{style:{alignSelf:"stretch",height:36,width:"100%"},disabled:F,onClick:async()=>{if(O){if(U(!0),q){const{currentSpaceStore:t,currentSpaceViewStore:i}=T().default.state;t&&i&&await C().loadAndDuplicatePageTemplate({environment:K,item:q,isPrivate:!1,spaceStore:t,spaceViewStore:i,useMinimalTemplates:!1,initializeStore:e.collectionViewBlockStore})}else{const t=e.collectionViewBlockStore.getParentStore();!t||t.table!==m().NX&&t.table!==u().yK&&t.table!==p().ev||h().createAndCommit({userAction:"initializeApp",environment:K,canUndo:!0,perform:i=>{if(z){const o=k().initializeApp({environment:K,spaceViewStore:z,appUri:R.uri,presetUri:O,appParentStore:t,temporaryContainerBlockStore:e.collectionViewBlockStore,transaction:i,from:"app_onboarding"});k().markTasksDatabaseTemplateIfNeeded(o),w().createSprintPage({environment:K,spaceViewStore:z,appParentStore:t,transaction:i,blockStores:o,creationEntryPoint:{type:"preset",presetUri:O}})}}})}!function(e,t){f().vd(e,"app_preset_accepted",t),y().default.logEvent("app_preset_accepted",t.preset_uri,t)}(K,{preset_uri:O})}},children:[(0,L.jsx)(g().sA,{id:"apps.AppInitializationOverlay.startButton",defaultMessage:"Get started"}),F&&(0,L.jsx)(j().A,{style:{marginLeft:5},onDarkBackground:!0})]})})]}),!ie&&(0,L.jsx)("div",{style:W.previewContainer,children:Q&&G&&Q[G]?(0,L.jsxs)("div",{style:{width:"108%",minWidth:900,height:"auto",minHeight:"100%",position:"relative",paddingTop:q?0:"10%"},children:[(0,L.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:1,zIndex:999}}),(0,L.jsx)(D().Ay,{store:Q[G],context:P().Rr.InAppTemplatePreview,titleStyle:{fontSize:28},paddingBottom:ee.bottom,disabled:!0},null===(t=Q[G])||void 0===t?void 0:t.id)]}):(0,L.jsx)("img",{src:te,style:W.previewImage})})]})]}):null}},982615:(e,t,i)=>{i.d(t,{$:()=>a});i(296540);var o=i(474848);const a=(0,i(340498).wt)("checkmark",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})}}]);