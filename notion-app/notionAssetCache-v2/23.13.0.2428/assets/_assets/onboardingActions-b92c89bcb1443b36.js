"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[34208,34420,81929],{42120:(e,t,o)=>{o.d(t,{Dl:()=>ee,U2:()=>$,Zk:()=>te,_R:()=>J,bE:()=>oe,c:()=>Y,cJ:()=>X,eN:()=>H,e_:()=>Z,g4:()=>j,qy:()=>G});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(803949),o(581454),o(737550);var a=()=>o(244641),r=()=>o(584262),n=()=>o(66689),d=()=>o(890409),c=()=>o(970013),i=()=>o(597777),s=()=>o(604995),p=()=>o(206267),f=()=>o(433847),l=()=>o(912720),b=()=>o(199378),m=()=>o(179034),I=()=>o(519831),u=()=>o(96689),v=()=>o(854150),S=()=>o(950914),g=()=>o(864779),w=()=>o(919709),y=()=>o(374562),_=()=>o(313892),R=()=>o(813297),C=()=>o(465364),k=()=>o(654062),Q=()=>o(601734),h=()=>o(989423),T=()=>o(594794),A=()=>o(972435),P=()=>o(351360),D=()=>o(630116),M=()=>o(908447),B=()=>o(966759),E=()=>o(449506),O=()=>o(235191),V=()=>o(686526),N=()=>o(896628),x=()=>o(246826),F=()=>o(867201),z=()=>o(317909),U=()=>o(345913),L=()=>o(755199);const W="week";function J(e){var t;const{environment:o,transaction:a,tasksBlockStore:r,sprintsBlockStore:n}=e,d=null===(t=n.getFormat())||void 0===t?void 0:t.collection_pointer,c=r.getFormat().collection_pointer;if(!d||!c)return;const i=D().md.createChildStore(n,d),s=i.getRole()??"none";if(!(0,f().q_)(s,"editor"))return;i.getAutomationStores().some((e=>e.isCompleteSprintAutomation()))||K({environment:o,transaction:a,sprintCollectionStore:i,taskCollectionStore:D().md.createChildStore(r,c),sprintSettingsConfig:S().AL})}function K(e){const{environment:t,sprintSettingsConfig:o,transaction:a,sprintCollectionStore:r,taskCollectionStore:n}=e,d=r.getSpaceId(),c=(0,T().Z1)({environment:t,table:l().yB,spaceId:d}),i=(0,T().Z1)({environment:t,table:b().SC,spaceId:d});x().eC({environment:t,table:l().yB,inMemoryRecordCache:r.inMemoryRecordCache,value:{id:c,parent_id:r.id,parent_table:r.table,alive:!0,space_id:d,status:o.autoCompleteSprints?"active":"disabled",trigger:{id:p().JW(),type:"recurrence",recurrence:re(o)},action_ids:[i]},transaction:a}),N().zA({stores:[r],update:{automation_ids:[...r.getFormat().automation_ids??[],c]},transaction:a}),x().eC({environment:t,table:b().SC,inMemoryRecordCache:r.inMemoryRecordCache,transaction:a,value:{id:i,parent_id:c,parent_table:l().yB,type:"complete_sprint",alive:!0,space_id:d,config:{sprint_collection:r.getSpaceShardedPointer(),task_collection:n.getSpaceShardedPointer(),complete_sprint_action:o.actionConfig.complete_sprint_action}}})}function Z(e){const{environment:t,automationStore:o,transaction:a,newDuration:r,currentSprintBlockStore:n}=e;x().zv({store:o.getTriggerStore().getKeyStore("recurrence"),data:{interval:r},transaction:a}),q({environment:t,transaction:a,automationStore:o,currentSprintBlockStore:n})}function j(e){const{environment:t,automationStore:o,transaction:a,newWeekday:r,currentSprintBlockStore:n}=e;x().zv({store:o.getTriggerStore().getKeyStore("recurrence"),data:{weekdays:[r]},transaction:a}),q({environment:t,transaction:a,automationStore:o,currentSprintBlockStore:n})}function $(e){const{environment:t,actionStore:o,automationStore:a,transaction:r,newAutocompleteStatus:n,currentSprintBlockStore:c}=e;x().zv({store:a,data:{status:n?"active":"disabled"},transaction:r}),q({environment:t,transaction:r,automationStore:a,currentSprintBlockStore:c});const i=a.getParentPointer();if(!i||i.table!==I().Vl)return;const s=(0,h().ik)(t),p={automation_id:a.id,automation_actions:[{automation_action_id:o.id,type:"complete_sprint"}],automation_triggers:[{type:"recurrence"}],collection_id:i.id};n?(0,d().Ah)(s,p):(0,d().vN)(s,p)}function q(e){const{automationStore:t,currentSprintBlockStore:o,transaction:r,environment:d}=e;if(!t.isActive())return;const c=t.getRecurrence();if(!c)return;const s=(0,g().Vv)(c);if(!s)return;const p=o.getPropertyValue(n().Hx.Dates);if(!p)return;const f=(0,w().Cok)(p)[0];if(!f||"daterange"!==f.type)return;const l=f.start_date,{start_date:b,end_date:m}=(0,g().Me)({currentSprintStartDate:l,sprintSchedule:s});x().zv({store:t.getTriggerStore().getKeyStore("recurrence"),data:{start_date:(0,i().Rz)(a().c9.fromISO(b).plus({minutes:1}).toJSDate())},transaction:r}),C().D5({store:o,propertyId:n().Hx.Dates,transaction:r,environment:d,type:"dateValue",dateValue:{type:"daterange",start_date:l,end_date:m}})}function G(e){const{transaction:t,newRemainingTasksBehavior:o,actionStore:a}=e;x().zv({store:a.getConfigStore(),data:{complete_sprint_action:o},transaction:t})}async function Y(e){var t;const{appTemplatesSetupActions:o,appTemplatesSprintBoardActions:a,appConfigs:d}=await Q().Aw.load(),{environment:c,collectionContextStore:i,from:s}=e,{currentSpaceViewStore:p}=P().default.state,f=i.collectionStore(),l=null==f?void 0:f.getParentBlockStore(),b=null==l?void 0:l.getParentStore(),I=null==f||null===(t=f.getFormat())||void 0===t?void 0:t.app_config_uri,S=I&&(0,_().lS)(d(),I);if(!f||!l||!b||!p||b.table!==u().NX&&b.table!==m().ev&&b.table!==v().yK||!S)return;const g=l.getFormat().app_id,w=g?await E().callApi({eventName:"getCollectionViewBlocksByAppId",environment:c,data:{spaceId:l.getSpaceId(),appId:g}}):void 0,R="success"===(null==w?void 0:w.type)&&w.data.result.length?w.data.result.map((e=>D().Bv.createChildStore(b,{table:m().ev,id:e.blockId,spaceId:l.getSpaceId()}))):[l];await ae({environment:c,taskCollectionStore:f,executeFn:()=>{const e=z().createAndCommit({userAction:"sprintSettingsActions.handleTurnOnSprints",environment:c,canUndo:!0,perform:e=>{const t=(0,y().We)(),r=o.applyTypedFeatures({environment:c,spaceViewStore:p,appParentStore:b,appUri:S.uri,features:[{type:"simple",featureUri:t.uri}],transaction:e,createOrModify:"modify",appCollectionViewBlockStores:R}),d=a.createSprintPage({environment:c,spaceViewStore:p,appParentStore:b,transaction:e,blockStores:r,creationEntryPoint:{type:"sprint_settings"}});if(V().os({collectionSettingsStore:i.settingsStore}),!d)return;const f=s?{feature:{id:n().yx.TaskToSprintRelation,from:s,type:"notion://projects/tasks_with_sprints_feature"}}:{};return(0,M().Z)({environment:c,collectionContextStore:i,from:"view_settings",property:n().yx.TaskToSprintRelation,property_type:"relation",is_suggested_property:!0,...f}),d}});e.serverCommitResult.then((()=>{const t=e.performResult;t&&F().Y({environment:c,store:t,pageVisitSource:r().y8.Create})}))}})}async function H(e){const{environment:t,collectionContextStore:o,sprintSettingsContext:a,sprintBoardViewBlockIds:d}=e,{sprintCollectionStore:c,automationContext:i,currentCollectionViewBlockStore:s,sprintCollectionViewBlockStore:p,taskCollectionStore:f,taskCollectionViewBlockStore:l}=a;if(!c||!p||!i)return;const b=l.getSpaceId(),I=[p,...d.map((e=>new(D().Bv)(t,{id:e,table:m().ev,spaceId:b})))];s.id===l.id?V().os({collectionSettingsStore:o.settingsStore}):F().Y({environment:t,store:l,pageVisitSource:r().y8.LeaveOrRemove});const{automationActions:u}=await R().QV.automations.load(),{automationStore:v}=i;await ae({environment:t,taskCollectionStore:f,executeFn:()=>{z().createAndCommit({userAction:"sprintSettingsActions.handleTurnOffSprints",environment:t,canUndo:!0,perform:e=>{!function(e){const{transaction:t,blocksToDelete:o,environment:a,taskCollectionStore:r,sprintCollectionStore:d}=e;x().zv({store:d,transaction:t,data:{alive:!1}}),O().BJ({environment:a,collectionStore:r,schema:r.getSchema(),property:n().yx.TaskToSprintRelation,transaction:t,permanentlyDelete:!0}),U().oD({environment:a,blocks:o,transaction:t,permanentlyDelete:!0})}({environment:t,transaction:e,blocksToDelete:I,sprintCollectionStore:c,taskCollectionStore:f}),u.disableAutomation({automationStore:v,environment:t,transaction:e}),u.deleteAutomation({automationStore:v,environment:t,transaction:e})}}),(0,B().i)({environment:t,collectionContextStore:o,property_type:"relation",from:"view_settings",property:n().yx.TaskToSprintRelation})}})}function X(e){const{environment:t,userSettingsStore:o}=e;z().createAndCommit({userAction:"sprintSettingsActions.handleSeenSprintsEngagementBanner",environment:t,canUndo:!0,perform:e=>{L().mJ({userSettingsStore:o,data:{seen_sprint_settings_engagement_banner:!0},transaction:e})}})}function ee(e){e.settingsStore.setState({open:!0,stack:[{type:"main"},{type:"sprintSettings"}]})}function te(e){const{environment:t,collectionContextStore:o,currentViewBlockStore:a,taskCollectionViewBlockStore:r}=e,d=o.collectionViewStore();if(!d)return;const c=d.getFormat(),i=d.getRawQuery();z().createAndCommit({userAction:"sprintSettingsActions.handleManageSprintFromThisView",environment:t,canUndo:!0,perform:e=>{if((0,k().F)({collectionViewStore:d,transaction:e,update:{name:A().A.formatMessage(y().DZ.tasksCurrentSprintV2ViewName),query2:{...i,filter:void 0},format:{...c,collection_view_icon:"/icons/playback-play-button_gray.svg",property_filters:y().Wo,app_config_uri:n().Lu,hide_linked_collection_name:!0}}}),a.id===r.id){var t;const o=(null===(t=a.getFormat())||void 0===t?void 0:t.app_uri_map)??{},i=c.app_config_uri;i&&delete o[i],N().zA({stores:[r],update:{app_uri_map:{...o,[n().Lu]:d.id}},transaction:e})}}})}function oe(e){const{environment:t,sprintSettingsContext:o}=e;if(!o)return;const a=o.sprintCollectionStore,r=(null==a?void 0:a.getRole())??"none";a&&(0,f().q_)(r,"editor")&&o.automationContextLoaded&&!o.automationContext&&z().createAndCommit({userAction:"sprintSettingsActions.ensureCompleteSprintAutomation",environment:t,canUndo:!0,perform:e=>{K({environment:t,transaction:e,sprintCollectionStore:a,taskCollectionStore:o.taskCollectionStore,sprintSettingsConfig:S().AL})}})}async function ae(e){const{executeFn:t,environment:o,taskCollectionStore:a}=e;await async function(e){var t;const{environment:o,taskCollectionStore:a}=e,r=a.getFormat().app_uri_map,d=n().yx.TaskToSprintRelation,i=a.getSchema(),s=(null==r?void 0:r[d])??d,p=i[s];if(!p||!(0,c().nC)(p))return;const f=null===(t=(0,c().Nv)(p))||void 0===t?void 0:t.id;if(!f)return;const l=new Set([s]);Object.entries(i).forEach((e=>{var t;let[o,a]=e;a&&(0,c().nC)(a)&&(null===(t=(0,c().Nv)(a))||void 0===t?void 0:t.id)===f&&l.add(o)}));const{serverCommitResult:b}=z().createAndCommit({userAction:"sprintSettingsActions.clearSprintRelationDataFromTaskCollection",environment:o,canUndo:!0,perform:e=>{for(const t of l)O().BJ({environment:o,transaction:e,permanentlyDelete:!0,collectionStore:a,schema:i,property:t});null==r||delete r[d],r&&N().zA({stores:[a],transaction:e,update:{app_uri_map:r}})}});await b}({environment:o,taskCollectionStore:a}),t()}function re(e){return{frequency:W,interval:e.recurrenceConfig.interval,weekdays:e.recurrenceConfig.weekdays,start_date:(0,i().Rz)(a().c9.local().set({hour:0,minute:0,second:0,millisecond:0}).toJSDate()),timezone:(0,s().dB)(),hour:0,minute:0}}},174723:(e,t,o)=>{o.d(t,{$Y:()=>m,AF:()=>p,Px:()=>b,Up:()=>f,dY:()=>l});o(898992),o(354520);var a=()=>o(662303),r=()=>o(427704),n=()=>o(534177),d=()=>o(939768),c=()=>o(780054),i=()=>o(22102),s=()=>o(630116);async function p(e,t){const o=await i().k.load();return e.filter((e=>{const a=e.getCopiedFromPointer();return Boolean(a&&o.isTemplate(a)&&Boolean(t&&t(a.id)))}))}function f(e){const t=window.location.href;return d().O$(t,{tg:e.templateGalleryItem})}function l(e){let t;return e instanceof s().$x?t=e.getBlockId():"type"in e?"preset"===e.type?t=void 0:"pageTemplate"===e.type?t=e.template.rootId:(0,n().HB)(e):t=e.rootId,t}function b(e){const t=a().locale&&"en-us"!==a().locale.toLocaleLowerCase()?`/${a().locale.toLowerCase()}`:"",o=void 0!==e?`${t}${r().JZ.templates}/${encodeURIComponent(e)}`:`${t}${r().JZ.templates}`;return`${c().A.domainBaseUrl}${o}`}function m(e){if(!e)return"";try{const o=JSON.parse(e);if("text"===o.content[0].content[0].nodeType){var t;const e=(null==o||null===(t=o.content)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.content)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.value)||"";return e.replace(/^(#{2,6})\s+/gm,"# ")}}catch(o){return""}}},175213:(e,t,o)=>{o.d(t,{G:()=>n});var a=()=>o(989423),r=()=>o(508496);function n(e,t){a().vd(e,"delete_property",t),r().default.logEvent("delete_property")}},413677:(e,t,o)=>{o.r(t),o.d(t,{accept:()=>x,close:()=>N,createTemplateInstance:()=>z,loadAndDuplicatePageTemplate:()=>F,openWithItem:()=>O,previewItem:()=>V,setTemplateVisited:()=>U});o(16280);var a=()=>o(584262),r=()=>o(857639),n=()=>o(763884),d=()=>o(388821),c=()=>o(179034),i=()=>o(665344),s=()=>o(94830),p=()=>o(973647),f=()=>o(449506),l=()=>o(857783),b=()=>o(71584),m=()=>o(34542),I=()=>o(989423),u=()=>o(972435),v=()=>o(108944),S=()=>o(174723),g=()=>o(869562),w=()=>o(351360),y=()=>o(508496),_=()=>o(75368),R=()=>o(714818),C=()=>o(630116),k=()=>o(160568),Q=()=>o(624550),h=()=>o(246826),T=()=>o(666144),A=()=>o(778417),P=()=>o(185544),D=()=>o(317909),M=()=>o(345913);const B="LastViewedTemplateId",E=(0,o(959013).YK)({clientCopyError:{defaultMessage:"Client copy could not be created.",id:"spaceActions.createGettingStartedPage.copyNotCreated.error"}});function O(e){const{environment:t,item:o,createNewPage:a,isPrivate:r,disablePointerEvents:d,isCheckout:c=!1}=e;A().IU({environment:t}),R().A.setState({open:!0,item:o,createNewPage:a,isPrivate:r,isLoading:!1,disablePointerEvents:d,isCheckout:c}),n().A.set({userId:t.currentUser.id,key:B,value:o.rootId}),k().oO(t,{template_id:(0,S().dY)(o),from:a?"sidebar":"newPage"})}function V(e){let{templateItem:t,currentUserId:o}=e;const a=R().A.state.item;R().A.setState({...R().A.state,item:t}),a!==t&&n().A.set({userId:o,key:B,value:t.rootId})}function N(e){R().A.setState({item:R().A.state.item,open:!1}),A().IU({environment:e})}async function x(e){const{acceptFrom:t,item:o,environment:r,spaceStore:n,initializeStore:d,...c}=e;R().A.state.open&&R().A.setState({...R().A.state,isLoading:!0}),y().default.checkGate({gateName:"mobile_keep_template_gallery_open"})&&_().A.state.open&&_().A.setState({open:!1});const i=d?{...{...c,item:o,environment:r,spaceStore:n},initializeStore:d,type:"inExistingStore",useMinimalTemplates:!1}:{...{...c,item:o,environment:r,spaceStore:n},type:"inSpace",useMinimalTemplates:!1,isOnboarding:!1};let s=!1;const p=Date.now();let f;try{var b;f=await z(i),s=!0;const e=null===(b=w().default.state.mainEditorCurrentBlockStore)||void 0===b?void 0:b.id;!f||e&&e===f.id||l().uK({environment:r,store:f,pageVisitSource:a().y8.Create,showMoveTo:!0}),N(r),r.device.isMobile&&(g().close(),_().A.setState({open:!1}))}finally{var m;const a=Date.now()-p,d=e.initializeStore?v().Uo(e.initializeStore):void 0,c=e.initializeStore?!d:e.isPrivate;k().BX(r,{destination:c?"private":"team",template_block_id:o.rootId,template_duplication_duration_ms:a,team_id:null==d?void 0:d.id,created_page_id:null===(m=f)||void 0===m?void 0:m.id}),k().hB(r,{from:"mobileApp",success:s,context:t,template_block_id:o.rootId,target_space_id:n.id,template_duplication_duration_ms:a,public_template_name:o.name,template_id:o.id})}}async function F(e){const{environment:t,initializeStore:o,item:a,isPrivate:r,useMinimalTemplates:n,spaceStore:c,spaceViewStore:i}=e,s=n?a.rootId:a.previewRootId,p=await f().callApi({eventName:"loadBlockSubtree",environment:t,data:{block:{id:s,spaceId:a.spaceId},shallow:!1}});let l;"success"===p.type&&(l=d().RecordMapWithRole.create(p.data.subtreeRecordMap));const m="pageTemplateModalActions.loadAndDuplicatePageTemplate",{performResult:v}=D().createAndCommit({userAction:m,environment:t,canUndo:!0,perform:e=>{const a=o||P().IT({environment:t,spaceStore:c,spaceViewStore:i,isPrivate:r,loading:!0,transaction:e});T()._O({environment:t,inMemoryRecordCache:a.inMemoryRecordCache,recordMap:l,debugSource:m});const n=b().loadLocalSubtree(t,{blockId:s,inMemoryRecordCache:a.inMemoryRecordCache,allowCopyCollections:!0,requireFullSubtree:!1,skipTransclusionContainerChildren:!1,allowCopyExternalObjectInstances:!0}).recordMap;if(!n)throw new Error(u().A.getIntl().formatMessage(E.clientCopyError));return b().localDuplicate({environment:t,sourceBlockId:s,targetBlockPointer:a.pointer,sourceBlockSubtree:n,targetInMemoryRecordCache:a.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0}),a}}),S=v.getCollectionPointer();return(0,I().u4)({environment:t,event:{eventName:"create_app_templates",eventProperties:{target_page_ids:[v.id],template_label:a.name,collection_ids:S?[S.id]:[]}}}),v}async function z(e){var t;const{environment:o,item:a,useRecordCache:n,useMinimalTemplates:d,spaceStore:f,isOnboarding:l,from:b,type:I,initializeStore:u,teamStore:v,onSuccess:S,onError:g}=e,w=n&&!d?a.previewRootId:a.rootId,_={id:w,table:c().ev,spaceId:a.spaceId},R=l?"onboarding":null!==(t=a.marketplaceTemplateMetadata)&&void 0!==t&&t.isMobileMarketplaceTemplate?"mobile_app":"homepage_team"===b?"team_home":void 0,k=await(0,m().oC)(o,w),h=R?{context:"",source:R,isListedTemplate:!!k,isFirstPartyPaidTemplate:void 0!==k&&(0,s().Z1)(k)}:void 0;let T=!1,A=f;const P=new(C().Bv)(o,{table:c().ev,id:_.id,spaceId:_.spaceId});if("inExistingStore"===I&&u){if(A=u,u.isEmptyPage()){const e=u.getParentStore();e&&e.canEdit()&&("block"===e.table||"space"===e.table||"team"===e.table)&&(T=!0,A=e)}}else"inTeam"===I&&v&&(A=v);h||r().log({level:"warning",from:"pageTemplateModalActions.createTemplateInstance",type:"templateInstallationMetadataNotSet",data:{miscDataToConvertToString:{template_id:a.id,template_block_id:a.rootId,target_space_id:f.id,public_template_name:a.name,isOnboarding:l,from:b,type:I}}});const B=y().default.checkGate({gateName:"enable_local_duplication_for_non_marketplace_templates"}),E=await Q().Jx({environment:o,store:P,newParentStore:A,addCopyName:!1,duplicateOnlyCollectionSchema:!1,unlockPage:!0,templateInstallationMetadata:h,shouldAttemptServerBackedLocalDuplication:!(0,i().Fe)(null==h?void 0:h.source)&&B});if(E){if(p().Q.isSuccess(E)&&E.value.length>0){const e=E.value[0];if(T&&u){const t=u;try{await t.waitUntil((()=>t.isDefined()));const{serverCommitResult:a}=D().createAndCommit({userAction:"pageTemplateModalActions.initializePageTemplateInPlace",environment:o,canUndo:!0,perform:e=>{M().oD({environment:o,blocks:[t],transaction:e,permanentlyDelete:!0})}});return await a,e}catch(O){r().log({level:"error",from:"pageTemplateModalActions.initializePageTemplateInPlace",type:"transactionError",data:{miscDataToConvertToString:{error:O}}})}}return null==S||S(e),e}return null==g||g(),void r().log({level:"error",from:"pageTemplateModalActions.initializePageTemplate",type:"duplicateTemplateError",data:{miscDataToConvertToString:{error:E.error,template_id:a.id,template_block_id:a.rootId,target_space_id:f.id,public_template_name:a.name}}})}}function U(e){const{item:t,transaction:o,spaceViewStore:a}=e;if(a){const e=a.getVisitedTemplateIds();if(e.indexOf(t.rootId)<0){const r=e.concat([t.rootId]);h().zv({store:a,data:{visited_templates:r},transaction:o})}}}},465364:(e,t,o)=>{o.d(t,{$N:()=>A,D5:()=>P,GB:()=>Q,M9:()=>C,Pt:()=>T,eW:()=>h,jo:()=>D,v7:()=>k});o(944114),o(898992),o(803949),o(581454);var a=()=>o(244641),r=()=>o(787626),n=()=>o(713998),d=()=>o(597777),c=()=>o(604995),i=()=>o(416504),s=()=>o(519831),p=()=>o(496603),f=()=>o(534177),l=()=>o(299709),b=()=>o(317001),m=()=>o(520861),I=()=>o(878060),u=()=>o(44729),v=()=>o(246826),S=()=>o(606952),g=()=>o(519839),w=()=>o(695625),y=()=>o(397248),_=()=>o(630116),R=()=>o(747671);function C(e){const{environment:t,droppedStores:o,duplicate:n,calendarBy:p,transaction:f,collectionContextStore:I}=e,v=a().c9.fromMillis(e.startOfDay);let S=!0;for(const a of o){const t=e.collectionStore?e.collectionStore:(0,g().Dj)({store:a,collectionContextStore:I});if(a.getParentTable()===s().Vl||!t){S=!1;break}u().X$({childStore:a,parentStore:t,transaction:f})||(S=!1)}const w=(0,m().T)({environment:t,droppedStores:o,duplicate:n,transaction:f,collectionStore:e.collectionStore});for(const a of w){const o=e.collectionStore?e.collectionStore:(0,g().Dj)({store:a,collectionContextStore:I});if(!o)continue;const n=o.getMappedProperty(p),s=a.getPropertyStore(n),m=(0,r().b)(s.getValue())||c().Ec((0,i().P)()),u=c().kW(m,(0,i().P)()),w=v.toFormat(c().tr);let y;if("date"===u.type||"datetime"===u.type)y={...u,start_date:w};else{const e=c().AA(u,(0,i().P)());if(!e.end)return;const t={...u,start_date:w},o=c().AA(t,(0,i().P)()).start.diff(e.start,"days"),a=e.end.plus(o).toFormat(c().tr);y={...u,start_date:w,end_date:a}}const _=c().kW(y,d().$K(m)||(0,i().P)());(0,b().j)({environment:t,store:a,collectionStore:o,collectionContextStore:I,shouldCoerce:!0,groupsPointer:[],transaction:f,alreadyMovedToCollection:S}),P({environment:t,type:"dateValue",propertyId:n,store:a,transaction:f,dateValue:_}),(0,l().E)({environment:t,collectionContextStore:I,block_id:a.id,property:n,property_type:"date",from:"calendar"})}}function k(e){const{calendarStore:t,direction:o,targetStore:a}=e;t.setState({...t.state,isDragging:!0,targetStore:a,direction:o,temporaryValue:void 0})}function Q(e){const{calendarStore:t,x:o,y:n,calendarBy:s}=e,f=t.state;if(f.isDragging){const e=(0,r().b)(f.targetStore.getPropertyStore(s).getValue());if(!e)return;const l=c().kW(e,(0,i().P)()),b=f.temporaryValue||e,m=c().kW(b,(0,i().P)()),I=[];f.dayStoreMap.forEach(((e,t)=>{I.push({store:e,timestamp:t})}));const u=I.find((e=>{let{store:t}=e;const a=w().T.getRectFromStore(t);return Boolean(a&&y().ux(a,o,n))}));let v;if(u){const e=a().c9.fromMillis(u.timestamp),t=e.endOf("day"),o=e.toFormat(c().tr);if(l){const r=c().AA(l,(0,i().P)());if(f.direction===R().Q.Left)if(a().IX.fromDateTimes(e,t).contains(r.start))v=l;else{let e;e="datetimerange"===l.type||"daterange"===l.type?{...l,start_date:o,end_date:l.end_date}:"datetime"===l.type?{type:"datetimerange",start_date:o,start_time:l.start_time,end_date:l.start_date,end_time:l.start_time,time_zone:l.time_zone,reminder:l.reminder}:{type:"daterange",start_date:o,end_date:l.start_date,reminder:l.reminder};const t=c().AA(e,(0,i().P)());v=!r.end&&t.start>r.start||r.end&&t.start>r.end?m:e}else if(r.end?a().IX.fromDateTimes(e,t).contains(r.end):a().IX.fromDateTimes(e,t).contains(r.start))v=l;else{let e;e="date"===l.type?{...l,type:"daterange",end_date:o}:"datetime"===l.type?{...l,type:"datetimerange",end_date:o,end_time:"00:00"}:{...l,end_date:o};const t=c().AA(e,(0,i().P)());v=t.end&&t.end<t.start?m:e}}}if(v&&!p().n4(m,v)){const e=c().kW(v,d().$K(b)||(0,i().P)());t.setState({...f,temporaryValue:e})}}}function h(e){const{environment:t,calendarStore:o,calendarBy:a,transaction:r}=e,n=o.state;n.isDragging&&n.temporaryValue&&(P({type:"dateValue",environment:t,dateValue:n.temporaryValue,propertyId:a,store:n.targetStore,transaction:r}),o.setState({...o.state,isDragging:!1}))}function T(e){const{calendarStore:t}=e,o=t.state;o.isDragging&&t.setState({...o,isDragging:!1})}function A(e){const{environment:t,store:o,collectionStore:r,collectionContextStore:d,startDayOfWeek:s,transaction:p}=e,f=d.dateRangeStartStore.state,l=(0,i().P)(),m=d.normalizedQueryStore.state;if(!m||!m.calendar_by)return;const I=(null==r?void 0:r.getMappedProperty(m.calendar_by))??m.calendar_by,u=c().hp(f,s,l),S=u.startOf("month"),g=u.endOf("month"),w=a().c9.now().startOf("day");let y;return y=a().IX.fromDateTimes(S,g).contains(w)?c().p6(w.valueOf(),l):c().p6(c().iB(f,s,l).valueOf(),l),v().zv({store:o.getPropertiesStore(),data:{[I]:n().m5(y)},transaction:p}),(0,b().j)({environment:t,store:o,collectionStore:r,collectionContextStore:d,shouldCoerce:!0,groupsPointer:[],transaction:p}),o}function P(e){const{environment:t,store:o,propertyId:a,transaction:r}=e;let d;"timestamp"===e.type?d=c().p6(e.timestampMs.valueOf(),(0,i().P)()):"dateValue"===e.type?d=e.dateValue:(0,f().HB)(e);const s=o.getPropertyValue(a),p=n().m5(d);v().zv({store:o.getPropertiesStore(),data:{[a]:p},transaction:r}),I().O({environment:t,store:o,dateProperty:{id:a,oldValue:s,newValue:p}})}function D(e){const{environment:t,collectionStore:o,calendarBy:a,store:r,insertStores:n,collectionContextStore:d,transaction:c}=e,i=r.getPropertyStore(a).getValue();for(const s of n)(0,b().j)({environment:t,store:s,collectionStore:o,collectionContextStore:d,shouldCoerce:!0,groupsPointer:[],transaction:c}),S().KY({environment:t,store:s.getPropertyStore(a),value:i,transaction:c});return n.map((e=>_().Bv.createChildStore(o,e.pointer)))}},520861:(e,t,o)=>{o.d(t,{T:()=>r});o(944114),o(898992),o(908872);var a=()=>o(415651);function r(e){const{environment:t,collectionStore:o,duplicate:r,droppedStores:n,transaction:d}=e,{movedStores:c,reparentedStores:i}=n.reduce(((e,t)=>(r||t.getAssociatedCollectionId()!==(null==o?void 0:o.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...c,...a().MS({environment:t,droppedStores:i,duplicate:r,transaction:d,resolveTemplateVariables:!1})]}},529316:(e,t,o)=>{o.d(t,{dy:()=>u,wA:()=>v,yG:()=>I});o(898992),o(430670),o(581454);var a=()=>o(679927),r=()=>o(544008);const n={sources:{"en-US":{previewRootId:"e950a58c-0d6f-42c3-8225-9e7adc5d4182",rootId:"e950a58c-0d6f-42c3-8225-9e7adc5d4182",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},d={sources:{"en-US":{previewRootId:"89ba9061-3275-4d76-966f-11691fdfd72f",rootId:"89ba9061-3275-4d76-966f-11691fdfd72f",spaceId:a().rQ},"ko-KR":{previewRootId:"0eb824c6-f768-47bc-9204-d94dbb912c6e",rootId:"0eb824c6-f768-47bc-9204-d94dbb912c6e",spaceId:a().rQ},"ja-JP":{previewRootId:"09f3541c-8edb-4603-9bc3-02bd22cd7836",rootId:"09f3541c-8edb-4603-9bc3-02bd22cd7836",spaceId:a().rQ},"fr-FR":{previewRootId:"b13cc3bd-a0a3-4b61-b482-63051d7804b5",rootId:"b13cc3bd-a0a3-4b61-b482-63051d7804b5",spaceId:a().rQ},"de-DE":{previewRootId:"b2b10be2-1b2f-4a48-a453-532657bd8e92",rootId:"b2b10be2-1b2f-4a48-a453-532657bd8e92",spaceId:a().rQ},"es-ES":{previewRootId:"a00ebb82-58f2-4b40-89ee-a65be3befabf",rootId:"a00ebb82-58f2-4b40-89ee-a65be3befabf",spaceId:a().rQ},"es-LA":{previewRootId:"6d1f21ba-36cf-4c90-9ecb-d5e377942f3a",rootId:"6d1f21ba-36cf-4c90-9ecb-d5e377942f3a",spaceId:a().rQ},"pt-BR":{previewRootId:"50a76940-a26e-443a-b752-1412855e6ad7",rootId:"50a76940-a26e-443a-b752-1412855e6ad7",spaceId:a().rQ},"nb-NO":{previewRootId:"4c0f8e8c-3967-43ab-a0a8-a3a8ae837714",rootId:"4c0f8e8c-3967-43ab-a0a8-a3a8ae837714",spaceId:a().rQ},"fi-FI":{previewRootId:"555c9896-0c2d-4af7-a951-1d81f051de2e",rootId:"555c9896-0c2d-4af7-a951-1d81f051de2e",spaceId:a().rQ},"sv-SE":{previewRootId:"751d20c2-e2be-4e61-921a-adb553651c8c",rootId:"751d20c2-e2be-4e61-921a-adb553651c8c",spaceId:a().rQ},"da-DK":{previewRootId:"8e0ffb71-86cb-46bf-abf2-720dcb4378f9",rootId:"8e0ffb71-86cb-46bf-abf2-720dcb4378f9",spaceId:a().rQ},"nl-NL":{previewRootId:"53da1632-5152-4b4f-b440-19b82802360b",rootId:"53da1632-5152-4b4f-b440-19b82802360b",spaceId:a().rQ},"zh-CN":{previewRootId:"a2ca886e-3537-47e1-823b-57633cb94702",rootId:"a2ca886e-3537-47e1-823b-57633cb94702",spaceId:a().rQ},"zh-TW":{previewRootId:"ed24d770-243d-4ef4-b469-0187beadf16e",rootId:"ed24d770-243d-4ef4-b469-0187beadf16e",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},c={sources:{"en-US":{previewRootId:"30fa18a6-609e-4f5b-af3d-31906c46fe23",rootId:"30fa18a6-609e-4f5b-af3d-31906c46fe23",spaceId:a().rQ},"ko-KR":{previewRootId:"3afd60d5-3ce7-431a-b812-2c836b7596a3",rootId:"3afd60d5-3ce7-431a-b812-2c836b7596a3",spaceId:a().rQ},"ja-JP":{previewRootId:"dd2f1d05-d4ef-48a0-899c-10fe0346a447",rootId:"dd2f1d05-d4ef-48a0-899c-10fe0346a447",spaceId:a().rQ},"fr-FR":{previewRootId:"ac411712-ee48-4589-828d-b4e5827efc17",rootId:"ac411712-ee48-4589-828d-b4e5827efc17",spaceId:a().rQ},"de-DE":{previewRootId:"0c5be7d7-cfcf-417b-824a-1a280254a58e",rootId:"0c5be7d7-cfcf-417b-824a-1a280254a58e",spaceId:a().rQ},"es-ES":{previewRootId:"35c18cd6-99a8-47f3-91ee-40dbfec922fa",rootId:"35c18cd6-99a8-47f3-91ee-40dbfec922fa",spaceId:a().rQ},"es-LA":{previewRootId:"017372b2-9d34-4118-ad13-9b8e15c30ebd",rootId:"017372b2-9d34-4118-ad13-9b8e15c30ebd",spaceId:a().rQ},"pt-BR":{previewRootId:"035cfcde-4292-4905-82b2-6517e58a28b9",rootId:"035cfcde-4292-4905-82b2-6517e58a28b9",spaceId:a().rQ},"nb-NO":{previewRootId:"42a8570d-5be6-4be4-9ca3-0569f54863bf",rootId:"42a8570d-5be6-4be4-9ca3-0569f54863bf",spaceId:a().rQ},"fi-FI":{previewRootId:"5f103e1f-2659-4c6a-bb30-705d2dae0774",rootId:"5f103e1f-2659-4c6a-bb30-705d2dae0774",spaceId:a().rQ},"sv-SE":{previewRootId:"811aca42-41c0-4f83-9e08-e795d7a5f803",rootId:"811aca42-41c0-4f83-9e08-e795d7a5f803",spaceId:a().rQ},"da-DK":{previewRootId:"7643a79b-68c8-46af-ae10-f089cb1ae62b",rootId:"7643a79b-68c8-46af-ae10-f089cb1ae62b",spaceId:a().rQ},"nl-NL":{previewRootId:"6e5d9018-2dc0-4dc7-802c-be95d99f1660",rootId:"6e5d9018-2dc0-4dc7-802c-be95d99f1660",spaceId:a().rQ},"zh-CN":{previewRootId:"289fe37a-a3fc-4cec-b690-a6f99dec65a8",rootId:"289fe37a-a3fc-4cec-b690-a6f99dec65a8",spaceId:a().rQ},"zh-TW":{previewRootId:"a9fef1fc-6a95-45fc-9a7f-137790c06105",rootId:"a9fef1fc-6a95-45fc-9a7f-137790c06105",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},i={sources:{"en-US":{previewRootId:"bd0b93b9-a0e9-4582-a164-98acdc7a5b45",rootId:"bd0b93b9-a0e9-4582-a164-98acdc7a5b45",spaceId:a().rQ},"ko-KR":{previewRootId:"ecdfe65a-28ee-46d2-a82b-99573e3dd63d",rootId:"ecdfe65a-28ee-46d2-a82b-99573e3dd63d",spaceId:a().rQ},"ja-JP":{previewRootId:"56dd4a06-5073-46d2-8aca-8e37d90e5610",rootId:"56dd4a06-5073-46d2-8aca-8e37d90e5610",spaceId:a().rQ},"fr-FR":{previewRootId:"1f8febec-2e84-4be2-a67d-7b5165845a4b",rootId:"1f8febec-2e84-4be2-a67d-7b5165845a4b",spaceId:a().rQ},"de-DE":{previewRootId:"ee67a0e4-8343-4dd6-9636-9504cae6c573",rootId:"ee67a0e4-8343-4dd6-9636-9504cae6c573",spaceId:a().rQ},"es-ES":{previewRootId:"eabf4d1f-9a77-441f-88fb-de9e9e0dc26e",rootId:"eabf4d1f-9a77-441f-88fb-de9e9e0dc26e",spaceId:a().rQ},"es-LA":{previewRootId:"56ba9c1f-2a28-4d05-910c-e89fb051327d",rootId:"56ba9c1f-2a28-4d05-910c-e89fb051327d",spaceId:a().rQ},"pt-BR":{previewRootId:"07ffa801-adfb-41f3-809b-87f69ae9e9cd",rootId:"07ffa801-adfb-41f3-809b-87f69ae9e9cd",spaceId:a().rQ},"nb-NO":{previewRootId:"62f63581-5683-49a3-8812-32e2de74a6a6",rootId:"62f63581-5683-49a3-8812-32e2de74a6a6",spaceId:a().rQ},"fi-FI":{previewRootId:"f01bdcc5-d573-4790-b605-988df0f3a5ea",rootId:"f01bdcc5-d573-4790-b605-988df0f3a5ea",spaceId:a().rQ},"sv-SE":{previewRootId:"e404919f-5dda-4fc3-a28f-6550e70cee12",rootId:"e404919f-5dda-4fc3-a28f-6550e70cee12",spaceId:a().rQ},"da-DK":{previewRootId:"cee1de64-79f4-45b4-85d5-1ffae9624a8e",rootId:"cee1de64-79f4-45b4-85d5-1ffae9624a8e",spaceId:a().rQ},"nl-NL":{previewRootId:"86ecfb21-c0ed-42cb-864c-83890d49cb51",rootId:"86ecfb21-c0ed-42cb-864c-83890d49cb51",spaceId:a().rQ},"zh-CN":{previewRootId:"244bca5a-9931-40fb-91cd-bbcd97f1e8be",rootId:"244bca5a-9931-40fb-91cd-bbcd97f1e8be",spaceId:a().rQ},"zh-TW":{previewRootId:"802eb5a0-67f1-4f31-a058-938206b68f1c",rootId:"802eb5a0-67f1-4f31-a058-938206b68f1c",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},s={sources:{"en-US":{previewRootId:"19717954-d9c2-8038-9ac1-fdb4dd0783f1",rootId:"19717954-d9c2-8038-9ac1-fdb4dd0783f1",spaceId:a().rQ},"nb-NO":{previewRootId:"19717954-d9c2-8116-9ff5-ea5bdbaeb0fd",rootId:"19717954-d9c2-8116-9ff5-ea5bdbaeb0fd",spaceId:a().rQ},"fi-FI":{previewRootId:"19717954-d9c2-817d-8676-cee61d880bca",rootId:"19717954-d9c2-817d-8676-cee61d880bca",spaceId:a().rQ},"sv-SE":{previewRootId:"19717954-d9c2-810f-8a80-d3ace368f1e2",rootId:"19717954-d9c2-810f-8a80-d3ace368f1e2",spaceId:a().rQ},"da-DK":{previewRootId:"19717954-d9c2-816c-9cc0-debe4fc4026a",rootId:"19717954-d9c2-816c-9cc0-debe4fc4026a",spaceId:a().rQ},"nl-NL":{previewRootId:"19717954-d9c2-8144-9909-f762a951b76b",rootId:"19717954-d9c2-8144-9909-f762a951b76b",spaceId:a().rQ},"pt-BR":{previewRootId:"19717954-d9c2-81a0-a6aa-e46e9ca55fb3",rootId:"19717954-d9c2-81a0-a6aa-e46e9ca55fb3",spaceId:a().rQ},"es-LA":{previewRootId:"19717954-d9c2-812c-9e10-e853d888029a",rootId:"19717954-d9c2-812c-9e10-e853d888029a",spaceId:a().rQ},"es-ES":{previewRootId:"19717954-d9c2-81bf-82c3-c9d40480251b",rootId:"19717954-d9c2-81bf-82c3-c9d40480251b",spaceId:a().rQ},"fr-FR":{previewRootId:"19717954-d9c2-818a-84c2-e56eb27fbd5d",rootId:"19717954-d9c2-818a-84c2-e56eb27fbd5d",spaceId:a().rQ},"de-DE":{previewRootId:"19717954-d9c2-8111-807c-e0e495589978",rootId:"19717954-d9c2-8111-807c-e0e495589978",spaceId:a().rQ},"ja-JP":{previewRootId:"19717954-d9c2-81c0-b213-f4e883d06519",rootId:"19717954-d9c2-81c0-b213-f4e883d06519",spaceId:a().rQ},"ko-KR":{previewRootId:"19717954-d9c2-812e-b804-f95a30ccf4fe",rootId:"19717954-d9c2-812e-b804-f95a30ccf4fe",spaceId:a().rQ},"zh-CN":{previewRootId:"19717954-d9c2-81d2-9d4c-f806f8829dec",rootId:"19717954-d9c2-81d2-9d4c-f806f8829dec",spaceId:a().rQ},"zh-TW":{previewRootId:"19717954-d9c2-81e6-9d71-c9806241a2d1",rootId:"19717954-d9c2-81e6-9d71-c9806241a2d1",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},p={sources:{"en-US":{previewRootId:"19717954-d9c2-8086-8914-f7f64fefc788",rootId:"19717954-d9c2-8086-8914-f7f64fefc788",spaceId:a().rQ},"nb-NO":{previewRootId:"19717954-d9c2-8147-bdcb-e2c1bb859201",rootId:"19717954-d9c2-8147-bdcb-e2c1bb859201",spaceId:a().rQ},"fi-FI":{previewRootId:"19717954-d9c2-8191-a224-f1609f6e2443",rootId:"19717954-d9c2-8191-a224-f1609f6e2443",spaceId:a().rQ},"sv-SE":{previewRootId:"19717954-d9c2-81ff-b208-ddb7484c6dfa",rootId:"19717954-d9c2-81ff-b208-ddb7484c6dfa",spaceId:a().rQ},"da-DK":{previewRootId:"19717954-d9c2-819f-8fdd-e28c0dcca9e5",rootId:"19717954-d9c2-819f-8fdd-e28c0dcca9e5",spaceId:a().rQ},"nl-NL":{previewRootId:"19717954-d9c2-8127-a9a3-fdbfb56c9743",rootId:"19717954-d9c2-8127-a9a3-fdbfb56c9743",spaceId:a().rQ},"pt-BR":{previewRootId:"19717954-d9c2-8180-a3be-cd1d5581612c",rootId:"19717954-d9c2-8180-a3be-cd1d5581612c",spaceId:a().rQ},"es-LA":{previewRootId:"19717954-d9c2-81c0-8552-e95036eca313",rootId:"19717954-d9c2-81c0-8552-e95036eca313",spaceId:a().rQ},"es-ES":{previewRootId:"19717954-d9c2-817b-8d2b-c3d0b40c5519",rootId:"19717954-d9c2-817b-8d2b-c3d0b40c5519",spaceId:a().rQ},"fr-FR":{previewRootId:"19717954-d9c2-81ae-86df-dd5798d53d1e",rootId:"19717954-d9c2-81ae-86df-dd5798d53d1e",spaceId:a().rQ},"de-DE":{previewRootId:"19717954-d9c2-8100-a2ed-f088a5e87ac5",rootId:"19717954-d9c2-8100-a2ed-f088a5e87ac5",spaceId:a().rQ},"ja-JP":{previewRootId:"19717954-d9c2-8192-8dbc-c9633c2eb406",rootId:"19717954-d9c2-8192-8dbc-c9633c2eb406",spaceId:a().rQ},"ko-KR":{previewRootId:"19717954-d9c2-81a1-bec4-fcde3b7e141a",rootId:"19717954-d9c2-81a1-bec4-fcde3b7e141a",spaceId:a().rQ},"zh-CN":{previewRootId:"d5972e6b-0a4c-402d-b5a5-283f0debceff",rootId:"d5972e6b-0a4c-402d-b5a5-283f0debceff",spaceId:a().rQ},"zh-TW":{previewRootId:"19717954-d9c2-81e1-8b80-fcfc79719dd7",rootId:"19717954-d9c2-81e1-8b80-fcfc79719dd7",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},f={sources:{"en-US":{previewRootId:"fff17954-d9c2-805b-9d0a-eb8a6aab4228",rootId:"fff17954-d9c2-805b-9d0a-eb8a6aab4228",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},l={sources:{"en-US":{previewRootId:"fff17954-d9c2-8029-a07e-c769f10e8ac6",rootId:"fff17954-d9c2-8029-a07e-c769f10e8ac6",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},b={sources:{"en-US":{previewRootId:"cfc33008-28e6-4dbb-b383-6ffb498bcedd",rootId:"cfc33008-28e6-4dbb-b383-6ffb498bcedd",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},m={sources:{"en-US":{previewRootId:"416e0fd3-2f94-477d-9058-0a06bcb55cf3",rootId:"416e0fd3-2f94-477d-9058-0a06bcb55cf3",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPage},I={desktopPersonal:d,desktopTeamCreate:c,desktopTeamJoin:i,desktopTeamCreateWithComment:f,desktopTeamJoinWithComment:l,desktopTeamJoinWithMention:m,desktopTeamCreateWithMention:b,mobile:{sources:{"en-US":{previewRootId:"27fa9add-6ec7-433a-88c9-58279f5055c3",rootId:"27fa9add-6ec7-433a-88c9-58279f5055c3",spaceId:a().rQ},"ko-KR":{previewRootId:"24c31e38-d546-423f-b3cb-a0533e711d02",rootId:"24c31e38-d546-423f-b3cb-a0533e711d02",spaceId:a().rQ},"ja-JP":{previewRootId:"6e87073b-2877-44d1-9df7-2dd266bb35e3",rootId:"6e87073b-2877-44d1-9df7-2dd266bb35e3",spaceId:a().rQ},"fr-FR":{previewRootId:"d6367cec-2e43-4558-882d-fb9a00545fef",rootId:"d6367cec-2e43-4558-882d-fb9a00545fef",spaceId:a().rQ},"de-DE":{previewRootId:"172fd543-704b-489a-8d2e-7d1255f51bef",rootId:"172fd543-704b-489a-8d2e-7d1255f51bef",spaceId:a().rQ},"es-ES":{previewRootId:"8f27f9ff-57f2-4c07-ad65-55c7f7f7501f",rootId:"8f27f9ff-57f2-4c07-ad65-55c7f7f7501f",spaceId:a().rQ},"es-LA":{previewRootId:"24f220ca-372b-4003-8e74-13291220c778",rootId:"24f220ca-372b-4003-8e74-13291220c778",spaceId:a().rQ},"pt-BR":{previewRootId:"e16c2241-0f08-4946-908e-c5e6612b0a8c",rootId:"e16c2241-0f08-4946-908e-c5e6612b0a8c",spaceId:a().rQ},"nb-NO":{previewRootId:"2021f38b-f367-4f6c-8232-73387a4dcfb6",rootId:"2021f38b-f367-4f6c-8232-73387a4dcfb6",spaceId:a().rQ},"fi-FI":{previewRootId:"b40e41dc-6c0f-4d74-b3ad-3df012f49b01",rootId:"b40e41dc-6c0f-4d74-b3ad-3df012f49b01",spaceId:a().rQ},"sv-SE":{previewRootId:"5759d5ff-246c-4daf-85f3-7fc9884a4bf7",rootId:"5759d5ff-246c-4daf-85f3-7fc9884a4bf7",spaceId:a().rQ},"da-DK":{previewRootId:"b89fffe8-2e2d-4574-84e1-f81b26df5c1e",rootId:"b89fffe8-2e2d-4574-84e1-f81b26df5c1e",spaceId:a().rQ},"nl-NL":{previewRootId:"2bfc9604-0e06-4ff2-90cf-c382d6bf341b",rootId:"2bfc9604-0e06-4ff2-90cf-c382d6bf341b",spaceId:a().rQ},"zh-CN":{previewRootId:"686c7f32-593a-460d-921c-cd2d646c35ba",rootId:"686c7f32-593a-460d-921c-cd2d646c35ba",spaceId:a().rQ},"zh-TW":{previewRootId:"5ce840a9-8e51-4699-af63-64d49b1eba14",rootId:"5ce840a9-8e51-4699-af63-64d49b1eba14",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPageMobile},evernote:{sources:{"en-US":{previewRootId:"2e568628-70b1-4f35-934e-81ea4263d0e8",rootId:"2e568628-70b1-4f35-934e-81ea4263d0e8",spaceId:a().rQ},"ko-KR":{previewRootId:"3d8c8d33-f904-41f7-a3ff-b6272c633079",rootId:"3d8c8d33-f904-41f7-a3ff-b6272c633079",spaceId:a().rQ},"ja-JP":{previewRootId:"9aefc3b4-f172-4917-b1c7-495c26ec37f9",rootId:"9aefc3b4-f172-4917-b1c7-495c26ec37f9",spaceId:a().rQ},"fr-FR":{previewRootId:"4453c56e-831c-4203-83fc-9736e276b7dc",rootId:"4453c56e-831c-4203-83fc-9736e276b7dc",spaceId:a().rQ},"de-DE":{previewRootId:"6239e7bb-e6a6-4cb4-b4fa-236035bad7f7",rootId:"6239e7bb-e6a6-4cb4-b4fa-236035bad7f7",spaceId:a().rQ},"es-ES":{previewRootId:"95dafcd5-6243-4838-bea1-8e19b0596f6f",rootId:"95dafcd5-6243-4838-bea1-8e19b0596f6f",spaceId:a().rQ},"es-LA":{previewRootId:"34d8ae09-8161-49ec-ae2d-c188c477bb90",rootId:"34d8ae09-8161-49ec-ae2d-c188c477bb90",spaceId:a().rQ},"pt-BR":{previewRootId:"cb2a5d30-074f-4c07-97b5-61147e0ea504",rootId:"cb2a5d30-074f-4c07-97b5-61147e0ea504",spaceId:a().rQ},"zh-CN":{previewRootId:"72e66598-65f8-47ec-ba84-000d7321b482",rootId:"72e66598-65f8-47ec-ba84-000d7321b482",spaceId:a().rQ},"zh-TW":{previewRootId:"ec8b7591-22e8-41e6-9342-b44c1190b855",rootId:"ec8b7591-22e8-41e6-9342-b44c1190b855",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPageEvernote},desktopPersonalNoSlashMenu:s,desktopTeamCreateNoSlashMenu:c,desktopTeamJoinNoSlashMenu:p,web:n,mobileVariant1:{sources:{"en-US":{previewRootId:"16017954-d9c2-806e-8eba-d994c71414b9",rootId:"16017954-d9c2-806e-8eba-d994c71414b9",spaceId:a().rQ},"ko-KR":{previewRootId:"1a817954-d9c2-80ee-a7cc-f06b312607c6",rootId:"1a817954-d9c2-80ee-a7cc-f06b312607c6",spaceId:a().rQ},"ja-JP":{previewRootId:"1a817954-d9c2-80ab-b876-ce0540bcbc50",rootId:"1a817954-d9c2-80ab-b876-ce0540bcbc50",spaceId:a().rQ},"de-DE":{previewRootId:"1a817954-d9c2-809c-be16-eada2bec6449",rootId:"1a817954-d9c2-809c-be16-eada2bec6449",spaceId:a().rQ},"fr-FR":{previewRootId:"1a817954-d9c2-80e4-a2f7-cbc04084b700",rootId:"1a817954-d9c2-80e4-a2f7-cbc04084b700",spaceId:a().rQ},"es-ES":{previewRootId:"1a817954-d9c2-80ba-a1d2-f116653c87e7",rootId:"1a817954-d9c2-80ba-a1d2-f116653c87e7",spaceId:a().rQ},"es-LA":{previewRootId:"1a817954-d9c2-8009-ace4-c7a8be973d30",rootId:"1a817954-d9c2-8009-ace4-c7a8be973d30",spaceId:a().rQ},"pt-BR":{previewRootId:"1a817954-d9c2-8013-97f7-c8514ce9ca72",rootId:"1a817954-d9c2-8013-97f7-c8514ce9ca72",spaceId:a().rQ},"nb-NO":{previewRootId:"1b417954-d9c2-802c-8aad-ead5bdae042e",rootId:"1b417954-d9c2-802c-8aad-ead5bdae042e",spaceId:a().rQ},"nl-NL":{previewRootId:"1b417954-d9c2-8040-99cd-f6f24a7b664e",rootId:"1b417954-d9c2-8040-99cd-f6f24a7b664e",spaceId:a().rQ},"da-DK":{previewRootId:"1b417954-d9c2-8000-bc82-e5b055b64bfd",rootId:"1b417954-d9c2-8000-bc82-e5b055b64bfd",spaceId:a().rQ},"sv-SE":{previewRootId:"1b417954-d9c2-8083-934b-e38126f120e2",rootId:"1b417954-d9c2-8083-934b-e38126f120e2",spaceId:a().rQ},"fi-FI":{previewRootId:"1b417954-d9c2-8011-b27a-e0ad995bd435",rootId:"1b417954-d9c2-8011-b27a-e0ad995bd435",spaceId:a().rQ},"zh-CN":{previewRootId:"1b417954-d9c2-8014-bc84-cf44da811cf8",rootId:"1b417954-d9c2-8014-bc84-cf44da811cf8",spaceId:a().rQ},"zh-TW":{previewRootId:"1a817954-d9c2-80a9-bb6f-f39ba79e7dcc",rootId:"1a817954-d9c2-80a9-bb6f-f39ba79e7dcc",spaceId:a().rQ}},nameMessage:r().DZ.getStartedPageMobile}},u=["desktopTeamCreateWithComment","desktopTeamJoinWithComment","desktopTeamCreateWithMention","desktopTeamJoinWithMention"],v=([f,l,b,m].flatMap((e=>Object.values(e.sources))).map((e=>e.rootId)),{teamsHomepage:{emoji:"🏠",nameMessage:r().DZ.teamsHomepage,sources:{"en-US":{previewRootId:"4cd0eced-e273-46c2-84f5-a7efd7fbdd2f",rootId:"4cd0eced-e273-46c2-84f5-a7efd7fbdd2f",spaceId:a().rQ},"ko-KR":{previewRootId:"82be252e-5184-44cd-a91b-a7d6ffdefac6",rootId:"82be252e-5184-44cd-a91b-a7d6ffdefac6",spaceId:a().rQ},"ja-JP":{previewRootId:"bea8efd0-61d7-495b-a255-5c1f40753cf7",rootId:"bea8efd0-61d7-495b-a255-5c1f40753cf7",spaceId:a().rQ},"fr-FR":{previewRootId:"12a6eaa5-30f7-419b-aee7-1be2dbc7278c",rootId:"12a6eaa5-30f7-419b-aee7-1be2dbc7278c",spaceId:a().rQ},"de-DE":{previewRootId:"75db54d0-46ad-43b1-8ef0-7556ce0e9069",rootId:"75db54d0-46ad-43b1-8ef0-7556ce0e9069",spaceId:a().rQ},"es-ES":{previewRootId:"9ac64262-cad7-44f3-bfae-96dabec9e770",rootId:"9ac64262-cad7-44f3-bfae-96dabec9e770",spaceId:a().rQ},"es-LA":{previewRootId:"5b51de44-604b-4a96-b421-9f3e3cf470d2",rootId:"5b51de44-604b-4a96-b421-9f3e3cf470d2",spaceId:a().rQ},"pt-BR":{previewRootId:"b9626438-4451-441c-9608-35ab50e3b182",rootId:"b9626438-4451-441c-9608-35ab50e3b182",spaceId:a().rQ}}}})},585894:(e,t,o)=>{o.r(t),o.d(t,{createOnboardingTemplatesActions:()=>a(),onboardingStateActions:()=>r()});var a=()=>o(770769),r=()=>o(616385)},747671:(e,t,o)=>{o.d(t,{Q:()=>a,a:()=>r});let a=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class r extends(()=>o(757695))().default{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},749356:(e,t,o)=>{o.d(t,{VY:()=>l,Qm:()=>b,z6:()=>f,OC:()=>u,L6:()=>m,Zc:()=>v,x3:()=>I});var a=()=>o(857639),r=()=>o(386164);const n={plans_page:["lic_25","lic_50","resurrection_offer","ai_fifty_percent_upgrade"],sidebar_upsell:["lic_25","lic_50"]};var d=()=>o(229833),c=()=>o(449506),i=()=>o(901389),s=()=>o(989423),p=()=>o(351360);async function f(e,t){var o;const{spaceId:a,offerCampaign:r}=t;if(!a||!r||null===(o=p().default.state.currentSpaceStore)||void 0===o||!o.canAdmin())return;const n=await c().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:a,offerCampaign:r}});return"failed"!==n.type&&"offer"in n.data&&n.data.offer?n.data.offer:void 0}async function l(e){const{environment:t,spaceId:o,offerCampaign:a,entrypoint:r}=e,n=await c().callApi({eventName:"applyCustomerOffer",environment:t,data:{spaceId:o,offerCampaign:a,entrypoint:r??"unknown"}});if("failed"!==n.type)return n;i().Qg(n)}async function b(e,t){const o=await c().callApi({eventName:"applyCustomerOffer",environment:e,data:{...t}});if("failed"!==o.type)return o;i().Qg(o)}async function m(e){const{environment:t,spaceId:o,offerCampaign:a}=e;return void 0!==await f(t,{spaceId:o,offerCampaign:a})}async function I(e){var t;const{environment:o,hasReceived:n,offerType:i,newPlan:s,coupon:f}=e,l=null===(t=p().default.state.currentSpaceStore)||void 0===t?void 0:t.getSpaceId();if(!l)return;const b=await c().callApi({eventName:"updateCustomerOffer",environment:o,data:{spaceId:l,hasReceived:n,offerType:i,newPlan:s,coupon:f},headers:(0,r().WS)({cellId:void 0,spaceId:l})});"failed"===b.type&&a().log({level:"error",from:"offerActions",type:"updateLegacyCustomerOfferFailed",error:(0,d().n6)(b.error)})}async function u(e,t,o){const a=function(e){if(n.hasOwnProperty(e))return n[e]}(o);if(a)for(const r of a){const o=await f(e,{spaceId:t,offerCampaign:r});if((null==o?void 0:o.campaign)===r)return o}}function v(e){let{environment:t,spaceName:o,offerCampaign:a}=e;if(o)switch(a){case"lic_25":case"lic_50":(0,s().WU)(t,"lic_offer_eligible","lic_offer_eligible",3600,{workspace_name:o,lic_25:"lic_25"===a,lic_50:"lic_50"===a});break;case"resurrection_offer":(0,s().WU)(t,"resurrection_offer_eligible","resurrection_offer_eligible",3600,{workspace_name:o});break;default:return}}},864779:(e,t,o)=>{o.d(t,{Me:()=>c,Vv:()=>r,Z3:()=>n,wI:()=>d});var a=()=>o(244641);function r(e){if("week"===e.frequency&&e.weekdays&&1===e.weekdays.length)return{weekday:e.weekdays[0],duration:e.interval}}function n(e){const{currentSprintEndDate:t,sprintSchedule:o}=e;return i({startDate:p({dateToAdjust:a().c9.fromISO(t),weekday:o.weekday,wrapForEqualDays:!0}),duration:o.duration})}function d(e){const{userTimeZone:t,sprintSchedule:o}=e;return i({startDate:a().c9.local({zone:t}),duration:o.duration})}function c(e){const{currentSprintStartDate:t,sprintSchedule:o}=e,r=p({dateToAdjust:a().c9.fromISO(t),weekday:o.weekday,wrapForEqualDays:!1}),{end_date:n}=i({startDate:r,duration:o.duration});let d=a().c9.fromISO(n);const c=a().c9.now().startOf("day");for(;d.diff(c,"days").days<0;)d=d.plus({weeks:1});return{type:"daterange",start_date:d.plus({days:1}).minus({weeks:o.duration}).toISODate(),end_date:d.toISODate()}}function i(e){const{startDate:t,duration:o}=e,a=t.plus({weeks:o}).minus({days:1});return{type:"daterange",start_date:t.toISODate(),end_date:a.toISODate()}}const s={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6};function p(e){const{dateToAdjust:t,weekday:o,wrapForEqualDays:a}=e,r=f({currentWeekday:t.weekday%7,nextWeekday:s[o],wrapForEqualDays:a});return t.plus({days:r})}function f(e){const{currentWeekday:t,nextWeekday:o,wrapForEqualDays:a}=e,r="number"==typeof t?t:s[t],n="number"==typeof o?o:s[o];if(r===n)return a?7:0;let d=r,c=0;for(;d!==n;)d===s.SA?d=0:d+=1,c+=1;return c}},950914:(e,t,o)=>{o.d(t,{AL:()=>n,Q6:()=>c,vt:()=>d});o(898992),o(672577);var a=()=>o(66689),r=()=>o(254947);const n={autoCompleteSprints:!1,actionConfig:{complete_sprint_action:"complete_sprint_and_move_incomplete_tasks_to_next_sprint"},recurrenceConfig:{interval:2,weekdays:["MO"]}};function d(e){const{eventTracker:t,properties:o}=e;t.DO_NOT_USE_commonTrackEvent({eventName:"complete_sprint_action",properties:o})}function c(e,t){var o;return null===(o=t.groups)||void 0===o||null===(o=o.find((t=>t.id===a().nl||(null==t?void 0:t.name)===r().P0||(null==t?void 0:t.name)===e.formatMessage(r().oz.statusGroupNameComplete))))||void 0===o?void 0:o.name}},966759:(e,t,o)=>{o.d(t,{i:()=>n});var a=()=>o(476492),r=()=>o(175213);function n(e){const{environment:t,collectionContextStore:o,property_type:n,from:d,property:c,...i}=e,s=(0,a().sl)(o)||{};(0,r().G)(t,{property:c,property_type:n,from:d,...i,...s})}}}]);