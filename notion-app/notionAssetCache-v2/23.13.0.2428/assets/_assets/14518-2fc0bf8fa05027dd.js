"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[14518],{134539:(e,t,o)=>{o.d(t,{NU:()=>y,O:()=>f,Rf:()=>m,SU:()=>I,cV:()=>v,fn:()=>g});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(581454);var n=()=>o(428045),i=()=>o(888325),r=()=>o(278238),l=()=>o(919709),a=()=>o(534177),p=()=>o(519839),c=()=>o(972435),s=()=>o(630116),d=()=>o(913454),u=()=>o(476219);function m(e){var t;const{collectionViewBlockStore:o,collectionStore:m,instanceMap:f}=e,y=m.id,v=(0,i()._)({table:"collection",id:y}),g=f[v]??{};if(!o.isReady()||!m.isReady())return;let _,w=!1;const T=o.getCollectionViewIds().map((e=>{const t=s().pS.createChildStore(o,{table:"collection_view",id:e}),i=t.getModel();if(!i)return void(w=!0);const r=t.getCollectionStore();if(!r)return void(w=!0);let l=!1;return _||"table"!==i.getType()||(_=e,l=!0),r.id===y?function(e){const{collectionViewStore:t,templateIdToInstancePointersMap:o,schema:i,isFirstTableView:r}=e,l=t.id;let a=t.getName();const s=t.getType(),u=I(o,"collection_view",l);let m;r&&!a&&(m=n().Gs,a=(0,d().getWorkflowTemplateName)(d().globalWorkflowTemplates.fromId(m)));!a&&s&&(a=c().A.intl.formatMessage(p().Xg[s]));return{type:"collection_view",name:a,id:l,viewType:s,format:t.getNormalizedFormat(i)??{},query:t.getRawQuery(),templateId:u,isFirstTableView:r,defaultBuiltinTemplateIdToMapTo:m}}({collectionViewStore:t,templateIdToInstancePointersMap:g,schema:r.getSchema(),isFirstTableView:l}):void 0})).filter(a().O9);if(w)return;const h=[];for(const n of T)if(n.isFirstTableView){const e=n.format;if(e.table_properties){for(const t of e.table_properties)t.visible&&h.push(t.property);if(h.length>0)break}}const S=m.getSchema(),b=Object.entries(S).map((e=>{let[t,o]=e;if(o)return function(e){const{propertyId:t,schema:o,instanceMap:n,templateIdToInstancePointersMap:r}=e,l="relation"===o.type&&o.collection_id?function(e,t){const o=(0,i()._)({table:"collection",id:t});return I(e[o]??{},"collection",t)}(n,o.collection_id):void 0;return{type:"property",id:t,name:o.name,schema:o,relatedCollectionTemplateId:l,templateId:I(r,"property",t),isSupported:u().Pg(o)}}({propertyId:t,schema:o,instanceMap:f,templateIdToInstancePointersMap:g})})).filter(a().O9),C=m.getLayoutStore();if(C&&!C.isReady())return;const M=null==C?void 0:C.getModel(),k=M?function(e){const{layoutModel:t,templateIdToInstancePointersMap:o}=e,n=I(o,"layout",t.id);let i;if(n){const e=d().globalWorkflowTemplates.fromId(n);"layout"===e.type&&(i=e.name)}return{id:t.id,type:"layout",templateId:n,name:i,layout:t.getRawModules(),spaceId:t.spaceId}}({layoutModel:M,templateIdToInstancePointersMap:g}):void 0,O=m.getAutomationStores().map((e=>e.pointer)),P=null===(t=m.getIcon())||void 0===t?void 0:t.icon,N=P&&(0,r().T8)(P)?P:void 0,x=m.getDescription();return{type:"collection",id:y,description:x,descriptionAsString:(0,l().q4_)(x),schema:S,templateId:I(g,"collection",y),name:(0,l().q4_)(m.getName()),pageTemplateIds:m.getTemplatePages(),format:m.getFormat(),icon:N,properties:b,collectionViews:T,firstTableViewId:_,layout:k,templateIdToInstancePointersMap:g,tableOrderPropertyIds:h,automationPointers:O}}function f(e){return"property"===e.type&&"title"===e.id}function y(e){return f(e)&&"Name"===e.schema.name}function v(e){const{collectionInfo:t,pageStore:o,instanceMap:n,recordMap:r}=e,a=(0,l().q4_)(o.getTitleValue())||"Untitled",p=n[(0,i()._)({table:"collection",id:t.id})]??{},c=new Set,s=o.getProperties();for(const i of Object.keys(s))"title"!==i&&c.add(i);return{type:"block",id:o.id,recordMap:r,templateId:I(p,"block",o.id),name:a,propertyIds:c,spaceId:o.getSpaceId()}}function I(e,t,o){var n;return null===(n=g(e,t,o))||void 0===n?void 0:n.templateId}function g(e,t,o){for(const[n,i]of Object.entries(e))for(const e of i)if(e.type===t&&e.id===o)return{...e,templateId:n}}},247211:(e,t,o)=>{o.d(t,{D6:()=>h,Jp:()=>d,OU:()=>I,PT:()=>T,To:()=>v,rW:()=>g,rs:()=>f,vO:()=>y});o(898992),o(354520),o(672577),o(581454);var n=()=>o(496603),i=()=>o(534177),r=()=>o(913454),l=()=>o(134539);const a="content",p="item",c="items",s="optionalDefaultOn",d="/icons/document_gray.svg",u={collection_view:"View",layout:"Layout",collection:"Collection",property:"Property",compound:"Compound",block:"Block",automation:"Automation"},m=Symbol("BuilderKey"),f=y({type:"property",id:o(970013).rn});function y(e){return(0,i().GV)(`${e.type}:${e.id}`,m)}function v(e){if("explicit-undefined"!==e)return e}function I(e){return void 0===e?"explicit-undefined":e}function g(e,t){var o;const n=y(t),u=null===(o=e.state.builderSettings)||void 0===o?void 0:o[n],m=w(e,t),f=m?function(e,t){const o={},n=e.templateRegistryMap.get(t);if(!n)return o;o.name=(0,r().getWorkflowTemplateName)(n),"property"!==n.type&&"collection_view"!==n.type&&"block"!==n.type&&(o.description=n.description);"property"===n.type&&(o.propertyOptionsType=n.propertyOptionsType,o.relatedCollectionTemplateId=n.relatedCollectionTemplateId);if("collection"===n.type){var l;o.hasMinimalOnboarding=null===(l=n.value.onboarding)||void 0===l?void 0:l.isMinimal,o.singularItemName=n.value.targetCollection.itemName.singular,o.pluralItemName=n.value.targetCollection.itemName.plural,o.category=n.category}if("collection"!==n.type&&e.sourceCollectionTemplate){const n=e.sourceCollectionTemplate.value.templateItems.find((e=>e.pointer===t));n?(o.optionality=n.optionality,o.isInSettings=n.isInSettings):o.includeInCollectionTemplate=!1}"compound"===n.type&&(o.icon=n.icon,o.templateItems=n.value.templateItems.map((t=>{const o=e.templateIdToBuilderKeyMap.get(t.pointer);if(o)return{pointer:o,optionality:t.optionality}})).filter(i().O9));return o}(e,e.state.createCopy&&t.templateId?t.templateId:m):{};return{templateId:m,isDeleted:(null==u?void 0:u.isDeleted)??"uninstantiated_template"===t.type,description:((null==u?void 0:u.description)??f.description)||void 0,category:(null==u?void 0:u.category)??f.category,optionality:(0,l().O)(t)?"required":(null==u?void 0:u.optionality)??f.optionality??s,hasMinimalOnboarding:(null==u?void 0:u.hasMinimalOnboarding)??f.hasMinimalOnboarding??!1,singularItemName:(null==u?void 0:u.singularItemName)??f.singularItemName??p,pluralItemName:(null==u?void 0:u.pluralItemName)??f.pluralItemName??c,isInSettings:(null==u?void 0:u.isInSettings)??f.isInSettings??!1,propertyOptionsType:(null==u?void 0:u.propertyOptionsType)??(null==f?void 0:f.propertyOptionsType)??a,includeInCollectionTemplate:(null==u?void 0:u.includeInCollectionTemplate)??(null==f?void 0:f.includeInCollectionTemplate)??!0,templateItems:(null==u?void 0:u.templateItems)??(null==f?void 0:f.templateItems)??[],name:(null==u?void 0:u.name)??(null==f?void 0:f.name)??t.name??("layout"===t.type?"Layout":""),icon:(null==u?void 0:u.icon)??(null==f?void 0:f.icon)??d,bypassCreateCopy:_(u,t),relatedCollectionTemplateId:(null==u?void 0:u.relatedCollectionTemplateId)??(null==f?void 0:f.relatedCollectionTemplateId),ignore:(null==u?void 0:u.ignore)??!!(0,l().NU)(t),shouldMapToTemplate:(null==u?void 0:u.shouldMapToTemplate)??!("collection_view"!==t.type||!t.defaultBuiltinTemplateIdToMapTo)}}function _(e,t){return void 0!==(null==e?void 0:e.bypassCreateCopy)?e.bypassCreateCopy:"property"===t.type&&"relation"===t.schema.type}function w(e,t){var o;const n=y(t),i=null===(o=e.state.builderSettings)||void 0===o?void 0:o[n],r=_(i,t),a=e.state.createCopy&&!r?void 0:t.templateId;if(void 0!==(null==i?void 0:i.templateId))return null==i?void 0:i.templateId;if(void 0!==a)return a;const p="collection"===t.type?"":`${w(e,e.collectionInfo)}.`;return(0,l().O)(t)?`${p}title${u.property}`:"collection_view"===t.type&&t.defaultBuiltinTemplateIdToMapTo&&!1!==(null==i?void 0:i.shouldMapToTemplate)?t.defaultBuiltinTemplateIdToMapTo:t.name&&"uninstantiated_template"!==t.type?p+(c=t.name,s=t.type,`${T(c)}${u[s]}`):"layout"===t.type?`${p}default${u.layout}`:"automation"===t.type?`${p}${t.referrerName}${u.automation}`:void 0;var c,s}function T(e){return(0,n().xQ)(e)}function h(e,t){let o,n,i,{includeType:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t?(n=t,i=e.featureInfoMap.get(t)):(i=t,n=y(i)),i){const t=g(e,i);o=`${t.name||t.templateId}${r?` (${l=i,l.type.replace(/_/g," ")})`:""}`}var l;return o||n}},290966:(e,t,o)=>{o.d(t,{E_:()=>P,HQ:()=>$,I5:()=>N,ZQ:()=>O});o(16280),o(898992),o(823215),o(354520),o(581454),o(296540);var n=()=>o(662303),i=()=>o(428045),r=()=>o(134025),l=()=>o(912720),a=()=>o(179034),p=()=>o(519831),c=()=>o(869558),s=()=>o(144081),d=()=>o(921515),u=()=>o(959013),m=()=>o(496603),f=()=>o(534177),y=()=>o(284371),v=()=>o(966759),I=()=>o(235191),g=()=>o(901389),_=()=>o(317909),w=()=>o(67103),T=()=>o(16006),h=()=>o(972435),S=()=>o(470928),b=()=>o(630116),C=()=>o(913454),M=()=>o(204067),k=o(474848);function O(e){let{transaction:t,collectionStore:o,templateId:n,instance:i,logger:u}=e;u.debug(`Creating/updating ${d().rM} record for "${n}".`);const m=o.getSpaceId(),y=i.id;if("automation"===i.type){const e={table:l().yB,id:y,spaceId:m};_().applyOperation({store:b().dn.createChildStore(o,e),operation:r().op.set({pointer:e,path:["properties","workflow_template_instance"],args:{template_id:n}}),transaction:t})}else if("block"===i.type){const e={table:a().ev,id:y,spaceId:m};_().applyOperation({store:b().Bv.createChildStore(o,e),operation:r().op.set({pointer:e,path:["format","workflow_template_instance"],args:{template_id:n}}),transaction:t})}else if("collection"===i.type){const e={table:p().Vl,id:y,spaceId:m};_().applyOperation({store:o,operation:r().op.set({pointer:e,path:["format","workflow_template_instance"],args:{template_id:n}}),transaction:t})}else if("collection_view"===i.type){const e={table:c().Gy,id:y,spaceId:m};_().applyOperation({store:b().pS.createChildStore(o,e),operation:r().op.set({pointer:e,path:["format","workflow_template_instance"],args:{template_id:n}}),transaction:t})}else if("layout"===i.type){const e={table:s().zx,id:y,spaceId:m};_().applyOperation({store:b().K_.createChildStore(o,e),operation:r().op.set({pointer:e,path:["format","workflow_template_instance"],args:{template_id:n}}),transaction:t})}else if("compound"===i.type){if(i.instancePointers.length<2)throw new Error(`Compound template instance ${i.id} must contain 2 or more instances`);const e=i.instancePointers.map((e=>{switch(e.type){case"automation":return{type:"automation",id:e.id};case"block":return{type:"block",id:e.id};case"collection_view":return{type:"collection_view",id:e.id};case"layout":return{type:"layout",id:e.id};case"property":return{type:"property",id:e.id}}(0,f().HB)(e)}));_().applyOperation({store:o,operation:{command:"keyedObjectListUpdate",pointer:o.pointer,path:["format","compound_workflow_template_instances"],args:{value:{template_id:n,id:i.id,instance_pointers:e}}},transaction:t})}else"property"===i.type?_().applyOperation({store:o,operation:r().op.update({pointer:o.pointer,path:["schema",i.id],args:{workflow_template_instance:{template_id:n}}}),transaction:t}):(0,f().HB)(i)}function P(e){let{environment:t,collectionStore:o,propertyId:n,compoundTemplateInstancesToDelete:r,collectionContextStore:l,from:a}=e;if(!r.every((e=>e.templateId===i().z$)))return!1;if(!(0,S().Io)())return!1;const p=(0,M().aL)({environment:t,collectionStore:o,compoundTemplateInstancesToDelete:r}),c=m().sb(p.filter((e=>"property"===e.type)).map((e=>e.id))),s=o.getSchema(),d=c.map((e=>{var t;if(e===n)return;const o=s[e];if(!o)throw new Error(`Property ${e} not found`);if(o.name)return o.name;const i=null===(t=o.workflow_template_instance)||void 0===t?void 0:t.template_id;if(!i)throw new Error(`Property ${e} has no workflow template id`);const r=C().globalWorkflowTemplates.fromId(i);return(0,C().getWorkflowTemplateName)(r)})).filter(f().O9);return x({environment:t,collectionStore:o,propertyIds:c,otherPropertyNames:d,collectionContextStore:l,from:a}),!0}function N(e){let{environment:t,collectionStore:o,propertyId:n,collectionContextStore:i,from:r}=e;const l=o.getSchema(),a=Object.keys(l).filter((e=>(0,S().Do)({collectionStore:o,propertyId:e})||(0,S().k$)(e))),p=a.map((e=>{var t;if(e===n)return;const i=null===(t=l[e])||void 0===t?void 0:t.name;if(i)return i;if((0,S().Do)({collectionStore:o,propertyId:e}))return h().A.formatMessage(w().Gl.verificationPropertyName);if((0,S().k$)(e))return h().A.formatMessage(w().Gl.ownerPropertyName);throw new Error(`Property ${e} must be a verification or owner property`)})).filter(f().O9);return x({environment:t,collectionStore:o,propertyIds:a,otherPropertyNames:p,collectionContextStore:i,from:r}),!0}function x(e){let{environment:t,collectionStore:o,propertyIds:i,otherPropertyNames:r,collectionContextStore:l,from:a}=e;const p=[{label:(0,k.jsx)(u().sA,{id:"workflowTemplateInstanceActions.deleteRequiredProperty.deleteOption",defaultMessage:"{count, plural, one {Delete {count} property} other {Delete {count} properties}}",values:{count:i.length}}),color:"red",onAccept:()=>function(e){let{environment:t,collectionStore:o,collectionContextStore:n,propertyIds:i,from:r}=e;_().createAndCommit({userAction:"workflowTemplateInstanceActions.handleDeleteAccept",environment:t,canUndo:!0,perform:e=>{const l=o.getSchema();for(const a of i){I().BJ({environment:t,collectionStore:o,schema:l,property:a,transaction:e});const i=l[a];i&&(0,v().i)({environment:t,collectionContextStore:n,property_type:i.type,from:r,property:a})}}})}({environment:t,collectionStore:o,collectionContextStore:l,propertyIds:i,from:a})}],c=new Intl.ListFormat(n().locale,{style:"long",type:"conjunction"}),s=(0,k.jsx)(u().sA,{id:"workflowTemplateInstanceActions.deleteRequiredProperty.deletePropertyFromDb",defaultMessage:"Delete this property from <bold>{databaseName}</bold>? {otherPropertyNames} will also be deleted",values:{bold:e=>(0,k.jsx)("span",{style:{fontWeight:y().Wy.bold},children:e}),databaseName:(0,k.jsx)(T().A,{style:{display:"inline",fontWeight:y().Wy.bold},shouldWrap:!0,store:o}),otherPropertyNames:c.format(r)}});g().ui({message:(0,k.jsx)("span",{children:s}),showCancel:!0,keepFocus:!0,innerStyle:{width:400},items:p})}function $(e){const{environment:t,transaction:o,collectionStore:n,instance:i}=e;(0,M().aI)({environment:t,instancePointer:i,inMemoryRecordCache:n.inMemoryRecordCache})||_().applyOperation({store:n,operation:{pointer:n.pointer,command:"keyedObjectListRemove",path:["format","compound_workflow_template_instances"],args:{remove:{id:i.id}}},transaction:o})}},476219:(e,t,o)=>{o.d(t,{Kg:()=>p,Pg:()=>c,nN:()=>s,vW:()=>d});o(944114),o(898992),o(672577);var n=()=>o(663077),i=()=>o(970013),r=()=>o(496603),l=()=>o(534177),a=()=>o(247211);function p(e){var t;let{propertyId:o,propertyTemplate:n,firstTableViewInfo:i}=e;const r=null==i||null===(t=i.format.table_properties)||void 0===t?void 0:t.find((e=>e.property===o));if(r){const{property:e,...t}=r;n.tablePropertyFormat=t}}function c(e){const{type:t}=e;switch(t){case"title":case"text":case"checkbox":case"number":case"person":case"file":case"url":case"email":case"phone_number":case"created_time":case"created_by":case"last_edited_time":case"last_edited_by":case"last_visited_time":case"date":case"select":case"multi_select":case"status":case"formula":case"relation":case"auto_increment_id":case"button":return!0;case"rollup":case"location":case"verification":case"geo_point":return!1;default:(0,l().HB)(t)}}function s(e){if("relation"===e.type)return{type:"relation",name:e.name,autoRelate:e.autoRelate};const t=(0,r().mg)(e);if(delete t.workflow_template_instance,(0,i().DQ)(t)&&t.options)for(const o of t.options)delete o.collectionIds;return t}function d(e){let{propertyTemplateValue:t,mapper:o}=e;const i=[];if((0,n().$G)({object:t,callback:e=>{const t=e.property;i.push(t)}}),0===i.length)return;const r={};for(const n of i)o.populateDependencyMap((0,a().vO)({type:"property",id:n}),r);return r}},731638:(e,t,o)=>{o.d(t,{CF:()=>a,f:()=>r});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(581454);var n=()=>o(247211),i=()=>o(204067);function r(e){let{collectionStore:t,modules:o,dependencyMap:n}=e;return p({modules:o,mapper:l(t,n)})}function l(e,t){return o=>(0,i().CB)({collectionStore:e,sourceTemplateType:"property",sourcePrimitiveId:o,dependencyMap:t})}function a(e){const t=new Set;return p({modules:e,mapper:e=>(t.add((0,n().vO)({type:"property",id:e})),e)}),t}function p(e){let{modules:t,mapper:o}=e;const n=e=>e?e.map((e=>function(e){let{module:t,mapper:o}=e;switch(t.type){case"bottomControls":case"relationsGroup":case"cover":case"discussions":case"editor":case"expandedBacklinks":case"formQuestion":case"formSubmit":case"formTitle":case"inlinePageSections":case"placeholder":case"properties":case"transcript":case"viewsMain":return t;case"property":return{...t,propertyId:o(t.propertyId)};case"titleWithIcon":return{...t,propertyIds:t.propertyIds?t.propertyIds.map(o):void 0};case"views":return{...t,relation_pointer:t.relation_pointer?{...t.relation_pointer,property:o(t.relation_pointer.property)}:void 0}}return t}({module:e,mapper:o}))):void 0;return{page_layout_schema:n(t.page_layout_schema),page_info_layout_schema:n(t.page_info_layout_schema),form_layout_schema:n(t.form_layout_schema)}}},896326:(e,t,o)=>{o.d(t,{C8:()=>u,ET:()=>d,Ll:()=>b,OX:()=>f,QT:()=>v,Rh:()=>w,UA:()=>s,Wm:()=>I,XM:()=>c,aO:()=>_,bd:()=>m,gM:()=>y,gP:()=>h,hq:()=>g,pp:()=>T});o(16280),o(944114),o(898992),o(354520),o(672577),o(581454);var n=()=>o(663077),i=()=>o(921756),r=()=>o(498212),l=()=>o(534177),a=()=>o(913454);const p=3;function c(e){let{origin:t,parentStore:o,flowId:n}=e;return{collectionTemplate:void 0,origin:t,flowId:n??(0,r().Ay)(),collectionTemplatesSearchQuery:void 0,parentStore:o}}function s(e){let{collectionViewTemplates:t,featureTemplateSelections:o}=e;const i=[];for(const r of t)i.push(...(0,n().CA)({template:r,dependencyMap:r.dependencyMap||{}}).map((e=>e.templateId)));return o.filter((e=>"required"!==e.optionality&&!i.includes(e.template.templateId)&&v(e.template)))}function d(e){let{template:t}=e;return{recordTitles:new Array(p).fill(""),featureTemplateSelections:t.value.templateItems.map((e=>m(e.pointer,e.optionality)))}}function u(e){const{collectionTemplate:t,origin:o,flowId:n,parentStore:i}=e;return{collectionTemplate:t,userCustomizations:d({template:t}),origin:o,flowId:n??(0,r().Ay)(),parentStore:i,collectionTemplatesSearchQuery:void 0,previewCollectionInfo:void 0}}function m(e,t){const o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:a().globalWorkflowTemplates).fromId(e);if(!(0,n().Jb)(o))throw new Error(`Template ${e} in collection template is not a feature template`);return"required"===t?{template:o,optionality:"required",selected:!0}:"optionalDefaultOn"===t?{template:o,optionality:"optionalDefaultOn",selected:!0}:"optionalDefaultOff"===t?{template:o,optionality:"optionalDefaultOff",selected:!1}:void(0,l().HB)(t)}function f(e){if(!e.collectionTemplate)throw new Error("Collection template cannot be undefined");return{collectionTemplate:e.collectionTemplate,userCustomizations:e.userCustomizations,origin:e.origin,flowId:e.flowId,collectionTemplatesSearchQuery:e.collectionTemplatesSearchQuery,parentStore:e.parentStore,previewCollectionInfo:e.previewCollectionInfo}}function y(e){var t,o,n,i;return{origin:e.origin,has_selection_modal_search_query:((null===(t=e.collectionTemplatesSearchQuery)||void 0===t?void 0:t.length)??0)>0,flow_id:e.flowId,collection_template_id:null===(o=e.collectionTemplate)||void 0===o?void 0:o.templateId,destination_type:null===(n=e.parentStore)||void 0===n?void 0:n.table,destination_id:null===(i=e.parentStore)||void 0===i?void 0:i.id}}function v(e){return"property"===e.type&&"relation"!==e.value.type||"compound"===e.type}function I(e){const{version:t,isPackagingM3_3Enabled:o}=e,n=i().s[t];return o?n:n.filter((e=>"viewsSelection"!==e))}function g(e){const{currentStepIndex:t}=e;return I(e)[t]}function _(e){const{currentStepIndex:t,collectionTemplate:o}=e,n=I(e);for(let i=t+1;i<n.length;i++){const e=n[i];if(!(o&&S({step:e,template:o,action:"next"})))return i}return-1}function w(e){return _(e)>=0}function T(e){return h(e)>=0}function h(e){const{currentStepIndex:t,collectionTemplate:o}=e,n=I(e);for(let i=t-1;i>=0;i--){const e=n[i];if(!(o&&S({step:e,template:o,action:"previous"})))return i}return-1}function S(e){let{step:t,template:o,action:n}=e;switch(t){case"viewsSelection":return a().globalWorkflowTemplates.allOfType({templateIds:o.value.templateItems.map((e=>e.pointer)),type:"collection_view"}).length<=1;case"templateSelection":case"features":case"setupGeneratorInput":return!1;case"setupGeneratorBuilding":return"previous"===n;default:(0,l().HB)(t)}}function b(e){let{userCustomizations:t,templateId:o}=e;const n=t.featureTemplateSelections,i=n.find((e=>e.template.templateId===o));if(!i||"required"===i.optionality)return t;const r={...i,selected:!i.selected};return{...t,featureTemplateSelections:n.map((e=>e.template.templateId===o?r:e)),prevFeatureTemplateSelections:n}}},921756:(e,t,o)=>{o.d(t,{N:()=>n,s:()=>i});const n=["pre_signup_build_with_ai"],i={select_and_customize_template:["templateSelection","features","viewsSelection"],customize_template:["features","viewsSelection"],select_and_build_with_ai:["templateSelection","setupGeneratorInput","setupGeneratorBuilding","features","viewsSelection"],build_with_ai:["setupGeneratorInput","setupGeneratorBuilding","features","viewsSelection"],new_user_template_onboarding:["templateSelection","setupGeneratorBuilding","features","viewsSelection"],pre_signup_build_with_ai:["setupGeneratorInput","setupGeneratorBuilding","features","viewsSelection"]}}}]);