"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[15724,22542],{11978:(e,t,n)=>{n.d(t,{O:()=>r});var o=()=>n(56366),i=()=>n(351360);function r(){const{currentSpaceStore:e}=(0,o().K8)((()=>i().default.state),[]);return null==e?void 0:e.id}},59400:(e,t,n)=>{n.d(t,{m$:()=>l,m4:()=>s,w$:()=>d,Dy:()=>c,it:()=>u});n(296540);var o=()=>n(645873),i=n(474848);function r(e){const{shouldShowSpinner:t,collectionSettingsProps:o}=e;return(0,i.jsx)(n(735695).Ay,{collectionSettingsStore:o.collectionSettingsStore,fullHeight:o.fullHeight,hideDesktopHeader:o.hideDesktopHeader,children:t&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,i.jsx)(n(331542).A,{})})})}const a=new(o().O2)("collectionSettings",(()=>Promise.all([n.e(23806),n.e(75134),n.e(43380),n.e(96346),n.e(36192),n.e(44711),n.e(53321),n.e(90825),n.e(62475),n.e(3151),n.e(98629),n.e(90409),n.e(63077),n.e(74562),n.e(95794),n.e(46414),n.e(8184),n.e(99353),n.e(52681),n.e(38664),n.e(24587),n.e(14518),n.e(17713),n.e(28271),n.e(17254),n.e(4422),n.e(59794),n.e(67435),n.e(48315),n.e(847),n.e(5887),n.e(70769),n.e(97965),n.e(17989),n.e(52012),n.e(83210),n.e(26090),n.e(82472),n.e(10596),n.e(78846),n.e(13324),n.e(99346),n.e(28721),n.e(6463),n.e(26483),n.e(5396),n.e(1440),n.e(34576),n.e(89109),n.e(67064),n.e(3720),n.e(97996),n.e(14267),n.e(14410),n.e(99108)]).then(n.bind(n,424554)))),l=(0,o()._h)(a,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,i.jsx)(r,{shouldShowSpinner:e,collectionSettingsProps:t})}),s=(0,o()._h)(a,(e=>e.CollectionSettingsButtonOptions)),c=(0,o()._h)(a,(e=>e.CollectionSettingsPropertyTypeMenuItem)),d=(0,o()._h)(a,(e=>e.CollectionSettingsEditButtonAutomationOption)),u=(0,o()._h)(a,(e=>e.CollectionSettingsSaveAsAppButton))},65767:(e,t,n)=>{n.d(t,{l:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("closeThick",{viewBox:"0 0 8 8",svg:(0,o.jsx)("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})})},69447:(e,t,n)=>{n.d(t,{Lq:()=>o,WK:()=>r,nh:()=>i});const o=40,i=48,r=60},124954:(e,t,n)=>{n.d(t,{w:()=>g});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497),l=()=>n(987555),s=()=>n(246826),c=()=>n(317909),d=()=>n(614505),u=()=>n(738865),p=n(474848);function g(e){const{clickTitleBehavior:t,blockStore:n,format:l,shouldWrap:g}=e,m="edit"===t,y=(0,i().v3)(),[f,v,b]=(0,r().K8)((()=>[n.getIcon(),n.isEmptyPage(),n.isReady()&&"none"===n.getRole()]),[n]),{style:k}=(0,a().IS)((()=>({style:{flexShrink:0,marginRight:m?0:u().U[l].recordIconMarginRight,justifyContent:"flex-start",...g&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1}}})),[m,l,g]),x=(0,o.useCallback)((e=>{const t=n.getIconStore();t&&c().createAndCommit({userAction:"RelationToken.handleRecordIconChange",environment:y,canUndo:!0,perform:n=>{s().KY({store:t,value:e,transaction:n})}})}),[n,y]),S={icon:f,size:u().U[l].pageIconSize,isEmptyPage:v,style:k};return b?(0,p.jsx)(h,{...S}):m?(0,p.jsx)(d().A,{...S,disabled:!1,onChange:x,bucket:"public"}):(0,p.jsx)(d().A,{...S,disabled:!0})}function h(e){const t=(0,a().DP)();return(0,l().T)({...e.style,width:e.size,height:e.size,fill:t.icon.secondary,verticalAlign:"top",marginTop:1})}},149375:(e,t,n)=>{n.d(t,{v:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},175116:(e,t,n)=>{n.d(t,{ET:()=>s,Ks:()=>c,RI:()=>l,p2:()=>a});n(16280);var o=n(296540);const i="collectionContextStore",r=(0,n(446943).C)({displayName:i,legacyContextKey:i,modernContextDefaultValue:void 0}),a=r.context,l=r.Provider;function s(){const e=o.useContext(a);if(void 0===e)throw new Error(`No context provided: ${i}`);return e}function c(){return o.useContext(a)}},279620:(e,t,n)=>{n.d(t,{Y:()=>a});var o=n(296540),i=()=>n(16006),r=n(474848);function a(e){const{blockStore:t,shouldWrap:n,titleStyle:a,recordTitleRef:l,noUnderline:s,disableTooltip:c}=e,d=(0,o.useRef)({getNode:()=>l.current});return(0,r.jsx)(i().A,{store:t,underline:!s,shouldWrap:n,style:a,ref:d,enableHover:!0,showTooltipWhenTruncated:!0,disableTooltip:c})}},381138:(e,t,n)=>{n.d(t,{q:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("search",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},512052:(e,t,n)=>{n.d(t,{A:()=>U});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497),l=()=>n(970013),s=()=>n(959013),c=()=>n(753199),d=()=>n(963589),u=()=>n(630116),p=n(474848);function g(e){const{theme:t,intl:i,relatedDatabaseRecordTitle:r}=e,a=(0,o.useCallback)((()=>{const e=e=>(0,p.jsx)("div",{style:{color:t.text.contrastSecondary,marginTop:1},children:e});return r?i.formatMessage({defaultMessage:"This linked page does not belong to {relatedDatabaseWithIcon}.<caption>To make the link valid, consider moving the page into {relatedDatabaseWithIcon}.</caption>",id:"invalidMentionPill.pageInvalid.tooltipWithRecordTitle"},{relatedDatabaseWithIcon:r,caption:e}):i.formatMessage({defaultMessage:"This linked page does not belong to the related database.<caption>To make the link valid, consider moving the page into the related database.</caption>",id:"invalidMentionPill.pageInvalid.tooltipWithoutRecordTitle"},{caption:e})}),[i,t,r]);return(0,p.jsx)(n(859428).A,{renderTooltip:a,render:e=>(0,p.jsx)(n(714103).A,{theme:t,style:{color:t.text.redTertiary,background:t.fill.redPrimary},icon:n(693954).Q,extraAttrs:e,children:i.formatMessage({defaultMessage:"Invalid",id:"invalidMentionPill.pageInvalid"})})})}var h=()=>n(908006),m=()=>n(725614),y=()=>n(685889),f=()=>n(704152),v=()=>n(16006);function b(e){const{blockStore:t,titleStyle:n,shouldWrap:i,recordTitleRef:r,disableTooltip:a}=e,l=(0,o.useRef)({getNode:()=>r.current}),s=(0,o.useCallback)((e=>{h().default.afterNextFlush((()=>{const e=t.getBlockTitleStore();if(!e)return;const n=e.getValue(),o=n?n[0][0].length:0,i={start:{index:o,store:e},end:{index:o,store:e}};m().setMultiSelection({multiSelection:i})}))}),[t]);return(0,p.jsx)(f().A,{style:{height:y().d0+2,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5,padding:"6px 8px 7px 8px",overflow:"hidden"},onClick:s,children:(0,p.jsx)(v().A,{store:t,underline:!0,shouldWrap:i,style:n,ref:l,disableTooltip:a})})}var k=()=>n(496603),x=()=>n(792540),S=()=>n(972435),T=()=>n(246722);const C=(0,s().YK)({typeTitle:{defaultMessage:"Type a title...",id:"relationToken.title.placeholder"}});function I(e){const{blockStore:t,clickTitleBehavior:n,onTitleEnter:o,onTitleEsc:i}=e,a="edit"===n,l=(0,r().K8)((()=>t.getBlockTitleStore()),[t]);return(0,p.jsx)(T().A,{store:l,disabled:!a,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableEmbedMenu:!0,onEnter:o,onEsc:i,onTab:k().D_,placeholder:S().A.formatMessage(C.typeTitle),style:{padding:"6px 8px 7px 8px",textOverflow:"none",overflow:"visible",whiteSpace:"pre"},disableSelectAllBlocks:!0,pasteBehavior:"inline",inPageFind:x().Os.none})}var w=()=>n(919709),A=()=>n(606952);const M=function(e){const{store:t,style:l,disableLinks:d,disableHover:u,isAndroid:g,externalIntegrations:h,canEdit:m,shouldWrap:y,tokenFormat:f}=e,v=(0,o.useRef)(null),b=(0,s().tz)(),k=(0,i().v3)(),x=(0,a().DP)(),{isExternalIntegrationPageType:S,blockType:T,blockId:C,blockModel:I}=(0,r().K8)((()=>{const e=t.getModel();return{isExternalIntegrationPageType:Boolean(null==e?void 0:e.isType(n(700500).xd.externalObjectInstancePage)),blockType:t.getType(),blockId:t.id,blockModel:e}}),[t]),M=(0,r().K8)((()=>n(267419).A.getState()),[]),P=(0,o.useCallback)((()=>{if(!v||!v.current)return;const e=(0,w().bMp)(t.id),n=(0,w().wmz)(e);return{textValue:[n],tokenIndex:0,textToken:n,node:v.current}}),[v,t.id]),R=(0,o.useCallback)((e=>{if(u)return;const n=P(),o=t.getTitleStore();o&&n&&A().xE({environment:k,event:e,interactiveToken:n,store:o,canEdit:m})}),[u,P,t,k,m]),N=(0,o.useCallback)((e=>{const n=P(),o=t.getTitleStore();o&&n&&!u&&A().HH({environment:k,event:e,interactiveToken:n,store:o,canEdit:m})}),[P,t,u,k,m]),W=t.getRecordModel,F=C,B=(0,n(712030).FN)(k),j=n(780054).A.domainBaseUrl,E=k.currentUser.id,z=!d,D=(0,r().K8)((()=>{if(I)return(0,n(983650).gA)({blockModel:I,shouldWrap:y,index:0,style:l,disableHover:u,disableLinks:d,isAndroid:g,theme:x,getRecordModel:W,currentUserId:E,baseUrl:j,emojiType:B,externalIntegrations:h,classNames:[],intl:b,emojiData:M,stopLinkPropagation:z,tokenFormat:(0,n(425497).Ug)(f)})}),[I,y,l,u,d,g,x,W,E,j,B,h,b,M,z,f]);return F?"external_object_instance_page"!==T?null:S?(0,p.jsx)("span",{ref:v,onMouseOver:R,onMouseOut:N,onClick:z?c().kV:void 0,style:{width:"100%"},children:D}):null:null};function P(e){const{blockStore:t,shouldWrap:o,style:a,disableLinks:l,format:s}=e,c=(0,r().K8)((()=>(0,n(939768).q7)(t.getSyncedUri())),[t]),d=(0,r().O$)(n(53137).A.integrations),u=(0,i().v3)();return(0,p.jsx)(M,{shouldWrap:o,store:t,style:a,disableHover:l||!c,disableLinks:l||!c,isAndroid:u.device.isAndroid,externalIntegrations:d,canEdit:!0,tokenFormat:s})}var R=()=>n(738865);function N(e){const{format:t,showRemoveButton:o,onClickRemove:i}=e,{height:r,closeIconSize:a}=R().U[t];return o?(0,p.jsx)(f().A,{onClick:i,style:{display:"flex",alignItems:"center",justifyContent:"center",width:r,height:r,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:4},children:(0,n(65767).l)({width:a,height:a,opacity:.5})}):null}var W=()=>n(584262),F=()=>n(519839),B=()=>n(175116),j=()=>n(492414),E=()=>n(351360);var z=()=>n(231722),D=()=>n(24157);const U=(0,o.forwardRef)((function(e,t){const{parentStore:c,blockId:h,relationPropertySchema:m,shouldWrap:y,format:f,showRemoveButton:v,clickTitleBehavior:b,onClickRemove:k,titleStyle:x,onTitleEnter:S,onTitleEsc:T,index:C,noUnderline:I,disableTooltip:w,disableLinks:A}=e,M=(0,i().v3)(),W=(0,s().tz)(),F=(0,a().DP)(),B=u().Bv.createChildStore(c,{table:n(179034).ev,id:h}),{style:j}=(0,R().t)(e),E=(0,o.useRef)(null),z=(0,o.useRef)(null),D="peek"===b;(0,o.useImperativeHandle)(t,(()=>B),[B]);const U=(0,n(891078).i0)(B),O=(0,r().K8)((()=>!!B.isDefined()&&(void 0!==m&&(B.getParentPointer(),n(17022).A.withListenerIgnored((()=>{const e=B.getAssociatedCollectionStore();if(!e){const e=(0,l().Nv)(m);if(e){const t=u().md.createChildStore(B,e);if(t.isDefined())return!t.isPageTreeCollection()||!!B.pathIsAccessibleAndAlive()}return!1}return!m||e.id!==l().zO(m)}))))),[B,m]),L={showInvalid:(0,d().X)("relations_show_invalid_collection"),showDeleted:(0,d().X)("relations_show_deleted"),showNoAccess:(0,d().X)("relations_show_no_access")},V=(0,r().K8)((()=>{if(!L.showInvalid)return;if(void 0===m)return;const e=(0,l().Nv)(m);if(e){const t=u().md.createChildStore(B,e).getParentBlockStore();if(t&&t.isCollectionView())return t}}),[B,m,L.showInvalid]),H={environment:M,parentStore:c,blockStore:B,relationPropertySchema:m},K=(0,r().K8)((()=>B.isReady()&&"none"===B.getRole()),[B]);!function(e){let{environment:t,parentStore:o,blockStore:i,relationPropertySchema:r,metricName:a,trigger:l,extraProperties:s}=e;(0,n(543906).A)((()=>{(0,n(989423).WU)(t,a,`${a}-${o.id}-${i.id}`,86400,{parent_store_id:o.id,parent_store_table:o.table,relation_block_id:i.id,relation_parent_id:i.getParentId(),relation_parent_table:i.getParentTable(),target_collection_id:null==r?void 0:r.collection_id,...s})}),l)}({...H,metricName:"collection_render_no_access_relation",trigger:K,extraProperties:{no_access_visible:L.showNoAccess&&K}});if((0,r().K8)((()=>"external_object_instance_page"===B.getType()),[B]))return(0,p.jsx)(P,{shouldWrap:y,blockStore:B,style:j,disableLinks:A,format:f});const Y=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n(124954).w,{format:f,blockStore:B,clickTitleBehavior:b,shouldWrap:y}),(0,p.jsx)(X,{blockStore:B,recordTitleRef:E,clickTitleBehavior:b,shouldWrap:y,titleStyle:x,noUnderline:I,onTitleEnter:S,onTitleEsc:T,index:C,disableTooltip:w}),L.showDeleted&&(0,p.jsx)(n(34698).A,{isPageInTrash:U,intl:W,theme:F}),L.showInvalid&&O&&(0,p.jsx)(g,{intl:W,theme:F,relatedDatabaseRecordTitle:V&&(0,p.jsx)(n(761652).A,{store:V,useInvertedColors:!0})})]});return(0,p.jsxs)("div",{style:j,ref:z,children:[D?(0,p.jsx)(_,{blockStore:B,relationTokenStyle:j,children:Y}):Y,(0,p.jsx)(N,{showRemoveButton:v,onClickRemove:k,format:f})]})}));function _(e){let{blockStore:t,relationTokenStyle:a,children:l}=e;const{blockUrlPage:s,blockUrlPeek:d}=function(e){const t=(0,i().v3)(),n=(0,B().Ks)(),o=(0,r().K8)((()=>(0,j().Ay)({store:e,fullyQualified:!1,pageVisitSource:W().y8.LinkInPage})),[e]);return{blockUrlPeek:(0,r().K8)((()=>{const{mainEditorCurrentBlockStore:o}=E().default.state;return F().wy({environment:t,store:e,mainEditorCurrentBlockStore:o,collectionContextStore:n,fullyQualified:!1})}),[t,e,n]),blockUrlPage:o}}(t),u=(0,o.useMemo)((()=>({display:a.display,height:a.height,alignItems:a.alignItems})),[a]);return(0,p.jsx)(n(187485).A,{href:s,metaHref:d,onClick:c().kV,style:u,children:l})}function X(e){const{blockStore:t,clickTitleBehavior:o,onTitleEnter:i,onTitleEsc:a,index:l,recordTitleRef:s,titleStyle:c,shouldWrap:d,noUnderline:u,disableTooltip:g}=e,h=(0,n(551619).Sm)(t),m="edit"===o&&!h,y=function(e){return(0,r().K8)((()=>{var t;const n=D().default.state;return"editing"===n.mode&&(null===(t=(0,z().H7)(n.multiSelection))||void 0===t?void 0:t.store)===e.getBlockTitleStore()}),[e])}(t);return m?y&&i&&l?(0,p.jsx)(I,{blockStore:t,clickTitleBehavior:o,onTitleEnter:i,onTitleEsc:a}):(0,p.jsx)(b,{blockStore:t,recordTitleRef:s,titleStyle:c,shouldWrap:d,disableTooltip:g}):(0,p.jsx)(n(279620).Y,{blockStore:t,recordTitleRef:s,titleStyle:c,shouldWrap:d,noUnderline:u,disableTooltip:g})}},525432:(e,t,n)=>{n.d(t,{Bd:()=>l,DN:()=>p,R8:()=>y,U9:()=>m,VM:()=>h,ZF:()=>d,ZI:()=>s,jx:()=>c,wW:()=>g});n(16280),n(296540);var o=()=>n(651124),i=()=>n(959013),r=()=>n(712505),a=n(474848);let l=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e}({});function s(e){const{timelineViewTab:t,collectionContextStore:n}=e,i=c({collectionContextStore:n}),r=d({collectionContextStore:n});return"timeline"===i?"timeline"===t?"timeline_properties":r?"timeline_table_properties":void 0:(0,o().u9)(c({collectionContextStore:n}))}function c(e){var t;const{collectionContextStore:n}=e,o=null===(t=n.collectionViewStore())||void 0===t?void 0:t.getType();if(!o)throw new Error("View type was not defined.");return o}function d(e){const{collectionContextStore:t}=e,n=t.normalizedFormatStore.state;return Boolean(n.timeline_show_table)}const u=600;function p(e,t,n){const o=n||0,i=e.settingsStore.state;if(i.open&&!0!==i.hideSettingsPopup)return g(e,t,o)}function g(e,t,n){const o=n||0,i=e.settingsStore.state,a=c({collectionContextStore:e});return i.open&&"form_editor"===a||t||r().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||o<=u?"popup":"sidebar"}function h(e,t,n){return t?n?(0,a.jsx)(i().sA,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):e?n?(0,a.jsx)(i().sA,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"}):n?(0,a.jsx)(i().sA,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,a.jsx)(i().sA,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"})}let m=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e[e.Automation=2]="Automation",e}({});const y=6},551619:(e,t,n)=>{n.d(t,{Hy:()=>N,NV:()=>P,O9:()=>F,Rg:()=>W,Sm:()=>j,dK:()=>E,f7:()=>B,l8:()=>z,n$:()=>D,no:()=>U,sx:()=>R});var o=()=>n(484714),i=()=>n(792485),r=()=>n(56366),a=()=>n(700500),l=()=>n(651124),s=()=>n(519831),c=()=>n(620689),d=()=>n(591197),u=()=>n(519839),p=()=>n(835066),g=()=>n(964345),h=()=>n(68465),m=()=>n(753199),y=()=>n(504836),f=()=>n(478726),v=()=>n(747100),b=()=>n(963589),k=()=>n(665579),x=()=>n(351360),S=()=>n(525569),T=()=>n(508496),C=()=>n(375447),I=()=>n(66496),w=()=>n(548821),A=()=>n(712505),M=()=>n(302022);function P(e){(0,m().SQ)({event:e,context:m().y$.EditorMouseDown,callback:()=>{}})}function R(e){(0,m().SQ)({event:e,context:m().y$.EditorClick,callback:()=>{}})}function N(e){return(0,r().K8)((()=>Boolean(M().A.state.pageMap[e.id])||I().A.state.pages.has(e.id)),[e.id])}function W(e,t){const n=(0,o().v3)(),a=(0,i().S)(),l=N(e),s=(0,r().K8)((()=>{var n,o;return t===w().Rr.Frame?Boolean(null===(n=x().default.state.currentLoadingContainerStore)||void 0===n?void 0:n.state.ready):t===w().Rr.PeekView&&A().default.state.open?Boolean(null===(o=A().default.state.loadingContainerStore)||void 0===o?void 0:o.state.ready):t===w().Rr.CollectionPageView||t===w().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),c=B(e);return(0,r().K8)((()=>{if(!s)return!1;const t=n.currentUser.isLoggedIn(),o=a&&a.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=o&&o.hasPublicPermission)||"edit"===(null==o?void 0:o.permission))&&!l&&!c&&(!(0,h().ZE)(o)||"completionPopup"!==S().default.state.type))}),[n.currentUser,c,s,a,l,e])}function F(e,t){const n=(0,o().v3)(),a=(0,i().S)(),{isTablet:l}=(0,o().Y0)(),s=(0,b().X)("tablet_refresh_template_pills_gate");return(0,r().K8)((()=>{if(t===w().Rr.SitePreview)return!1;if(n.device.isMobile&&(!l||!s))return!1;if(!n.currentUser.isLoggedIn())return!1;const o=a&&a.publicEditModeStore.state;if(null!=o&&o.hasPublicPermission&&"edit"!==(null==o?void 0:o.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const i=e.getContentStores()[0];if(i&&!i.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const r=g().gZ.state,c=g().Di.state;if(r&&e.id===c)return!1;return!((0,f().L5)(t)?d().VY.state:d().u3.state)}),[n,a,e,t,l,s])}function B(e){return(0,r().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(a().xd.externalObjectInstancePage)}),[e])}function j(e){return(0,r().K8)((()=>{if(!(0,y().pB)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===s().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function E(e){return(0,r().K8)((()=>{if(!(0,y().pB)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function z(e){return(0,r().K8)((()=>{if(!T().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===l().IE.CsvImport}),[e])}function D(e){const t=(0,o().v3)(),{device:n,WindowSizeStore:i}=t,a=(0,r().K8)((()=>{const e=i.state.height,o=n.isMobile&&C().A.state.open?e:0;return c().C6(t)+o}),[t,i,n.isMobile]);return(0,r().K8)((()=>"home-phone"===e?k().q3:n.isTablet?380:n.isIOS?Math.max(350,a):n.isMobile?400:"side-peek"===e||"center-peek"===e?v().ln:"home"===e?k().wH:"30vh"),[n,a,e])}function U(e){const t=(0,o().v3)(),n=(0,r().K8)((()=>(0,p().dC)(t,e)),[t,e]);return(0,r().K8)((()=>n&&!e.isFullWidth()?(0,p().Zy)(t,(0,v().cq)(e),(0,u().RX)(e)):0),[t,n,e])}},563015:(e,t,n)=>{n.d(t,{eJ:()=>m,ew:()=>h,ml:()=>d,rA:()=>p,yI:()=>g,zf:()=>u});n(581454);var o=()=>n(496603),i=()=>n(534177),r=()=>n(708685),a=()=>n(145076),l=()=>n(349835),s=()=>n(977345);function c(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,i().HB)(e)}}function d(e){switch(e.type){case l().M9.InvalidCharacter:return{...a().x0.InvalidCharacter,values:{errorCharacter:e.character}};case l().M9.UnclosedStringLiteral:return a().x0.UnclosedStringLiteral;case l().M9.UnclosedComment:return a().x0.UnclosedComment;case l().M9.TokenExpected:return{...a().x0.TokenExpected,values:{expectedToken:e.token}};case l().M9.StringLiteralContainsToken:return a().x0.StringLiteralContainsToken;case l().M9.ExpressionExpected:return a().x0.ExpressionExpected;case l().M9.PropertyTokenOrFunctionExpected:return a().x0.PropertyTokenOrFunctionExpected;case l().M9.EndOfInputExpected:return a().x0.EndOfInputExpected;case l().M9.UnexpectedError:return a().x0.UnexpectedError;case l().M9.TooDeeplyNested:return a().x0.TooDeeplyNested;default:(0,i().HB)(e)}}function u(e){switch(e.type){case l().IA.FunctionCallArgumentWrongType:case l().IA.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function p(e,t){let n;switch(t.type){case l().IA.ThisRowTypeNotFound:n=a().Xz.ThisRowTypeNotFound;break;case l().IA.ThisRowNotBlockWithCollection:n=a().Xz.ThisRowNotBlockWithCollection;break;case l().IA.MissingPropertyOnThisRow:n={...a().Xz.MissingPropertyOnThisRow,values:{propertyName:t.property}};break;case l().IA.MissingContextVariable:{const e=(0,s().ix)(t.token)?t.token.contextValueId:t.token.valueId;n={...a().Xz.MissingContextVariable,values:{valueId:e}}}break;case l().IA.MissingBlock:n={...a().Xz.MissingBlock,values:{blockId:t.token.blockId}};break;case l().IA.CallingNotFunction:n={...a().Xz.CallingNotFunction,values:{expressionType:c(t.callee.type.type)}};break;case l().IA.FunctionCallTooFewArguments:n={...a().Xz.FunctionCallTooFewArguments,values:{minNumParameters:t.minNumParameters,functionName:t.libraryFunction.name,numArguments:t.numArguments}};break;case l().IA.FunctionCallUnexpectedArgument:n={...a().Xz.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case l().IA.FunctionCallArgumentWrongType:n={...a().Xz.FunctionCallArgumentWrongType,values:{argumentType:c(t.argument.type.type),functionName:t.libraryFunction.name}};break;case l().IA.MemberPropertyMismatchCollection:n={...a().Xz.MemberPropertyMismatchCollection,values:{propertyName:t.token.property}};break;case l().IA.MemberPropertyMissing:n={...a().Xz.MemberPropertyMissing,values:{propertyName:t.property}};break;case l().IA.MemberPropertyTargetNotBlock:n=a().Xz.MemberPropertyTargetNotBlock;break;case l().IA.MemberPropertyTypeInvalid:n={...a().Xz.MemberPropertyTypeInvalid,values:{propertyName:t.propertyName,propertyType:t.propertyType}};break;case l().IA.UndefinedIdentifier:n={...a().Xz.UndefinedIdentifier,values:{identifier:t.node.text}};break;case l().IA.UnifiedFunctionCannotFindFunction:n={...a().Xz.UnifiedFunctionCannotFindFunction,values:{functionName:t.name}};break;case l().IA.UnifiedFunctionNoArguments:n={...a().Xz.UnifiedFunctionNoArguments,values:{functionName:t.libraryFunction.name}};break;case l().IA.UnifiedFunctionTargetWrongType:n={...a().Xz.UnifiedFunctionTargetWrongType,values:{functionName:t.libraryFunction.name,targetType:c(t.expression.type.type)}};break;case l().IA.CannotRelativelyCompareTypes:n={...a().Xz.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case l().IA.CannotDoMathOnType:n={...a().Xz.CannotDoMathOnType,values:{lhsType:c(t.lhsType.type),rhsType:c(t.rhsType.type)}};break;case l().IA.UnaryMinusOnNonNumber:n={...a().Xz.UnaryMinusOnNonNumber,values:{type:c(t.expression.type.type)}};break;case l().IA.IdentifierExpected:n=a().Xz.IdentifierExpected;break;case l().IA.FunctionCallExpected:n={...a().Xz.FunctionCallExpected,values:{functionName:t.functionName}};break;case l().IA.RenamedIdentifier:n={...a().Xz.RenamedIdentifier,values:{identifier:t.identifier,renamedTo:t.renamedTo}};break;case l().IA.RemovedFunction:n={...a().Xz.RemovedFunction,values:{functionName:t.functionName,alternative:t.alternative}};break;case l().IA.ContextVariableNotBlockWithCollection:n={...a().Xz.ContextVariableNotBlockWithCollection,values:{valueId:t.token.contextValueId}};break;case l().IA.MissingPropertyOnContextVariable:n={...a().Xz.MissingPropertyOnContextVariable,values:{propertyName:t.property,valueId:t.token.contextValueId}};break;case l().IA.BlockPropertyTypeInvalid:n={...a().Xz.BlockPropertyTypeInvalid,values:{propertyName:t.propertyName}};break;case l().IA.DisallowedReturnType:{const o=t.allowedReturnTypes.map((t=>e.formatMessage((0,r().getHumanReadableType)(t)).toLocaleLowerCase()));n={...a().Xz.DisallowedReturnType,values:{allowedReturnType:e.formatList(o,{style:"long",type:"conjunction"}),allowedReturnTypeCount:t.allowedReturnTypes.length,returnType:e.formatMessage((0,r().getHumanReadableType)(t.returnType)).toLocaleLowerCase()}};break}case l().IA.CrossSpacePropertyNotSupported:n={...a().Xz.CrossSpacePropertyNotSupported};break;default:(0,i().HB)(t)}return{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}}function g(e,t){let n;switch(t.type){case l().uW.MissingThisRow:n=a().X8.MissingThisRow;break;case l().uW.MissingSchemaPropertyOnThisRow:n={...a().X8.MissingSchemaPropertyOnThisRow,values:{propertyName:t.property}};break;case l().uW.ThisRowBlockPropertyMismatchCollection:n=a().X8.ThisRowBlockPropertyMismatchCollection;break;case l().uW.MissingContextVariable:n={...a().X8.MissingContextVariable,values:{valueId:t.valueId}};break;case l().uW.IdentifierNotFound:n={...a().X8.IdentifierNotFound,values:{identifier:t.node.text}};break;case l().uW.CannotRelativelyCompareTypes:n={...a().X8.CannotRelativelyCompareTypes,values:{lhsType:c(t.lhsType),rhsType:c(t.rhsType)}};break;case l().uW.CannotDoMathOnType:n={...a().X8.CannotDoMathOnType,values:{valueType:c(t.valueType)}};break;case l().uW.CannotCallNonFunction:n={...a().X8.CannotCallNonFunction,values:{calleeType:c(t.calleeType)}};break;case l().uW.UnifiedFunctionPropertyNotFound:n={...a().X8.UnifiedFunctionPropertyNotFound,values:{functionName:t.node.name}};break;case l().uW.LibraryFunctionExecutionError:const o=t.error instanceof l().x4?t.error:void 0;n=(null==o?void 0:o.info.type)===l().v3.DateInvalidDurationUnit?{...a().gW.DateInvalidDurationUnit,values:{functionName:t.libraryFunction.name,invalidUnit:o.info.invalidUnit}}:(null==o?void 0:o.info.type)===l().v3.CannotUseToNumberOnList?{...a().gW.CannotUseToNumberOnList}:(null==o?void 0:o.info.type)===l().v3.CannotRoundToNonInteger?{...a().gW.CannotRoundToNonInteger,values:{precision:o.info.precision}}:(null==o?void 0:o.info.type)===l().v3.CannotRoundToTooManyDecimalPlaces?{...a().gW.CannotRoundToTooManyDecimalPlaces,values:{precision:o.info.precision}}:{...a().X8.LibraryFunctionExecutionError,values:{functionName:t.libraryFunction.name}};break;case l().uW.FunctionCallTooFewArguments:n={...a().X8.FunctionCallTooFewArguments,values:{functionName:t.libraryFunction.name}};break;case l().uW.FunctionCallUnexpectedArgument:n={...a().X8.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case l().uW.FunctionCallArgumentWrongType:n={...a().X8.FunctionCallArgumentWrongType,values:{functionName:t.libraryFunction.name,argumentType:c(t.argumentType)}};break;case l().uW.AccessingPropertyOnNonBlock:n=a().X8.AccessingPropertyOnNonBlock;break;case l().uW.MissingDataDependencyBlock:n={...a().X8.MissingDataDependencyBlock,values:{blockId:t.blockPointer.id}};break;case l().uW.MissingDataDependencyPerson:n={...a().X8.MissingDataDependencyPerson,values:{personId:t.personPointer.id}};break;case l().uW.MemberPropertyMismatchCollection:n=a().X8.MemberPropertyMismatchCollection;break;case l().uW.MissingPropertyOnSchemaForMemberProperty:n=a().X8.MissingPropertyOnSchemaForMemberProperty;break;case l().uW.UnaryMinusOnNonNumber:n={...a().X8.UnaryMinusOnNonNumber,values:{expressionType:c(t.expressionType)}};break;case l().uW.UnexpectedRecoveryNode:n=a().X8.UnexpectedRecoveryNode;break;case l().uW.UnexpectedError:n=a().X8.UnexpectedError;break;case l().uW.DepthExceeded:n=a().X8.DepthExceeded;break;case l().uW.CycleDetected:n=a().X8.CycleDetected;break;case l().uW.DownstreamParseFailure:n=a().X8.DownstreamParseFailure;break;case l().uW.MaxEvaluationTimeExceeded:n=a().X8.MaxEvaluationTimeExceeded;break;case l().uW.MissingSchemaPropertyOnCollection:n={...a().X8.MissingSchemaPropertyOnCollection,values:{collectionId:t.collectionId,propertyName:t.property}};break;case l().uW.ContextVariableWrongType:n={...a().X8.ContextVariableWrongType,values:{expectedType:t.expectedType,propertyType:t.resultType,valueId:t.valueId}};break;case l().uW.DisallowedValueType:{const o=t.allowedValueTypes.map((t=>e.formatMessage((0,r().getHumanReadableType)(t)).toLocaleLowerCase()));n={...a().Xz.DisallowedReturnType,values:{allowedValueType:e.formatList(o,{style:"long",type:"conjunction"}),allowedValueTypeCount:t.allowedValueTypes.length,valueType:e.formatMessage((0,r().getHumanReadableValueType)(t.expressionValue)).toLocaleLowerCase()}};break}default:(0,i().HB)(t)}return(0,s().li)(t)?{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}:n}function h(e){const t=null==e?void 0:e.values;return[o().cJ(e,"values"),t]}function m(e){return e.type===l().uW.DepthExceeded||e.type===l().uW.CycleDetected||e.type===l().uW.MaxEvaluationTimeExceeded||e.type===l().uW.LibraryFunctionExecutionError}},591197:(e,t,n)=>{n.d(t,{VY:()=>l,ZJ:()=>r,u3:()=>a});var o=()=>n(496506);class i extends(()=>n(757695))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const r=new i,a=new(o().default)((()=>!1!==r.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),l=new(o().default)((()=>!1!==r.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},654734:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(296540),i=()=>n(869190),r=()=>n(604995),a=()=>n(416504),l=n(474848);const s=function(e){const t=(0,n(959013).tz)(),s=(0,n(401497).DP)(),u=(0,n(396182).I)(),p=(0,o.useRef)(),g=(0,o.useCallback)((()=>{const t=e.value;if(!t)return;const o=r().q8(t,(0,a().P)());if(!o)return;const i=o.valueOf(),l=i-Date.now();l<0||l>n(720665).nD||p.current&&p.current.timestamp===i||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:i,timer:setTimeout(u,l)})}),[u,e.value]),h=(0,o.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,o.useEffect)((()=>{g()}),[g]),(0,o.useEffect)((()=>()=>{h()}),[h]);const{value:m,withComma:y}=e,f=(0,n(56366).K8)((()=>m?(0,i().ZF)({value:m,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(838924).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,m]);if(!m)return null;const v=r().AA(m,(0,a().P)(),n(662303).locale);let b;if(m.reminder){const e=r().Zs(m,(0,a().P)());b=e?{color:s.errorText}:{color:n(100622).Ay.blue}}const k=(0,l.jsxs)(l.Fragment,{children:[f,m.reminder&&(0,n(599987).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),y?", ":null]});return e.disableTooltip?(0,l.jsx)("div",{className:e.className,style:{...e.style,...b},children:k}):(0,l.jsx)(n(859428).A,{renderTooltip:()=>(0,l.jsxs)(l.Fragment,{children:[e.tooltipHeader,(0,l.jsxs)("div",{style:d(s,e.tooltipHeader),children:[c(v.start),v.end?` â†’ ${c(v.end)}`:""]})]}),render:t=>(0,l.jsx)("div",{className:e.className,style:{...e.style,...b},...t,children:k}),placement:e.tooltipPlacement})};function c(e){return(0,i().eV)({value:e,preset:"medium"})}function d(e,t){return t?{color:e.text.contrastSecondary}:{}}},665579:(e,t,n)=>{n.d(t,{$E:()=>M,$L:()=>l,BZ:()=>d,EC:()=>h,EI:()=>k,Ed:()=>p,Fq:()=>f,Lu:()=>S,Mk:()=>g,O0:()=>w,UO:()=>P,V$:()=>I,VQ:()=>m,Wh:()=>T,Xx:()=>x,Xy:()=>c,YS:()=>y,_g:()=>b,dd:()=>u,pW:()=>s,q3:()=>a,wH:()=>r});var o=()=>n(496603),i=()=>n(534177);const r=160,a=40,l=24,s=20,c=600,d=270,u=405,p=480,g=500,h=void 0,m=16,y=10,f=8,v=(n(69447).nh,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),b=4;function k(e){return{icon:e.mediumIconColor,text:e.mediumTextColor}}function x(e){return{width:48,height:48,fill:e.lightIconColor}}function S(e){let{theme:t,isPhone:n}=e;return n?t.personalHomeBackgroundPhone:t.surface.page}function T(e){let{theme:t,isPhone:n,buttonState:o}=e,i=t.whiteButtonBackground;switch(o){case"hovered":i=t.whiteButtonHoveredBackground;break;case"pressed":i=t.whiteButtonPressedBackground}return n&&(i=void 0),{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:i,...v,boxShadow:A({isPhone:n,theme:t,borderOnly:!0}),width:28,height:28,borderRadius:4}}const C=1;function I(e){let{isPhone:t,theme:n}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:n.home.tile.background,boxShadow:A({isPhone:t,theme:n}),...v}}function w(e){let{mode:t,isPhone:n}=e;switch(t){case"dark":return 0;case"light":return C;default:return(0,i().ub)(t),0}}function A(e){let{isPhone:t,theme:n,borderOnly:i}=e;if("dark"===n.mode)return"unset";n.mode;const r=w({mode:n.mode,isPhone:t});return(0,o().oE)([i||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${r}px rgba(0, 0, 0, 0.05)`]).join(", ")}function M(e){return{display:"flex",flexDirection:"column",width:e.isPhone?"100%":700,gap:24}}function P(e){const{isPhone:t,theme:n,borderOnly:o}=e;return{unhoveredBoxShadow:A({isPhone:t,theme:n,borderOnly:o}),hoveredBoxShadow:"light"===n.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):n.homeShadow.card.hovered}}},717402:(e,t,n)=>{n.d(t,{Ay:()=>g,Jv:()=>m,Rl:()=>y});n(296540);var o=()=>n(484714),i=()=>n(56366),r=()=>n(401497),a=()=>n(970013),l=()=>n(743176),s=()=>n(68465),c=()=>n(159588),d=()=>n(905539),u=n(474848);const p={display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0};const g=function(e){let{propertySchema:t,showIcon:i,showDragIcon:a,hideName:l,badge:s,style:d,iconStyle:g,iconSize:m,dragHandleStyle:f,className:v,labelSizeVariant:b}=e;const k=(0,o().v3)(),{device:x}=k,S=x.isMobile?16:14,T=(0,r().IS)((e=>({iconWrapper:h(Boolean(l),{display:"grid",justifyContent:"center",alignItems:"center",marginRight:4,...g},b,a),dragHandle:{gridColumn:1,gridRow:1,opacity:a?1:0,transition:`opacity ${c().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:a?0:1,transition:`opacity ${c().bM}`},dragIcon:{fill:e.icon.secondary}})),[l,g,b,a]);return(0,u.jsxs)("div",{className:v,style:{...p,fontSize:S,...d},children:[i&&(0,u.jsxs)("div",{style:T.iconWrapper,children:[(0,u.jsx)("div",{style:T.itemIcon,children:(0,u.jsx)(y,{propertySchema:t,iconSize:m,iconStyle:g})}),(0,u.jsx)("div",{style:T.dragHandle,children:(0,u.jsx)(n(57232).A,{style:f,iconSize:12,iconStyle:T.dragIcon})})]}),!l&&(0,u.jsx)("div",{style:{...n(284371).RC},children:t.name}),s]})};function h(e,t,n,o){return{marginRight:e?void 0:"small"===n||o?4:6,...t}}function m(e){let{propertySchema:t}=e;const n=(0,o().v3)();return(0,i().K8)((()=>(0,s().O0)(n)&&a().$M(t)&&a().om(t)),[n,t])?(0,u.jsx)(d().A,{}):null}function y(e){let{propertySchema:t,iconSize:n,iconStyle:i}=e;const a=(0,r().DP)(),s=(0,o().v3)(),{device:c}=s,d=c.isMobile?18:16;return(0,u.jsx)(l().Ay,{type:t.type,icon:t.icon,size:n||d,theme:a,style:i})}},735695:(e,t,n)=>{n.d(t,{Ay:()=>I,iZ:()=>S,vE:()=>x});var o=n(296540),i=()=>n(804773),r=()=>n(56366),a=()=>n(401497),l=()=>n(149375),s=()=>n(66913),c=()=>n(959013),d=()=>n(284371),u=()=>n(686526),p=()=>n(704152),g=()=>n(285790),h=()=>n(928600),m=()=>n(753199),y=()=>n(722872),f=()=>n(253579),v=()=>n(449476),b=n(474848);const k=(0,c().YK)({back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}}),x=290,S=400;function T(e){let{children:t,title:n,settingsStackLength:o,handleClose:i,handleBackArrowClick:u,hideDesktopHeader:h,hasBackStack:m}=e;const y=(0,r().K8)((()=>v().A.state.isOpen),[]),f=(0,c().tz)(),x=(0,a().IS)((e=>({hiddenDesktopHeaderDiv:{height:0},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:y?"top":"center",padding:y?"0px 14px 6px 14px":"14px 16px 6px 16px",height:y?void 0:42},arrowButton:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:y?d().Wy.medium:d().Wy.semibold,fontSize:y?16:14,lineHeight:y?"24px":void 0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.mediumTextColor}})),[y]),S=!y;return(0,b.jsxs)(b.Fragment,{children:[h?(0,b.jsx)("div",{style:x.hiddenDesktopHeaderDiv}):(0,b.jsxs)("div",{style:x.nonHiddenDesktopHeaderDiv,children:[(o>1||m)&&(0,b.jsx)(g().A,{icon:l().v,style:x.arrowButton,iconStyle:x.arrowIcon,onClick:u,ariaLabel:f.formatMessage(k.back)}),(0,b.jsx)("span",{style:x.title,children:n}),S&&(0,b.jsx)(p().A,{onClick:i,style:x.closeButton,hoveredStyle:x.closeButtonHover,children:(0,s().V)(x.closeIcon)})]}),t]})}function C(e,t){let{children:a,footer:l,header:s,unconstrainedWidth:c,desktopWidth:d,title:p,collectionSettingsStore:g,fullHeight:k,hideDesktopHeader:S,menuScrollerStyle:C,innerContentWrapperStyle:I,disableScroller:w,handleBackArrowClick:A,hasBackStack:M,handleClose:P}=e;const R=(0,n(484714).Y0)(),N=(0,n(175116).Ks)(),W=(0,r().K8)((()=>v().A.state.isOpen),[]),{currentTab:F,settingsStackLength:B,hideHeader:j}=(0,r().K8)((()=>{const e=g.state;return{currentTab:(0,n(940371).S)(g),settingsStackLength:e.stack.length,hideHeader:e.hideSettingsHeader}}),[g]),E=(0,o.useCallback)((()=>{var e;A?A():u().yl({collectionSettingsStore:g,keepPreviousRef:"form_editor"===(null==N||null===(e=N.collectionViewStore())||void 0===e?void 0:e.getType())})}),[A,g,N]),z=(0,o.useCallback)((e=>{P?P(e):(0,m().SQ)({event:e,context:m().y$.CollectionSettingsClick,callback:()=>{u().os({collectionSettingsStore:g})}})}),[P,g]),D=(0,o.useCallback)((e=>{(0,f().rW)(e.target)||(0,f().iX)(e.target)||(0,f().u2)(e.target)||v().A.state.isOpen||z(e)}),[z]);if(!F)return null;let U;if(R.isMobile)U={disableScroller:w,menuType:y().gu.Modal,title:p,left:B>1?(0,b.jsx)(n(45552).MobileModalBackButton,{}):void 0,onClickLeft:B>1?E:void 0,scrollerStyle:C,innerRef:t};else{const e=c||d?void 0:W?280:x;U={disableScroller:w,menuType:y().gu.Popup,minWidth:W?280:x,width:d,maxHeight:k?"100%":"80vh",...e&&{maxWidth:e},onClickOutside:D,scrollerStyle:{flexGrow:0,...C},header:!j&&(0,b.jsx)(T,{settingsStackLength:B,handleClose:z,handleBackArrowClick:E,hasBackStack:M,hideDesktopHeader:S,title:p,children:s}),paddingTop:j?6:0,footer:l,innerRef:t}}const _=(0,b.jsxs)(b.Fragment,{children:[R.isMobile&&s,a,R.isMobile&&l]});return k?(0,b.jsx)(i().Y,{direction:"vertical",children:(0,b.jsx)(h().A,{...U,children:_})}):(0,b.jsx)(n(297872).A,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,render:e=>(0,b.jsx)(i().Y,{direction:"vertical",children:(0,b.jsx)(h().A,{...U,...e,children:(0,b.jsx)("div",{style:I,children:_})})})})}const I=(0,o.forwardRef)(C)},738865:(e,t,n)=>{n.d(t,{U:()=>l,t:()=>s});var o=()=>n(401497),i=()=>n(784892),r=()=>n(284371),a=()=>n(685889);const l={[i().NY.ExtremeSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[i().NY.ExtraSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[i().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",recordIconMarginRight:3,pageIconSize:16,closeIconSize:8},[i().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[i().NY.Medium]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[i().NY.Inline]:{height:20,fontSize:14,margin:"0 12px 0 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[i().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",recordIconMarginRight:4,pageIconSize:24,closeIconSize:10}};function s(e){let{format:t,shouldShrink:n,shouldWrap:s,isSingle:d,style:u,clickTitleBehavior:p}=e;const g="edit"===p;return(0,o().IS)((()=>{const{fontSize:e,margin:o}=l[t],p=g?a().d0:l[t].height;return{style:{...s?{display:"inline",lineHeight:1.5,borderRadius:4}:c({height:p}),fontSize:e,fontWeight:r().Wy.medium,minWidth:n?0:"auto",margin:d?0:o,...t===i().NY.Inline&&{overflow:"hidden"},...u}}}),[t,n,s,d,g,u])}function c(e){let{height:t}=e;return{display:"flex",alignItems:"center",lineHeight:1.2,height:t}}}}]);