"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[94476],{94476:(t,e,n)=>{n.r(e),n.d(e,{TOASTER_ZINDEX:()=>A,Toaster:()=>B});n(898992),n(354520),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(496603),d=()=>n(812182),l=()=>n(625325),c=()=>n(644914),u=()=>n(399561),v=()=>n(591779),p=()=>n(66913),x=()=>n(959013),y=()=>n(100622),f=()=>n(84817),g=()=>n(704152),m=()=>n(285790),h=()=>n(460292),b=()=>n(554509),C=()=>n(614415),S=()=>n(645873),k=n(474848);function j(t){const{type:e,actionProps:n,invalidated:o}=t,i=(0,y().O4)({theme:"dark"}),r=(0,s().IS)((t=>({actionButton:{minHeight:28,padding:"4px 8px",gap:8,borderRadius:6,display:"flex"},primaryActionButton:{border:`1px solid ${y().XA.dark.translucentGray[400]}`},primaryActionButtonText:{color:i.text.primary},secondaryActionButtonText:{color:i.text.secondary},actionButtonHovered:{background:i.state.hover},actionButtonPressed:{background:i.state.pressed},buttonIcon:{color:i.icon.secondary}})),[i]);return(0,k.jsx)(g().A,{style:{...r.actionButton,..."primary"===e?r.primaryActionButton:{}},hoveredStyle:r.actionButtonHovered,pressedStyle:r.actionButtonPressed,disabled:n.disabled||o,onClick:n.onAction,isLoading:n.isLoading,children:(0,k.jsxs)(f().Y1,{direction:"horizontal",align:"center",children:[n.leadingIconProps?(0,k.jsx)(h().Q,{...n.leadingIconProps}):void 0,(0,k.jsx)(b().D,{styleName:"UISmall-12px/Medium",style:"primary"===e?r.primaryActionButtonText:r.secondaryActionButtonText,children:n.title}),n.trailingIconProps?(0,k.jsx)(h().Q,{...n.trailingIconProps}):void 0]})})}function I(t){const{actions:e,invalidated:n}=t,o=(0,s().IS)((t=>({footerContainer:{paddingLeft:8,paddingBottom:4}})),[]),{primary:i,secondary:r}=e;return(0,k.jsxs)(f().Y1,{direction:"horizontal",align:"center-right",style:o.footerContainer,gap:8,children:[r&&(0,k.jsx)(j,{type:"secondary",actionProps:r,invalidated:n}),i&&(0,k.jsx)(j,{type:"primary",actionProps:i,invalidated:n})]})}function P(t){const e=(0,x().tz)(),{updatedAt:n,onReplace:i,onMouseEnter:r,onMouseLeave:a,framerMotion:d}=t,{motion:l}=d,c=(0,C().sM)(d),u=(0,v().ZC)(n),f=(0,s().IS)((t=>{const e=(0,y().O4)({theme:"dark"});return{toastContainer:{display:"flex",alignItems:"flex-start",borderRadius:8,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,outline:"none",background:e.surface.elevated,backdropFilter:"blur(15px)",width:280,padding:"8px 8px 4px 8px",pointerEvents:"auto",minHeight:40},toastContentContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},toastContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4,padding:"4px 28px 8px 4px"},iconContainer:{width:26,height:24,display:"flex",padding:"2px 4px 2px 2px",flexDirection:"column",justifyContent:"center",alignItems:"center"},icon:{display:"flex",width:14,height:14,flexDirection:"column",justifyContent:"center",alignItems:"center",fill:y().XA.dark.translucentGray[800]},title:{color:t.text.contrastPrimary,fontFeatureSettings:"'case' on",overflowWrap:"break-word"},toastMessage:{color:e.text.primary,fontFeatureSettings:"'case' on",overflowWrap:"break-word"},closeButton:{width:24,height:24,position:"absolute",right:8,top:8,gap:8,borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},closeIcon:{width:14,height:14,paddingBottom:.5,fill:y().XA.dark.translucentGray[800]},closeIconHovered:{background:e.state.hover},closeIconPressed:{background:e.state.pressed}}}),[]);(0,o.useEffect)((()=>{(async()=>{n&&(!u||n>u)&&(i(),await c.start({scale:[1,1.05,1],transition:{duration:.15,ease:"easeIn"}}))})()}),[n,u,i,c]);const g=t.jsxMessage??t.message;let S=null;return t.icon?S=(0,k.jsx)("div",{style:f.iconContainer,children:t.icon({...f.icon,...t.iconStyles})}):t.iconGroup&&(S=(0,k.jsx)("span",{style:f.iconContainer,children:(0,k.jsx)(h().Q,{iconGroup:t.iconGroup,colorName:t.iconGroupColorName,variantName:t.iconGroupVariant??"small"})})),(0,k.jsxs)(l.div,{role:"status","aria-live":"polite",onHoverStart:r,onHoverEnd:a,animate:c,style:f.toastContainer,custom:t.id,children:["blocking"!==t.presentationType&&(0,k.jsx)(m().A,{ariaLabel:e.formatMessage({id:"toast.close",defaultMessage:"Close"}),icon:()=>(0,p().V)(f.closeIcon),style:f.closeButton,hoveredStyle:f.closeIconHovered,pressedStyle:f.closeIconPressed,onClick:t.onClose}),S,(0,k.jsxs)("div",{style:f.toastContentContainer,children:[(0,k.jsxs)("div",{style:f.toastContent,children:[t.title&&(0,k.jsx)(b().D,{styleName:"UISmall-12px/Semibold",style:f.title,children:t.title}),g&&(0,k.jsx)(b().D,{styleName:"UISmall-12px/Regular",customStyles:f.toastMessage,children:g})]}),t.actions?(0,k.jsx)(I,{actions:t.actions,invalidated:t.invalidated}):void 0]})]})}function w(t){const{value:e}=(0,S().fJ)(C().fM);return e?(0,k.jsx)(P,{...t,framerMotion:e}):null}const A=201;function B(){const t=(0,i().v3)(),[e,n]=(0,o.useState)({}),[s,c]=(0,o.useReducer)((t=>t+1),0),v=(0,o.useRef)({}),p=(0,o.useRef)(),x=(0,o.useRef)({}),y=(0,r().K8)((()=>u().A.state.toasts),[]),[f]=(0,r().K8)((()=>[t.WindowSizeStore.getSafePaddingBottomPx(20)]),[t.WindowSizeStore]),g=(0,o.useCallback)((()=>{let t;const n=Object.keys(e).filter((n=>{var o,i;return n===(null===(o=p.current)||void 0===o?void 0:o.toast.id)&&(t=e[n]),n!==(null===(i=p.current)||void 0===i?void 0:i.toast.id)})).map((t=>e[t])).sort(((t,e)=>{var n,o;return(null===(n=e.createdAt)||void 0===n?void 0:n.valueOf())-(null===(o=t.createdAt)||void 0===o?void 0:o.valueOf())}));if(t&&p.current&&void 0!==p.current.index){const{index:e}=p.current;n.splice(e,0,t),p.current.index=n.indexOf(t)}return n}),[e]),m=(0,o.useCallback)((t=>{clearTimeout(v.current[t]),delete v.current[t]}),[]),h=(0,o.useCallback)(((t,e)=>{var n,o;t.id===(null===(n=p.current)||void 0===n?void 0:n.toast.id)&&(p.current=void 0),m(t.id),null!==(o=x.current)&&void 0!==o&&o[t.id]&&(x.current[t.id].active=!1,e&&(x.current[t.id].suppressOnDismiss=e)),c()}),[m]),b=(0,o.useCallback)((t=>{var e,n;"transient"===t.presentationType&&!v.current[t.id]&&t.id!==(null===(e=p.current)||void 0===e?void 0:e.toast.id)&&null!==(n=x.current)&&void 0!==n&&null!==(n=n[t.id])&&void 0!==n&&n.active&&(m(t.id),v.current[t.id]=window.setTimeout((()=>h(t)),5e3))}),[m,h]),C=(0,o.useCallback)((()=>{requestAnimationFrame((()=>{const t=g();let e=0;for(const[o,i]of t.entries()){var n;const t=document.querySelector(`[data-toast-id='${i.id}']`);if(!t||i.id===(null===(n=p.current)||void 0===n?void 0:n.toast.id))continue;const r=t.getBoundingClientRect();if(!r.height)return void C();if(x.current[i.id]||(x.current[i.id]={toast:i,active:!0}),x.current[i.id].index=o,x.current[i.id].height=r.height,p.current){const t=p.current;e<t.yPos-t.height||e-r.height>t.yPos||(e=t.yPos+t.height+f)}x.current[i.id].yPos=e,e=e+r.height+f,e>window.innerHeight&&(x.current[i.id].active=!1),b(i)}c()}))}),[g,b,f]);(0,o.useEffect)((()=>{n((t=>{const e={...t,...y};for(const n of Object.values(e))x.current[n.id]&&!y[n.id]&&(x.current[n.id].active=!1);return e}))}),[y]),(0,o.useLayoutEffect)(C,[e,C]),(0,o.useEffect)((()=>(window.addEventListener("resize",C),()=>window.removeEventListener("resize",C))),[C]);const S=(0,o.useCallback)((t=>{var e;null!==(e=x.current)&&void 0!==e&&e[t.id]&&(x.current[t.id].userDismissed=!0),h(t)}),[h]),j=(0,o.useCallback)(((t,e)=>{var n,o,i;m(t.id),null===(n=x.current)||void 0===n||!n[t.id]||null!==(o=x.current)&&void 0!==o&&null!==(o=o[t.id])&&void 0!==o&&o.actionTriggered||null!==(i=x.current)&&void 0!==i&&null!==(i=i[t.id])&&void 0!==i&&i.userDismissed||(x.current[t.id].active=!0,p.current={...x.current[t.id]},C())}),[C,m]),I=(0,o.useCallback)((t=>{var e;t.id===(null===(e=p.current)||void 0===e?void 0:e.toast.id)?(p.current=void 0,C()):b(t)}),[C,b]),P=(0,o.useCallback)((t=>{m(t.id),b(t)}),[m,b]),B=(0,o.useCallback)((t=>{var o;const i=t.target,r=null==i?void 0:i.getAttribute("data-toast-id");if(i&&"opacity"===t.propertyName&&r&&null!==(o=x.current)&&void 0!==o&&o[r]){var s;const t=x.current[r];if(t.active)return;r===(null===(s=p.current)||void 0===s?void 0:s.toast.id)&&(p.current=void 0);const o=e[r];u().A.state.toasts[o.id]&&d().UW(o.id,t.suppressOnDismiss,t.userDismissed),delete x.current[r],n((t=>a().cJ({...t},[r])))}}),[e]);return(0,k.jsx)(l().A,{open:g().length>0,zIndex:A,children:g().map(((t,e)=>{var n;const o=null===(n=x.current)||void 0===n?void 0:n[t.id],i=void 0!==(null==o?void 0:o.yPos)&&(null==o?void 0:o.active),r=null!=o&&o.active?0:100;return(0,k.jsx)(T,{"data-toast-id":t.id,onTransitionEnd:B,yPos:void 0!==(null==o?void 0:o.yPos)?-o.yPos:r,visible:i,children:(0,k.jsx)(w,{...t,onMouseEnter:()=>j(t,e),onMouseLeave:()=>I(t),onReplace:()=>P(t),onClose:()=>S(t),actions:t.actions})},t.id)}))})}function T(t){const{yPos:e,visible:n,children:o,...a}=t,d=(0,i().v3)(),[l,u,v]=(0,r().K8)((()=>[d.WindowSizeStore.getSafePaddingLeftCSS(20),d.WindowSizeStore.getSafePaddingBottomCSS(20),(0,c().kf)(d)]),[d]),p=(0,s().IS)((()=>({toastContainer:{left:v,transform:`translateY(${e??0}px) scale(${n?1:.96})`,transitionDuration:"0.3s",opacity:n?1:0,position:"fixed",bottom:0,transitionProperty:"opacity, transform",marginLeft:l,marginBottom:u}})),[v,l,u,e,n]);return(0,k.jsx)("div",{style:p.toastContainer,...a,children:o})}}}]);