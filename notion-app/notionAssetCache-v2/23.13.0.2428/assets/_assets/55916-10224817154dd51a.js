"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[55916],{56394:(e,i,t)=>{t.d(i,{A:()=>d});t(296540);var n=()=>t(484714),a=()=>t(401497),s=()=>t(668725),o=()=>t(704152),r=()=>t(963589),l=t(474848);function d(e){const{icon:i,title:t,on:d,disabled:c,hasDiff:m,wrapStyle:u,innerStyle:p,hideChevron:g}=e,h=(0,n().v3)(),f=(0,r().X)("db_ux_simplification_next"),v=(0,a().IS)((e=>{const i=h.device.isMobile;return{filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:i?28:24,lineHeight:i?"28px":"24px",padding:"0 8px",...!f&&{border:`1px solid ${e.outlineButtonBorder}`},color:e.mediumTextColor,...d&&{color:e.text.uiBluePrimary,borderColor:e.filterPillBorder,background:e.tint.uiBlue},...c&&{color:e.text.uiBlueTertiary,borderColor:e.text.uiBlueTertiary,background:e.tint.uiBlue},...p},hovered:d?{background:e.tint.uiBlueHover}:{},pressed:d?{background:e.tint.uiBluePressed}:{},chevron:{width:10,marginLeft:4,marginTop:1,fill:c?e.text.uiBlueTertiary:d?e.blueColor:e.lightIconColor},diffDot:{position:"absolute",top:-2,right:-2,background:"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[300],border:`1px solid ${e.contentBackground}`,width:9,height:9,borderRadius:9}}}),[f,c,h.device.isMobile,p,d]);return(0,l.jsxs)("div",{style:{borderRadius:14,marginRight:6,display:"inline-flex",...m&&{position:"relative"},...u},children:[(0,l.jsxs)(o().A,{disabled:c,style:v.filterPill,hoveredStyle:v.hovered,pressedStyle:v.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[i,t,!g&&(0,s().b)(v.chevron)]}),m&&(0,l.jsx)("div",{style:v.diffDot})]})}},60671:(e,i,t)=>{t.d(i,{A:()=>F});t(16280),t(944114),t(517642),t(658004),t(733853),t(845876),t(432475),t(515024),t(731698),t(898992),t(803949),t(581454),t(908872),t(814603),t(147566),t(198721);var n=t(296540),a=()=>t(484714),s=()=>t(56366),o=()=>t(719281),r=()=>t(100622),l=()=>t(496603),d=()=>t(498212),c=()=>t(534177),m=()=>t(449506),u=()=>t(496414),p=()=>t(892632);class g extends(()=>t(757695))().default{getInitialState(){return{inputValues:{}}}}const h=g;var f=()=>t(716878),v=()=>t(336233),S=()=>t(756123),y=()=>t(623580),x=()=>t(331542),b=()=>t(957986),k=()=>t(864943),C=()=>t(125565),A=t(474848);const j={fontWeight:t(284371).Wy.bold,fontSize:20,display:"flex",alignItems:"center",marginBottom:6},w={background:"#F2F2F2",color:"#AAA"},R={width:"calc(100% - 120px)",height:"calc(100% - 120px)",padding:24,fontSize:"1.2em",overflow:"scroll"},B={fontSize:10,position:"absolute",bottom:7,right:20},P="__undefined",D={...["userId","spaceId","blockId","pageId","integrationId","spaceId","fileId","teamId","collectionId","botId"].reduce(((e,i)=>({[i]:v().nZ,[`${i}s`]:v().Gb,...e})),{}),...["userEmail","fromEmail","toEmail"].reduce(((e,i)=>({[i]:v().zg,[`${i}s`]:v().I3,...e})),{}),domain:v().mT,domains:v().hT,supportTicketLink:v().r1};function I(e){const{fieldName:i,acceptMultiple:t,store:s}=e,[o,l]=(0,n.useState)((()=>({isUploading:!1,errorMessage:void 0,uploadedFileUrls:[]}))),d=(0,a().v3)();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(k().A,{size:"lg",style:{width:"fit-content",backgroundColor:"white"},onClick:()=>{p().Bz({multiple:!!t,environment:d,onStart:()=>{l({...o,isUploading:!0,errorMessage:void 0,uploadedFileUrls:[]})},bucket:"public",onError:e=>{l({isUploading:!1,errorMessage:e.message,uploadedFileUrls:[]})},onComplete:e=>{l({isUploading:!1,errorMessage:void 0,uploadedFileUrls:e}),s.setState({response:void 0,inputValues:{...s.state.inputValues,[i]:t?e:e[0]}})},accept:"image/*"})},children:[t?"Upload images":"Upload image",o.isUploading&&(0,A.jsx)(x().A,{style:{marginLeft:4}})]}),o.uploadedFileUrls&&(0,A.jsx)("div",{children:o.uploadedFileUrls.join(",")}),o.errorMessage&&(0,A.jsx)("div",{style:{color:r().Ay.red,display:"inline-flex",marginLeft:8},children:o.errorMessage})]})}const M=(0,t(959013).YK)({loading:{id:"adminAPIRequest.loadingMessage",defaultMessage:"Loadingâ€¦"}}),U=n.forwardRef((function(e,i){const{api:o,owner:r,defaultParams:d,hasPermission:c,showByDefault:m,singleRecordMode:u}=e,{apiName:p,displayName:g,schema:v,description:y,emoji:b,isDestructive:R}=o,P=(0,n.useRef)(null),D=(0,n.useRef)(null),I=(0,s().uB)(void 0,h),M=(0,a().v3)();(0,t(852507).l)((()=>{z(e,I)})),(0,n.useEffect)((()=>{O(m,u)&&_(M,o,I)}),[]),(0,n.useImperativeHandle)(i,(()=>({focus:()=>{var e;null===(e=P.current)||void 0===e||e.focus()}})),[]);const U=(0,n.useCallback)((()=>{_(M,o,I)}),[M,o,I]),F=(0,s().K8)((()=>-1!==(f().A.getState()||[]).indexOf(p)),[p]),T=F?"â­":"â˜†",L=(0,A.jsx)("a",{onClick:()=>function(e){const i=f().A.getState()||[],t=i.indexOf(e.apiName);-1===t?i.push(e.apiName):i.splice(t,1);f().A.setState(i)}(o),style:{cursor:"pointer"},children:(0,A.jsx)(S().A,{size:18,emoji:T})}),V=F||!1!==c,N=(0,A.jsx)(t(859428).A,{renderTooltip:()=>(0,A.jsxs)("div",{style:{width:320,whiteSpace:"normal"},children:["You do not have permission to ",(0,A.jsx)("i",{children:o.apiName}),". To receive temporary access, please follow"," ",(0,A.jsx)(t(187485).A,{href:"https://dev.notion.so/notion/Admin-Mode-Request-Temporary-Access-3e1c84d2859d4061a18046d49eda6086?pvs=4",external:!0,style:{textDecoration:"underline"},children:"these instructions."})]}),render:e=>(0,A.jsx)("div",{...e,children:(0,A.jsx)("span",{title:"No permission",children:(0,A.jsx)(S().A,{size:18,emoji:"ðŸš«",alt:"No permission"})})}),closeDelay:1e3,allowHover:!0}),{confirmationResponse:W,response:H}=(0,s().O$)(I),J={...e.style,...!1===c?w:{}};return(0,A.jsxs)("div",{style:J,children:[(0,A.jsxs)("div",{style:j,children:[(0,A.jsx)(S().A,{size:24,emoji:b}),(0,A.jsx)("span",{style:{marginLeft:4},children:g||l().NZ(p.replace(/^(admin)/,""))}),(0,A.jsx)("span",{style:{flexGrow:1}}),V&&L,!1===c&&N]}),y&&(0,A.jsx)(C().A,{isSmall:!0,isMultiline:!0,children:y}),!O(m,u)&&(0,A.jsxs)(A.Fragment,{children:[Object.entries(v).map(((e,i)=>{let[t,n]=e;return d&&d[t]?void 0:(0,A.jsx)(E,{schema:n,keyProp:t,index:i,firstInputRef:P,fileInputRef:D,handleSubmitClick:U,hasPermission:c,store:I},t)})),(0,A.jsx)(k().A,{style:{marginTop:8,marginBottom:8},size:"lg",onClick:U,color:R?"uiRed":void 0,disabled:!1===c,children:"Submit"})]}),O(m,u)&&!H&&(0,A.jsxs)("div",{children:[(0,A.jsx)(x().A,{legacySize:18}),"Loading ..."]}),(0,A.jsx)(G,{response:W}),(0,A.jsx)(K,{api:o,store:I,response:W}),(0,A.jsx)(G,{response:H}),(0,A.jsx)(q,{adminAPIRequestProps:e,store:I,response:H}),r&&(0,A.jsx)("div",{style:B,children:r&&(0,A.jsxs)("span",{children:["Owned by"," ",(0,A.jsx)("a",{href:`https://notion.slack.com/app_redirect?channel=${r.slackChannel}`,children:r.teamName})]})})]})}));function E(e){const{schema:i,keyProp:a,index:o,firstInputRef:r,fileInputRef:d,handleSubmitClick:m,hasPermission:u,store:p}=e,g=(0,s().K8)((()=>p.state.inputValues[a]),[p,a]),h=0===o?r:void 0,[f,S]=(0,n.useState)("");let x;if(i.type===v().jL.String)x=(0,A.jsx)(y().A,{ref:h,value:"string"==typeof g?g:"",placeholder:V(a,i),showClearButton:!0,onChange:e=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:e.target.value}})},onSubmit:m,onClearButtonClick:()=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:void 0}})},disabled:!1===u});else if(i.type===v().jL.Number){const e="float"===i.numberType?parseFloat:parseInt;x=(0,A.jsx)(y().A,{ref:h,type:"number",value:"number"==typeof g?g.toString():"",onChange:i=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:e(i.target.value)}})},onSubmit:m,disabled:!1===u})}else if(i.type===v().jL.Options){const e=[P,...i.options],n={menuTitle:a,items:e,selectedItem:g,onSelect:e=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:e===P?void 0:e}})},getKey:e=>e,renderItem:e=>(0,A.jsx)(t(760217).A,{...e,title:e.value===P?"Empty":e.value}),renderOrigin:e=>(0,A.jsx)(k().A,{size:"lg",style:{marginBottom:8},...e,children:g||"Empty"}),width:300,disabled:!1===u};x=(0,A.jsx)(t(933117).A,{...n})}else if(i.type===v().jL.Boolean)x=(0,A.jsx)(t(625830).A,{checked:Boolean(g),size:20,onClick:e=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:!Boolean(g)}})},disabled:!1===u});else if(i.type===v().jL.Csv)x=(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(k().A,{size:"lg",onClick:()=>{var e;null==d||null===(e=d.current)||void 0===e||e.click()},style:{marginRight:10},children:"Upload"}),f,(0,A.jsx)("input",{ref:d,style:{display:"none"},type:"file",name:i.name||"csv file",onChange:e=>async function(e,i,t,n){const a=i.target.files;if(null==a||!a.length)return;const s=a[0],o=await s.text();n(s.name),t.setState({response:void 0,inputValues:{...t.state.inputValues,[e]:o}})}(a,e,p,S),disabled:!1===u})]});else if(i.type===v().jL.Image||i.type===v().jL.Images){const e=i.type===v().jL.Images;x=(0,A.jsx)(I,{fieldName:a,acceptMultiple:e,store:p})}else if(i.type===v().jL.Timezone)x=(0,A.jsx)(t(304422).G,{enableRecents:!0,currentValue:void 0,renderOrigin:e=>(0,A.jsx)(k().A,{size:"lg",...e,children:g}),onSelect:e=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:e}})}});else if(i.type===v().jL.Multiselect){const e=i.options.map(((e,i)=>({key:String(i),value:e.value,title:e.displayName,caption:e.value}))),n=g,s=i.defaultValue??[],o=Array.isArray(n)?n:s,r=o.length>0?`${o.length} selected`:"Empty";x=(0,A.jsx)(t(567865).uI,{pillTitle:r,pillIcon:t(486521).v,setSelectedItems:e=>{p.setState({inputValues:{...p.state.inputValues,[a]:e}})},selectedItems:o,items:e})}else i.type===v().jL.Section?x=(0,A.jsx)(t(568721).b,{sections:[{key:a,title:i.name??l().NZ(a),content:(0,c().WP)(i.components).map((e=>{let[i,t]=e;return(0,A.jsx)(E,{schema:t,keyProp:i,index:o,firstInputRef:r,fileInputRef:d,handleSubmitClick:m,hasPermission:u,store:p},i)}))}]}):(0,c().HB)(i);return(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{style:{marginTop:12,marginBottom:4},children:i.type!==v().jL.Section&&l().NZ(a)}),i.comment&&(0,A.jsx)(C().A,{isSmall:!0,isMultiline:!0,style:{marginTop:4,marginBottom:8},children:i.comment}),x]},a)}const F=U;function T(e){if(i=e,Boolean("success"===i.type&&Array.isArray(null===(t=i.data)||void 0===t?void 0:t.rows)&&(null===(n=i.data)||void 0===n?void 0:n.rows.length)>0&&"string"==typeof(null===(a=i.data)||void 0===a?void 0:a.filename))){const{filename:i,rows:t}=e.data,n=Array.from(t.reduce(((e,i)=>(Object.keys(i).forEach((i=>e.add(i))),e)),new Set)),a=[n];for(const e of t){const i=new Array(n.length);for(let t=0;t<i.length;t++){const a=n[t];i[t]=e[a]}a.push(i)}const s=a.map((e=>e.join(","))).join("\n"),o=new Blob([s],{type:"data:text/csv"}),r=window.URL.createObjectURL(o),l=document.createElement("a");return l.download=i,l.href=r,l.click(),!0}var i,t,n,a;return!1}function L(e,i){const t={},n=new Map;(0,c().WP)(i).forEach((e=>{let[i,t]=e;t.type===v().jL.Section?(0,c().WP)(t.components).forEach((e=>{let[i,t]=e;n.set(i,t)})):n.set(String(i),t)}));for(const a of Object.keys(e)){const i=e[a];n.get(a)&&(l().Kg(i)&&d().c_(i.trim())?t[a]=d().np(i.trim()):t[a]=i)}return t}function G(e){var i;let{response:n}=e;if(!n)return null;if("success"===n.type)return null;const a=(0,t(974233).V)(n),s="admin_tool_insufficient_permissions"===(null===(i=n.body)||void 0===i||null===(i=i.clientData)||void 0===i?void 0:i.type),o={color:r().Ay.red,display:"inline-block",marginLeft:8};return 401!==n.status||s?(0,A.jsx)("div",{style:o,children:a}):(0,A.jsxs)("div",{style:o,children:[a," Likely fixed by"," ",(0,A.jsx)(t(296798).A,{innerStyle:{textDecoration:"underline"},href:t(427704).JZ.login,children:"signing in."})]})}function O(e,i){return e&&i}function V(e,i){return void 0!==i.placeholder?i.placeholder:(0,c().O)(D,e)?D[e]:void 0}function N(e){return(0,c().O)(o().Jv,e.apiName)?o().Jv[e.apiName]:void 0}function z(e,i){const{defaultParams:t}=e,n={};for(const a of Object.keys(e.api.schema)){const i=e.api.schema[a];t&&t[a]?n[a]=t[a]:i&&void 0!==i.defaultValue?n[a]=i.defaultValue:n[a]=void 0}i.setState({inputValues:n})}function W(e,i,t){const{schema:n}=i,{inputValues:a}=t.state,s=N(i);if(!s)throw new Error("Should not have gotten here without a confirmationApi");const o=L(a,n);u().m({message:M.loading}),m().callApi({eventName:s,environment:e,data:o}).then((e=>{u().V(),T(e),t.setState({...t.state,confirmationResponse:e})}))}function H(e,i,t){const{apiName:n,schema:a}=i,{inputValues:s}=t.state,o=L(s,a);u().m({message:M.loading}),m().callApi({eventName:n,environment:e,data:o}).then((e=>{u().V(),T(e)||t.setState({...t.state,confirmationResponse:void 0,response:e})}))}function _(e,i,t){N(i)?W(e,i,t):H(e,i,t)}function K(e){let{response:i,api:s,store:o}=e;const r=(0,a().v3)(),l=(0,n.useCallback)((()=>H(r,s,o)),[r,s,o]),d=(0,n.useCallback)((()=>function(e){e.setState({inputValues:e.state.inputValues})}(o)),[o]);return i&&"success"===i.type?(0,A.jsx)(b().A,{open:!0,innerStyle:R,onDismiss:d,transitionAppearance:"none",render:()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(C().A,{isSmall:!0,isMultiline:!0,style:{marginBottom:8},children:"Does this information about the action you're about to take look good to you? Hit Confirm if it does. Cancel if not."}),(0,A.jsx)(t(305872).H,{data:i.data}),(0,A.jsx)(k().A,{style:{marginTop:8,marginBottom:8},size:"lg",onClick:l,children:"Confirm"}),(0,A.jsx)(k().A,{style:{marginTop:8,marginBottom:8,marginLeft:8},size:"lg",onClick:d,children:"Cancel"})]})}):null}function q(e){let{response:i,adminAPIRequestProps:s,store:o}=e;const{api:r,singleRecordMode:l,showByDefault:d}=s,c=(0,a().v3)(),m=(0,n.useCallback)((()=>function(e,i,t){if(!t.state.response)return;"failed"===t.state.response.type||e.isReadOnly?t.setState({inputValues:t.state.inputValues}):z(i,t)}(r,s,o)),[r,s,o]);if(!i||"success"!==i.type)return null;const u=r.customResponseRenderer?(0,A.jsx)(r.customResponseRenderer,{data:i.data,environment:c,singleRecordMode:l}):(0,A.jsx)(t(107473).A,{data:i.data});return O(d,l)?u:(0,A.jsx)(b().A,{open:Boolean(i&&"success"===i.type),innerStyle:R,onDismiss:m,transitionAppearance:"none",render:()=>u})}},265003:(e,i,t)=>{t.d(i,{B:()=>l});t(517642),t(658004),t(733853),t(845876),t(432475),t(515024),t(731698);var n=()=>t(484714),a=()=>t(56366),s=()=>t(187174),o=()=>t(449506),r=()=>t(186445);function l(e){const i=(0,n().v3)(),t=(0,a().K8)((()=>{const e=(0,r()._m)(i);return null==e?void 0:e.isDefined()}),[i]);(0,s().Yb)((async()=>{if(!t||void 0!==e.state.currentUserPermissions)return;const n=await o().callApi({eventName:"adminGetCurrentUserPermissions",environment:i,data:{}});if("failed"===n.type)e.setState({...e.state,fetchPermissionsErrored:!0});else{const i=n.data.permissions?new Set(n.data.permissions):void 0;e.setState({...e.state,currentUserPermissions:i,fetchPermissionsErrored:!1})}}),[t,e,i]),(0,s().Yb)((async()=>{if(!t||!e||void 0!==e.state.apiOwnershipMap)return;const n=await o().callApi({eventName:"adminGetOwnership",environment:i,data:{}});"failed"===n.type||n&&e.setState({...e.state,apiOwnershipMap:n.data})}),[t,e,i])}},472008:(e,i,t)=>{t.r(i),t.d(i,{Section:()=>E,adminHeaderStyle:()=>M,adminItemStyle:()=>P,adminStyle:()=>D,adminWarningTextStyle:()=>U,adminWrapStyle:()=>I,default:()=>F});t(517642),t(658004),t(733853),t(845876),t(432475),t(515024),t(731698),t(898992),t(354520),t(581454);var n=t(296540),a=()=>t(764038),s=()=>t(484714),o=()=>t(56366),r=()=>t(719281),l=()=>t(681546),d=()=>t(381138),c=()=>t(427704),m=()=>t(100622),u=()=>t(496603),p=()=>t(284371),g=()=>t(85562),h=()=>t(435009),f=()=>t(186445),v=()=>t(621979),S=()=>t(265003),y=()=>t(716878),x=()=>t(889123),b=()=>t(60671),k=()=>t(336233),C=()=>t(587124),A=()=>t(623580),j=()=>t(296798),w=()=>t(864943),R=()=>t(313786),B=t(474848);const P={width:500,padding:18,margin:8,border:`1px solid ${m().x0().outlineButtonBorder}`,background:"white",position:"relative"},D={display:"flex",flexWrap:"wrap"},I={height:"100vh",overflow:"auto",background:m().x0().surface.wash,padding:8},M={fontWeight:p().Wy.bold,fontSize:36},U={fontWeight:p().Wy.bold,color:"red"},E=(0,n.forwardRef)((function(e,i){const{title:t,children:n,id:a}=e;return!n||Array.isArray(n)&&!n.length?null:(0,B.jsxs)("div",{ref:i,id:a,style:{...D,marginTop:12,marginBottom:12,width:"100%"},children:[(0,B.jsx)("div",{style:{...M,width:"100%",marginLeft:P.margin},children:t}),n]})}));function F(){const e=(0,s().v3)(),i=(0,o().uB)(void 0,x().A),[t,F]=(0,o().K8)((()=>{const i=(0,f()._m)(e);return[null==i?void 0:i.isDefined(),null==i?void 0:i.getEmail()]}),[e]);(0,S().B)(i);const{apiOwnershipMap:T,currentUserPermissions:L,fetchPermissionsErrored:G}=(0,o().K8)((()=>{const{apiOwnershipMap:e,currentUserPermissions:t,fetchPermissionsErrored:n}=i.state;return{apiOwnershipMap:e,currentUserPermissions:t,fetchPermissionsErrored:n}}),[i]),[O,V]=(0,n.useState)(""),[N,z]=(0,n.useState)(!1),[W,H]=(0,n.useState)(""),_=(0,n.useCallback)((e=>{V(e.target.value)}),[V]),K=(0,n.useCallback)((()=>{z((e=>!e))}),[z]),q=(0,n.useMemo)((()=>{const e=O.toLowerCase();if(!(e.length<=1))try{return new RegExp(e,"i")}catch(i){return void console.error(`Can't filter with invalid regex "${e}"`,i)}}),[O]),J=(0,n.useRef)(null),Z=(0,n.useRef)(null),$=(0,n.useMemo)((()=>({find:n.createRef(),findAdminLogs:n.createRef(),pricing:n.createRef(),subscriptions:n.createRef(),recovery:n.createRef(),security:n.createRef(),saml:n.createRef(),contentModeration:n.createRef(),rateLimits:n.createRef(),experiments:n.createRef(),utilities:n.createRef(),integrations:n.createRef(),marketing:n.createRef(),domainClaim:n.createRef(),workspaceConsolidation:n.createRef(),ai:n.createRef(),calendar:n.createRef(),homeDigestEmail:n.createRef(),search:n.createRef(),marketplace:n.createRef()})),[]),Y=(0,n.useMemo)((()=>Object.fromEntries(r().wJ.map((e=>[e,()=>{z(!0),H(e)}])))),[z]);(0,n.useEffect)((()=>{if(W){const e=$[W];null!=e&&e.current&&(e.current.scrollIntoView(),H(""))}}),[W,H,$]);const Q=(0,n.useCallback)((()=>{g().A(e)}),[e]),X=(0,n.useCallback)((i=>{var t;(0,v().A)(e,i,"command+/")&&(i.preventDefault(),V(""),null===(t=J.current)||void 0===t||t.focus())}),[e,J]);(0,n.useEffect)((()=>(window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X)})),[X]);const ee=(0,n.useMemo)((()=>(void 0!==L?Object.values(k()._P):[]).filter((e=>(void 0===e.productionOnly||e.productionOnly)&&(void 0===e.localOnly||!1))).filter((e=>void 0===L||N||void 0!==q||L.has(e.apiName)))),[N,q,L]),ie=(0,n.useMemo)((()=>void 0!==q?ee.filter((e=>(0,k().sK)(e,q))):ee),[ee,q]),te=(0,o().K8)((()=>new Set(y().A.state||[])),[]),ne=ie.filter((e=>te.has(e.apiName))).map((e=>{const i=T?T[e.apiName]:void 0;return(0,B.jsx)(b().A,{style:P,api:e,owner:i,hasPermission:L?L.has(e.apiName):void 0},e.apiName)})),ae=(0,B.jsx)(E,{id:"favorites",title:"â­ Favorites",children:ne},"favorites");let se=!0;const oe=r().wJ.map((e=>{const i=r().i8[e],t=new Set(i.tools),n=ie.filter((e=>t.has(e.apiName))).map((e=>{const i=se?Z:void 0,t=T?T[e.apiName]:void 0;return se=!1,(0,B.jsx)(b().A,{style:P,ref:i,api:e,owner:t,hasPermission:L?L.has(e.apiName):void 0},e.apiName)}));return(0,B.jsx)(E,{id:e,title:r().i8[e].title,children:n,ref:$[e]},e)}));return(0,B.jsx)(R().A,{title:"Notion Admin Mode",children:(0,B.jsxs)("div",{style:I,children:[(0,B.jsxs)("div",{style:D,children:[(0,B.jsxs)("div",{style:P,children:[(0,B.jsxs)("div",{style:M,children:["Notion Admin Mode"," ",void 0]}),(0,B.jsxs)("div",{style:{marginBottom:12},children:[(0,B.jsx)(j().A,{href:"https://dev.notion.so/notion/Use-Admin-Mode-05f1e0ad9aa749a4b3dc07410b499465",external:!0,inline:!0,underline:!0,children:"Click here"})," ","to learn more about how to use Admin Mode."]}),(0,B.jsxs)("div",{style:{display:"flex"},children:[!t&&(0,B.jsx)("div",{style:U,children:(0,B.jsx)(j().A,{innerStyle:{textDecoration:"underline"},href:c().JZ.login,children:"Please log in."})}),t&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{style:{flex:1},children:["Currently Logged in as: ",F]}),(0,B.jsx)(w().A,{size:"lg",onClick:Q,style:{height:"auto"},children:"Log Out"})]})]}),L&&(0,B.jsx)("div",{style:{display:"flex",marginTop:10},children:(0,B.jsxs)(w().A,{size:"lg",onClick:K,style:{height:"auto"},children:[N?"Hide":"Show"," tools without access"]})}),G&&(0,B.jsx)("div",{style:U,children:"You do not have access to Admin Mode. If logging out and back in doesn't work, get help in the #trust-safety-ask Slack channel."}),!G&&t&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("hr",{}),(0,B.jsx)(C().G,{permissionsSet:L})]}),(0,B.jsxs)(w().A,{size:"lg",onClick:()=>{h().oo({environment:e,url:"/"})},style:{marginTop:12,display:"flex",alignItems:"center"},children:[(0,l().i)({width:12,height:12,marginRight:12}),"Navigate to user workspace"]})]}),!G&&t&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{style:P,children:[(0,B.jsx)("div",{style:{fontWeight:p().Wy.bold,fontSize:18,marginBottom:6},children:"Go to (cmd-/)"}),(0,B.jsx)("div",{style:{marginBottom:14,display:"flex"},children:(0,B.jsx)(A().A,{showClearButton:!0,placeholder:"Filter, then press enter to jump",ref:J,focusInitial:!0,value:O,onChange:_,left:(0,d().q)({width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,fill:m().x0().mediumIconColor}),onSubmit:()=>{Z.current&&Z.current.focus()}})}),r().wJ.map((e=>(0,B.jsx)("div",{style:{marginTop:6},children:(0,B.jsx)(j().A,{onClick:Y[e],underline:!0,children:r().i8[e].title})},e)))]}),ae,oe,ie.length<ee.length&&(0,B.jsxs)("div",{style:{opacity:.7,width:"100%",color:m().x0().lightIconColor,margin:8,fontStyle:"italic"},children:[ee.length-ie.length,' hidden. To show all, press Cmd-/ or click "Clear" above.',(0,B.jsx)("br",{}),u().XM(["Hi, spam duplicate","Your hair is looking so nice today!",'"The faster we are at getting botter, the faster we get botter" - Doug EngelBot',"You're doing a great job, keep it up!!","Computing for everyone","Remember to take a stretch break every once in a while"])]})]})]}),(0,B.jsx)(a().N9,{hideProgressBar:!0,autoClose:1500,transition:a().q7})]})})}},486521:(e,i,t)=>{t.d(i,{v:()=>a});t(296540);var n=t(474848);const a=(0,t(340498).wt)("checkboxSquareChecked",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M2.85742 13.4561H11.1357C12.6123 13.4561 13.3779 12.6904 13.3779 11.2344V2.91504C13.3779 1.45215 12.6123 0.693359 11.1357 0.693359H2.85742C1.38086 0.693359 0.615234 1.45215 0.615234 2.91504V11.2344C0.615234 12.6973 1.38086 13.4561 2.85742 13.4561ZM2.93945 12.1162C2.30371 12.1162 1.95508 11.7812 1.95508 11.1182V3.02441C1.95508 2.36133 2.30371 2.0332 2.93945 2.0332H11.0537C11.6826 2.0332 12.0381 2.36133 12.0381 3.02441V11.1182C12.0381 11.7812 11.6826 12.1162 11.0537 12.1162H2.93945ZM6.26855 10.3115C6.51465 10.3115 6.72656 10.1885 6.87012 9.96973L9.92578 5.19141C10.0146 5.04785 10.0967 4.88379 10.0967 4.72656C10.0967 4.3916 9.7959 4.16602 9.47461 4.16602C9.26953 4.16602 9.08496 4.27539 8.94141 4.50781L6.24121 8.8418L4.96973 7.22168C4.80566 7.00977 4.6416 6.93457 4.43652 6.93457C4.10156 6.93457 3.8418 7.20117 3.8418 7.54297C3.8418 7.70703 3.90332 7.85742 4.01953 8.00098L5.63281 9.96973C5.81738 10.209 6.01562 10.3115 6.26855 10.3115Z"})})},583482:()=>{},681546:(e,i,t)=>{t.d(i,{i:()=>a});t(296540);var n=t(474848);const a=(0,t(340498).wt)("arrowLeft",{viewBox:"0 0 30 30",svg:(0,n.jsx)("polygon",{points:"29 14 4.813 14 13.406 5.406 12 4 1 15 12 26 13.406 24.594 4.813 16 29 16"})})},716878:(e,i,t)=>{t.d(i,{A:()=>n});const n=new(t(178624).R)({key:"adminFavoriteToolsSetting",namespace:t(419494).Bq,important:!1,trackingType:"preference"})},719281:(e,i,t)=>{t.d(i,{Jv:()=>s,i8:()=>n,wJ:()=>a});const n={find:{title:"Find user and workspace information",tools:["adminSearchUsers","adminSearchSpaces","adminSearchBlocks","adminSearchBlockBySlug","adminSearchTeams","adminSearchCollections","adminSearchCollectionViews","adminSearchForUsersInSpaces","adminGetDataAccessConsent","adminSearchPermanentlyDeletedPages","adminSearchSpaceActivity","adminGetPublicPages","adminGetPublicForms","adminGetPublicDomainStatus","adminGetBulkSpaceIdsByDomain","adminGetBulkSpaceIdsByEmail","adminGetBulkUserIdsByEmail","isEmailEducation","adminGetSpaceMembershipUpdates","adminGetProcessedSpaceMembershipUpdates","adminFlushSpaceMembershipUpdates","adminGetBillingDataInformation","adminFindDeletedUser","adminCountWordsInPage","adminReadBlockPermissions","adminGetAutomationsForRecordId","adminGetAutomationRecurrenceStatus","adminSearchOrganizations","adminGetPremiumFeatureAvailabilities"]},findAdminLogs:{title:"Find Admin logs",tools:["getUserAdminApiLog","getAdminHistory","getSpaceAdminApiLog","getBlockAdminApiLog"]},pricing:{title:"Pricing and credits",tools:["adminAllowlistCreditDomain","adminCancelSubscription","adminReleaseSubscriptionSchedule","adminDowngradeFraudSubscription","getBillingHistory","adminGetUserBillingInformation","adminBulkApplyPromotionCodes","adminBulkUpgradeEduPlusUser","adminBulkCreateTimedTrials","allowEducationEmails","adminRemoveAllowedEducationEmails","getPromoCode","adminBulkAddPromotionCodes","adminPartnerStackFixMissingProductKeys","adminBulkAddEduUniversitiesAndDomains","adminSyncBillingState","adminGetSubscriptionBannerState","adminGetUnrepresentableState","adminSetHighWaterMark","listPrices"]},subscriptions:{title:"Subscriptions",tools:["adminUpdateSubscription","adminGetOrCreateStripeCustomer","adminUpdateAddOnSubscription","adminSetSalesAssistedSubscriptionBanner","adminCheckDomainEligibleForSalesAssisted","adminSetSelfServeEnterpriseEligibility","adminBulkSetSalesAssistedSubscriptionBanner","adminGetSubscriptionBannerHistory","adminEmployeeSubscriptionUpdate","adminMonetizationTaskRunnerEnqueue","adminTriggerSubscriptionAuditor","adminRefundInvoice"]},recovery:{title:"Recovery",tools:["adminRemoveSpaceUsersAndTransferContent","recoverSpace","recoverUser","adminRecoverMfa","adminDeleteUserPasskeys","adminChangeEmail","adminSwapUserEmails","adminSwapUserDomains","adminModifyBlock","adminRestoreBlock","adminSetSpaceDomain","adminSetDefaultPublicDomain","adminViewDeletedCollectionProperties","adminRestoreDeletedCollectionProperties","adminRestoreDeletedGuestPermissions","adminMergeUsers","adminRecoverUserContentInSpace","adminReviveBlocksOnPage","adminRestoreDeletedOrganization"]},security:{title:"Security",tools:["adminSearchAuditLog","adminDisableReverifyForUser","adminAddPublicEmailDomains","adminDeleteSpaces","adminResetAccounts","adminDeleteUser","revokeUserTokens","adminBlockApiBots","adminRevokeBotToken","adminDeleteFileFromS3","adminBlockEmailDomain","adminBanUser","adminBulkBanUsers","adminBypassEmailReputationChecks","adminAddPreservedSpaces","adminRemovePreservedSpaces"]},saml:{title:"SAML and Organization",tools:["adminGetSamlConfig","adminGetSpacesForAllowedEmailDomain","adminUpdateSamlConfig","adminUpdateOrganizationSpaces","adminPrimaryWorkspaceChange","adminEditTrustedDomains"]},contentModeration:{title:"Content Moderation",tools:["adminSetPageContentClassification","adminSetDisableSpacePublicAccess","adminReportCSAMContent"]},rateLimits:{title:"Rate limits",tools:["adminGetRateLimits","adminResetRateLimits"]},experiments:{title:"Experiments",tools:["adminGetStatsigExperiment","adminGetStatsigFeatureGate","adminCheckStatsigSegment","adminUpdateStatsigSegmentIds","adminGetClientExperiments","adminViewExperiments","adminUpdateExperiment"]},utilities:{title:"Utilities",tools:["adminSearchUserAdminToolRoles","adminCopyPageBetweenEnvironments","disableUserAnalytics","adminEditBlockPermissions","adminEditSpacePermissions","adminBulkRemoveSpaceGuests","adminOverridePremiumFeatureAvailability","adminOverrideInternalDomains","adminEditTeamMembership","adminUpdateTeamMember","adminUpdateUserSettings","adminShowCustomerInvoice","adminGetBulkIds","adminAddLinkPreviewToSpace","adminQueryCollectionReplay","adminGetSpaceIdsForDeletionDate","adminFindOrphanedBlocks","adminClearFreeChartsForSpace","adminGetFreeChartsForSpace","adminUpdateWorkspaceFreeze","adminCreateWorkspaceInRegion","adminResetEdgeCache"]},integrations:{title:"Integrations",tools:["adminGetIntegrationData","adminGetSlackIntegrationData","adminUpdateIntegrationData","adminGetSyncedDatabaseData","adminForceResyncExternalObjects","adminRemoveChildFromExternalCollection","adminJoinSpacesForOauthRedirect","adminGetWorkspaceWebhookSubscriptions","adminSearchBots","adminListIntegrationWebhookSubscriptions","adminCreateIntegrationWebhookSubscription","adminUpdateIntegrationWebhookSubscription","adminGetCapabilities","adminUpdateCapabilities"]},marketing:{title:"Marketing",tools:["adminCreateMarketingRoute","adminBulkSetStartupReferralPartners"]},domainClaim:{title:"Domain Claim (Management)",tools:["adminGetDomainManagementSettings","adminIsSpaceDomainClaimEligible","adminGetDomainClaimEligibleSpaces","adminClaimAndUpgradeForSalesAssisted","adminDelayClaimSpaceDeletion"]},workspaceConsolidation:{title:"Workspace Consolidation",tools:["adminCancelSpaceConsolidation","adminRunSpaceConsolidation"]},ai:{title:"Notion AI",tools:["adminUpdateNotionAIAvailabilityForSpace","adminAddZeroRetentionSpace","adminCheckHIPAAComplianceStatus","adminOnboardAISlackQnA","adminOptOutNotionAIDataSharing","adminIsWorkspaceInQnA","adminQnACheckIndexingStatus","adminSetAssistantEnabledForSpaces","adminSearchAsUser"]},calendar:{title:"Notion Calendar",tools:["adminUpdateNotionCalendarAvailableForSpace"]},homeDigestEmail:{title:"Digest email powered by Home",tools:["adminScheduleHomeDigestEmail"]},marketplace:{title:"Marketplace",tools:["adminGetTemplateCreator","adminSetCreatorStripeOnboardingStatus","adminReviewMarketplaceRefund","adminCreateMarketplaceRefund","adminGetMarketplaceAcquisitionsForUser","adminIssueMarketplaceRefund","adminCreateOrUpdateMarketplaceCoupon","adminGetMarketplaceCoupon"]}},a=Object.keys(n),s={adminRestoreBlock:"adminDescribeDeletedBlockPermissions",adminRestoreDeletedGuestPermissions:"adminDescribeRestoreDeletedGuestPermissions",adminReviveBlocksOnPage:"adminDescribeBlocksOnPageToRevive",adminDeleteSpaces:"adminDescribeSpacesToDelete",adminResetAccounts:"adminDescribeAccountsToReset",adminDeleteFileFromS3:"adminDescribeDeleteFileFromS3",adminEditSpacePermissions:"adminDescribeEditSpacePermission",adminRunSpaceConsolidation:"adminDescribeRunSpaceConsolidation"};Object.values(s)},806754:(e,i,t)=>{t.d(i,{A:()=>a});t(296540);var n=t(474848);const a=function(e){const i={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:a,marginAfter:s,desktopStyle:o,desktopTitleStyle:r,...l}=e,d=(s||o)&&{...s&&i.marginAfter,...o},c=r?{...i.desktopTitleStyle,...r}:i.desktopTitleStyle;return(0,n.jsx)(t(89924).A,{disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:d,desktopTitleStyle:c,shouldShowBottomDivider:!1,title:a,...l})}},889123:(e,i,t)=>{t.d(i,{A:()=>a});class n extends(()=>t(757695))().default{getInitialState(){return{apiOwnershipMap:void 0,currentUserPermissions:void 0,fetchPermissionsErrored:!1}}}const a=n}}]);