"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[94891],{8802:(e,t,i)=>{i.d(t,{d:()=>c});i(296540);var n=()=>i(484714),o=()=>i(56366),r=()=>i(764880),a=()=>i(53528),s=()=>i(959013),l=()=>i(125565),d=i(474848);function c(e){const{getRecordModel:t,actorPointer:i,lastVerifiedDate:c}=e,u=(0,n().Y0)(),p=(0,s().tz)(),f=(0,o().K8)((()=>(0,r().lR)(p,(0,r().xC)({pointer:i,getRecordModel:t}))),[t,p,i]);return(0,d.jsxs)("div",{style:{padding:"8px 14px"},children:[(0,d.jsx)(l().A,{isSmall:!0,isSecondaryColor:!0,isMobile:u.isMobile,isMultiline:!0,style:{marginBottom:4},children:(0,d.jsx)(s().sA,{defaultMessage:"Last verified by {user}",id:"VerificationMetadata.lastVerified",values:{user:f}})}),(0,d.jsx)(l().A,{isSmall:!0,isSecondaryColor:!0,isMobile:u.isMobile,children:(0,a().OH)({dateTime:c,intl:p})})]})}},51493:(e,t,i)=>{i.d(t,{q:()=>r,y:()=>a});var n=()=>i(534177),o=()=>i(989423);function r(e){const{environment:t,blockStore:i,update:r}=e,a=function(e){switch(e){case"add":return"page_verification_enabled";case"update":return"page_verification_edited";case"remove":return"page_verification_disabled";default:(0,n().HB)(e)}}(r.metadata.action),s=i.id,l=i.getAssociatedCollectionId(),d=i.getSpaceId(),c=r.metadata.entrypoint;let u=l?"db":"non_db";if(l){const e=i.getAssociatedCollectionStore();null!=e&&e.isPageTreeCollection()&&(u="wiki")}"page_verification_enabled"===a&&(0,o().u4)({environment:t,event:{eventName:a,eventProperties:{entrypoint:c,page_type:u,page_id:s,collection_id:l,space_id:d,expiration:r.metadata.expiration??void 0,expiration_date:r.metadata.expiration_date??void 0}}}),"page_verification_edited"===a&&(0,o().u4)({environment:t,event:{eventName:a,eventProperties:{entrypoint:c,page_type:u,page_id:s,collection_id:l,space_id:d,expiration:r.metadata.expiration??void 0,expiration_date:r.metadata.expiration_date??void 0}}}),"page_verification_disabled"===a&&(0,o().u4)({environment:t,event:{eventName:a,eventProperties:{entrypoint:c,page_type:u,page_id:s,collection_id:l,space_id:d}}})}function a(e){const{environment:t,blockStore:i,entrypoint:n,action:r}=e,a=i.id,s=i.getAssociatedCollectionId(),l=i.getSpaceId();let d=s?"db":"non_db";if(s){const e=i.getAssociatedCollectionStore();null!=e&&e.isPageTreeCollection()&&(d="wiki")}(0,o().u4)({environment:t,event:{eventName:"page_verification_owner_edited",eventProperties:{entrypoint:n,page_type:d,action:r,page_id:a,collection_id:s,space_id:l}}})}},66323:(e,t,i)=>{i.d(t,{b:()=>l,h:()=>d});var n=()=>i(713998),o=()=>i(798880),r=()=>i(931075),a=()=>i(606952),s=()=>i(317909);function l(e){const{environment:t,blockStore:i,verificationValue:l}=e,d=i.getPropertyStore(r()._e.Verification),c=(0,n().j2)(l),u=i.getPropertyStore(r()._e.Owner),p=t.currentUser.id,f=p?{table:o().oo,id:p}:void 0;s().createAndCommit({userAction:"PageAddVerificationButton.verifyPage",environment:t,canUndo:!0,perform:e=>{a().KY({environment:t,store:d,value:c,transaction:e}),f&&s().applyOperation({transaction:e,store:u,operation:{path:u.path,pointer:u.pointer,command:"addPersonAfter",args:{pointer:f}}})}})}function d(e){const{environment:t,blockStore:i,verificationValue:o}=e,l=i.getPropertyStore(r()._e.Verification),d=(0,n().j2)(o);s().createAndCommit({userAction:"PageVerificationBadge.updatePageVerification",environment:t,canUndo:!0,perform:e=>{a().KY({environment:t,store:l,value:d,transaction:e})}})}},80826:(e,t,i)=>{i.r(t),i.d(t,{PageAddVerificationButton:()=>x});i(296540);var n=()=>i(484714),o=()=>i(401497),r=()=>i(713998),a=()=>i(372160),s=()=>i(959013),l=()=>i(436572),d=()=>i(147294),c=()=>i(747100),u=()=>i(493823),p=()=>i(406699),f=()=>i(646614),v=()=>i(908671),g=()=>i(66323),y=()=>i(51493),m=()=>i(122894),h=i(474848);function x(e){const{store:t,style:i,showUpsell:x,showNewBadge:b}=e,C=(0,n().v3)(),M=(0,s().tz)(),S=C.device.isMobile,T=(0,h.jsx)(s().sA,{id:"PageViewBlock.verification.verifyPage",defaultMessage:"Verify"}),k=(0,o().IS)((()=>({container:{width:S?void 0:265}})),[S]);return(0,h.jsx)(p().Ay,{popupType:S?p().z7.BottomSheet:p().z7.Popup,renderOrigin:e=>(e=>{let{buttonPopupEvents:t={}}=e;return(0,h.jsxs)(u().p,{style:i,isLightGray:!0,icon:a().E,...t,children:[T,!x&&b&&(0,h.jsx)(d().E,{style:{marginLeft:4},newBadgeKey:"verification",didUserEngage:!1})]},"add-verification")})({buttonPopupEvents:e}),render:e=>(0,h.jsx)("div",{style:k.container,children:(0,h.jsx)(v().y,{propertyName:M.formatMessage(m().n.addVerificationMenuTitle),onChange:i=>{(e=>{if(g().b({environment:C,blockStore:t,verificationValue:e.value}),(0,c().cq)(t)){const i=(0,r().j2)(e.value);l().D6({label:(0,h.jsx)(f().V,{textValue:i,rootStore:t})})}(0,y().q)({environment:C,blockStore:t,update:e})})(i),e.close()},verificationValue:void 0,getRecordModel:t.getRecordModel,blockId:t.id,onClose:()=>{S&&e.close()},showTitle:!0,showCurrentStatusHeader:!0,showRemoveVerificationButton:!0,showVerificationFooter:!0,showCustomHeader:!1,showUpsell:x,entrypoint:"title_button"})})})}},118849:(e,t,i)=>{i.d(t,{A:()=>u});i(296540);var n=()=>i(56366),o=()=>i(979340),r=()=>i(959013),a=()=>i(100622),s=()=>i(284371),l=()=>i(824160),d=()=>i(991249),c=i(474848);const u=function(e){let{subscriptionTier:t,mobileStyle:u,desktopStyle:p,analyticsName:f,onClick:v,disableTooltip:g}=e;const y=(0,i(401497).DP)(),m=(0,i(484714).v3)(),{device:h}=m,x=(0,n().K8)((()=>{const{currentSpaceStore:e}=i(351360).default.state;return null==e?void 0:e.canAdmin()}),[]),b=(0,n().K8)((()=>function(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?a().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:s().Wy.medium};default:return{}}}(t,y)),[t,y]);if(h.isMobileNative)return null;let C;return"personal"===t?C=(0,c.jsx)(r().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,o().$P)(t)?C=(0,c.jsx)(r().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,o().tL)(t)?C=(0,c.jsx)(r().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,o().OX)(t)?C=(0,c.jsx)(r().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,i(534177).HB)(t),h.isMobile||!x?(0,c.jsx)(l().A,{mobileStyle:u,children:C}):(0,c.jsx)(i(859428).A,{delayThreshold:120,disableTooltip:g,placement:i(962730).W.Bottom,renderTooltip:()=>(0,c.jsx)("div",{style:{maxWidth:500},children:(0,c.jsx)(r().sA,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,c.jsx)(l().A,{desktopStyle:p,innerStyle:b,onClick:e=>function(e,t,i,n,o){d().K(n,{from:t,upsell:{type:"product",product:i,limit:{type:"none"}}}),o&&o(e)}(e,f,t,m,v),...e,children:C})})}},122894:(e,t,i)=>{i.d(t,{n:()=>n});const n=(0,i(959013).YK)({expirationProperty:{defaultMessage:"Expiration",id:"verificationHelpers.menuTitle.Expiration"},noExpiration:{defaultMessage:"None",id:"verificationHelpers.noExpiration"},verifierProperty:{defaultMessage:"Owner",id:"verificationHelpers.menuTitle.Owner"},noOwners:{defaultMessage:"No owners",id:"verificationHelpers.noOwners.placeholder"},removeVerificationProperty:{defaultMessage:"Remove verification",id:"verificationHelpers.removeVerification"},nonOwnerCannotRemoveVerification:{defaultMessage:"Only owners can remove verification",id:"verificationHelpers.nonOwnerCannotRemoveVerification"},nonOwnersCannotEditVerification:{defaultMessage:"Only owners can edit verification",id:"verificationHelpers.nonOwnersCannotEditVerification"},ownersAttribution:{defaultMessage:"{numOtherActors, plural, =0 {{actorName}} one {{actorName} and {numOtherActors} other} other {{actorName} and {numOtherActors} others}}",id:"verificationHelpers.displayPageOwners"},verificationMenuTitle:{defaultMessage:"Configure Verification",id:"verificationHelpers.verificationMenu.menuTitle.configureVerification"},addVerificationMenuTitle:{defaultMessage:"Verification Status",id:"verificationHelpers.verificationMenu.menuTitle.addVerification"}})},206837:(e,t,i)=>{i.d(t,{o:()=>p});i(296540);var n=()=>i(484714),o=()=>i(401497),r=()=>i(149375),a=()=>i(959013),s=()=>i(284371),l=()=>i(115512),d=()=>i(398208),c=()=>i(285790),u=i(474848);function p(e){const{label:t,onClickBackButton:i,onClose:p,width:f,showBottomBorder:v}=e,g=(0,n().v3)(),y=(0,a().tz)(),m=(0,o().IS)((e=>({container:{display:"flex",alignItems:"center",gap:4,height:40,width:f??320,paddingLeft:8,paddingRight:8,borderBottom:v?`1px solid ${e.regularDividerColor}`:void 0},backButton:{width:24,height:24},closeButton:{position:"absolute",right:0,marginRight:8,borderRadius:"100%"},menuTitle:{flexGrow:1,fontWeight:s().Wy.semibold,fontSize:(0,l().ny)(g,"UIRegular")}})),[g,v,f]);return(0,u.jsxs)("div",{style:m.container,children:[(0,u.jsx)(c().A,{icon:r().v,ariaLabel:y.formatMessage({id:"verificationMenuHeader.backButton.ariaLabel",defaultMessage:"Back"}),onClick:()=>i(),style:m.backButton}),(0,u.jsx)("div",{style:m.menuTitle,children:t}),(0,u.jsx)(d().A,{onClose:()=>p(),style:m.closeButton})]})}},324561:(e,t,i)=>{i.d(t,{Gi:()=>f,Q7:()=>p,UU:()=>v,_3:()=>u,a9:()=>c,f_:()=>d});var n=()=>i(484714),o=()=>i(56366),r=()=>i(857639),a=()=>i(762433),s=()=>i(596513),l=()=>i(714300);function d(e){let{spaceId:t}=e;const i=(0,n().v3)();return(0,o().K8)((()=>{if(t)return s().t.getData(i,{spaceId:t})}),[i,t])}function c(e){if("admin"===(null==e?void 0:e.type))return e}function u(e){let{spaceId:t}=e;return c((0,l().l)({spaceId:t}))}function p(e,t,i){if(!t)return 0;const n=(0,a().yB)({spaceId:e,logFunction:r().log.bind(r()),billingData:t});return n?Math.max(n,i):0}function f(e){var t;const i=null===(t=(0,a().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!i)return;const n=i.unitAmount,o="year"===i.billingInterval?12:1;return{amount:n.amount/o,currencyCode:n.currencyCode}}function v(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},513488:(e,t,i)=>{i.d(t,{$:()=>n,A:()=>r});const n={INVALID_DATE:"Invalid date",INVALID_RANGE:"Invalid range",NOT_SUPPORTED:"Not supported"};class o extends(()=>i(757695))().default{getInitialState(){return{edited:!1,temporary:"",error:void 0}}}const r=o},541181:(e,t,i)=>{i.d(t,{n:()=>r});var n=()=>i(645873);const o=new(n().O2)("react-day-picker",(async()=>await Promise.all([i.e(95555),i.e(75831),i.e(68548)]).then(i.bind(i,762290)))),r=(0,n()._h)(o,(e=>e.default))},573351:(e,t,i)=>{i.d(t,{A:()=>r});var n=i(296540),o=i(474848);const r=function(e){let{firstDayOfWeek:t,value:r,selectValue:a=!0,onChange:s,onFocus:l,onBlur:d,disabledDays:c,className:u}=e;const p=(0,n.useMemo)((()=>new Date(r)),[r]),[f,v]=(0,n.useState)(p),g=(0,n.useRef)(r);(0,n.useLayoutEffect)((()=>{g.current!==r&&(v(new Date(r)),g.current=r)}),[r]);const y=(0,n.useCallback)(((e,t,i)=>{s(e.getTime())}),[s]);return(0,o.jsx)("div",{style:{paddingRight:8,paddingBottom:8,paddingLeft:8,paddingTop:4},children:(0,o.jsx)(i(541181).n,{locale:i(662303).locale,className:u??"notion-calendar-picker",numberOfMonths:1,weekStartsOn:t,modifiers:a?{value:p}:{},showOutsideDays:!0,fixedWeeks:!0,onDayClick:y,onMonthSelected:v,disabled:c,month:f,onDayBlur:d,onDayFocus:l})})}},595967:(e,t,i)=>{i.d(t,{c:()=>g,v:()=>h});i(296540);var n=()=>i(56366),o=()=>i(401497),r=()=>i(964996),a=()=>i(762433),s=()=>i(979340),l=()=>i(959013),d=()=>i(864943),c=()=>i(11978),u=()=>i(624327),p=()=>i(324561),f=()=>i(807778),v=i(474848);function g(e){let{onClick:t,messageKey:i="blank",styleOverrides:n}=e;const a=(0,o().IS)((e=>({button:{display:"flex",alignItems:"center",flex:1,gap:4},icon:{color:e.icon.orangePrimary,width:20}})),[]);return(0,v.jsx)(d().A,{size:"lg",icon:()=>(0,r().e)(a.icon),style:{...a.button,...n},onClick:()=>{(0,u().Ln)({featureHighlight:y(i)}),null==t||t()},children:(0,v.jsx)(l().sA,{...m[i]})})}function y(e){switch(e){case"pageVerification":return"trialStartModalTitlePageVerification";case"privateTeamspaces":return"trialStartModalTitlePrivateTeamspaces";case"connectors":return"trialStartModalTitleAiConnectors";default:return}}const m=(0,l().YK)({blank:{id:"selfServeBusinessTrial.tryButton.blank",defaultMessage:"Try"},privateTeamspaces:{id:"selfServeBusinessTrial.tryButton.privateTeamspaces",defaultMessage:"Try Private Teamspaces"},connectors:{id:"selfServeBusinessTrial.tryButton.connectors",defaultMessage:"Try connectors"},pageVerification:{id:"selfServeBusinessTrial.tryButton.pageVerification",defaultMessage:"Try page verification"},free:{id:"selfServeBusinessTrial.tryButton.free",defaultMessage:"Try for free"},thirtyDays:{id:"selfServeBusinessTrial.tryButton.30Days",defaultMessage:"Try for 30 days"}});function h(){const e=(0,c().O)(),t=(0,p().f_)({spaceId:e});return(0,n().K8)((()=>(0,f().OP)()),[])&&!(0,s().HO)((0,a().AI)(t))}},624199:(e,t,i)=>{i.d(t,{iJ:()=>o});var n=()=>i(757695);n().default.createValue({open:!1,dbPermissionsCount:0,formsConditionalLogicCount:0,privateNamespaceCount:0,billingData:void 0},{name:"SelfServeBusinessTrialEndingModalStore"});const o=n().default.createValue({open:!1},{name:"SelfServeBusinessTrialStartModalStore"});n().default.createValue({open:!1},{name:"SelfServeBusinessTrialStatusModalStore"}),n().default.createValue({open:!1},{name:"SelfServeBusinessTrialLossAversionModalStore"})},624327:(e,t,i)=>{i.d(t,{Ln:()=>o,jS:()=>r});var n=()=>i(624199);function o(e){n().iJ.setState({open:!0,...e})}function r(){n().iJ.setState({open:!1})}},646614:(e,t,i)=>{i.d(t,{V:()=>y});var n=i(296540),o=()=>i(56366),r=()=>i(310442),a=()=>i(824862),s=()=>i(798880),l=()=>i(53528),d=()=>i(931075),c=()=>i(959013),u=()=>i(534177),p=()=>i(630116),f=()=>i(427636),v=()=>i(994006),g=i(474848);function y(e){const{textValue:t,rootStore:i}=e,y=(0,c().tz)(),m=(0,n.useMemo)((()=>{const e=(0,d().U1)(t);return e?d().B2(e):{type:"none"}}),[t]),h=(0,o().K8)((()=>{if("none"!==m.type)return p().sk.createChildStore(i,m.actorPointer)}),[m,i]);if("none"===m.type)return(0,g.jsx)("span",{children:y.formatMessage(d().nl.none)});let x;return void 0===h?x=(0,g.jsx)(v().A,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):h.table===s().oo?x=(0,g.jsx)(v().A,{userStore:h,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):h.table===a().GP?x=(0,g.jsx)(f().A,{botStore:h,style:{display:"inline-flex",alignItems:"baseline"}}):h.table===r().yj?x=(0,g.jsx)(v().A,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):(0,u().HB)(h),"verified"===m.type&&m.isIndefinite?(0,g.jsx)("div",{children:y.formatMessage(d().nl.verifiedIndefinitely,{actor:x})}):(0,g.jsx)("div",{children:y.formatMessage(d().nl.verifiedUntil,{actor:x,datetime:l().T2({dateTime:m.dateTimeRange.end,intl:y,displayInUserTimezone:!0})})})}},712677:(e,t,i)=>{i.d(t,{A:()=>x});var n=i(296540),o=()=>i(484714),r=()=>i(56366),a=()=>i(401497),s=()=>i(597777),l=()=>i(604995),d=()=>i(498140),c=()=>i(959013),u=()=>i(534177),p=()=>i(205098),f=()=>i(780865),v=()=>i(513488),g=()=>i(623580),y=()=>i(419357),m=i(474848);const h=(0,c().YK)({invalidDateError:{id:"dateInputError.invalidDateError.tooltip",defaultMessage:"Invalid date"},invalidDateRangeError:{id:"dateInputError.invalidDateRangeError.tooltip",defaultMessage:"Invalid range"},notSupportedDateRangeError:{id:"dateInputError.notSupportedDateRangeError.tooltip",defaultMessage:"The date is not supported"}});const x=function(e){const t=(0,c().tz)(),o=(0,r().uB)(void 0,v().A),{value:a}=e;(0,n.useEffect)((()=>{o.reset()}),[a,o]);const s=(0,n.useCallback)((()=>(0,m.jsx)(A,{dateInputMenuItemProps:e,store:o})),[e,o]),l=(0,r().K8)((()=>k(t,o)),[t,o]);return l?(0,m.jsx)(i(859428).A,{renderTooltip:()=>l,forceVisibleState:!0,placement:i(962730).W.Left,render:s,originGap:-8}):(0,m.jsx)(A,{dateInputMenuItemProps:e,store:o})};function b(e,t){const{device:i}=e;return i.isMobile?"YYYY-MM-DD":t??s().vz}function C(e,t){const{device:i}=e;return!!i.isMobile||!t}function M(e){return{inputDefault:{background:e.inputBackground,boxShadow:e.inputBoxShadow},inputFocused:{background:e.inputBackground,boxShadow:e.outlineBlueInputBoxShadow},inputError:{background:e.inputBackground,boxShadow:e.outlineRedInputBoxShadow},placeholder:{color:e.lightTextColor}}}function S(e,t){return{menuItem:{marginBottom:e.device.isMobile?1:0},inputWrapper:{borderRadius:6,height:28,paddingRight:C(e,t)?8:0,position:"relative"},inputEditRegion:{width:C(e,t)?"calc(100% - 14px)":"87%"},inputEditRegionMobile:{padding:"2px 6px",position:"relative"},placeholder:{position:"absolute",left:e.device.isIpad?26:12,top:e.device.isIpad?void 0:"50%",transform:"translateY(-50%)"}}}function T(e){let{inputType:t,placeholder:i,value:n,hideClearButton:r}=e;const s=(0,a().DP)(),l=S((0,o().v3)(),r),d=M(s);return"date"!==t||n?null:(0,m.jsx)("div",{style:{...l.placeholder,...d.placeholder},children:i})}function k(e,t){if(t.state.error)switch(t.state.error){case v().$.INVALID_DATE:return e.formatMessage(h.invalidDateError);case v().$.INVALID_RANGE:return e.formatMessage(h.invalidDateRangeError);case v().$.NOT_SUPPORTED:return e.formatMessage(h.notSupportedDateRangeError);default:(0,u().HB)(t.state.error)}}function B(e,t,i,n,o){const r=function(e,t,i,n){if(!i.state.edited)return;if(!i.state.temporary)return{value:void 0};const o=(0,d().yc)(i.state.temporary,e.device.isMobile?l().tr:b(e,n),t);return o?{value:{type:"date",start_date:o}}:{error:v().$.INVALID_DATE}}(e,t,i,o);if(r)return n?n(r):r}function j(e,t,i,n,o){const r=M(e),a=k(n,o);if(!t)return a?r.inputError:i?r.inputFocused:r.inputDefault}function w(e,t,i,n,o,r,a,s){const l=B(e,i,n,r,a);l?(t(l),l.error?n.setState({...n.state,edited:!1,error:l.error}):n.reset()):n.setState({...n.state,edited:!1}),s&&o&&o(s)}function A(e){let{dateInputMenuItemProps:t,store:i}=e;const{store:s,hideClearButton:d,focused:u,value:v,...h}=t,{onBlur:x,onClearButtonClick:M,onFocus:k,onSubmit:A,onUpdate:I,placeholder:P,validate:D,desktopDateFormat:_,inputStyle:V,inputOuterStyle:R,style:E,disabled:O}=t,L=(0,c().tz)(),N=(0,a().DP)(),U=(0,o().v3)(),H=(0,n.useCallback)((e=>w(U,I,L,i,x,D,_)),[U,I,L,i,x,D,_]),z=(0,n.useCallback)((e=>function(e,t,i,n,o,r,a,s){const l=B(t,n,o,a,s);l&&(i(l),l.error?o.setState({...o.state,edited:!1,error:l.error}):o.reset()),r&&r(e,l)}(e,U,I,L,i,A,D,_)),[U,I,L,i,A,D,_]),K=(0,n.useCallback)((e=>function(e,t,i,n,o,r,a,s){const{device:l}=t;o.setState({...o.state,edited:!0,temporary:e.target.value||""}),l.isAndroid&&w(t,i,n,o,r,a,s)}(e,U,I,L,i,x,D,_)),[U,I,L,i,x,D,_]),W=(0,n.useCallback)((()=>function(e,t,i,n,o,r,a){o.setState({...o.state,edited:!0,temporary:"",error:void 0});const s=B(e,n,o,r,a);s&&i(s),o.setState({...o.state,edited:!1}),t&&t()}(U,M,I,L,i,D,_)),[U,M,I,L,i,D,_]),Y=(0,n.useCallback)((e=>function(e,t,i){i.setState({...i.state,edited:!1}),t&&t(e)}(e,k,i)),[k,i]),{device:F}=U,$=F.isMobile&&"relative"!==(null==v?void 0:v.type)?"date":"text",Z="date"===$?g().C.Transparent:g().C.Default,J=F.isMobile?void 0:u,G=(0,r().K8)((()=>function(e,t,i,n,o){const{device:r}=e;if(t&&"relative"===t.type)return(0,p().RR)(t);const a=t&&"date"!==t.type?l().fN(t):t;return r.isMobile?a?f().Yq(a,i,b(e,o)):"":n.state.temporary||n.state.edited?n.state.temporary:a?f().Yq(a,i,b(e,o)):""}(U,v,L,i,_)),[U,v,L,i,_]),q=(0,r().K8)((()=>function(e,t,i,n,o,r,a,s,l,d){const{device:c}=e,u=S(e,d);return{style:{...u.menuItem,...o,marginRight:0},inputOuterStyle:{...j(t,r,a,s,l),...u.inputWrapper,...n},inputStyle:{...u.inputEditRegion,...c.isMobile&&u.inputEditRegionMobile,...i}}}(U,N,V,R,E,O,u,L,i,d)),[U,N,V,R,E,O,u,L,i,d]);return(0,m.jsx)(y().Ay,{...h,type:$,format:Z,left:F.isMobile&&(0,m.jsx)(T,{placeholder:P,value:v,hideClearButton:d,inputType:$}),showClearButton:C(U,d),focus:J,onFocus:Y,onClearButtonClick:W,onChange:K,onSubmit:z,onBlur:H,value:G,disableInput:"relative"===(null==v?void 0:v.type),...q})}},714300:(e,t,i)=>{i.d(t,{l:()=>l});var n=()=>i(484714),o=()=>i(56366),r=()=>i(176983),a=()=>i(596513),s=()=>i(324561);function l(e){let{spaceId:t}=e;const i=(0,n().v3)(),l=(0,r().J)();return(0,o().K8)((()=>{if(!t||!l)return;const e=a().t.getData(i,{spaceId:t});return(0,s().a9)(e)}),[i,t,l],{useDeepEqual:!0})}},908671:(e,t,i)=>{i.d(t,{y:()=>z});var n=i(296540),o=()=>i(484714),r=()=>i(401497),a=()=>i(604995),s=()=>i(416504),l=()=>i(798880),d=()=>i(931075),c=()=>i(959013),u=()=>i(284371),p=()=>i(989423),f=()=>i(722872),v=()=>i(508496),g=()=>i(928600),y=()=>i(45552),m=()=>i(206837),h=()=>i(212050),x=()=>i(760217),b=()=>i(89924),C=i(474848);function M(e){const{onClick:t}=e,i=(0,o().v3)().device.isMobile,n=(0,r().IS)((e=>({buttonStyle:{color:e.text.uiRedPrimary,fontSize:i?u().J.UIRegular.mobile:u().J.UIRegular.desktop}})),[i]);return(0,C.jsx)(b().A,{topBorder:!0,children:(0,C.jsx)(x().A,{focused:!1,icon:(0,h().u)({width:14,marginLeft:0}),title:(0,C.jsx)(c().sA,{defaultMessage:"Remove verification",id:"VerificationPropertyOverlayMenu.removeVerificationButton"}),onClick:t,style:n.buttonStyle})})}var S=()=>i(244641),T=()=>i(56366),k=()=>i(186445),B=()=>i(972435),j=()=>i(712677),w=()=>i(573351);const A=(0,c().YK)({placeholder:{id:"VerificationExpiryMenu.pickSpecificDate.placeholder",defaultMessage:"Pick a date"}});function I(e){const{onChange:t,clearCustomDatePicker:i,verificationState:s,addExtraTopPadding:l}=e,d=(0,n.useRef)(e.today),c=(0,n.useRef)(e.today.plus({days:1})),[u,p]=(0,n.useState)(!1),f=(0,T().O$)(k().XX),v="verified"!==s.type||s.isIndefinite?void 0:s.dateTimeRange.end,g=(0,o().Y0)().isMobile,y=(0,r().IS)((e=>({containerStyle:{paddingTop:l?12:4,paddingBottom:12},mobileContainerStyle:{paddingBottom:10},calendar:g?{padding:"16px 14px 16px",borderBottom:`1px solid ${e.regularDividerColor}`,background:e.popoverBackground,marginTop:27,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}:{},input:g?{padding:"16px 0",marginTop:0}:{}})),[l,g]);return(0,C.jsxs)(b().A,{mobileStyle:y.mobileContainerStyle,style:y.containerStyle,disableMobilePadding:!0,children:[(0,C.jsx)(j().A,{placeholder:B().A.formatMessage(A.placeholder),focused:u,value:"verified"!==e.verificationState.type||e.verificationState.isIndefinite?void 0:a().lN(e.verificationState.dateTimeRange.end),onUpdate:e=>{if(e.error)return;const n=e.value&&a().Dz(e.value);n?t({range:{start:d.current,end:n.start}}):i()},onFocus:()=>p(!0),onBlur:()=>p(!1),onClearButtonClick:i,hideClearButton:!0,style:y.input}),(0,C.jsx)("div",{style:y.calendar,children:(0,C.jsx)(w().A,{firstDayOfWeek:f,value:(null==v?void 0:v.toMillis())||c.current.toMillis(),selectValue:Boolean(v),onChange:e=>{t({range:{start:d.current,end:S().c9.fromMillis(e)},option:"custom"})},disabledDays:{before:new Date(c.current.toMillis())},className:"notion-date-property-menu"})})]})}i(581454);var P=()=>i(599987),D=()=>i(563884);const _=(0,i(340498).wt)("infinity",{viewBox:"0 0 40 19",svg:(0,C.jsx)("path",{d:"M0.297852 9.42383C0.297852 11.2695 0.65918 12.876 1.38184 14.2432C2.11426 15.6104 3.13477 16.6748 4.44336 17.4365C5.75195 18.1885 7.26562 18.5645 8.98438 18.5645C10.3613 18.5645 11.6504 18.2715 12.8516 17.6855C14.0625 17.0898 15.2881 16.1963 16.5283 15.0049L20 11.6504L23.4717 15.0049C24.7119 16.1963 25.9375 17.0898 27.1484 17.6855C28.3594 18.2715 29.6484 18.5645 31.0156 18.5645C32.7344 18.5645 34.248 18.1885 35.5566 17.4365C36.8652 16.6748 37.8809 15.6104 38.6035 14.2432C39.3359 12.876 39.7021 11.2695 39.7021 9.42383C39.7021 7.57812 39.3359 5.97168 38.6035 4.60449C37.8809 3.2373 36.8652 2.17773 35.5566 1.42578C34.248 0.664062 32.7344 0.283203 31.0156 0.283203C29.6484 0.283203 28.3594 0.581055 27.1484 1.17676C25.9375 1.7627 24.7119 2.65137 23.4717 3.84277L20 7.19727L16.5283 3.84277C15.2881 2.65137 14.0625 1.7627 12.8516 1.17676C11.6504 0.581055 10.3613 0.283203 8.98438 0.283203C7.26562 0.283203 5.75195 0.664062 4.44336 1.42578C3.13477 2.17773 2.11426 3.2373 1.38184 4.60449C0.65918 5.97168 0.297852 7.57812 0.297852 9.42383ZM3.5791 9.42383C3.5791 8.23242 3.80371 7.19727 4.25293 6.31836C4.71191 5.43945 5.34668 4.76074 6.15723 4.28223C6.96777 3.80371 7.91016 3.56445 8.98438 3.56445C9.88281 3.56445 10.752 3.78418 11.5918 4.22363C12.4316 4.66309 13.3154 5.3125 14.2432 6.17188L17.7002 9.42383L14.2285 12.6758C13.3105 13.5352 12.4316 14.1846 11.5918 14.624C10.752 15.0635 9.88281 15.2832 8.98438 15.2832C7.91016 15.2832 6.96777 15.0439 6.15723 14.5654C5.34668 14.0869 4.71191 13.4082 4.25293 12.5293C3.80371 11.6406 3.5791 10.6055 3.5791 9.42383ZM22.2998 9.42383L25.7568 6.17188C26.6846 5.3125 27.5684 4.66309 28.4082 4.22363C29.248 3.78418 30.1172 3.56445 31.0156 3.56445C32.0898 3.56445 33.0322 3.80371 33.8428 4.28223C34.6533 4.76074 35.2832 5.43945 35.7324 6.31836C36.1914 7.19727 36.4209 8.23242 36.4209 9.42383C36.4209 10.6055 36.1914 11.6406 35.7324 12.5293C35.2832 13.4082 34.6533 14.0869 33.8428 14.5654C33.0322 15.0439 32.0898 15.2832 31.0156 15.2832C30.1172 15.2832 29.248 15.0635 28.4082 14.624C27.5684 14.1846 26.6895 13.5352 25.7715 12.6758L22.2998 9.42383Z"})});var V=()=>i(53528),R=()=>i(991249),E=()=>i(595967),O=()=>i(118849),L=()=>i(704152);function N(e){const{verificationState:t,onChange:i,onCustomDateClick:a,showTitle:s,showUpsell:l}=e,p=(0,o().v3)(),f=(0,c().tz)(),v=p.device.isMobile,g=(0,n.useRef)(e.today),y=(0,r().IS)((e=>({title:{fontSize:v?u().J.UIRegular.mobile:u().J.UIRegular.desktop,color:e.regularTextColor},disabledTitle:{color:e.mediumTextColor},disabledCaption:{color:e.lightTextColor},optionsContainer:{width:"100%"},clockIconStyle:{width:14,marginLeft:0,marginTop:2},upsellContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 12px",gap:8,border:`1px solid ${e.regularDividerColor}`,borderRadius:6,margin:"8px 8px 4px",height:36},upsellText:{fontSize:14,color:e.regularTextColor,fontWeight:u().Wy.medium,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:1},disabledButton:{color:e.lightTextColor}})),[v]),m="expired"===t.type||"none"===t.type?(0,C.jsx)(c().sA,{defaultMessage:"Verify page",id:"VerificationExpiryPicker.verify.header"}):(0,C.jsx)(c().sA,{defaultMessage:"Reverify page",id:"VerificationExpiryPicker.reverify.header"}),h="verified"===t.type&&t.isIndefinite,M="verified"===t.type&&!t.isIndefinite&&t.dateTimeRange.end,S=Boolean(l),T="verification_upsell_item_page_entrypoint",k=(0,n.useCallback)((()=>{(0,R().K)(p,{from:T,upsell:{type:"product",product:"business",limit:{type:"none"}}})}),[p,T]),B=(0,E().v)();return(0,C.jsxs)("div",{children:[!B&&l&&(0,C.jsxs)(L().A,{style:y.upsellContainer,onClick:k,children:[(0,C.jsx)("div",{style:y.upsellText,children:(0,C.jsx)(c().sA,{defaultMessage:"Upgrade to unlock",id:"VerificationExpiryPicker.upsellExperience"})}),(0,C.jsx)(O().A,{subscriptionTier:"business",analyticsName:T})]}),B&&(0,C.jsx)(E().c,{messageKey:"pageVerification",styleOverrides:{margin:"12px 12px 0px 12px"}}),(0,C.jsxs)(b().A,{title:s&&m,children:[d().yj.map((e=>{const t=M&&d().gj({start:g.current,end:M})===e;return(0,C.jsx)(x().A,{buttonStyle:S?y.disabledButton:void 0,disabled:S,focused:!1,icon:(0,P().P)(y.clockIconStyle),inline:!1,title:(0,C.jsx)("span",{style:S?y.disabledTitle:y.title,children:(0,C.jsx)(c().sA,{defaultMessage:"For {numDays} days",id:"VerificationExpiryMenu.preset.title",values:{numDays:e}})}),caption:f.formatMessage({defaultMessage:"Until {date}",id:"VerificationExpiryMenu.preset.subtitle"},{date:V().OH({dateTime:d().RD(e,g.current).end,intl:f,shortenDateAndRange:!0})}),captionStyle:S?y.disabledCaption:void 0,checkState:!!t,onClick:()=>{return t=e,void i({range:{start:g.current,end:g.current.plus({days:t})},option:`${t}d`});var t}},e)})),(0,C.jsx)(x().A,{buttonStyle:S?y.disabledButton:void 0,disabled:S,focused:!1,icon:_({width:14,marginLeft:0,marginTop:1}),inline:!1,title:(0,C.jsx)("span",{style:S?y.disabledTitle:y.title,children:(0,C.jsx)(c().sA,{defaultMessage:"Indefinitely",id:"VerificationExpiryPicker.option.indefinitely"})}),onClick:()=>i({option:"indefinite"}),checkState:h},"indefinite"),(0,C.jsx)(x().A,{buttonStyle:S?y.disabledButton:void 0,disabled:S,focused:!1,icon:(0,D().k)({width:14,marginLeft:0}),title:(0,C.jsx)("span",{style:S?y.disabledTitle:y.title,children:(0,C.jsx)(c().sA,{defaultMessage:"Pick a date",id:"VerificationExpiryPicker.option.customDate"})}),onClick:a},"custom")]})]})}var U=()=>i(8802),H=()=>i(880298);function z(e){const{verificationValue:t,getRecordModel:i,onChange:p,blockId:v,propertyName:h,onClose:x,showTitle:b,showRemoveVerificationButton:S,showVerificationFooter:T,showCurrentStatusHeader:k,showCustomHeader:B,customHeader:j,showUpsell:w,entrypoint:A}=e,P=(0,o().v3)(),D=(0,o().Y0)(),_=(0,c().tz)(),[V,R]=(0,n.useState)(!1),E=(0,n.useMemo)((()=>d().B2(t)),[t]),O="verified"===E.type,L=(0,n.useRef)(a().ah((0,s().P)())),z=(0,n.useRef)(a().ah((0,s().P)()).plus({days:1})),W=e=>{var t;const{range:i,option:n}=e,o=null===(t=P.currentUser)||void 0===t?void 0:t.id;if(!o)return;if(null!=i&&i.end&&i.end.toMillis()<z.current.toMillis())return;const r={table:l().oo,id:o},s=i?a().C6.toPersistedDateTimeRange(i):a().C6.toPersistedDateTime(L.current.toMillis()),d="none"===E.type?"add":"update";K(P,{action:d,verification_page_id:v,verification_expiry:i?i.end.toMillis():void 0}),p({value:[r,s],metadata:{action:d,entrypoint:A,expiration:n,expiration_date:i?i.end.toMillis():void 0}})},Y=(0,r().IS)((e=>({footerStyle:{borderTop:`1px solid ${e.regularDividerColor}`},headerStyle:{padding:D.isMobile?10:7,paddingLeft:D.isMobile?20:7,background:D.isMobile?e.popoverBackground:e.tokenInputMenuItemBackground,display:"flex",alignItems:"center",borderBottom:`1px solid ${e.regularDividerColor}`}})),[D.isMobile]);let F={menuType:f().gu.Popup,footer:T&&"none"!==E.type&&!V&&(0,C.jsx)("div",{style:Y.footerStyle,children:(0,C.jsx)(U().d,{lastVerifiedDate:O&&E.isIndefinite?E.startDateTime:E.dateTimeRange.start,getRecordModel:i,actorPointer:E.actorPointer})})};D.isMobile&&(F={...F,title:h,menuType:f().gu.Modal,right:(0,C.jsx)(y().DoneMenuText,{}),onClickRight:V?()=>R(!1):x});return(0,C.jsxs)(C.Fragment,{children:[B&&j&&!V?j:B&&V?(0,C.jsx)(m().o,{label:_.formatMessage({id:"verificationPropertyOverlay.verificationMenuHeader.pickDate",defaultMessage:"Pick a date"}),onClickBackButton:()=>R(!1),onClose:()=>x(),width:265,showBottomBorder:!1}):null,(0,C.jsx)(g().A,{...F,header:!V&&k&&"none"!==E.type&&(0,C.jsx)("div",{style:Y.headerStyle,children:(0,C.jsx)(H().r,{verificationValue:t,fontSize:D.isMobile?u().J.UIRegular.mobile:void 0})}),children:V?(0,C.jsx)(I,{today:L.current,verificationState:E,onChange:e=>W(e),clearCustomDatePicker:()=>R(!1),addExtraTopPadding:!B}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(N,{today:L.current,verificationState:E,onChange:e=>W(e),onCustomDateClick:()=>R(!0),showTitle:b,showUpsell:w}),S&&(O||"expired"===E.type)&&(0,C.jsx)(M,{onClick:()=>{K(P,{action:"remove",verification_page_id:v}),p({value:void 0,metadata:{action:"remove",entrypoint:A}})}})]})})]})}function K(e,t){p().vd(e,"verification_update",t),v().default.logEvent("verification_update",t.action)}},964996:(e,t,i)=>{i.d(t,{e:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("gift",{viewBox:"0 0 20 20",svg:(0,n.jsx)("g",{id:"Layer_1",children:(0,n.jsx)("path",{d:"M16,5.75h-.6682129c.2590332-.4436646.4182129-.9526367.4182129-1.5024414,0-.8989258-.4003906-1.7426758-1.0986328-2.3149414-.7021484-.5761719-1.6191406-.8037109-2.5048828-.6264648-.8757935.1747437-1.6201782.6658325-2.1376343,1.3336792-.515564-.6645508-1.2658691-1.1560669-2.1675415-1.3361206-.8833008-.1767578-1.7939453.0498047-2.4926758.6220703-.6982422.5727539-1.0986328,1.4189453-1.0986328,2.3217773,0,.5498047.1592407,1.0587769.4182129,1.5024414h-.6682129c-.9648438,0-1.75.7851562-1.75,1.75v2c0,.6700439.3829346,1.246521.9375,1.5404663v4.9595337c0,.9648438.7851562,1.75,1.75,1.75h10.1875c.9648438,0,1.75-.7851562,1.75-1.75v-4.9934692c.5205078-.3035889.875-.8618164.875-1.5065308v-2c0-.9648438-.7851562-1.75-1.75-1.75ZM16.25,7.5v2c0,.1376953-.1123047.25-.25.25h-5.21875v-2.5h5.21875c.1376953,0,.25.1123047.25.25ZM12.4404297,2.7768555c.4433594-.090332.90625.0258789,1.2607422.315918.3486328.2861328.5488281.7070312.5488281,1.1547852,0,.8286133-.6738281,1.5024414-1.5029297,1.5024414h-1.9970703v-.921875c0-.9926758.7109375-1.8554688,1.6904297-2.0512695ZM5.75,4.2475586c0-.4516602.2001953-.8754883.5498047-1.1616211.2641602-.2167969.5883789-.3344727.9536133-.3344727.1186523,0,.2412109.0126953.3671875.0375977.9443359.1884766,1.6293945,1.0244141,1.6293945,1.9873047v.9736328h-1.9975586c-.8286133,0-1.5024414-.6738281-1.5024414-1.5024414ZM3.75,7.5c0-.1376953.1123047-.25.25-.25h5.28125v2.5h-5.28125c-.1376953,0-.25-.1123047-.25-.25v-2ZM4.6875,16v-4.75h4.59375v5h-4.34375c-.1376953,0-.25-.1123047-.25-.25ZM15.125,16.25h-4.34375v-5h4.59375v4.75c0,.1376953-.1123047.25-.25.25Z"})})})}}]);