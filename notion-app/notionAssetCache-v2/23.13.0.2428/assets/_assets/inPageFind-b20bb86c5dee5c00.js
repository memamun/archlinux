"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[28958,47381],{55582:(e,t,n)=>{n.d(t,{H:()=>d});var i=()=>n(56366),o=()=>n(401497),a=()=>n(665638),r=()=>n(260893),s=()=>n(186445),l=()=>n(644914),c=()=>n(661179);function d(e){const{rightEdgeDistance:t,environment:n,isInPeekRenderer:d,alwaysVisible:u,bottomEdgeDistance:p,overrides:g}=e,h=(0,i().K8)((()=>(0,l().zo)(n,d)-(0,l().Ql)(n)),[n,d]),v=(0,i().K8)((()=>t+c().A.state),[t]),f=(0,i().K8)((()=>(0,a().S)(n,(p??16)+c().A.state)),[p,n]),m=(0,i().K8)((()=>s().$o.state&&!u?0:1),[u]),{ovalButtonStyle:x}=(0,o().IS)((e=>({ovalButtonStyle:{position:"absolute",bottom:f,right:v,borderRadius:100,fontSize:20,boxShadow:e.shadowSM,zIndex:111,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",backgroundBlendMode:"overlay, normal",opacity:m,transform:`translateX(-${h}px) translateZ(0)`,transition:`\n\t\t\t\topacity ${r().L}ms,\n\t\t\t\tcolor ${r().L}ms,\n\t\t\t\ttransform 200ms\n\t\t\t`,...null==g?void 0:g(e)}})),[h,v,f,m,g]);return x}},113949:(e,t,n)=>{n.d(t,{A:()=>f,d:()=>m});var i=n(296540),o=()=>n(484714),a=()=>n(401497),r=()=>n(742117),s=()=>n(66913),l=()=>n(284371),c=()=>n(197190),d=()=>n(614415),u=()=>n(38337),p=()=>n(645873),g=()=>n(938987),h=()=>n(55582),v=n(474848);function f(e){const{onClick:t,children:n,onClose:f,disableShimmerAnimation:x}=e,y=(0,o().v3)(),[C,b]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),w=(0,i.useCallback)((()=>{b(!1),S(!1)}),[]),I=(0,i.useCallback)((()=>{w(),window.removeEventListener("mouseup",I)}),[w]),M=(0,i.useCallback)((()=>{b(!0)}),[]),j=(0,i.useCallback)((()=>{b(k),S(!1)}),[k]),P=(0,i.useCallback)((()=>{S(!0),window.addEventListener("mouseup",I)}),[I]),B=(0,i.useCallback)((()=>{S(!1)}),[]),D=function(e){const{environment:t,isHovered:n,isPressed:o,shouldDisableShimmerAnimation:r}=e,s=(0,h().H)({rightEdgeDistance:m,isInPeekRenderer:!1,environment:t,alwaysVisible:!0,overrides:e=>({width:void 0,height:45,background:e.whiteButtonBackground})}),[c,d]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{r||setTimeout((()=>{d(!0)}),2e3)}),[r]),(0,a().IS)((e=>({buttonStyle:{...s,cursor:"pointer",overflow:"hidden",userSelect:"none",display:"flex",alignItems:"center"},shimmerButtonStyle:{paddingRight:10,paddingTop:10,paddingBottom:10,display:"flex",alignItems:"center",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundImage:"dark"===e.mode?"linear-gradient(270deg, rgba(255, 255, 255, 0.4) 13.84%, rgba(255, 255, 255, 1) 59.7%, rgba(255, 255, 255, 0.4) 93.89%)":"linear-gradient(270deg, rgba(0, 0, 0, 0.4) 13.84%, rgba(0, 0, 0, 1) 59.7%, rgba(0, 0, 0, 0.4) 93.89%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",...!c&&{background:void 0,backgroundImage:void 0,backgroundSize:void 0,backgroundClip:void 0,WebkitBackgroundClip:void 0,WebkitTextFillColor:void 0},...n&&{background:e.whiteButtonHoveredBackground,backgroundImage:void 0,backgroundSize:void 0,backgroundClip:void 0,WebkitBackgroundClip:void 0,WebkitTextFillColor:void 0},...o&&{background:e.whiteButtonPressedBackground,backgroundImage:void 0,backgroundSize:void 0,backgroundClip:void 0,WebkitBackgroundClip:void 0,WebkitTextFillColor:void 0}},sparklesIcon:{height:22,width:22,padding:"4px 4px"},inner:{display:"flex",alignItems:"center",flexWrap:"nowrap"},chevronIcon:{height:16,width:15,opacity:.4,marginLeft:8},message:{fontSize:l().J.UIRegular.desktop,textWrap:"nowrap",fontWeight:500}})),[n,o,c,s])}({environment:y,isHovered:C,isPressed:k,shouldDisableShimmerAnimation:x}),A=(0,h().H)({rightEdgeDistance:16,bottomEdgeDistance:65,isInPeekRenderer:!1,environment:y,alwaysVisible:!0,overrides:e=>({width:void 0,height:20,background:e.whiteButtonBackground})}),R=(0,a().IS)((e=>({closeButtonContainer:{...A},closeButton:{zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",width:20,height:20,padding:4},closeButtonHover:{background:e.buttonPressedBackground},closeButtonIcon:{width:16,fill:e.lightIconColor}})),[A]),{value:L}=(0,p().fJ)(d().fM);if(!L)return null;const{motion:F}=L;return(0,v.jsxs)(v.Fragment,{children:[f&&(0,v.jsx)("div",{style:R.closeButtonContainer,children:(0,v.jsx)(c().A,{onClick:f,style:R.closeButton,hoveredStyle:R.closeButtonHover,children:(0,s().V)(R.closeButtonIcon)})}),(0,v.jsx)(F.div,{style:D.buttonStyle,variants:{initial:{width:36},animate:{width:"auto",transition:{ease:[.87,0,.13,1],type:"spring",stiffness:90,damping:16,mass:1}}},initial:"initial",animate:"animate",onMouseMove:M,onMouseLeave:j,onMouseDown:P,onMouseUp:B,onClick:t,className:u().E4Q,children:(0,v.jsxs)(F.div,{style:D.shimmerButtonStyle,animate:{backgroundPosition:["150% 0","-50% 0"]},transition:{ease:"easeInOut",duration:1.5,repeat:1/0},children:[(0,v.jsx)(g().x3,{variant:"small"}),(0,v.jsxs)("div",{style:D.inner,children:[(0,v.jsx)(F.div,{style:D.message,variants:{initial:{opacity:0},animate:{opacity:1,transition:{ease:[.16,1,.3,1],duration:.75}}},initial:"initial",animate:"animate",children:n}),(0,r().V)(D.chevronIcon)]})]})})]})}const m=16},158359:(e,t,n)=>{n.d(t,{P:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("arrowDown",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},168799:(e,t,n)=>{n.d(t,{X:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("arrowSquarePath",{viewBox:"0 0 30 22",svg:(0,i.jsx)("path",{d:"M0.773438 8.39062C0.578125 8.19531 0.484375 7.96875 0.492188 7.71094C0.5 7.45312 0.605469 7.22656 0.808594 7.03125L4.75781 3.09375C5.14062 2.71875 5.53516 2.53125 5.94141 2.53125C6.35547 2.53125 6.75391 2.71875 7.13672 3.09375L11.0859 7.03125C11.2891 7.22656 11.3906 7.45312 11.3906 7.71094C11.3984 7.96875 11.3047 8.19531 11.1094 8.39062C10.9062 8.59375 10.6797 8.69141 10.4297 8.68359C10.1797 8.66797 9.95312 8.5625 9.75 8.36719L8.625 7.25391L6.87891 5.39062V18.1172C6.87891 18.7266 7.03516 19.1875 7.34766 19.5C7.66797 19.8047 8.12109 19.957 8.70703 19.957H18.2109C18.5469 19.957 18.8047 20.0391 18.9844 20.2031C19.1641 20.3672 19.2539 20.6016 19.2539 20.9062C19.2617 21.2031 19.1719 21.4336 18.9844 21.5977C18.8047 21.7617 18.5469 21.8438 18.2109 21.8438H8.67188C7.45312 21.8438 6.53516 21.5391 5.91797 20.9297C5.30078 20.3281 4.99219 19.4219 4.99219 18.2109V5.41406L3.25781 7.25391L2.13281 8.36719C1.9375 8.5625 1.71094 8.66797 1.45312 8.68359C1.20312 8.69141 0.976562 8.59375 0.773438 8.39062ZM10.7461 1.20703C10.7383 0.910156 10.8281 0.679688 11.0156 0.515625C11.2031 0.351562 11.4609 0.269531 11.7891 0.269531H21.3281C22.5547 0.269531 23.4727 0.574219 24.082 1.18359C24.6992 1.78516 25.0078 2.69141 25.0078 3.90234V16.6992L26.7422 14.8477L27.8672 13.7461C28.0703 13.5508 28.2969 13.4492 28.5469 13.4414C28.7969 13.4258 29.0234 13.5156 29.2266 13.7109C29.4219 13.9141 29.5156 14.1445 29.5078 14.4023C29.5 14.6523 29.3945 14.8789 29.1914 15.082L25.2539 19.0078C24.8711 19.3906 24.4727 19.582 24.0586 19.582C23.6445 19.582 23.2461 19.3906 22.8633 19.0078L18.9141 15.082C18.7109 14.8789 18.6055 14.6523 18.5977 14.4023C18.5977 14.1445 18.6953 13.9141 18.8906 13.7109C19.0938 13.5156 19.3203 13.4258 19.5703 13.4414C19.8203 13.4492 20.0469 13.5508 20.25 13.7461L21.375 14.8477L23.1211 16.7227V3.99609C23.1211 3.38672 22.9648 2.92969 22.6523 2.625C22.3398 2.3125 21.8906 2.15625 21.3047 2.15625H11.7891C11.4609 2.15625 11.207 2.07422 11.0273 1.91016C10.8477 1.74609 10.7539 1.51172 10.7461 1.20703Z"})})},270483:(e,t,n)=>{n.d(t,{g:()=>s});n(296540);var i=()=>n(654601),o=()=>n(278589),a=n(474848);const r=16/(0,o().N)("small");function s(e){const{variant:t}=e,n=function(e){return(0,o().N)(e)*r}(t);return(0,a.jsx)(a.Fragment,{children:(0,i().X)({width:n,pointerEvents:"none"})})}},311004:(e,t,n)=>{e.exports=n.p+"edfba4a6d1ff7acd.png"},498474:(e,t,n)=>{n.d(t,{q:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("arrowUp",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 14.5586C8.44434 14.5586 8.74512 14.251 8.74512 13.7998V5.30957L8.69043 3.83984L10.4951 5.84961L12.0469 7.38086C12.1836 7.51074 12.3682 7.59961 12.5801 7.59961C12.9902 7.59961 13.291 7.28516 13.291 6.86816C13.291 6.66992 13.2158 6.49219 13.0586 6.32812L8.55371 1.81641C8.40332 1.66602 8.20508 1.57715 8 1.57715C7.79492 1.57715 7.59668 1.66602 7.44629 1.81641L2.94141 6.32812C2.78418 6.49219 2.70898 6.66992 2.70898 6.86816C2.70898 7.28516 3.0166 7.59961 3.42676 7.59961C3.63184 7.59961 3.82324 7.51074 3.95312 7.38086L5.50488 5.84961L7.30957 3.83301L7.25488 5.30957V13.7998C7.25488 14.251 7.5625 14.5586 8 14.5586Z"})})},614415:(e,t,n)=>{n.d(t,{Wx:()=>r,fM:()=>i,l9:()=>o,sM:()=>a});const i=new(n(645873).O2)("framer-motion",(async()=>await Promise.all([n.e(44711),n.e(53321),n.e(37043)]).then(n.bind(n,399791))));function o(e){return e.useAnimate()}function a(e){return e.useAnimation()}function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.useInView(...n)}},872110:(e,t,n)=>{n.r(t),n.d(t,{InPageFind:()=>J});n(898992),n(672577),n(430670);var i=n(296540),o=()=>n(833744),a=()=>n(395361),r=()=>n(484714),s=()=>n(56366),l=()=>n(401497),c=()=>n(591779),d=()=>n(158359),u=()=>n(168799),p=()=>n(498474),g=()=>n(212050),h=()=>n(356596),v=()=>n(919709),f=()=>n(175947),m=()=>n(959013),x=()=>n(496603),y=()=>n(284371),C=()=>n(112873),b=()=>n(476380),k=()=>n(650829),S=()=>n(113949),w=()=>n(614415),I=()=>n(186445),M=()=>n(38337),j=()=>n(792540),P=()=>n(375555),B=()=>n(231722),D=()=>n(645873),A=()=>n(644914),R=()=>n(962730),L=()=>n(430483),F=()=>n(295169),E=()=>n(77246),V=()=>n(735372),W=()=>n(712505),_=()=>n(145214),z=()=>n(920773),H=()=>n(364280),K=()=>n(285790),T=()=>n(805751),O=()=>n(623580),N=()=>n(545805),Q=()=>n(35392),$=()=>n(204063),X=()=>n(859428),G=()=>n(351360),U=()=>n(502438);const Z=(0,m().YK)({inputPlaceHolder:{id:"inPageFind.find.inputPlaceholder",defaultMessage:"Find, replace, ask..."},replaceInputPlaceHolder:{id:"inPageFind.replace.inputPlaceHolder",defaultMessage:"Replace with..."},close:{id:"inPageFind.close",defaultMessage:"Close"},previousMatch:{id:"inPageFind.navigation.previousMatch",defaultMessage:"Previous match"},nextMatch:{id:"inPageFind.navigation.nextMatch",defaultMessage:"Next match"},toggleReplace:{id:"inPageFind.navigation.replaceToggle",defaultMessage:"Replace"},replaceAll:{id:"inPageFind.matches.replaceAll",defaultMessage:"Replace all"},replace:{id:"inPageFind.matches.individualReplace",defaultMessage:"Replace"},noMatches:{id:"inPageFind.noMatches",defaultMessage:"Not found"},askAi:{id:"inPageFind.askAi",defaultMessage:"Ask AI"},ofSpacer:{id:"inPageFind.ofSpacer",defaultMessage:"of"},lockedPage:{id:"inPageFind.lockedPage",defaultMessage:"Page is locked"}});var Y=n(474848);function J(){const{activePageDetails:e,secondaryPageDetails:t}=function(){const{mainPageDetails:e,peekPageDetails:t}=(0,s().K8)((()=>{const e=G().default.state.mainEditorCurrentBlockStore,t=W().default.peekTargetStore.state;return{mainPageDetails:e?{store:e,view:"main"}:void 0,peekPageDetails:t?{store:t,view:W().default.state.mode}:void 0}}),[],{useDeepEqual:!0}),n=(0,s().K8)((()=>{var e;return Boolean(null===(e=U().default.getCurrentDefaultContainer())||void 0===e?void 0:e.isPeekRenderer())}),[]);return{activePageDetails:n?t:e,secondaryPageDetails:n?e:t}}();return e?(0,Y.jsx)(q,{activePageDetails:e,secondaryPageDetails:t}):null}function q(e){const{activePageDetails:t,secondaryPageDetails:n}=e,[d,u]=(0,i.useState)(-1),[p,h]=(0,i.useState)(""),y=(0,i.useRef)(void 0),w=(0,i.useRef)(null),R=(0,i.useRef)(null),z=(0,r().v3)(),H=(0,m().tz)(),{focused:K,findQuery:Q,showReplaceInput:$,open:X,textSelectionOnOpen:G}=(0,s().O$)(V().Ay),U=(0,c().ZC)(Q),J=(0,c().ZC)(G),q=(0,c().ZC)(d),ae=Q===U,re=(0,s().K8)((()=>t.store.id),[t.store.id]),se=(0,c().ZC)(re),le=(0,i.useRef)();(0,i.useEffect)((()=>{se===re||n||(b().VN({clearQuery:!0}),y.current=void 0)}),[re,se,n]),(0,o().L)({active:X,closeHandler:()=>{b().VN({clearQuery:!1})},ref:w,ignoreKeydown:!0,excludedSelectors:[`.${M().OO1}`,`.${M().rgg}`]});const ce=(0,s().K8)((()=>{if(!X)return!1;y.current=void 0;const e=null==G?void 0:G.multiSelection,t=!(0,B().OH)(e,null==J?void 0:J.multiSelection),n=!!e&&((0,B().KP)(e)&&e.start.index!==e.end.index);return t&&n}),[X,null==J?void 0:J.multiSelection,null==G?void 0:G.multiSelection]),de=(0,s().K8)((()=>W().default.state.open),[]),ue=(0,i.useCallback)((async e=>{var i;const o=null===(i=[t,n].find((t=>(null==t?void 0:t.view)===(null==e?void 0:e.view))))||void 0===i?void 0:i.store;if(!e||!o)return void V().wb.setState(void 0);const a=b().c2(o,e),r="comment"===le.current&&(!e||"comment"!==e.type),s=a&&a.state.forceShowProperties&&("page_property_name"===le.current||"page_property_value"===le.current)&&(!e||"page_property_name"!==e.type&&"page_property_value"!==e.type);if(r?C().xl():s&&a.reset(),"block"===e.type)V().wb.setState({type:"block",id:e.blockStore.id,selection:e.selection});else if("page_property_name"===e.type){const t=e.propertyId;V().wb.setState({type:"page_property_name",propertyId:t})}else"page_property_value"===e.type?V().wb.setState({type:"page_property_value",id:e.blockStore.id,inlineCollectionId:e.inlineCollectionId,inlineCollectionViewId:e.inlineCollectionViewId,propertyId:e.propertyId,selection:e.selection}):"comment"===e.type?V().wb.setState({type:"comment",id:e.commentId,selection:e.selection}):"simple_table_cell"===e.type&&V().wb.setState({type:"simple_table_cell",id:e.blockStore.id,propertyId:e.propertyId,selection:e.selection});le.current=e.type,ae&&d===q||await b().V9({environment:z,match:e,pageStore:o,pagePropertiesStore:a})}),[t,n,ae,d,q,z]),pe=(0,s().K8)((()=>{if(!X||0===Q.length)return[];return x().oE([t,n]).flatMap((e=>(0,j().OM)({pageDetails:e,find:Q,intl:H})))}),[X,Q,t,n,H]),ge=(0,s().K8)((()=>pe.length),[pe.length]);(0,i.useEffect)((()=>{if(ce){const e=pe.findIndex((e=>{const t=null==G?void 0:G.multiSelection;if("block"!==e.type||!t||e.blockStore.id!==t.start.store.id)return!1;const{startIndex:n,endIndex:i}=e.selection;return n===t.start.index&&i===t.end.index}));u(Math.max(e,0))}else d>=pe.length&&!ae&&u(0);const e=pe[d];ue(e)}),[d,pe,ae,ce,null==G?void 0:G.multiSelection,ue]);const{value:he}=(0,D().fJ)(k().assistantDependency),ve=(0,s().K8)((()=>L().zD.isInPageFindQnaOptionEnabledForUser()),[]),fe=(0,s().K8)((()=>-1!==d?pe[d]:void 0),[d,pe]),me=(0,i.useCallback)((async e=>{if(!he||!ve)return;const n=await he.assistantActions.resetAndInitializeAssistantSession({environment:z,makeActiveSession:!0});if(!n)return;const i=F().default.getSessionContext(n.sessionId);i&&(i.assistantConfigurationStore.setSearchScope({pageId:t.store.id,type:"page"}),b().VN({clearQuery:!1}),he.assistantMenuStore.setState({open:!0,currentView:"chat",from:"find_and_replace",isAssistantInputEmpty:he.assistantMenuStore.state.isAssistantInputEmpty}),e&&e.length>0&&await he.handleSubmitNewQuestion({currentClientSkillWithSettings:void 0,newValue:(0,v().x9d)(Q),environment:z,shouldForceStartNewSession:!1,source:"in_page_find",assistantSurfaceType:"corner"}))}),[he,ve,z,t.store.id,Q]),xe=(0,a().Y)((e=>{V().Ay.update((t=>({...t,findQuery:e})))}),300),ye=(0,i.useCallback)((async e=>{var i;const{location:o}=e;if(0===ge)return;if(1===ge){var a;const e=null===(a=[t,n].find((e=>(null==e?void 0:e.view)===pe[0].view)))||void 0===a?void 0:a.store;if(!e)return;const i=b().c2(e,pe[0]);return void(await b().V9({environment:z,match:pe[0],pagePropertiesStore:i,pageStore:e}))}const r=d+("next"===o?1:-1),s=r>=0&&r<ge?r:"next"===o?0:ge-1,l=pe[s];u(s);const c=null===(i=[t,n].find((e=>(null==e?void 0:e.view)===l.view)))||void 0===i?void 0:i.store;if(!c)return;const p=b().c2(c,l);p&&await b().V9({environment:z,match:l,pagePropertiesStore:p,pageStore:c})}),[pe,ge,d,t,n,z]),Ce=(0,s().K8)((()=>X?{main:E().Uv.getMode(t.store),side_peek:n?E().Uv.getMode(n.store):void 0}:{main:void 0,side_peek:void 0}),[t,X,n]),be=(0,s().K8)((()=>t.store.isLocked()&&(!n||n.store.isLocked())),[t.store,n]),ke=(0,s().K8)((()=>z.device.isElectron),[z.device.isElectron]),Se=(0,s().K8)((()=>I().$o.state?0:(0,f().ek)(z.device.isElectronMac)),[z.device.isElectronMac]),we=(0,s().K8)((()=>(0,A().zo)(z,de)),[z,de]),Ie=(0,i.useCallback)((()=>{const e=fe&&("block"===fe.type||"simple_table_cell"===fe.type)&&fe.blockStore.getTitleStore(),t=e?fe.blockStore.getTitleStore():void 0,n=e&&t?{start:{store:t,index:fe.selection.startIndex},end:{store:t,index:fe.selection.endIndex}}:void 0;b().VN({clearQuery:!1,overridePreviousTextSelection:n})}),[fe]),Me=(0,i.useCallback)((e=>{e.preventDefault&&e.preventDefault();const t=R.current;t&&(0,P().G)(z,t)}),[z,R]),je=(0,l().IS)((e=>({findInputContainer:{display:"flex",alignItems:"center",gap:10,padding:"0px 10px"},container:{boxShadow:e.shadowMD,position:"absolute",top:0,right:S().d,zIndex:1e3,backgroundColor:"light"===e.mode?e.accentColors.gray[0]:e.accentColors.gray[200],borderRadius:12,width:280,outline:`3px solid ${"light"===e.mode?e.accentColors.uiBlue[200]:e.accentColors.uiBlue[400]}`},inputContainer:{boxShadow:"none",border:"none",outline:"none",flexGrow:1},findInput:{paddingTop:10,paddingBottom:10},input:{fontSize:14}})),[]);return(0,Y.jsxs)(_().A,{visible:X,initial:{opacity:0,translateY:0,translateX:-we},animate:{opacity:1,translateY:Se+S().d,translateX:-we},config:{duration:150},exit:{translateY:Se,opacity:0,translateX:-we},style:je.container,ref:w,children:[(0,Y.jsx)("div",{style:je.findInputContainer,children:(0,Y.jsx)(T().A,{debugName:"FindAndReplace",capture:!0,allowSearch:!0,allowOpenLinkMenu:!0,children:(0,Y.jsxs)(N().A,{debugName:"FindAndReplace",capture:!0,onShiftEnter:()=>ye({location:"previous"}),onUp:()=>ye({location:"previous"}),onDown:()=>ye({location:"next"}),onGroup:e=>{e.preventDefault&&e.preventDefault(),ye({location:"next"})},onUngroup:e=>{e.preventDefault&&e.preventDefault(),ye({location:"previous"})},onEsc:()=>Ie(),onCommandJ:()=>me(),onCommandEnter:()=>me(Q),onSearch:e=>Me(e),onToggleInPageFindReplace:()=>{!ke||be||0===Q.length&&!$||Q.length>0&&0===ge&&!$||b().zV()},children:[(0,Y.jsx)(O().A,{value:y.current??Q,onChange:e=>{const t=e.target.value;if(y.current=t.length>0?t:void 0,xe.cancel(),y.current&&y.current.length>0)return xe(y.current),void u(0);V().Ay.update((e=>({...e,findQuery:""}))),V().wb.setState(void 0)},format:O().C.Transparent,placeholder:H.formatMessage(Z.inputPlaceHolder),selectAll:!0,focus:K,onFocus:()=>b().T5(),focusInitial:!0,onSubmit:()=>ye({location:"next"}),inputStyle:{...je.input,...je.findInput},style:je.inputContainer,ref:R},"find-input-element"),0===ge?(0,Y.jsx)(te,{hasQuery:Q.length>0,isQnaEnabled:ve,onClick:()=>me(Q),isShowingReplaceInput:$}):(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(oe,{currentSelectionIndex:d,numberOfMatches:ge}),(0,Y.jsx)(ne,{jumpToBlockFn:ye,numberOfMatches:ge,isShowingReplaceInput:$,onReplaceIconClick:()=>{be||b().zV()},hasFindQuery:Q.length>0,isPageLocked:be})]}),(0,Y.jsx)(ie,{onClick:()=>b().VN({clearQuery:!1}),icon:g().u,shortcut:"esc",caption:Z.close,active:!1})]})})}),(0,Y.jsx)(ee,{currentSelectedMatchIndex:d,findInput:Q,replaceInput:p,setReplaceInput:h,highlightMatches:pe,shouldShow:$,editorViewEditorModeMap:Ce,pageDetails:{activePageDetails:t,secondaryPageDetails:n}})]})}function ee(e){const{findInput:t,replaceInput:n,setReplaceInput:i,highlightMatches:o,currentSelectedMatchIndex:a,shouldShow:c,editorViewEditorModeMap:d,pageDetails:{activePageDetails:u,secondaryPageDetails:p}}=e,g=(0,m().tz)(),v=(0,r().v3)(),f=(0,s().K8)((()=>t===n),[t,n]),x=(0,s().K8)((()=>-1!==a?o[a]:void 0),[a,o]),C=(0,s().K8)((()=>{if(0===t.length||f||!x)return!1;const e=x.view===u.view?u.store:(null==p?void 0:p.store)??void 0;return(0,j().M5)({environment:v,match:x,pageStore:e})}),[u.store,u.view,x,v,t.length,f,p]),k=(0,l().IS)((e=>({divider:{height:1,backgroundColor:e.lightDividerColor},replaceButton:{fontSize:13,display:"flex",borderRadius:8,height:void 0,paddingTop:7,paddingBottom:7},replaceAll:{fontWeight:y().Wy.regular,color:e.text.secondary},replaceInputContainer:{display:"flex",padding:10,flexDirection:"column",alignItems:"flex-end",gap:3},inputContainer:{boxShadow:"none",border:"none",outline:"none",flexGrow:1},input:{fontSize:14}})),[]),{value:S}=(0,D().fJ)(w().fM);if(!S)return null;const{AnimatePresence:I,motion:M}=S;return(0,Y.jsx)(I,{children:c&&(0,Y.jsxs)(M.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},style:{overflowY:"hidden"},transition:{duration:.1},children:[(0,Y.jsx)("div",{style:k.divider}),(0,Y.jsxs)("div",{style:k.replaceInputContainer,children:[(0,Y.jsx)(O().A,{value:n,onChange:e=>{i(e.target.value)},format:O().C.Transparent,placeholder:g.formatMessage(Z.replaceInputPlaceHolder),inputStyle:k.input,style:k.inputContainer,focusInitial:!0,onSubmit:()=>{C&&x&&b().HC({matches:[x],environment:v,replace:n,find:t,intl:g,editorViewEditorModeMap:d,pageDetails:e.pageDetails})}},"replace-input-element"),(0,Y.jsxs)(H().fI,{gap:4,children:[(0,Y.jsx)(z().p,{onClick:()=>b().HC({matches:o,environment:v,replace:n,find:t,intl:g,editorViewEditorModeMap:d,pageDetails:e.pageDetails}),style:{...k.replaceButton,...k.replaceAll},disabled:0===t.length||f,isLightGray:0===t.length||f,children:g.formatMessage(Z.replaceAll)}),(0,Y.jsx)($().A,{onClick:()=>{x&&b().HC({matches:[x],environment:v,replace:n,find:t,intl:g,editorViewEditorModeMap:d,pageDetails:e.pageDetails})},style:{...k.replaceButton,cursor:C?"pointer":"not-allowed"},disabled:!C,children:(0,Y.jsxs)(H().fI,{gap:4,alignItems:"center",children:[g.formatMessage(Z.replace),(0,Y.jsx)("span",{children:(0,h().K)({height:14,width:14})})]})})]})]})]})})}function te(e){const{hasQuery:t,isQnaEnabled:n,onClick:i,isShowingReplaceInput:o}=e,a=(0,m().tz)(),r=(0,l().IS)((e=>({container:{fontSize:13,display:"flex",borderRadius:8,height:void 0,paddingTop:7,paddingBottom:7},icon:{width:12,height:12},notFound:{whiteSpace:"nowrap",fontSize:12,color:e.text.tertiary}})),[]);return t?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("span",{style:r.notFound,children:a.formatMessage(Z.noMatches)}),n&&!o?(0,Y.jsx)(X().A,{placement:R().W.Bottom,originGap:18,renderTooltip:()=>(0,Y.jsx)(Q().A,{name:"commandEnter"}),allowHover:!1,render:e=>(0,Y.jsx)($().A,{style:r.container,...e,onClick:i,children:a.formatMessage(Z.askAi)})}):null]}):null}function ne(e){const{jumpToBlockFn:t,isShowingReplaceInput:n,onReplaceIconClick:i,isPageLocked:o}=e,a=(0,r().Y0)(),l=(0,s().K8)((()=>a.isElectron),[a.isElectron]);return(0,Y.jsxs)(H().fI,{alignItems:"center",gap:2,children:[(0,Y.jsx)(ie,{active:!1,caption:Z.previousMatch,icon:p().q,onClick:()=>t({location:"previous"}),shortcut:"shiftEnter"}),(0,Y.jsx)(ie,{active:!1,caption:Z.nextMatch,icon:d().P,onClick:()=>t({location:"next"}),shortcut:"enter"}),(0,Y.jsx)(ie,{active:n,icon:u().X,onClick:i,caption:o?Z.lockedPage:Z.toggleReplace,shortcut:l?"toggleInPageFindReplace":void 0,overrideIconStyle:{width:14,height:14,strokeWidth:.6},disable:o})]})}function ie(e){const{onClick:t,caption:n,icon:i,active:o,shortcut:a,overrideIconStyle:r,disable:s}=e,c=(0,m().tz)(),d=(0,l().IS)((e=>({icon:{width:12,height:12,color:o?e.accentColors.uiBlue[600]:e.icon.secondary,strokeWidth:.4,stroke:"currentcolor",...r},iconWrapper:{padding:3,width:void 0,height:void 0,cursor:s?"not-allowed":"pointer"},description:{color:e.text.contrastSecondary},hoveredBackground:{background:o?e.accentColors.uiBlue[100]:e.buttonHoveredBackground},active:{}})),[o,s,r]);return(0,Y.jsx)(X().A,{placement:R().W.Bottom,originGap:18,renderTooltip:e=>(0,Y.jsxs)("div",{...e,children:[(0,Y.jsx)("div",{children:c.formatMessage(n)}),!s&&a?(0,Y.jsx)("div",{style:d.description,children:(0,Y.jsx)(Q().A,{name:a})}):null]}),allowHover:!1,render:e=>(0,Y.jsx)(K().A,{...e,icon:e=>i({...d.icon,...d.active}),ariaLabel:c.formatMessage(n),hoveredStyle:d.hoveredBackground,onClick:()=>t(),style:d.iconWrapper,disabled:s})})}function oe(e){const{numberOfMatches:t,currentSelectionIndex:n}=e,i=(0,m().tz)(),o=(0,l().IS)((e=>({container:{fontSize:".8rem",color:e.text.tertiary,userSelect:"none",cursor:"default"}})),[]);return 0===t?null:(0,Y.jsx)("div",{style:o.container,children:(0,Y.jsxs)(H().fI,{gap:4,alignItems:"center",children:[(0,Y.jsx)("span",{children:n+1}),i.formatMessage(Z.ofSpacer),(0,Y.jsx)("span",{children:t})]})})}},938987:(e,t,n)=>{n.d(t,{H2:()=>m,iB:()=>x,cG:()=>h,UY:()=>y,x3:()=>v});var i=n(296540),o=()=>n(56366),a=()=>n(401497),r=()=>n(654601),s=()=>n(430483),l=()=>n(270483),c=()=>n(783793),d=()=>n(311004);const u=n.p+"c9223887dcb57b7d.gif",p=n.p+"7e9cbd56b1eca7b9.gif";var g=n(474848);function h(e){const{variant:t,style:n,forceSparkles:i}=e,a=(0,o().O$)(s().ts);let r;return r=!i&&a?(0,g.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,g.jsx)(c().o,{variant:t,shadowVariant:"light"})}):(0,g.jsx)(l().g,{variant:i?"small":t}),(0,g.jsx)("div",{style:n,children:r})}function v(e){const{variant:t}=e,n=(0,o().O$)(s().ts),i=(0,a().IS)((()=>({sparklesWrapper:{borderRadius:"100%",border:"2px solid RGB(182,208,240)",marginRight:8,marginLeft:8,padding:4},badge:{position:"absolute",left:"27px",top:"-5px"},faceWrapper:{marginRight:8}})),[]);return n?(0,g.jsx)("div",{style:i.faceWrapper,children:(0,g.jsx)(f,{variant:t})}):(0,g.jsxs)("div",{style:i.sparklesWrapper,children:[(0,g.jsx)(l().g,{variant:t}),(0,g.jsx)("div",{style:i.badge,children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"11",viewBox:"0 0 10 11",fill:"none",children:(0,g.jsx)("circle",{cx:"5",cy:"5.5",r:"4",fill:"#2383E2",stroke:"white",strokeWidth:"2"})})})]})}function f(e){const{variant:t}=e,n="dark"===(0,a().DP)().mode,[o,r]=(0,i.useState)(!0);(0,i.useEffect)((()=>{setTimeout((()=>{r(!1)}),6e3)}),[]);const s=(0,i.useMemo)((()=>{if(o)return n?u:p}),[n,o]);return(0,g.jsx)("div",{style:{marginLeft:8},children:(0,g.jsx)(c().o,{variant:t,shadowVariant:"light",wrapWithPadding:!0,imgSource:s})})}function m(){const e=(0,o().O$)(s().ts),t=(0,a().IS)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,g.jsx)("img",{style:t.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,r().X)(t.sparklesIconStyle)}function x(){const e=(0,o().O$)(s().ts),t=(0,a().IS)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,g.jsx)("img",{style:t.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,r().X)(t.sparklesIconStyle)}function y(){const e=(0,o().O$)(s().ts),t=(0,a().IS)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`,marginLeft:-2,marginRight:2},sparklesIconStyle:{width:16,height:16,marginRight:2},sparklesIconWrapper:{borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return e?(0,g.jsx)("img",{style:t.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,g.jsx)("div",{style:t.sparklesIconWrapper,children:(0,r().X)(t.sparklesIconStyle)})}}}]);