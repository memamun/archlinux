"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[13035,43647],{71658:(e,t,o)=>{var i=o(746518),n=o(206469),a=o(596837),r=o(326198),l=o(435610),s=o(225397),c=o(991291),d=Array,m=Math.max,u=Math.min;i({target:"Array",proto:!0},{toSpliced:function(e,t){var o,i,n,p,g=s(this),h=r(g),y=l(e,h),v=arguments.length,b=0;for(0===v?o=i=0:1===v?(o=0,i=h-y):(o=v-2,i=u(m(c(t),0),h-y)),n=a(h+o-i),p=d(n);b<y;b++)p[b]=g[b];for(;b<y+o;b++)p[b]=arguments[b-y+2];for(;b<n;b++)p[b]=g[b+i-o];return p}}),n("toSpliced")},130818:(e,t,o)=>{o.d(t,{M:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("linkedDatabase",{viewBox:"0 0 20 20",svg:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 1.75c-1.996 0-3.835.288-5.202.776-.68.243-1.284.55-1.732.928-.444.375-.816.894-.816 1.546v10c0 .652.372 1.17.816 1.546.448.378 1.052.685 1.732.928.947.338 2.12.58 3.415.697A.729.729 0 009 17.436c0-.4-.313-.727-.71-.764-1.166-.11-2.192-.326-2.987-.61-.587-.21-1.008-.442-1.269-.662-.264-.223-.284-.361-.284-.4v-2.99c.317.175.67.33 1.048.464.947.338 2.12.58 3.415.697A.729.729 0 009 12.436c0-.4-.313-.727-.71-.764-1.166-.11-2.192-.326-2.987-.61-.587-.21-1.008-.442-1.269-.662-.264-.223-.284-.361-.284-.4V7.01c.317.175.67.33 1.048.464 1.367.488 3.206.776 5.202.776s3.835-.288 5.202-.776c.377-.135.731-.29 1.048-.465V8.25a.75.75 0 001.5 0V5c0-.652-.372-1.17-.816-1.546-.448-.378-1.052-.685-1.732-.928-1.367-.488-3.206-.776-5.202-.776zM3.75 5c0-.039.02-.177.284-.4.26-.22.682-.452 1.269-.661C6.469 3.522 8.13 3.25 10 3.25s3.531.272 4.697.689c.587.209 1.009.44 1.269.66.264.224.284.362.284.401 0 .039-.02.177-.284.4-.26.22-.682.452-1.268.661-1.167.417-2.828.689-4.698.689-1.87 0-3.531-.272-4.697-.689-.587-.209-1.008-.44-1.269-.66C3.77 5.176 3.75 5.038 3.75 5z",clipRule:"evenodd"}),(0,i.jsx)("path",{d:"M17.75 15.786a.75.75 0 01-1.5 0V13.31l-4.72 4.72a.75.75 0 11-1.06-1.061l4.72-4.72h-2.476a.75.75 0 010-1.5H17a.75.75 0 01.75.75v4.286z"})]})})},343168:(e,t,o)=>{o.d(t,{A:()=>n});class i extends(()=>o(757695))().default{getInitialState(){return{openTooltip:void 0}}}const n=new i},590856:(e,t,o)=>{o.d(t,{y:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("collectionForm",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M5.50195 4.75635C5.37435 4.75635 5.26953 4.71305 5.1875 4.62646C5.10547 4.53988 5.06445 4.43734 5.06445 4.31885C5.06445 4.1958 5.10547 4.09326 5.1875 4.01123C5.26953 3.9292 5.37435 3.88818 5.50195 3.88818H10.5059C10.6289 3.88818 10.7314 3.9292 10.8135 4.01123C10.8955 4.09326 10.9365 4.1958 10.9365 4.31885C10.9365 4.43734 10.8955 4.53988 10.8135 4.62646C10.7314 4.71305 10.6289 4.75635 10.5059 4.75635H5.50195ZM5.50195 7.0874C5.37435 7.0874 5.26953 7.04639 5.1875 6.96436C5.10547 6.87777 5.06445 6.77295 5.06445 6.6499C5.06445 6.53141 5.10547 6.43115 5.1875 6.34912C5.26953 6.26709 5.37435 6.22607 5.50195 6.22607H10.5059C10.6289 6.22607 10.7314 6.26709 10.8135 6.34912C10.8955 6.43115 10.9365 6.53141 10.9365 6.6499C10.9365 6.77295 10.8955 6.87777 10.8135 6.96436C10.7314 7.04639 10.6289 7.0874 10.5059 7.0874H5.50195ZM5.50195 9.42529C5.37435 9.42529 5.26953 9.38428 5.1875 9.30225C5.10547 9.22021 5.06445 9.11995 5.06445 9.00146C5.06445 8.87842 5.10547 8.77588 5.1875 8.69385C5.26953 8.60726 5.37435 8.56396 5.50195 8.56396H7.92188C8.04948 8.56396 8.1543 8.60726 8.23633 8.69385C8.31836 8.77588 8.35938 8.87842 8.35938 9.00146C8.35938 9.11995 8.31836 9.22021 8.23633 9.30225C8.1543 9.38428 8.04948 9.42529 7.92188 9.42529H5.50195ZM2.13867 13.1577V2.84229C2.13867 2.10856 2.32552 1.55257 2.69922 1.17432C3.07292 0.791504 3.62663 0.600098 4.36035 0.600098H11.6406C12.3743 0.600098 12.9281 0.791504 13.3018 1.17432C13.6755 1.55257 13.8623 2.10856 13.8623 2.84229V13.1577C13.8623 13.896 13.6755 14.4543 13.3018 14.8325C12.9281 15.2108 12.3743 15.3999 11.6406 15.3999H4.36035C3.62663 15.3999 3.07292 15.2108 2.69922 14.8325C2.32552 14.4543 2.13867 13.896 2.13867 13.1577ZM3.48535 13.0757C3.48535 13.3901 3.56738 13.6317 3.73145 13.8003C3.89551 13.9689 4.14388 14.0532 4.47656 14.0532H11.5312C11.8639 14.0532 12.1123 13.9689 12.2764 13.8003C12.4404 13.6317 12.5225 13.3901 12.5225 13.0757V2.93115C12.5225 2.61214 12.4404 2.36833 12.2764 2.19971C12.1123 2.02653 11.8639 1.93994 11.5312 1.93994H4.47656C4.14388 1.93994 3.89551 2.02653 3.73145 2.19971C3.56738 2.36833 3.48535 2.61214 3.48535 2.93115V13.0757Z"})})},608581:(e,t,o)=>{o.d(t,{A:()=>d});o(898992),o(354520),o(581454),o(941795);var i=o(296540),n=()=>o(401497),a=()=>o(451306),r=()=>o(284371),l=()=>o(963575),s=o(474848);function c(e){const{button:t,isLast:o}=e,l=(0,n().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:r().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return i.cloneElement(t,{...(0,a().AH)(t.props.style,l.button,o&&l.buttonLast),hoveredStyle:(0,a().AH)(l.buttonHovered,o&&l.buttonLast).style,pressedStyle:l.buttonPressed})}const d=function(e){let{children:t,isVisible:d,position:m,style:u}=e;const p=(0,o(484714).v3)(),g=(0,n().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:p.device.isMobile?"auto":"none",opacity:p.device.isMobile?1:0,fontFamily:r().vc(o(662303).locale).sans,position:"absolute",right:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[p]),h=i.Children.toArray(t).filter(o(534177).O9),y=h.length;return(0,s.jsx)(o(145214).A,{animate:{opacity:d?1:0},...(0,a().AH)(g.container,u,d&&g.containerHover,"top"===m&&g.containerTop),children:h.map(((e,t)=>{const n=t===y-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(859428).A&&i.isValidElement(e))return i.cloneElement(e,{render:(t,o)=>{const i=e.props.render(t,o);return(0,s.jsx)(c,{isLast:n,button:i},e.key)}});if(e.type===o(704152).A&&i.isValidElement(e))return(0,s.jsx)(c,{isLast:n,button:e},e.key)}}))})}},641276:(e,t,o)=>{o.d(t,{g:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("smileyFace",{viewBox:"0 0 20 20",svg:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:"M8 8.625c0 .621-.448 1.125-1 1.125s-1-.504-1-1.125S6.448 7.5 7 7.5s1 .504 1 1.125zm5 1.125c.552 0 1-.504 1-1.125S13.552 7.5 13 7.5s-1 .504-1 1.125.448 1.125 1 1.125zm-5.461 2.229a.75.75 0 00-1.085 1.036l.003.002.002.003.007.007.018.018.053.05c.044.04.105.093.182.153.154.12.377.272.67.42.59.3 1.456.582 2.61.582 1.156 0 2.022-.282 2.612-.581.293-.149.515-.3.67-.42a2.917 2.917 0 00.235-.205l.018-.017.006-.007.003-.003.002-.001v-.002a.75.75 0 00-1.084-1.035l-.006.005-.007.006c-.015.015-.045.04-.088.074a2.664 2.664 0 01-.428.267c-.396.2-1.03.419-1.932.419-.902 0-1.536-.218-1.932-.419-.2-.101-.342-.2-.428-.267a1.446 1.446 0 01-.101-.085z"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 1.25a8.75 8.75 0 110 17.5 8.75 8.75 0 010-17.5zm0 1.5a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5z",clipRule:"evenodd"})]})})},801678:(e,t,o)=>{o.d(t,{A:()=>y});var i=o(296540),n=()=>o(662303),a=()=>o(484714),r=()=>o(56366),l=()=>o(451306),s=()=>o(959013),c=()=>o(100622),d=()=>o(496603),m=()=>o(284371),u=()=>o(720665),p=()=>o(145214),g=o(474848);const h={isRepositioning:!1};const y=function(e){const t=(0,i.useRef)(null),n=(0,a().v3)(),{isMobile:s}=(0,a().Y0)(),[c,m]=(0,i.useState)(h),p=(0,i.useCallback)((()=>{m(h)}),[]),{renderControl:y,onFlushTemporaryPosition:b,style:f,source:w,store:C}=e,{isRepositioning:k,image:S,startDragRenderedPosition:x,startDragImageScreenHeight:T}=c,A=(0,r().K8)((()=>0===o(502438).default.state.stores.length),[]),[M,I]=(0,i.useState)(!1),V=(0,r().uB)(e.mouseStore,o(454305).A),P=(0,r().K8)((()=>V.state.mouseEntered),[V]),B=(0,o(401497).IS)((()=>({dragContainer:{width:"100%",cursor:k?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[k]),z=(0,r().K8)((()=>function(e,t,o){return(0,d().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,d().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,u().pN)(t)?o:t}}const i=t.getFormat(),n=i.page_cover_position;if((0,d().Et)(n))return n;return o}(e,t)}(w,C,c.temporaryPosition)),[c.temporaryPosition,w,C]);(0,i.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&k&&b({imagePosition:z,reset:()=>{V.reset(),p()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[z,k,V,b,p]),k&&!A&&p();const N=(0,i.useMemo)((()=>(0,d().nF)((e=>{V.setState({...V.state,mouseEntered:!0})}),100)),[V]),F=(0,i.useMemo)((()=>(0,d().sg)((e=>{V.setState({...V.state,mouseEntered:!1})}),100)),[V]),R=(0,i.useCallback)(((e,t)=>{o(778417).IU({environment:n});const i=new Image;i.onload=()=>{m((e=>({...e,isRepositioning:!0,image:i})))},t&&(i.src=t)}),[n]),D=(0,i.useCallback)((e=>{b({imagePosition:z,reset:()=>{p()}})}),[z,b,p]),_=(0,i.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(819121).p)(t)&&I(!0)}),[]),j=(0,i.useCallback)((()=>{I(!0)}),[]),E=(0,i.useCallback)((e=>{if(S&&k){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/S.width*S.height;m((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:z})))}}}),[S,z,k]),q=(0,i.useCallback)((e=>{if(k){const t=e.diffY/(T||0)+(x||0);m((e=>({...e,temporaryPosition:(0,d().LI)((0,o(40845).A)(t,0,1),4)})))}}),[k,T,x]),H=(0,i.useCallback)((()=>{m((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),K=(0,r().K8)((()=>y({handleRepositionClick:R,handleSavePositionClick:D,handleCancelClick:p,isVisible:s||P||M||k,isRepositioning:k})),[R,D,M,s,k,P,y,p]);return(0,g.jsxs)("div",{ref:t,onFocus:_,onBlur:j,onMouseEnter:N,onMouseMove:N,onMouseLeave:F,...(0,l().AH)(B.container,f),children:[(0,g.jsx)(o(603820).A,{onDraggableDragStart:E,onDraggableDragMove:q,onDraggableDragEnd:H,onDraggableDragCancel:H,disabled:!k,render:t=>(0,g.jsx)("div",{...(0,l().AH)(B.dragContainer),...t,children:e.render({imagePosition:z,isRepositioning:k})})}),(0,g.jsx)(v,{small:e.small,isRepositioning:k}),K]})};function v(e){let{small:t,isRepositioning:o}=e;if(t)return null;const i={background:c().Ay.blackWithAlpha(.4),borderRadius:4,color:c().Ay.white,fontSize:12,fontFamily:m().vc(n().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,g.jsx)(p().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:i,children:(0,g.jsx)(s().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},833666:(e,t,o)=>{o.d(t,{A:()=>n});var i=()=>o(244641);class n{constructor(){this.UNVISITED_FRECENCY_SCORE=1}getFrecencyRankedActions(e,t){const o=Date.now();return Object.keys(e).sort(((i,n)=>{const a=e=>Math.ceil(e.frequency*this.getWeightForVisit(o,e.lastAccessed,t)),r=e[i],l=e[n],s=void 0!==(null==r?void 0:r.frequency)&&void 0!==(null==r?void 0:r.lastAccessed)?a(r):this.UNVISITED_FRECENCY_SCORE,c=void 0!==(null==l?void 0:l.frequency)&&void 0!==(null==l?void 0:l.lastAccessed)?a(l):this.UNVISITED_FRECENCY_SCORE;return s===c?0:c-s}))}getWeightForVisit(e,t,o){const{TIME_BUCKETS:n,DEFAULT_BUCKET_WEIGHT:a}=o,r=i().c9.fromMillis(e).diff(i().c9.fromMillis(t),"hours").as("hours");for(const i of n){if(r<=i.hours)return i.weight}return a}}},894995:(e,t,o)=>{o.r(t),o.d(t,{FORMS_SHARE_CALLOUT_KEY:()=>J,changeFormClosedState:()=>de,changeFormSubmissionPermissions:()=>me,createAndFocusCollectionFormEditorView:()=>ie,createCollectionFormEditorView:()=>ne,createDummyFormPage:()=>he,createFormInPrivate:()=>ae,createFormQuestion:()=>le,createFormQuestionAndModuleForNewlyDuplicatedProperty:()=>se,createFormQuestionAndUpdateOrCreateModule:()=>ce,createResponsesCollectionView:()=>re,handleUpdateFormQuestionName:()=>ee,incrementAndTrackUserFormsCreated:()=>X,maybeAlertAboutUnsupportedPublicQuestions:()=>ye,maybeSyncQuestionNameToPropertyName:()=>te,remapQuestionToNewProperty:()=>ge,toggleAnonymousFormSubmissionState:()=>ue,toggleNotionBrandingState:()=>pe});o(16280),o(944114),o(898992),o(354520),o(672577),o(803949),o(296540);var i=()=>o(401497),n=()=>o(584262),a=()=>o(700500),r=()=>o(31503),l=()=>o(970013),s=()=>o(713998),c=()=>o(110192),d=()=>o(416504),m=()=>o(261164),u=()=>o(590856),p=()=>o(29118),g=()=>o(235692),h=()=>o(388821),y=()=>o(450648),v=()=>o(179034),b=()=>o(869558),f=()=>o(37165),w=()=>o(144081),C=()=>o(919709),k=()=>o(959013),S=()=>o(498212),x=()=>o(183558),T=()=>o(284371),A=()=>o(235191),M=()=>o(669548),I=()=>o(901389),V=()=>o(896628),P=()=>o(246826),B=()=>o(857783),z=()=>o(185544),N=()=>o(317909),F=()=>o(755199),R=()=>o(478251),D=()=>o(180762),_=()=>o(989423),j=()=>o(389658),E=()=>o(682146),q=()=>o(594794),H=()=>o(972435),K=()=>o(465425),Q=()=>o(978846),L=()=>o(33218),O=()=>o(351360),U=()=>o(508496),W=()=>o(343168),$=()=>o(611371),Z=()=>o(465741),G=o(474848);const Y=(0,k().YK)({responsesViewName:{id:"formEditorActions.responsesViewName",defaultMessage:"Responses"},newFormViewName:{id:"formEditorActions.newFormViewName",defaultMessage:"Form builder"},formDatabaseTitle:{id:"newBlock.databaseInline.formDatabaseTitle",defaultMessage:"New form"}}),J="forms_share_form_tooltip";function X(e,t){const{currentUserSettingsStore:o}=O().default.state;if(!o)return;const i=function(){const{currentUserSettingsStore:e}=O().default.state;if(!e)return;return e.getSettingsStore().getKeyStore("user_forms_created_count").getValue()??0}();void 0!==i&&(F().mJ({userSettingsStore:o,transaction:t,data:{user_forms_created_count:i+1}}),function(e,t){(0,_().u4)({environment:e,event:{eventName:"form_created",eventProperties:{user_total_form_count:t.userFormsCreatedCount}}})}(e,{userFormsCreatedCount:i+1})),U().default.logEvent("form_created")}function ee(e){var t;const{questionStore:o,newName:i,environment:n,collectionStore:a,collectionSchema:r,collectionContextStore:l}=e,s=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!s)throw new Error("No property ID found for question");N().createAndCommit({userAction:"formQuestion.changeName",environment:n,canUndo:!0,perform:e=>{var t,n;const c=null===(t=o.getConfig())||void 0===t?void 0:t.name;if(!c)return;const m=(0,y().r4)({textValue:c,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,d().P)(),intl:H().A.getIntl()})===(null===(n=r[s])||void 0===n?void 0:n.name);N().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","name"],command:"set",args:[[i]]},transaction:e}),o.shouldSyncQuestionNameToPropertyName()&&(m&&!(0,E().fE)({property:s,collectionContextStore:l,newValue:i})?A().YO({collectionStore:a,property:s,name:i,transaction:e}):N().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","shouldSyncQuestionNameToPropertyName"],command:"set",args:!1},transaction:e}))}})}function te(e){var t;const{questionStore:o,environment:i,collectionStore:n,collectionContextStore:a}=e,r=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!r)throw new Error("No property ID found for question");N().createAndCommit({userAction:"formQuestion.changeName",environment:i,canUndo:!0,perform:e=>{if(!o.shouldSyncQuestionNameToPropertyName())return;const t=o.getNameStore().getValue();if(!t)return;const i=(0,y().r4)({textValue:t,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,d().P)(),intl:H().A.getIntl()}),l=(0,E().fE)({property:r,collectionContextStore:a,newValue:i})?(0,c().Q)(i):i;A().YO({collectionStore:n,property:r,name:l,transaction:e})}})}function oe(){const e=(0,i().IS)((e=>({container:{display:"flex",flexDirection:"column"},iconGroup:{display:"flex",flexDirection:"row",justifyContent:"center",color:e.icon.secondary,alignItems:"center"},dialogTitle:{fontSize:16,fontWeight:T().Wy.semibold,lineHeight:"22px",marginTop:12,marginBottom:12},dialogDescription:{color:e.text.secondary,fontSize:14,lineHeight:"20px"}})),[]);return(0,G.jsxs)("div",{style:e.container,children:[(0,G.jsxs)("div",{style:e.iconGroup,children:[(0,p().K)({width:24}),(0,m().o)({width:16,marginLeft:16,marginRight:14}),(0,u().y)({width:24})]}),(0,G.jsx)("span",{style:e.dialogTitle,children:(0,G.jsx)(k().sA,{defaultMessage:"Auto-create form questions based on existing properties?",id:"NewFormOnExistingCollectionDialogTitle.message"})}),(0,G.jsx)("span",{style:e.dialogDescription,children:(0,G.jsx)(k().sA,{defaultMessage:"Only supported property types will create new questions.",id:"NewFormOnExistingCollectionDialogTitle.description"})})]})}function ie(e){const{environment:t,collectionContextStore:o,transaction:i}=e,n=o.collectionViewBlockStore(),a=o.collectionStore();if(!n||!a)return;const l=o.normalizedSchemaStore.state,s=ne({environment:t,collectionViewBlockStore:n,schema:l,transaction:i,initializeWithAllDefaultQuestions:!1});if(!s)return;(0,D().t)({environment:t,collectionContextStore:o,collectionViewId:s.newViewId,isFullScreen:o.isFullScreenStore.state,isRootChild:o.isRootChildStore.state,isInPeekRenderer:o.isInPeekRendererStore.state});const c=s.layoutStore,d=Object.keys(l).filter((e=>{const t=l[e];return"title"!==e&&t&&(0,r().Sg)(t)}));d.length>0&&d.length<=Z().eb&&I().ui({showCancel:!1,keepFocus:!1,message:(0,G.jsx)(oe,{}),mode:"wide",items:[{label:(0,G.jsx)(k().sA,{defaultMessage:"Create {numQuestions, plural, one {1 question} other {{numQuestions} questions}}",id:"formEditorActions.createQuestions.primaryAction",values:{numQuestions:d.length}}),color:"blue",buttonType:"solid",onAccept(){N().createAndCommit({environment:t,userAction:"formActions.autoCreateFormQuestionsForExistingDatabase",canUndo:!0,perform:e=>{for(const i of d)se({environment:t,transaction:e,layoutStore:c,collectionStore:a,propertyId:i,position:{type:"area_relative",area:"form_layout_schema",location:"end_moveable"},addLayoutModule:o=>{(0,Q().UQ)({environment:t,sessionId:(0,S().Ay)(),layoutStore:c,position:o.position??{type:"area_relative",area:"form_layout_schema",location:"end_moveable"},module:o.layoutModule,transaction:e,isPropertyCreation:!1})},collectionContextStore:o,shouldLogEvent:!0,autoCreatedFromExistingDatabase:!0})}})}},{label:(0,G.jsx)(k().sA,{defaultMessage:"Start from scratch",id:"formEditorActions.createQuestions.secondary"}),color:"gray",buttonType:"plain",onAccept(){}}]})}function ne(e){const{environment:t,collectionViewBlockStore:o,transaction:i,schema:n,initializeWithAllDefaultQuestions:a}=e;if(!o)return;const s=o.getSpaceId(),{formBlockStore:c,layoutStore:d}=function(e){var t;const{environment:o,spaceId:i,inMemoryRecordCache:n,transaction:a,schema:s,initializeWithAllDefaultQuestions:c}=e,d=Object.keys(s).find((e=>{var t;return"multi_select"===(null===(t=s[e])||void 0===t?void 0:t.type)})),m=Boolean(c&&void 0!==d),u=(0,q().Z1)({environment:o,table:v().ev,spaceId:i}),p=(0,q().Z1)({environment:o,table:f().lo,spaceId:i}),h=m?(0,q().Z1)({environment:o,table:f().lo,spaceId:i}):void 0,y=P().Wv({id:u,environment:o,type:"form",permissions:(0,r().eb)(),inMemoryRecordCache:n,transaction:a}),b=P().eC({environment:o,table:w().zx,value:{space_id:i,parent_table:v().ev,parent_id:y.id,modules:(0,g().oP)(p,h)},inMemoryRecordCache:n,transaction:a});var C,k;V().zA({stores:[y],update:{form_layout_pointer:{id:b.id,spaceId:i,table:w().zx}},transaction:a}),le({environment:o,questionId:p,spaceId:i,layoutId:b.id,propertyId:l().rn,initialQuestionTitle:(null===(t=s[l().rn])||void 0===t?void 0:t.name)??"",inMemoryRecordCache:n,transaction:a,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1}),m&&h&&d&&le({environment:o,questionId:h,spaceId:i,layoutId:b.id,propertyId:d,initialQuestionTitle:(null===(C=s[d])||void 0===C?void 0:C.name)??"",existingFormQuestionConfig:{propertyId:d,name:[[(null===(k=s[d])||void 0===k?void 0:k.name)??""]],propertyTypeSpecificConfig:{multi_select:{maxSelectionCount:1}}},inMemoryRecordCache:n,transaction:a,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1});return{formBlockStore:y,layoutStore:b}}({environment:t,spaceId:s,inMemoryRecordCache:o.inMemoryRecordCache,transaction:i,schema:n,initializeWithAllDefaultQuestions:a}),m=(0,R().i)({environment:t,collectionViewBlockStore:o,collectionView:{type:"form_editor",parent_id:o.id,parent_table:v().ev,alive:!0,space_id:s,name:H().A.formatMessage(Y.newFormViewName),format:{form_block_pointer:{id:c.id,spaceId:s,table:v().ev}}},transaction:i});return P().zv({store:c,data:{parent_id:m.id,parent_table:b().Gy,alive:!0},transaction:i}),W().A.setState({openTooltip:m.id}),K().HH(t,J),X(t,i),{newViewId:m.id,layoutStore:d,formId:c.id}}function ae(e){const{environment:t,navigateToFormBuilder:o}=e,{currentSpaceStore:i,currentSpaceViewStore:a}=O().default.state;if(!i||!a)return;if(!(0,$().EF)(t))return void(0,$().QY)(t);if(!(i&&i.canEdit()&&a))return;const r=i.id,l=t.idCreator.getSpaceIdCreatorSync(r);N().createAndCommit({environment:t,userAction:"formActions.createAndNavigateToFormInPrivate",canUndo:!0,perform:e=>{var s;const{targetBlockStore:c}=M().j({environment:t,sourceBlockId:"root",targetBlockPointer:(0,q().zP)({environment:t,table:v().ev,spaceId:r}),sourceBlockSubtree:(0,h().partialRecordMapToRecordMap)(j().mT({isInline:!0,name:(0,C().x9d)(H().A.formatMessage(Y.formDatabaseTitle))})),targetRecordCache:i.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,spaceIdCreator:l}),d=c.getCollectionStore(),m=null==d||null===(s=d.getModel())||void 0===s?void 0:s.getNormalizedSchema(),u=c;if(!m)throw new Error("Schema not found");ne({environment:t,transaction:e,collectionViewBlockStore:u,schema:m,initializeWithAllDefaultQuestions:!0}),re({environment:t,transaction:e,collectionViewBlockStore:u,schema:m}),z().yM({environment:t,spaceStore:i,spaceViewStore:a,pageStore:c,isPrivate:!0,transaction:e,location:{type:"prepend"}}),o&&B().uK({environment:t,store:c,pageVisitSource:n().y8.CreateFormDeepLink})}})}function re(e){const{environment:t,collectionViewBlockStore:o,transaction:i}=e,n=o.getSpaceId(),a=Object.keys(e.schema).find((t=>{var o;return"created_by"===(null===(o=e.schema[t])||void 0===o?void 0:o.type)}));(0,R().i)({environment:t,collectionViewBlockStore:o,collectionView:{type:"table",parent_id:o.id,parent_table:v().ev,alive:!0,name:H().A.formatMessage(Y.responsesViewName),space_id:n,format:{table_properties:[{property:"title",visible:!0},...a?[{property:a,visible:!0}]:[]],table_wrap:!0,collection_pointer:o.getCollectionPointer()}},transaction:i})}function le(e){const{environment:t,questionId:o,spaceId:i,layoutId:n,propertyId:a,initialQuestionTitle:r,inMemoryRecordCache:l,transaction:s,shouldSyncQuestionNameToPropertyName:c,collectionContextStore:d,shouldLogEvent:m=!0,autofocusTitle:u,existingFormQuestionConfig:p,autoCreatedFromExistingDatabase:g}=e;P().eC({environment:t,table:f().lo,value:{id:o,space_id:i,parent_table:w().zx,parent_id:n,alive:!0,config:{...p,propertyId:a,name:[[r]],shouldSyncQuestionNameToPropertyName:c}},inMemoryRecordCache:l,transaction:s}),m&&(0,_().u4)({environment:t,event:{eventName:"add_form_question",eventProperties:{...(0,Z().YA)({collectionContextStore:d,propertyId:a,questionId:o}),auto_created_from_existing_database:Boolean(g)}}}),u&&u.autofocusedQuestionTextStore.autofocusQuestionTitle({questionId:o})}function se(e){const{environment:t,transaction:o,layoutStore:i,collectionStore:n,propertyId:a,position:r,addLayoutModule:l,collectionContextStore:s,shouldLogEvent:c=!0,autofocusTitle:d,existingFormQuestionConfig:m,autoCreatedFromExistingDatabase:u}=e,p=n.getSchema()[a];if(!p)throw new Error(`No schema found for property ${a}`);const g=m?(0,C().q4_)(null==m?void 0:m.name):p.name,h=i.getSpaceId(),y=(0,q().Z1)({environment:t,table:f().lo,spaceId:h});return le({environment:t,questionId:y,spaceId:h,layoutId:i.id,propertyId:a,initialQuestionTitle:g,inMemoryRecordCache:i.inMemoryRecordCache,transaction:o,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:c,collectionContextStore:s,autofocusTitle:d,existingFormQuestionConfig:m,autoCreatedFromExistingDatabase:u}),l({layoutModule:{type:"formQuestion",id:(0,x().Ay)(),formQuestionId:y},position:r,transaction:o}),{questionId:y}}function ce(e){const{environment:t,transaction:o,layoutStore:i,propertyId:n,initialQuestionTitle:a,moduleId:r,shouldSyncQuestionNameToPropertyName:l,collectionContextStore:s,autofocusTitle:c,area:d,sessionId:m}=e,u=i.getModel();if(!u)throw new Error("Layout model cannot be undefined");const p=i.getSpaceId(),g=(0,q().Z1)({environment:t,table:f().lo,spaceId:p});le({environment:t,questionId:g,spaceId:p,layoutId:u.id,propertyId:n,initialQuestionTitle:a,inMemoryRecordCache:i.inMemoryRecordCache,transaction:o,shouldSyncQuestionNameToPropertyName:l,collectionContextStore:s,autofocusTitle:c});const h={type:"formQuestion",id:r??(0,x().Ay)(),formQuestionId:g,..."form_conditional_modules"===d?{parentModuleId:e.parentModuleId,parentConditionalGroupId:e.parentConditionalGroupId}:{}};return r?(0,L().UQ)({environment:t,transaction:o,layoutStore:i,position:{area:d,moduleId:r},updatedModule:h}):"form_conditional_modules"===d&&(0,Q().UQ)({environment:t,transaction:o,layoutStore:i,position:{type:"absolute",area:"form_conditional_modules",parentConditionalGroupId:e.parentConditionalGroupId,parentModuleId:e.parentModuleId},module:h,sessionId:m,isPropertyCreation:!1}),{updatedModuleId:h.id,formQuestionId:g}}function de(e){let{environment:t,formBlockStore:o,isClosed:i}=e;o.getIsFormClosed()!==i&&N().createAndCommit({userAction:"formActions.changeFormClosedState",environment:t,canUndo:!0,perform:e=>{V().zA({stores:[o],update:{form_config:{...o.getFormConfig(),is_form_closed:i}},transaction:e})}})}function me(e){let{environment:t,formBlockStore:o,permissions:i}=e;o.getFormSubmissionPermissions()!==i&&N().createAndCommit({userAction:"formActions.changeFormSubmissionPermissions",environment:t,canUndo:!0,perform:e=>{V().zA({stores:[o],update:{form_config:{...o.getFormConfig(),submission_permissions:i}},transaction:e})}})}function ue(e){let{environment:t,formBlockStore:o}=e;const i=o.getIsFormAnonymousSubmissionEnabled();N().createAndCommit({userAction:"formActions.changeAnonymousFormSubmissionState",environment:t,canUndo:!0,perform:e=>{V().zA({stores:[o],update:{form_config:{...o.getFormConfig(),anonymous_submissions:!i}},transaction:e})}})}function pe(e){var t;let{environment:o,formBlockStore:i}=e;const n=i.getSiteStore();if(!n)return;const a=(null===(t=n.getHeader())||void 0===t?void 0:t.hideWatermark)??!1;N().createAndCommit({userAction:"formBlockStore.publicForm.toggleNotionBranding",environment:o,canUndo:!0,perform:e=>{N().applyOperation({store:n,operation:{pointer:n.pointer,path:["header","hideWatermark"],command:"set",args:!a},transaction:e})}})}function ge(e){let{environment:t,newPropertyId:o,formQuestionStore:i}=e;N().createAndCommit({userAction:"formQuestion.remapQuestionToNewProperty",environment:t,canUndo:!0,perform:e=>{N().applyOperation({store:i,operation:{pointer:i.pointer,path:["config","propertyId"],command:"set",args:o},transaction:e})}})}function he(e){const{environment:t,collectionSchema:o,temporaryRecordCache:i,spaceId:n,collectionId:r,formMode:l}=e,s={};Object.keys(o).forEach((e=>{s[e]=(0,C().x9d)("")}));const{performResult:c}=N().createAndCommit({environment:t,userAction:"formActions.createDummyFormPage",perform:e=>{const o=P().Wv({environment:t,type:a().xd.page,inMemoryRecordCache:i,transaction:e,spaceId:n,properties:{...s}});return P().zv({store:o,data:{alive:"viewer"===l,parent_id:r,parent_table:"collection"},transaction:e}),o},canUndo:!1});return c}async function ye(e){const{environment:t,formBlockStore:o,collectionSchema:i,theme:n,onAccept:a}=e;if(!i)return;const r=(0,Z().Dx)(o),l=(null==r?void 0:r.getNormalizedFormQuestionStoresForFormLayout({collectionSchema:i}))??[],c=[];if(l.forEach((e=>{const o=e.getPropertyId();if(!o)return;const n=(0,s()._g)({schema:i,property:o}),a=null==n?void 0:n.type;if(!a)return;(0,Z().CK)({environment:t,propertyType:a,propertySchema:n,isPublicForm:!0})&&c.push(e)})),0===c.length)return void a();const m=c.map(((e,t)=>{const o=(0,y().r4)({textValue:e.getNameStore().getValue(),getRecordModel:e.getRecordModel,deterministic:!0,userTimeZone:(0,d().P)(),intl:H().A.getIntl()}),i=t===c.length-1;return(0,G.jsx)("div",{style:{fontSize:14,textAlign:"start",padding:"8px 12px",borderBottom:i?void 0:`1px solid ${n.lightDividerColor}`},children:o},e.id)})),{accept:u}=await I().Gh({message:(0,G.jsx)(k().sA,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.message",defaultMessage:"These questions are not supported in public forms and will not be shown to respondents:"}),description:(0,G.jsx)("div",{style:{borderRadius:6,border:`1px solid ${n.lightDividerColor}`,width:"calc(100% + 24px)",marginLeft:-12,marginTop:12,maxHeight:210,overflow:"auto"},children:m}),acceptLabel:(0,G.jsx)(k().sA,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.acceptLabel",defaultMessage:"Got it"}),acceptColor:"blue",cancelButtonType:"plain",mode:"wide"});u&&a()}},943647:(e,t,o)=>{o.d(t,{A:()=>b});var i=o(296540),n=()=>o(484714),a=()=>o(56366),r=()=>o(959013),l=()=>o(896628),s=()=>o(454531),c=()=>o(317909),d=()=>o(478726),m=()=>o(867772),u=()=>o(681810),p=()=>o(608581),g=()=>o(145214),h=()=>o(704152),y=()=>o(24611),v=o(474848);const b=function(e){let{store:t,disabled:r,paddingRight:s,paddingLeft:d,height:p,proxyWidth:g}=e;const h=(0,n().v3)(),y=(0,a().uB)(void 0,o(454305).A),b=(0,a().K8)((()=>r||"suggest"===o(77246).Uv.getMode(t)),[r,t]),C=(0,a().K8)((()=>t.getCover()),[t]),k=(0,a().O$)(u().A),[S,x]=(0,i.useState)(void 0);if(!C)return null;const T=k.loadingMode!==m().pF&&k.loadingMode!==m().Wc;return(0,v.jsx)(o(801678).A,{mouseStore:y,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:i,reset:n}=e;c().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{l().yY({store:t,coverPosition:i,transaction:e}),n()}})}(e,t,h),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:i,handleCancelClick:n,isVisible:a,isRepositioning:r}=e;return(0,v.jsx)(w,{handleRepositionClick:o,handleSavePositionClick:i,handleCancelClick:n,isVisible:a,isRepositioning:r,lastProxiedUrl:S,store:t,disabled:b,paddingRight:s,paddingLeft:d,mouseStore:y})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:p,maxHeight:280,cursor:"default"},render:e=>(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(o(360083).A,{url:C.cover,isAuthenticated:!0,permissionRecord:C.pointer,width:g,onFinishedLoadingProxyUrl:x,render:(t,i)=>{const n={width:"100%",height:p,maxHeight:280,objectFit:"cover",opacity:T?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},a={width:"100%",height:p,maxHeight:280};return(0,v.jsx)(o(307440).E,{src:i,placeholderSrc:T?k.dataURL:void 0,placeholderBehavior:T?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:a,imageStyle:n,onLoadComplete:f,testId:"pageCover"})}}),T&&(0,v.jsxs)("div",{style:o(816559).fd,children:[(0,v.jsx)(o(331542).A,{size:"md",style:{marginRight:4}}),(0,v.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:(0,v.jsx)(o(773382).A,{percentage:k.uploadProgress})})]})]})})};function f(){u().A.reset()}function w(e){let{isVisible:t,isRepositioning:o,handleCancelClick:l,handleRepositionClick:c,handleSavePositionClick:b,lastProxiedUrl:f,store:w,disabled:C,paddingRight:k,paddingLeft:S,mouseStore:x}=e;const T=(0,n().v3)(),A=(0,r().tz)(),M=(0,i.useCallback)((e=>function(e,t,o,i,n){n.reset();const a=e.target.getBoundingClientRect();s().W({environment:t,intl:o,store:i,rect:a})}(e,T,A,w,x)),[T,A,w,x]),I=(0,a().K8)((()=>u().A.state.loadingMode),[]),V=(0,a().K8)((()=>function(e){let t;return t=e.isFullWidth()?"100%":d().x6,t}(w)),[w]);if(C||I!==m().pF)return null;const{device:P}=T,{isMobile:B}=P;return(0,v.jsx)(g().A,{animate:{width:V,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,v.jsxs)(p().A,{isVisible:t,position:"bottom",style:{marginRight:k,marginLeft:S},children:[!o&&(0,v.jsx)(h().A,{style:{borderRight:B?"none":void 0,...y().k},onClick:M,children:(0,v.jsx)(r().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!B&&(0,v.jsx)(h().A,{style:{...y().k,borderRight:"none"},onClick:e=>c(e,f),children:(0,v.jsx)(r().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!B&&(0,v.jsx)(h().A,{style:y().k,onClick:b,children:(0,v.jsx)(r().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!B&&(0,v.jsx)(h().A,{style:{...y().k,borderRight:"none"},onClick:l,children:(0,v.jsx)(r().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},947320:(e,t,o)=>{o.d(t,{s7:()=>Qe,jO:()=>He,dH:()=>Le});o(16280),o(944114),o(71658),o(898992),o(354520),o(581454),o(908872),o(296540);var i=()=>o(662303),n=()=>o(401497),a=()=>o(496506),r=()=>o(148307),l=()=>o(700500),s=()=>o(617871),c=()=>o(340498),d=o(474848);const m=(0,c().wt)("avatar",{viewBox:"0 0 20 20",svg:(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{fillRule:"evenodd",d:"M7.666 5.835C8.21 5.158 9.016 4.75 10 4.75s1.79.408 2.335 1.085c.53.66.775 1.525.775 2.415 0 .89-.245 1.756-.775 2.415-.545.677-1.351 1.085-2.335 1.085s-1.79-.408-2.334-1.085c-.53-.66-.776-1.525-.776-2.415 0-.89.245-1.756.776-2.415zm1.169.94c-.27.336-.445.845-.445 1.475 0 .63.175 1.14.445 1.475.255.318.629.525 1.165.525s.91-.207 1.165-.525c.27-.336.445-.845.445-1.475 0-.63-.175-1.14-.444-1.475-.256-.318-.63-.525-1.166-.525-.536 0-.91.207-1.165.525z",clipRule:"evenodd"}),(0,d.jsx)("path",{fillRule:"evenodd",d:"M1.75 10a8.25 8.25 0 1116.5 0 8.25 8.25 0 01-16.5 0zM10 3.25a6.75 6.75 0 00-4.347 11.914C6.389 13.664 8.106 12.7 10 12.7c1.882 0 3.609.968 4.343 2.468A6.75 6.75 0 0010 3.25zm3.074 12.761C12.692 15.026 11.526 14.2 10 14.2c-1.534 0-2.694.82-3.08 1.808.924.474 1.97.742 3.08.742a6.722 6.722 0 003.074-.739z",clipRule:"evenodd"})]})}),u=(0,c().wt)("calendarView",{viewBox:"0 0 20 20",svg:(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M8.75 9.5a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 1.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 3.25a.75.75 0 100-1.5.75.75 0 000 1.5zM12 8.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM11.25 12a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 1.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm1.75-4.25a.75.75 0 100-1.5.75.75 0 000 1.5zM7 11.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 3.25a.75.75 0 100-1.5.75.75 0 000 1.5zm8.25-3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}),(0,d.jsx)("path",{fillRule:"evenodd",d:"M5.25 2.5A2.75 2.75 0 002.5 5.25v9.5a2.75 2.75 0 002.75 2.75h9.5a2.75 2.75 0 002.75-2.75v-9.5a2.75 2.75 0 00-2.75-2.75h-9.5zM4 6.5v8.25c0 .69.56 1.25 1.25 1.25h9.5c.69 0 1.25-.56 1.25-1.25V6.5H4z",clipRule:"evenodd"})]})}),p=(0,c().wt)("databaseEmpty",{viewBox:"0 0 20 20",svg:(0,d.jsx)("path",{fillRule:"evenodd",d:"M10 1.75c-1.996 0-3.835.288-5.202.776-.68.243-1.284.55-1.732.928-.444.375-.816.894-.816 1.546v10c0 .652.372 1.17.816 1.546.448.378 1.052.685 1.732.928 1.367.488 3.206.776 5.202.776s3.835-.288 5.202-.776c.68-.243 1.284-.55 1.732-.928.444-.375.816-.894.816-1.546V5c0-.652-.372-1.17-.816-1.546-.448-.378-1.052-.685-1.732-.928-1.367-.488-3.206-.776-5.202-.776zM3.75 5c0-.039.02-.177.284-.4.26-.22.682-.452 1.269-.661C6.469 3.522 8.13 3.25 10 3.25s3.531.272 4.697.689c.587.209 1.009.44 1.269.66.264.224.284.362.284.401 0 .039-.02.177-.284.4-.26.22-.682.452-1.268.661-1.167.417-2.828.689-4.698.689-1.87 0-3.531-.272-4.697-.689-.587-.209-1.008-.44-1.269-.66C3.77 5.176 3.75 5.038 3.75 5zm12.5 2.01c-.317.175-.67.33-1.048.464-1.367.488-3.206.776-5.202.776s-3.835-.288-5.202-.776A7.105 7.105 0 013.75 7.01V10c0 .039.02.177.284.4.26.22.682.452 1.269.662 1.166.416 2.827.688 4.697.688s3.531-.272 4.697-.688c.587-.21 1.009-.442 1.269-.662.264-.223.284-.361.284-.4V7.01zm-12.5 5c.317.175.67.33 1.048.464 1.367.488 3.206.776 5.202.776s3.835-.288 5.202-.776c.377-.135.731-.29 1.048-.465V15c0 .039-.02.177-.284.4-.26.22-.682.452-1.268.661-1.167.417-2.828.689-4.698.689-1.87 0-3.531-.272-4.697-.689-.587-.209-1.008-.44-1.269-.66-.264-.224-.284-.362-.284-.401v-2.99z",clipRule:"evenodd"})}),g=(0,c().wt)("donutChart",{viewBox:"0 0 20 20",svg:(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{fillRule:"evenodd",d:"M10.08 1.25a.83.83 0 00-.83.83v2.87a.8.8 0 00.8.8c2.31 0 4.2 1.92 4.2 4.25 0 .414.336.75.75.75h2.92a.83.83 0 00.83-.83 8.67 8.67 0 00-8.67-8.67zm.67 3.043V2.781a7.173 7.173 0 016.469 6.469h-1.518c-.336-2.566-2.373-4.635-4.951-4.957z",clipRule:"evenodd"}),(0,d.jsx)("path",{d:"M7.479 1.619c.459-.138.896.225.896.704 0 .357-.248.662-.588.771a7.25 7.25 0 109.119 9.119c.109-.34.414-.588.771-.588.48 0 .842.437.704.896A8.75 8.75 0 117.48 1.62z"}),(0,d.jsx)("path",{d:"M7.392 4.874c.472-.24.983.139.983.668 0 .32-.197.604-.475.762a4.25 4.25 0 105.796 5.796c.158-.278.441-.475.762-.475.53 0 .908.511.668.983a5.75 5.75 0 11-7.734-7.734z"})]})}),h=(0,c().wt)("embeddedDatabase",{viewBox:"0 0 20 20",svg:(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M17.5 7.75a.75.75 0 01-.75-.75V4.5c0-.69-.56-1.25-1.25-1.25H13a.75.75 0 010-1.5h2.5a2.75 2.75 0 012.75 2.75V7a.75.75 0 01-.75.75zm-15 4.5a.75.75 0 01.75.75v2.5c0 .69.56 1.25 1.25 1.25H7a.75.75 0 010 1.5H4.5a2.75 2.75 0 01-2.75-2.75V13a.75.75 0 01.75-.75zM3.25 7a.75.75 0 01-1.5 0V4.5A2.75 2.75 0 014.5 1.75H7a.75.75 0 010 1.5H4.5c-.69 0-1.25.56-1.25 1.25V7zm14.25 5.25a.75.75 0 00-.75.75v2.5c0 .69-.56 1.25-1.25 1.25H13a.75.75 0 000 1.5h2.5a2.75 2.75 0 002.75-2.75V13a.75.75 0 00-.75-.75z"}),(0,d.jsx)("path",{fillRule:"evenodd",d:"M6.57 5.006C7.482 4.685 8.695 4.5 10 4.5c1.304 0 2.517.185 3.43.506.454.16.875.367 1.196.634.317.264.624.664.624 1.193v6.334c0 .53-.307.929-.624 1.193-.321.267-.742.474-1.195.634-.914.321-2.127.506-3.431.506-1.304 0-2.517-.185-3.43-.506-.454-.16-.875-.367-1.196-.634-.317-.264-.624-.664-.624-1.193V6.833c0-.53.307-.929.624-1.193.321-.267.742-.474 1.195-.634zm-.281 1.827a.794.794 0 01.044-.04c.134-.11.373-.245.734-.372C7.782 6.17 8.819 6 10 6c1.181 0 2.218.17 2.933.421.361.127.6.261.734.373a.813.813 0 01.044.04.809.809 0 01-.044.04c-.134.11-.373.244-.734.371-.715.252-1.752.422-2.933.422-1.18 0-2.218-.17-2.933-.422-.361-.127-.6-.26-.734-.372a.79.79 0 01-.044-.04zM13.43 8.66a5.6 5.6 0 00.319-.123v1.42a.537.537 0 01-.083.083c-.134.111-.373.245-.734.372-.715.252-1.752.421-2.933.421-1.18 0-2.218-.17-2.933-.42-.361-.128-.6-.262-.734-.373a.537.537 0 01-.083-.082v-1.42a5.6 5.6 0 00.32.122c.913.322 2.126.507 3.43.507 1.304 0 2.517-.185 3.43-.507zm-6.862 3.167a5.563 5.563 0 01-.319-.123v1.42a.539.539 0 00.083.082c.134.112.373.246.734.373C7.782 13.83 8.819 14 10 14c1.181 0 2.218-.17 2.933-.421.361-.127.6-.261.734-.373a.539.539 0 00.083-.082v-1.42c-.104.044-.21.085-.32.123-.913.322-2.126.506-3.43.506-1.304 0-2.517-.184-3.43-.506z",clipRule:"evenodd"})]})}),y=(0,c().wt)("form",{viewBox:"0 0 20 20",svg:(0,d.jsx)("path",{fillRule:"evenodd",d:"M3 2.75a.75.75 0 000 1.5h11.667a.75.75 0 000-1.5H3zm0 8a.75.75 0 000 1.5h10.733a.75.75 0 000-1.5H3zm-.75-3.5c0-.966.784-1.75 1.75-1.75h12c.966 0 1.75.784 1.75 1.75v.5A1.75 1.75 0 0116 9.5H4a1.75 1.75 0 01-1.75-1.75v-.5zM4 7a.25.25 0 00-.25.25v.5c0 .138.112.25.25.25h12a.25.25 0 00.25-.25v-.5A.25.25 0 0016 7H4zm0 6.5a1.75 1.75 0 00-1.75 1.75v.5c0 .966.784 1.75 1.75 1.75h7.333a1.75 1.75 0 001.75-1.75v-.5a1.75 1.75 0 00-1.75-1.75H4zm-.25 1.75A.25.25 0 014 15h7.333a.25.25 0 01.25.25v.5a.25.25 0 01-.25.25H4a.25.25 0 01-.25-.25v-.5z",clipRule:"evenodd"})}),v=(0,c().wt)("grid",{viewBox:"0 0 20 20",svg:(0,d.jsx)("path",{d:"M5.085 9.045q-.738 0-1.107-.37-.363-.368-.363-1.134v-2.85q0-.766.363-1.128.369-.37 1.107-.37H7.99q.738 0 1.108.37.369.362.369 1.127v2.851q0 .765-.37 1.135-.368.369-1.107.369zm.014-1.128h2.878q.177 0 .266-.096.096-.096.096-.28V4.684q0-.185-.096-.274-.09-.09-.266-.089H5.099q-.185 0-.274.09-.082.088-.082.273V7.54q0 .184.082.28.089.096.274.096Zm6.904 1.128q-.738 0-1.107-.37-.37-.368-.37-1.134v-2.85q0-.766.37-1.128.369-.37 1.107-.37h2.905q.739 0 1.1.37.37.362.37 1.127v2.851q0 .765-.37 1.135-.361.369-1.1.369zm.014-1.128h2.878q.184 0 .266-.096.09-.096.089-.28V4.684q0-.185-.089-.274-.082-.09-.266-.089h-2.878q-.185 0-.274.09-.09.088-.089.273V7.54q0 .184.09.28.088.096.273.096Zm-6.932 8.04q-.738 0-1.107-.37-.363-.363-.363-1.128v-2.857q0-.759.363-1.128.369-.37 1.107-.37H7.99q.738 0 1.108.37.369.369.369 1.128v2.857q0 .765-.37 1.128-.368.37-1.107.37zm.014-1.129h2.878q.177 0 .266-.089.096-.088.096-.273v-2.864q0-.185-.096-.274-.09-.096-.266-.096H5.099q-.185 0-.274.096-.082.089-.082.274v2.864q0 .184.082.273.089.09.274.09Zm6.904 1.128q-.738 0-1.107-.37-.37-.361-.37-1.127v-2.857q0-.759.37-1.128.369-.37 1.107-.37h2.905q.739 0 1.1.37.37.369.37 1.128v2.857q0 .765-.37 1.128-.361.37-1.1.37zm.014-1.128h2.878q.184 0 .266-.089.09-.088.089-.273v-2.864q0-.185-.089-.274-.082-.096-.266-.096h-2.878q-.185 0-.274.096-.09.089-.089.274v2.864q0 .184.09.273.088.09.273.09Z"})}),b=(0,c().wt)("horizontalBarChart",{viewBox:"0 0 20 20",svg:(0,d.jsx)("path",{fillRule:"evenodd",d:"M13.25 4.5a1.75 1.75 0 00-1.75-1.75h-8A1.75 1.75 0 001.75 4.5V5c0 .966.784 1.75 1.75 1.75h8A1.75 1.75 0 0013.25 5v-.5zm-1.75-.25a.25.25 0 01.25.25V5a.25.25 0 01-.25.25h-8A.25.25 0 013.25 5v-.5a.25.25 0 01.25-.25h8zM7.5 8c.966 0 1.75.784 1.75 1.75v.5A1.75 1.75 0 017.5 12h-4a1.75 1.75 0 01-1.75-1.75v-.5C1.75 8.784 2.534 8 3.5 8h4zm.25 1.75a.25.25 0 00-.25-.25h-4a.25.25 0 00-.25.25v.5c0 .138.112.25.25.25h4a.25.25 0 00.25-.25v-.5zm8.75 3.5c.966 0 1.75.784 1.75 1.75v.5a1.75 1.75 0 01-1.75 1.75h-13a1.75 1.75 0 01-1.75-1.75V15c0-.966.784-1.75 1.75-1.75h13zm.25 1.75a.25.25 0 00-.25-.25h-13a.25.25 0 00-.25.25v.5c0 .138.112.25.25.25h13a.25.25 0 00.25-.25V15z",clipRule:"evenodd"})}),f=(0,c().wt)("lineChart",{viewBox:"0 0 20 20",svg:(0,d.jsx)("path",{d:"M3.75 2.926a.75.75 0 00-1.5 0v12.148a2.676 2.676 0 002.676 2.676h12.148a.75.75 0 000-1.5H4.926c-.65 0-1.176-.527-1.176-1.176v-1.502l4.143-3.936a.25.25 0 01.326-.016l3.042 2.367a1.75 1.75 0 002.44-.289l3.385-4.23a.75.75 0 00-1.172-.936l-3.383 4.23a.25.25 0 01-.35.04L9.14 8.436a1.75 1.75 0 00-2.28.113l-3.11 2.954V2.926z"})});var w=()=>o(130818);const C=(0,c().wt)("listView",{viewBox:"0 0 20 20",svg:(0,d.jsx)("path",{d:"M8 9.25a.75.75 0 000 1.5h9.5a.75.75 0 000-1.5H8zm-5-5a.75.75 0 000 1.5h2a.75.75 0 000-1.5H3zm0 5a.75.75 0 000 1.5h2a.75.75 0 000-1.5H3zM2.25 15a.75.75 0 01.75-.75h2a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zm5-10A.75.75 0 018 4.25h9.5a.75.75 0 010 1.5H8A.75.75 0 017.25 5zM8 14.25a.75.75 0 000 1.5h9.5a.75.75 0 000-1.5H8z"})});const k=(0,c().wt)("squareRoot",{viewBox:"0 0 20 20",svg:(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M8.31 4.705A.75.75 0 019 4.25h8a.75.75 0 010 1.5H9.495L5.189 15.795a.75.75 0 01-1.345.07l-2.5-4.5a.75.75 0 111.312-.73L4.413 13.8l3.898-9.094z"}),(0,d.jsx)("path",{d:"M10.012 7.93a.75.75 0 011.057.082l2.431 2.836 2.43-2.836a.75.75 0 111.14.976L14.488 12l2.582 3.012a.75.75 0 01-1.14.976l-2.43-2.835-2.43 2.835a.75.75 0 01-1.14-.976L12.513 12 9.931 8.988a.75.75 0 01.08-1.057z"})]})});const S=(0,c().wt)("timelineView",{viewBox:"0 0 20 20",svg:(0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M5 6.625a.625.625 0 100 1.25h6.5a.625.625 0 100-1.25H5zM6.125 10c0-.345.28-.625.625-.625h6.5a.625.625 0 110 1.25h-6.5A.625.625 0 016.125 10zm2.125 2.125a.625.625 0 100 1.25h6.5a.625.625 0 100-1.25h-6.5z"}),(0,d.jsx)("path",{fillRule:"evenodd",d:"M4.25 3.5A2.75 2.75 0 001.5 6.25v7.5a2.75 2.75 0 002.75 2.75h11.5a2.75 2.75 0 002.75-2.75v-7.5a2.75 2.75 0 00-2.75-2.75H4.25zM3 6.25C3 5.56 3.56 5 4.25 5h11.5c.69 0 1.25.56 1.25 1.25v7.5c0 .69-.56 1.25-1.25 1.25H4.25C3.56 15 3 14.44 3 13.75v-7.5z",clipRule:"evenodd"})]})}),x=(0,c().wt)("verticalBarChart",{viewBox:"0 0 20 20",svg:(0,d.jsx)("path",{fillRule:"evenodd",d:"M13.25 3.5c0-.966.784-1.75 1.75-1.75h.5c.966 0 1.75.784 1.75 1.75v13a1.75 1.75 0 01-1.75 1.75H15a1.75 1.75 0 01-1.75-1.75v-13zM15 3.25a.25.25 0 00-.25.25v13c0 .138.112.25.25.25h.5a.25.25 0 00.25-.25v-13a.25.25 0 00-.25-.25H15zM8 12.5c0-.966.784-1.75 1.75-1.75h.5c.966 0 1.75.784 1.75 1.75v4a1.75 1.75 0 01-1.75 1.75h-.5A1.75 1.75 0 018 16.5v-4zm1.75-.25a.25.25 0 00-.25.25v4c0 .138.112.25.25.25h.5a.25.25 0 00.25-.25v-4a.25.25 0 00-.25-.25h-.5zM4.5 6.75A1.75 1.75 0 002.75 8.5v8c0 .966.784 1.75 1.75 1.75H5a1.75 1.75 0 001.75-1.75v-8A1.75 1.75 0 005 6.75h-.5zM4.25 8.5a.25.25 0 01.25-.25H5a.25.25 0 01.25.25v8a.25.25 0 01-.25.25h-.5a.25.25 0 01-.25-.25v-8z",clipRule:"evenodd"})});var T=()=>o(388693),A=()=>o(496603),M=()=>o(534177),I=()=>o(416726),V=()=>o(664133),P=()=>o(829300),B=()=>o(863188),z=()=>o(317909),N=()=>o(661077),F=()=>o(949575),R=()=>o(945710),D=()=>o(894995),_=()=>o(491073),j=()=>o(938346),E=()=>o(89924),q=()=>o(87017),H=()=>o(267430),K=()=>o(878377),Q=()=>o(989423),L=()=>o(389658),O=()=>o(495159),U=()=>o(667925),W=()=>o(289117),$=()=>o(972435),Z=()=>o(493260),G=()=>o(351360),Y=()=>o(508496),J=()=>o(53137),X=()=>o(666803),ee=()=>o(502438),te=()=>o(24157),oe=()=>o(356985),ie=()=>o(443616),ne=()=>o(621793),ae=()=>o(129518),re=()=>o(843005);const le=.75,se=1,ce=(0,o(959013).YK)({basicBlocksSection:{id:"action.section.basicBlocks",defaultMessage:"Basic blocks"},tableViewTitle:{id:"newBlock.tableView.title",defaultMessage:"Table view"},tableViewDescription:{id:"newBlock.tableView.description",defaultMessage:"Add a table view for a new or existing database."},boardViewTitle:{id:"newBlock.boardView.title",defaultMessage:"Board view"},boardViewDescription:{id:"newBlock.boardView.description",defaultMessage:"Create a kanban board database view."},boardViewKeywords:{id:"newBlock.boardView.fuzzySearchKeyword",defaultMessage:"board view kanban"},galleryViewTitle:{id:"newBlock.galleryView.title",defaultMessage:"Gallery view"},galleryViewDescription:{id:"newBlock.galleryView.description",defaultMessage:"Create a gallery database view."},listViewTitle:{id:"newBlock.listView.title",defaultMessage:"List view"},listViewDescription:{id:"newBlock.listView.description",defaultMessage:"Create a list database view."},calendarViewTitle:{id:"newBlock.calendarView.title",defaultMessage:"Calendar view"},calendarViewDescription:{id:"newBlock.calendarView.description",defaultMessage:"Create a calendar database view."},timelineViewTitle:{id:"newBlock.timelineView.title",defaultMessage:"Timeline view"},timelineViewDescription:{id:"newBlock.timelineView.description",defaultMessage:"Create a timeline database view."},verticalBarChartTitle:{id:"newBlock.verticalBarChart.title",defaultMessage:"Vertical bar chart"},verticalBarChartDescription:{id:"newBlock.verticalBarChart.description",defaultMessage:"Create a vertical bar chart from a database."},horizontalBarChartTitle:{id:"newBlock.horizontalBarChart.title",defaultMessage:"Horizontal bar chart"},horizontalBarChartDescription:{id:"newBlock.horizontalBarChart.description",defaultMessage:"Create a horizontal bar chart from a database."},lineChartTitle:{id:"newBlock.lineChart.title",defaultMessage:"Line chart"},lineChartDescription:{id:"newBlock.lineChart.description",defaultMessage:"Create a line chart from a database."},donutChartTitle:{id:"newBlock.donutChart.title",defaultMessage:"Donut chart"},donutChartDescription:{id:"newBlock.donutChart.description",defaultMessage:"Create a donut chart from a database."},numberChartTitle:{id:"newBlock.numberChart.title",defaultMessage:"Number chart"},numberChartDescription:{id:"newBlock.numberChart.description",defaultMessage:"Create a number chart from a database."},databaseInlineTitle:{id:"newBlock.databaseInline.title",defaultMessage:"Database - Inline"},formTitle:{id:"newBlock.databaseInline.form",defaultMessage:"Form"},formDatabaseTitle:{id:"newBlock.databaseInline.formDatabaseTitle",defaultMessage:"New form"},formDisabledTooltipMessage:{id:"newBlock.databaseInline.form.cannotCreateWithoutFullAccess",defaultMessage:'You need "Full access" to this page to create a form.'},databaseInlineDescription:{id:"newBlock.databaseInline.description",defaultMessage:"Add a new inline database to this page."},formDescription:{id:"newBlock.form.description",defaultMessage:"Create a form from scratch"},databaseInlineKeywords:{id:"newBlock.databaseInline.fuzzySearchKeywords",defaultMessage:"Database Inline db"},formInlineKeywords:{id:"newBlock.form.fuzzySearchKeywords",defaultMessage:"Form"},databaseFullPageTitle:{id:"newBlock.databaseFullPage.title",defaultMessage:"Database - Full page"},databaseFullPageDescription:{id:"newBlock.databaseFullPage.description",defaultMessage:"Add a new database as a sub-page."},databaseFullPageKeywords:{id:"newBlock.databaseFullPage.fuzzySearchKeywords",defaultMessage:"Database Full page db"},linkedViewOfCollectionTitle:{id:"newBlock.linkedViewOfCollection.title",defaultMessage:"Linked view of database"},linkedViewOfCollectionMobileTitle:{id:"newBlock.linkedViewOfCollectionMobile.title",defaultMessage:"Linked view"},linkedViewOfCollectionKeywords:{id:"newBlock.linkedViewOfCollection.fuzzySearchKeywords",defaultMessage:"Create linked view of database db"},linkedViewOfCollectionDescription:{id:"newBlock.linkedViewOfCollection.description",defaultMessage:"Add an existing database to this page."},mentionPersonTitle:{id:"action.mentionPerson.title",defaultMessage:"Mention a person"},mentionPersonDescription:{id:"action.mentionPerson.description",defaultMessage:"Ping someone so they get a notification."},mentionPageTitle:{id:"action.mentionPage.title",defaultMessage:"Mention a page"},mentionPageDescription:{id:"action.mentionPage.description",defaultMessage:"Mention a page and place in text."},dateOrReminderTitle:{id:"action.dateOrReminder.title",defaultMessage:"Date or reminder"},dateOrReminderDescription:{id:"action.dateOrReminder.description",defaultMessage:"Insert a date or reminder in text."},insertEmojiTitle:{id:"action.insertEmoji.title",defaultMessage:"Emoji"},insertEmojiDescription:{id:"action.insertEmoji.description",defaultMessage:"Search for an emoji to place in text."},insertInlineEquationTitle:{id:"action.insertInlineEquation.title",defaultMessage:"Inline equation"},insertInlineEquationKeywords:{id:"action.insertInlineEquation.fuzzySearchKeyword",defaultMessage:"LaTeX Math Inline Equation $"},insertInlineEquationDescription:{id:"action.insertInlineEquation.description",defaultMessage:"Insert mathematical symbols in text."},databaseSection:{id:"action.section.database",defaultMessage:"Database"},mediaSection:{id:"action.section.media",defaultMessage:"Media"},advancedBlocksSection:{id:"action.section.advancedBlocks",defaultMessage:"Advanced blocks"},inlineSection:{id:"action.section.inline",defaultMessage:"Inline"},embedsSection:{id:"action.section.embeds",defaultMessage:"Embeds"},syncedDatabasesSection:{id:"action.section.syncedDatabases",defaultMessage:"Synced Databases"},actionsSection:{id:"action.section.actions",defaultMessage:"Actions"},importsBlockSection:{id:"action.section.importsBlock",defaultMessage:"Import"},workflow:{id:"newBlock.workflow.title",defaultMessage:"App"},workflowDescription:{id:"newBlock.workflow.description",defaultMessage:"Create custom apps and automations."},workflowKeywords:{id:"newBlock.workflow.fuzzySearchKeywords",defaultMessage:"Workflow app container"}}),de=[U().ry[l().xd.text],U().ry[l().xd.header],U().ry[l().xd.subHeader],U().ry[l().xd.subSubHeader],U().ry[l().xd.bulletedList],U().ry[l().xd.numberedList],U().ry[l().xd.toDo],U().ry[l().xd.toggle],U().ry[l().xd.page],U().ry[l().xd.callout],U().ry[l().xd.quote],U().ry[l().xd.table],U().ry[l().xd.divider],U().ry[l().xd.linkToPage],U().ry[l().xd.slide]],me=[U().ry[l().xd.image],U().ry[l().xd.video],U().ry[l().xd.audio],U().ry[l().xd.code],U().ry[l().xd.file],U().ry[l().xd.drawing],U().ry[l().xd.bookmark]],ue=[U().h_[l().bF.csvImport],U().h_[l().bF.htmlImport],U().h_[l().bF.markdownImport],U().h_[l().bF.asanaImport],U().h_[l().bF.confluenceApiImport],U().h_[l().bF.googleDocsImport],U().h_[l().bF.trelloImport],U().h_[l().bF.dropboxPaperImport],U().h_[l().bF.evernoteImport],U().h_[l().bF.workflowyImport],U().h_[l().bF.wordImport],U().h_[l().bF.mondayImport],U().h_[l().bF.quipImport],U().h_[l().bF.genericImport],U().h_[l().bF.pdfImport]],pe=(0,U().Vg)({key:"table view",blockType:l().xd.collectionView,displayName:ce.tableViewTitle,thumbnail:r().A.images.blocks.tableViewInlinePng,icon:()=>o(571731).J,mobileNativeThumbnail:()=>r().A.images.mab.database.tableViewSvg,description:ce.tableViewDescription,fuzzySearchKeywords:ce.tableViewTitle,tooltipPhoto:r().A.images.tooltips.blocks.tablePng,createTemplate:()=>L().qP({isInline:!0,viewType:"table"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"table",isPlaceholderCollection:!0})},collectionViewType:"table"}),ge=(0,U().Vg)({key:"board view",blockType:l().xd.collectionView,displayName:ce.boardViewTitle,thumbnail:r().A.images.blocks.boardInlinePng,icon:()=>o(17945).l,mobileNativeThumbnail:()=>r().A.images.mab.database.boardViewSvg,description:ce.boardViewDescription,fuzzySearchKeywords:ce.boardViewKeywords,tooltipPhoto:r().A.images.tooltips.blocks.boardPng,createTemplate:()=>L().qP({isInline:!0,viewType:"board"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"board",isPlaceholderCollection:!0})},collectionViewType:"board"}),he=(0,U().Vg)({key:"gallery view",blockType:l().xd.collectionView,displayName:ce.galleryViewTitle,thumbnail:r().A.images.blocks.galleryInlinePng,icon:()=>v,mobileNativeThumbnail:()=>r().A.images.mab.database.galleryViewSvg,description:ce.galleryViewDescription,fuzzySearchKeywords:ce.galleryViewTitle,tooltipPhoto:r().A.images.tooltips.blocks.galleryPng,createTemplate:()=>L().qP({isInline:!0,viewType:"gallery"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"gallery",isPlaceholderCollection:!0})},collectionViewType:"gallery"}),ye=(0,U().Vg)({key:"list view",blockType:l().xd.collectionView,displayName:ce.listViewTitle,thumbnail:r().A.images.blocks.listInlinePng,icon:()=>C,mobileNativeThumbnail:()=>r().A.images.mab.database.listViewSvg,description:ce.listViewDescription,fuzzySearchKeywords:ce.listViewTitle,tooltipPhoto:r().A.images.tooltips.blocks.listPng,createTemplate:()=>L().qP({isInline:!0,viewType:"list"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"list",isPlaceholderCollection:!0})},collectionViewType:"list"}),ve=(0,U().Vg)({key:"calendar view",blockType:l().xd.collectionView,displayName:ce.calendarViewTitle,thumbnail:r().A.images.blocks.calendarInlinePng,icon:()=>u,mobileNativeThumbnail:()=>r().A.images.mab.database.calendarViewSvg,description:ce.calendarViewDescription,fuzzySearchKeywords:ce.calendarViewTitle,tooltipPhoto:r().A.images.tooltips.blocks.calendarPng,createTemplate:()=>L().qP({isInline:!0,viewType:"calendar"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"calendar",isPlaceholderCollection:!0})},collectionViewType:"calendar"}),be=(0,U().Vg)({key:"timeline view",blockType:l().xd.collectionView,displayName:ce.timelineViewTitle,thumbnail:r().A.images.blocks.timelineInlinePng,icon:()=>S,mobileNativeThumbnail:()=>r().A.images.mab.database.timelineViewSvg,description:ce.timelineViewDescription,fuzzySearchKeywords:ce.timelineViewTitle,tooltipPhoto:r().A.images.tooltips.blocks.timelinePng,createTemplate:()=>L().qP({isInline:!0,viewType:"timeline"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"timeline",isPlaceholderCollection:!0})},collectionViewType:"timeline"}),fe=(0,U().Vg)({key:"vertical bar chart",blockType:l().xd.collectionView,displayName:ce.verticalBarChartTitle,thumbnail:r().A.images.blocks.chartVerticalBarPng,icon:()=>x,mobileNativeThumbnail:()=>r().A.images.mab.database.verticalBarChartSvg,description:ce.verticalBarChartDescription,fuzzySearchKeywords:ce.verticalBarChartTitle,tooltipPhoto:r().A.images.tooltips.blocks.chartVerticalBarViewPng,collectionViewType:"chart",createTemplate:()=>L().qP({isInline:!0,viewType:"chart",chartType:"column"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"chart",isPlaceholderCollection:!0})}}),we=(0,U().Vg)({key:"horizontal bar chart",blockType:l().xd.collectionView,displayName:ce.horizontalBarChartTitle,thumbnail:r().A.images.blocks.chartHorizontalBarPng,icon:()=>b,mobileNativeThumbnail:()=>r().A.images.mab.database.horizontalBarChartSvg,description:ce.horizontalBarChartDescription,fuzzySearchKeywords:ce.horizontalBarChartTitle,tooltipPhoto:r().A.images.tooltips.blocks.chartHorizontalBarViewPng,collectionViewType:"chart",createTemplate:()=>L().qP({isInline:!0,viewType:"chart",chartType:"bar"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"chart",isPlaceholderCollection:!0})}}),Ce=(0,U().Vg)({key:"line chart",blockType:l().xd.collectionView,displayName:ce.lineChartTitle,thumbnail:r().A.images.blocks.chartLinePng,icon:()=>f,mobileNativeThumbnail:()=>r().A.images.mab.database.lineChartSvg,description:ce.lineChartDescription,fuzzySearchKeywords:ce.lineChartTitle,tooltipPhoto:r().A.images.tooltips.blocks.chartLineViewPng,collectionViewType:"chart",createTemplate:()=>L().qP({isInline:!0,viewType:"chart",chartType:"line"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"chart",isPlaceholderCollection:!0})}}),ke=(0,U().Vg)({key:"donut chart item",blockType:l().xd.collectionView,displayName:ce.donutChartTitle,thumbnail:r().A.images.blocks.chartDonutPng,icon:()=>g,mobileNativeThumbnail:()=>r().A.images.mab.database.donutChartSvg,description:ce.donutChartDescription,fuzzySearchKeywords:ce.donutChartTitle,tooltipPhoto:r().A.images.tooltips.blocks.chartDonutViewPng,collectionViewType:"chart",createTemplate:()=>L().qP({isInline:!0,viewType:"chart",chartType:"donut"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"chart",isPlaceholderCollection:!0})}}),Se=(0,U().Vg)({key:"database inline",blockType:l().xd.collectionView,displayName:ce.databaseInlineTitle,thumbnail:r().A.images.blocks.tableViewInlinePng,icon:()=>h,mobileNativeThumbnail:()=>r().A.images.mab.database.databaseInlineSvg,description:ce.databaseInlineDescription,fuzzySearchKeywords:ce.databaseInlineKeywords,tooltipPhoto:r().A.images.tooltips.blocks.tableViewPng,createTemplate:()=>L().qP({isInline:!0,viewType:"table"}),collectionViewType:"inline"}),xe=(0,U().Vg)({key:"form",blockType:l().xd.collectionView,displayName:ce.formTitle,thumbnail:r().A.images.blocks.formViewPng,icon:()=>y,description:ce.formDescription,fuzzySearchKeywords:ce.formInlineKeywords,tooltipPhoto:r().A.images.tooltips.blocks.formPng,collectionViewType:"form_editor",isDisabled:e=>!K().Km9(e),shouldShow:e=>!e.environment.device.isMobile,disabledTooltipMessage:$().A.formatMessage(ce.formDisabledTooltipMessage),createTemplate:e=>L().mT({isInline:!0,name:(0,o(919709).x9d)($().A.formatMessage(ce.formDatabaseTitle))}),postCreateCallback:(e,t,o)=>{var i;const n=e.getCollectionStore(),a=null==n||null===(i=n.getModel())||void 0===i?void 0:i.getNormalizedSchema(),r=e;if(!a)throw new Error("Schema not found");(0,D().createCollectionFormEditorView)({environment:t,transaction:o,collectionViewBlockStore:r,schema:a,initializeWithAllDefaultQuestions:!0}),(0,D().createResponsesCollectionView)({environment:t,transaction:o,collectionViewBlockStore:r,schema:a})}}),Te=(0,U().Vg)({key:"database full page",blockType:l().xd.collectionViewPage,displayName:ce.databaseFullPageTitle,thumbnail:r().A.images.blocks.tableViewPng,icon:()=>p,mobileNativeThumbnail:()=>r().A.images.mab.database.databaseFullPageSvg,description:ce.databaseFullPageDescription,fuzzySearchKeywords:ce.databaseFullPageKeywords,tooltipPhoto:r().A.images.tooltips.blocks.tableViewPng,createTemplate:()=>L().qP({isInline:!1,viewType:"table"}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"table",isPlaceholderCollection:!0})},collectionViewType:"full_page"}),Ae=(0,U().Vg)({key:"workflow",blockType:l().xd.collectionViewPage,displayName:ce.workflow,thumbnail:r().A.images.blocks.templateButtonPng,icon:()=>o(46220).S,mobileNativeThumbnail:()=>r().A.images.mab.advanced.workflowSvg,description:ce.workflowDescription,fuzzySearchKeywords:ce.workflowKeywords,tooltipPhoto:r().A.images.tooltips.blocks.templateButtonPng,createTemplate:()=>L().g$(),shouldShow:()=>Y().default.checkGate({gateName:"workflows_ui"})&&Y().default.checkGate({gateName:"workflow_container"}),collectionViewType:"full_page",postCreateCallback:(e,t)=>{o(857783).uK({environment:t,store:e,visitType:o(211716).ig.Link,pageVisitSource:o(584262).y8.Create,workflowViewType:"configure",chatThreadId:"new"})}}),Me=(0,U().Vg)({key:"linked database",blockType:l().xd.collectionView,displayName:ce.linkedViewOfCollectionTitle,fuzzySearchKeywords:ce.linkedViewOfCollectionKeywords,thumbnail:r().A.images.blocks.linkPng,icon:()=>w().M,mobileNativeThumbnail:()=>r().A.images.mab.database.linkedViewSvg,description:ce.linkedViewOfCollectionDescription,tooltipPhoto:r().A.images.tooltips.blocks.tablePng,createTemplate:()=>L().EO({isInline:!0,viewType:"table"}),shouldShow:e=>!e.environment.device.isMobile,postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"table",viewSettingsStack:[{type:"createViewSource",existingCollectionStore:void 0,createdCollectionRecordPointerMap:void 0}]})}}),Ie=(0,U().Vg)({key:"linked database mobile",blockType:l().xd.collectionView,displayName:ce.linkedViewOfCollectionMobileTitle,fuzzySearchKeywords:ce.linkedViewOfCollectionKeywords,thumbnail:r().A.images.blocks.linkPng,icon:()=>w().M,mobileNativeThumbnail:()=>r().A.images.mab.database.linkedViewSvg,description:ce.linkedViewOfCollectionDescription,tooltipPhoto:r().A.images.tooltips.blocks.tablePng,createTemplate:()=>L().EO({isInline:!0,viewType:"table"}),shouldShow:e=>e.environment.device.isMobile});const Ve=[U().ry[l().xd.tableOfContents],U().ry[l().xd.equation],U().ry[l().xd.button],U().ry[l().xd.factory],U().ry[l().xd.breadcrumb],U().ry[l().xd.tab],U().ry[l().xd.transclusionContainer],U().ry[l().sh.toggleFormatHeaderBlock],U().ry[l().sh.toggleFormatSubHeaderBlock],U().ry[l().sh.toggleFormatSubSubHeaderBlock],U().ry[l().sh.column2Block],U().ry[l().sh.column3Block],U().ry[l().sh.column4Block],U().ry[l().sh.column5Block],U().ry[l().sh.mermaidCodeBlock],U().ry[l().sh.aiFreePromptBlock],U().ry[l().xd.transcription]],Pe=[...[{key:"mentionPerson",title:ce.mentionPersonTitle,thumbnail:r().A.images.blocks.mentionPersonPng,icon:m,description:ce.mentionPersonDescription,tooltipPhoto:r().A.images.tooltips.blocks.mentionPersonPng,validators:[K().AU6(K().J$q)],action:e=>{let{environment:t}=e;P().Gf({environment:t,mentionTypes:{user:!0,inviteUserToWorkspace:!0,inviteUserToPage:!0,bot:!1,date:!1,page:!1,heading:!1,createPage:!1,reminder:!1,templateVariable:!0,group:!1,team:!1,formulaContextVariable:!1}})}},{key:"mentionPage",title:ce.mentionPageTitle,thumbnail:r().A.images.blocks.mentionPagePng,icon:o(155098).U,description:ce.mentionPageDescription,tooltipPhoto:r().A.images.tooltips.blocks.mentionPagePng,validators:[K().AU6(K().J$q)],action:e=>{let{environment:t}=e;P().Gf({environment:t,mentionTypes:{user:!1,inviteUserToWorkspace:!1,inviteUserToPage:!1,bot:!1,date:!1,reminder:!1,page:!0,heading:!1,createPage:!1,templateVariable:!1,group:!1,team:!1,formulaContextVariable:!1}})}},{key:"dateOrReminder",title:ce.dateOrReminderTitle,thumbnail:r().A.images.blocks.mentionDatePng,icon:o(485983).$,description:ce.dateOrReminderDescription,tooltipPhoto:r().A.images.tooltips.blocks.mentionTimePng,validators:[K().AU6(K().J$q)],action:e=>{let{environment:t}=e;P().Gf({environment:t,mentionTypes:{user:!1,inviteUserToWorkspace:!1,inviteUserToPage:!1,bot:!1,date:!0,reminder:!0,page:!1,heading:!1,createPage:!1,templateVariable:!0,group:!1,team:!1,formulaContextVariable:!1}})}}].map((e=>(0,I().Ls)({key:`insert ${e.key}`,displayName:e.title,analyticsName:"Insert mention",render:(t,o,i)=>{let{sectionTitle:n,styles:a}=i;return(0,d.jsx)(j().Ay,{...t,title:$().A.formatMessage(e.title),thumbnail:e.thumbnail,icon:()=>e.icon,tooltipPhoto:e.tooltipPhoto,description:$().A.formatMessage(e.description),format:j().og.Insert,showSectionTitle:!1,sectionTitle:n??"",desktopTitleStyle:null==a?void 0:a.desktopTitleStyle})},validators:[K().AU6(K().J$q),K().IRu],closeParentMenu:!0,action:t=>{let{environment:o}=t;return e.action({environment:o})},nativeImageReference:t=>(0,I().eW)({thumbnail:e.thumbnail})}))),(0,I().Ls)({key:"insert emoji",displayName:ce.insertEmojiTitle,analyticsName:ce.insertEmojiTitle.defaultMessage,validators:[K().AU6(K().J$q),K().IRu],closeParentMenu:!0,render:(e,t,i)=>{let{sectionTitle:n,styles:a}=i;return(0,d.jsx)(j().Ay,{...e,title:$().A.formatMessage(ce.insertEmojiTitle),description:$().A.formatMessage(ce.insertEmojiDescription),thumbnail:r().A.images.blocks.inlineEmojiPng,icon:()=>o(641276).g,tooltipPhoto:r().A.images.tooltips.blocks.inlineEmojiPng,format:j().og.Insert,showSectionTitle:!1,sectionTitle:n??"",desktopTitleStyle:null==a?void 0:a.desktopTitleStyle})},action:e=>{let{environment:t}=e;return o(98244).ns(t)},nativeImageReference:e=>(0,I().eW)({thumbnail:r().A.images.blocks.inlineEmojiPng})}),(0,I().Ls)({key:"insert inline equation",displayName:ce.insertInlineEquationTitle,analyticsName:ce.insertInlineEquationTitle.defaultMessage,fuzzySearchKeywords:ce.insertInlineEquationKeywords,validators:[K().AU6(K().J$q),K().IRu],closeParentMenu:!0,render:(e,t,o)=>{let{sectionTitle:i,styles:n}=o;return(0,d.jsx)(j().Ay,{...e,title:$().A.formatMessage(ce.insertInlineEquationTitle),description:$().A.formatMessage(ce.insertInlineEquationDescription),thumbnail:r().A.images.blocks.inlineEquationPng,icon:()=>k,tooltipPhoto:r().A.images.tooltips.blocks.inlineEquationPng,format:j().og.Insert,showSectionTitle:!1,sectionTitle:i??"",desktopTitleStyle:null==n?void 0:n.desktopTitleStyle})},action:e=>{let{environment:t}=e;return o(448619).Wx({environment:t,analyticsFrom:"slash_menu"})},nativeImageReference:e=>(0,I().eW)({thumbnail:r().A.images.blocks.inlineEquationPng})})];function Be(){let e,t,o,i;const n=[];for(const a of ze.state)"Figma"===a.displayName?e=a:"Hex"===a.displayName?t=a:"Google Drive"===a.displayName?o=a:"Whimsical"===a.displayName?i=a:n.push(a);return[U().ry[l().xd.embed],o??U().ry[l().xd.drive],U().ry[l().xd.tweet],U().ry[l().xd.gist],U().ry[l().xd.maps],e??U().ry[l().xd.figma],U().ry[l().xd.abstract],U().ry[l().xd.invision],U().ry[l().xd.mixpanel],U().ry[l().xd.framer],i??U().ry[l().xd.whimsical],U().ry[l().xd.miro],U().ry[l().xd.sketch],U().ry[l().xd.excalidraw],U().ry[l().xd.pdf],U().ry[l().xd.loom],U().ry[l().xd.typeform],U().ry[l().xd.codepen],U().ry[l().xd.replit],t??U().ry[l().xd.hex],U().ry[l().xd.deepnote],...n]}const ze=new(a().default)((()=>J().A.integrations.state.filter((e=>e.id!==s().ob&&e.id!==s().io&&e.id!==s().F6)).map((e=>{if((0,T().Hy)(e)||(0,T().Z1)(e)){const t=(0,T().Hy)(e)?"link preview":"data sync";return{key:e.id,displayName:e.name,analyticsName:e.name,searchName:`${t} ${e.name}`,thumbnail:e.info.icon??r().A.images.blocks.embedPng,thumbnailPadding:6,description:e.info.tagline,templateRootBlockId:"root",blockType:l().xd.externalObjectInstance,hasTransformShortcut:!1,shouldShow:e=>!K().PaP(e),createTemplate:()=>{const t={is_placeholder:!0,integration_id:e.id};return o(388821).RecordMapLegacy.create({[o(179034).ev]:{root:{id:"root",type:l().xd.externalObjectInstance,format:t}}})}}}})).filter(M().O9)),{debugName:"getExternalIntegrationCreateBlockItems"});function Ne(e){return new(a().default)((()=>{const t=e.isMobileNative?[]:[Fe(),Re(e.environment)],o=je({aiCompletionSections:t,analyticsFrom:"add_menu",isMobileNative:e.isMobileNative,showNewMABIcons:e.showNewMABIcons}),i=(n=je({aiCompletionSections:t,analyticsFrom:"slash_menu",isMobileNative:e.isMobileNative}),[...n,(0,re().kR)(),(0,I().gy)({key:"slash actions",title:ce.actionsSection,render:e=>(0,d.jsx)(E().A,{...e}),actions:qe((0,H().hS)(oe().JS,(e=>e&&!e.subActions&&!e.hideFromSlashActionMenu)))}),(0,ie().II)({itemRenderer:Ke}),(0,ie().DX)({itemRenderer:Ke})]);var n;return{insertActions:o,slashActions:i}}),{debugName:"insertAndSlashActionsStore"})}function Fe(){const{maxActionsBeforeMore:e,actions:t}=function(){const e={selectionType:"cursor",isPageEmpty:!K().pw4()},t=(0,O().SF)(e),o=A().Bq((0,O().IG)(t,e).map((e=>{let[t,o]=e;return o}))),i=N().A.state,n=o.map((e=>(0,ae().PP)({prompt:e,validators:ne().kR,type:"cursor",from:"slash_menu",sortScoreMultiplier:le}))).filter(M().O9),a=i?3:1;return{maxActionsBeforeMore:a,actions:n}}();return(0,I().gy)({key:"completions",title:ae().DZ.notionAI,render:(0,ae().V0)(),actions:(0,ae().NM)(t,e,!1)})}function Re(e){const{maxActionsBeforeMore:t,actions:o}=function(e){var t;const o=G().default.state.mainEditorCurrentBlockStore?(0,F().filterAndRankAssistantSurfaceActionsForContext)((0,F().clientSkillToAssistantSurfaceAction)((0,R().getAllClientSkills)({currentPageRecordPointer:void 0,currentCollectionRecordPointer:void 0})),{type:"assistant",surface:"writer",isMobile:e.device.isMobile,pageStore:G().default.state.mainEditorCurrentBlockStore,selectionState:ee().default.state,textSelectionState:te().default.state,userSettings:null===(t=G().default.state.currentUserSettingsStore)||void 0===t?void 0:t.getSettings()}):[],i=N().A.state,n=o.map((e=>(0,I().Ls)({key:`completions.${e.key}`,analyticsName:`Completions - ${e.key}`,displayName:e.displayName,fuzzySearchKeywords:e.displayName,validators:ne().m7,closeParentMenu:!0,svg:()=>(0,d.jsx)(De,{clientSkill:e}),right:(0,ae().tY)("submitPrompt"),sortScoreMultiplier:le,action:t=>{let{environment:o}=t;const i=(0,R().dangerouslyCreateClientSkillWithParameterValues)(e);(0,ae().Nj)({environment:o,clientSkillWithParameterValues:i,from:"slash_menu",assistantSurfaceType:o.device.isMobile?"mobileWriter":"writer"})}}))).filter(M().O9),a=i?5:1;return{maxActionsBeforeMore:a,actions:n}}(e);return(0,I().gy)({key:"completionsSkills",title:ae().DZ.notionAI,render:(0,ae().V0)(),actions:(0,ae().NM)(o,t,!0)})}function De(e){const{clientSkill:t,iconStyle:o}=e,i=(0,n().DP)(),a=(0,R().skillSectionTypeGivenSkillCategory)(t.category);return(0,d.jsx)(ae().O1,{svg:t.icon,svgFill:(0,R().getSkillSectionColor)(a,i).color,iconStyle:o})}const _e=new(a().default)((()=>J().A.integrations.state.filter(o(332393).rr).map((e=>({key:`synced database ${e.id}`,displayName:`${e.name}`,analyticsName:`synced database ${e.name}`,searchName:`synced database ${e.name}`,thumbnail:e.info.icon??r().A.images.blocks.embedPng,thumbnailPadding:6,description:e.info.tagline,templateRootBlockId:"root",blockType:l().xd.collectionView,hasTransformShortcut:!1,shouldShow:e=>!K().PaP(e),createTemplate:()=>L().sj({isInline:!0,viewType:"table",integrationId:e.id}),postCreateCallback:e=>{const t=e.getCollectionViewStores()[0];t&&(0,Z().F)(t.id,{viewType:"table"})},...e.id===s().F6&&{badge:"new"}})))),{debugName:"getExternalIntegrationCreateCollectionViewBlockItems"});function je(e){const{aiCompletionSections:t,analyticsFrom:o,isMobileNative:i,showNewMABIcons:n}=e,a=(0,W().Y)()?de.toSpliced(1,0,U().ry[l().xd.encryptedText]):de,r=[(0,I().gy)({key:"Insert Basic Blocks",title:ce.basicBlocksSection,render:e=>(0,d.jsx)(E().A,{...e}),actions:a.map((e=>Ee(e,o,void 0,void 0,i&&n)))}),...t,(0,I().gy)({key:"Insert Media",title:ce.mediaSection,render:e=>(0,d.jsx)(E().A,{...e}),actions:me.map((e=>Ee(e,o,void 0,void 0,i&&n)))}),(0,I().gy)({key:"Insert Database New",title:ce.databaseSection,render:e=>(0,d.jsx)(E().A,{...e}),actions:[pe,ge,he,ye,ve,be,fe,we,Ce,ke,xe,Se,Te,Me,Ie,Ae].map((e=>Ee(e,o,void 0,void 0,i&&n)))}),(0,I().gy)({key:"Insert Advanced Blocks",title:ce.advancedBlocksSection,render:e=>(0,d.jsx)(E().A,{...e}),actions:Ve.map((e=>{const t=e.key===l().sh.aiFreePromptBlock?se:void 0;return Ee(e,o,void 0,t,i&&n)}))}),(0,I().gy)({key:"Insert Inline",title:ce.inlineSection,render:e=>(0,d.jsx)(E().A,{...e}),actions:Pe}),(0,I().gy)({key:"Insert Embeds",title:ce.embedsSection,render:e=>(0,d.jsx)(E().A,{...e}),actions:Be().map((e=>Ee(e,o,void 0,void 0,i&&n)))}),(0,I().gy)({key:"Insert Synced Databases",title:ce.syncedDatabasesSection,render:e=>(0,d.jsx)(E().A,{...e}),actions:_e.state.map((e=>Ee(e,o,void 0,void 0,i&&n)))})];return i||r.push((0,I().gy)({key:"Import data from other tools",title:ce.importsBlockSection,render:e=>(0,d.jsx)(E().A,{...e}),actions:ue.map((e=>function(e){const t=t=>!e.shouldShow||e.shouldShow(t);return{key:`import ${e.key}`,displayName:e.displayName,analyticsName:e.analyticsName,searchName:e.searchName,render:(t,o,i)=>{const{extendItemTitle:n,sectionTitle:a,styles:r}=i;return(0,d.jsx)(j().Ay,{...t,...e,thumbnailPadding:6,title:e.displayName,format:j().og.Insert,showSectionTitle:Boolean(n),sectionTitle:a??"",desktopTitleStyle:null==r?void 0:r.desktopTitleStyle})},validators:[K().AU6(K().J$q),t],closeParentMenu:!0,action:e.action}}(e)))})),r}function Ee(e,t,o,n,a){const r=[];l().ei[e.blockType]&&!e.isToggleable||r.push(K().AU6(K().J$q));r.push((t=>!e.shouldShow||e.shouldShow(t)));const c=[$().A.formatMessage(ce.databaseSection),$().A.formatMessage(ce.syncedDatabasesSection),$().A.formatMessage(ce.embedsSection)],m=B().Pl({hasTransformShortcut:e.hasTransformShortcut,blockType:e.blockType,formatBlockType:e.formatBlockType,locale:i().locale});return{key:`insert ${e.key}`,displayName:e.displayName,analyticsName:e.analyticsName,searchName:`${e.searchName} ${m.trim()}`,render:(t,n,a)=>{const{extendItemTitle:r,sectionTitle:l,styles:s}=a,m=Boolean(r)&&c.includes(l||""),u=B().Pl({hasTransformShortcut:e.hasTransformShortcut,blockType:e.blockType,formatBlockType:e.formatBlockType,locale:i().locale});return(0,d.jsx)(j().Ay,{...t,...e,title:e.displayName,sectionTitle:l??"",showSectionTitle:m,format:j().og.Insert,selected:(0,re().sp)(n,e),...o,isDisabled:e.isDisabled,desktopTitleStyle:null==s?void 0:s.desktopTitleStyle,shortcut:u})},closeParentMenu:!0,validators:r,action:o=>{var i;const{environment:n}=o;e.isDisabled&&null!==(i=e.isDisabled)&&void 0!==i&&i.call(e,o)||(e.key.includes(s().F6)?(V().jh({environment:n,from:"external_object_instance_block",action:"show_teamspaces"}),(0,Q().u4)({environment:n,event:{eventName:"external_sync_entry_point",eventProperties:{integration:"jira",from:"slash_menu",flowId:X().Ay.createNewFlowId()}}})):z().createAndCommit({userAction:"actionRegistry.createInsertAction",environment:n,canUndo:!0,perform:o=>{q().insertBlockAndEdit({environment:n,selection:ee().default.state.stores,createBlockItem:e,analyticsFrom:t,transaction:o})}}))},nativeImageReference:()=>(0,I().eW)({thumbnail:!0===a&&e.mobileNativeThumbnail?e.mobileNativeThumbnail():e.thumbnail}),sortScoreMultiplier:n,isDisabled:null==e?void 0:e.isDisabled}}function qe(e){return e.reduce(((e,t)=>[...e,...t.actions]),[])}function He(){return{height:32,display:"flex",alignItems:"center"}}function Ke(e){const{color:t,overrideDisplayName:o,selected:i}=e,n={height:32,display:"flex",alignItems:"center"},a=i?4:void 0;return(0,d.jsx)(_().Ay,{...e.menuListItemProps,color:t,overrideDisplayName:o,selected:i,desktopTitleStyle:n,iconStyle:{height:20,width:20,fontSize:12},itemMarginLeft:0,itemMarginRight:a,rightStyle:{marginRight:4},selectedStyle:{height:20,width:20,margin:4,padding:0}})}function Qe(e){return Ne({isMobileNative:!1,environment:e,showNewMABIcons:!1})}function Le(e){return Ne({isMobileNative:!0,showNewMABIcons:e})}}}]);