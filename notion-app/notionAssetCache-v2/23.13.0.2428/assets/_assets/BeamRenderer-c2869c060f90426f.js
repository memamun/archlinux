"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[61227],{397005:(e,t,n)=>{n.r(t),n.d(t,{BeamActivity:()=>I});var i=n(296540),o=()=>n(484714),a=()=>n(56366),c=()=>n(401497),r=()=>n(883626),l=()=>n(556927),s=()=>n(558687),d=()=>n(435009),u=()=>n(317909),m=()=>n(755199),h=()=>n(460292),g=()=>n(351360),f=()=>n(807778),p=(n(581454),()=>n(84817)),v=()=>n(554509),x=n(474848);function b(e){const{leftIcon:t,title:n,message:o,actions:a,duration:r}=e,[l,s]=i.useState(!0),d=(0,c().IS)((e=>({container:{width:"auto",height:"auto",display:"inline-flex",position:"fixed",left:"50%",transform:"translateX(-50%)",top:16,zIndex:100,borderRadius:24,boxShadow:e.shadowXS,background:e.surface.elevated,alignItems:"center"},iconContainer:{display:"flex",alignItems:"center"},action:{display:"flex",width:24,height:24,justifyContent:"center",alignItems:"center",gap:8,borderRadius:12,boxShadow:e.shadowXS,background:e.tint.regular,backdropFilter:"blur(16px)",cursor:"pointer"}})),[]);return i.useEffect((()=>{if(!r)return;const e=setTimeout((()=>{s(!1)}),r);return()=>clearTimeout(e)}),[r]),l?(0,x.jsxs)(p().Y1,{direction:"horizontal",padding:"4px 8px",gap:24,style:d.container,children:[(0,x.jsxs)(p().Y1,{gap:8,direction:"horizontal",children:[(0,x.jsx)("div",{style:d.iconContainer,children:t}),(0,x.jsxs)(p().Y1,{direction:"vertical",children:[(0,x.jsx)(v().D,{styleName:"UISmall-12px/Medium",colorName:"primary",children:n}),(0,x.jsx)(v().D,{styleName:"UISmall-12px/Regular",colorName:"secondary",children:o})]})]}),a.map(((e,t)=>(0,x.jsx)("div",{onClick:e.action,style:d.action,role:"button",tabIndex:0,children:e.icon},`${t}_live_activity_action`)))]}):null}function I(){const e=(0,o().v3)(),t=(0,a().K8)((()=>(0,f().Bh)()),[]),[n,c]=i.useState(void 0);return i.useEffect((()=>{var n;const i=g().default.state.currentUserSettingsStore,o=null===(n=g().default.state.currentSpaceStore)||void 0===n?void 0:n.id;if(!i||!o||!t)return;const a=i.getSettings(),l=(null==a?void 0:a.beams)||[];if(0===l.length)return;const s=l[l.length-1],d=l.slice(0,-1);s&&(0,r().vI)(s)&&(c(s),u().createAndCommit({userAction:"BeamActivity.updateBeams",environment:e,cellTarget:{spaceWithId:o},perform:e=>{m().mJ({userSettingsStore:i,transaction:e,data:{beams:d}})},canUndo:!0,userId:i.id}))}),[e,t]),i.useEffect((()=>{if(!n)return;const e=setTimeout((()=>{c(void 0)}),r().nw);return()=>clearTimeout(e)}),[n]),n&&(0,r().vI)(n)?(0,x.jsx)(b,{leftIcon:(0,x.jsx)(j,{beam:n}),title:n.title,message:n.message,duration:r().nw,actions:[{action:()=>{n.blockLink&&d().oo({environment:e,url:n.blockLink})},icon:(0,x.jsx)(h().Q,{iconGroup:l().j,variantName:"small",colorName:"secondary"})}]}):null}function j(e){let{beam:t}=e;const n=(0,c().IS)((()=>({emojiContainer:{fontSize:20,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24},imageIcon:{width:24,height:24,objectFit:"cover",borderRadius:4},notionIcon:{width:24,height:24}})),[]);return t.pageIcon?(0,x.jsx)("span",{style:n.emojiContainer,children:t.pageIcon}):t.iconLink?(0,x.jsx)("img",{src:t.iconLink,alt:"Beam icon",style:n.imageIcon}):(0,s().$)(n.notionIcon)}},556927:(e,t,n)=>{n.d(t,{j:()=>i});const i=(0,n(340498).xh)("arrowUpRight",{default:{loader:()=>n.e(43274).then(n.bind(n,443274))},small:{loader:()=>n.e(30720).then(n.bind(n,230720))},mini:{loader:()=>n.e(37972).then(n.bind(n,537972))},large:{loader:()=>n.e(49172).then(n.bind(n,749172))}})},558687:(e,t,n)=>{n.d(t,{$:()=>a});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{fill:"#fff",d:"m2.45 1.776 9.983-.735c1.226-.105 1.541-.035 2.312.525l3.186 2.24c.526.385.701.49.701.91v12.283c0 .77-.28 1.225-1.26 1.295l-11.593.7c-.736.035-1.087-.07-1.472-.56L1.96 15.389c-.42-.56-.595-.98-.595-1.47V3.001c0-.63.28-1.155 1.085-1.225"}),(0,i.jsx)("path",{fill:"#484743",fillRule:"evenodd",d:"m12.433 1.041-9.983.735c-.805.07-1.085.595-1.085 1.225v10.918c0 .49.175.91.595 1.47l2.347 3.045c.385.49.736.595 1.472.56l11.592-.7c.98-.07 1.261-.525 1.261-1.295V4.715c0-.397-.157-.512-.622-.851l-.079-.058-3.186-2.24c-.77-.56-1.086-.63-2.312-.525M6.042 4.514c-.947.064-1.162.078-1.7-.358L2.977 3.07c-.14-.14-.07-.315.28-.35l9.597-.7c.806-.07 1.226.21 1.541.455l1.646 1.19c.07.035.245.245.035.245l-9.911.595zm-1.105 12.38V6.466c0-.455.14-.665.56-.7L16.88 5.1c.386-.035.561.21.561.664v10.359c0 .455-.07.84-.7.875l-10.893.63c-.63.035-.91-.175-.91-.735M15.69 7.025c.07.315 0 .63-.316.666l-.524.104v7.7c-.456.244-.876.384-1.226.384-.56 0-.701-.175-1.121-.7L9.07 9.79v5.214l1.086.245s0 .63-.876.63l-2.416.14c-.07-.14 0-.49.245-.56l.63-.174V8.39l-.875-.07c-.07-.315.104-.77.595-.805l2.592-.175 3.573 5.46V7.97l-.911-.104c-.07-.386.21-.666.56-.7z",clipRule:"evenodd"})]})},a=(0,n(340498).wt)("notion",o)},883626:(e,t,n)=>{n.d(t,{Hs:()=>o,nw:()=>c,vI:()=>r});var i=()=>n(720665);const o=100,a=5*i().Xb,c=15*i().TD;function r(e){return!!e.sendDateMs&&Date.now()-e.sendDateMs<=a}}}]);