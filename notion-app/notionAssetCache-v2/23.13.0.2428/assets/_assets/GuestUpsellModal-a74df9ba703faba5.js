"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[83965],{101209:(e,s,t)=>{t.d(s,{v:()=>o});t(296540);var a=t(474848);const o=(0,t(340498).wt)("boltFilled",{svg:(0,a.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},178901:(e,s,t)=>{t.d(s,{j:()=>o});t(296540);var a=t(474848);const o=(0,t(340498).wt)("createPage",{viewBox:"0 0 24 24",svg:(0,a.jsx)("g",{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.944 14.721c.104.094.216.12.336.079l1.703-.688 6.844-6.844-1.406-1.398-6.836 6.836-.711 1.68c-.052.13-.029.242.07.335zm8.102-9.484l1.414 1.406.515-.523a.917.917 0 00.282-.633.76.76 0 00-.258-.61l-.25-.25a.702.702 0 00-.578-.187.975.975 0 00-.617.297l-.508.5zm-9.453.127a3.85 3.85 0 00-3.85 3.85v6.5a3.85 3.85 0 003.85 3.85h6.5a3.85 3.85 0 003.85-3.85V12.95a.85.85 0 10-1.7 0v2.764a2.15 2.15 0 01-2.15 2.15h-6.5a2.15 2.15 0 01-2.15-2.15v-6.5a2.15 2.15 0 012.15-2.15h3.395a.85.85 0 000-1.7H8.593z",clipRule:"evenodd"})})})},270643:(e,s,t)=>{t.r(s),t.d(s,{GuestUpsellModal:()=>G});var a=t(296540),o=()=>t(484714),i=()=>t(56366),r=()=>t(401497),n=()=>t(148307),l=()=>t(101209),d=()=>t(925907),c=()=>t(178901),u=()=>t(959013),p=()=>t(534177),g=()=>t(134696),h=()=>t(449506),m=()=>t(436572),x=()=>t(581495),j=()=>t(47373),y=()=>t(351360),f=()=>t(159026),M=()=>t(551694),b=()=>t(84817),_=()=>t(493823),v=()=>t(297872),A=()=>t(805751),S=()=>t(623580),q=()=>t(554509),w=()=>t(204063),C=()=>t(107683),R=()=>t(125565),k=()=>t(369251),z=t(474848);function G(e){const{open:s,stage:t}=(0,i().O$)(M().A),r=(0,o().v3)(),n=(0,i().K8)((()=>y().default.state.currentSpaceStore),[]),l=(0,i().K8)((()=>y().default.state.currentUserRootStore),[]),d=(0,i().K8)((()=>(0,j().i3)({environment:r,spaceStore:n,userRootStore:l})),[r,n,l]),c=(0,a.useCallback)((()=>{switch(t){case"landing":return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(b().Y1,{padding:24,children:[(0,z.jsx)(I,{}),(0,z.jsx)(T,{})]}),d?(0,z.jsx)(D,{}):(0,z.jsx)(U,{})]});case"membership_request":return(0,z.jsx)("div",{style:{padding:"15px 10px"},children:(0,z.jsx)(k().k,{onDismiss:()=>{M().A.close()}})});default:(0,p().HB)(t)}}),[t,d]);return(0,z.jsx)(C().s,{isOpen:s,onClosed:()=>{M().A.close()},render:()=>(0,z.jsx)(v().A,{capture:!0,allowEsc:!0,render:()=>(0,z.jsxs)(x().eh.Provider,{value:()=>M().A.close(),children:[(0,z.jsx)(x().Rz,{}),c()]})})})}function I(){const e=(0,r().IS)((e=>({title:{display:"flex",marginTop:24,marginBottom:24}})),[]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("img",{src:n().A.images.thinkItMakeItCloudDarkPng,style:{width:334,height:205,margin:"auto"}}),(0,z.jsx)(q().D,{styleName:"UITitle-26px/Bold",customStyles:e.title,children:(0,z.jsx)(u().sA,{defaultMessage:"Experience Notion as a workspace member",id:"GuestUpsellModal.header.title"})})]})}function T(){const e=(0,r().IS)((e=>({icon:{width:20,height:20,fill:e.text.uiBluePrimary,marginRight:16},secondaryText:{color:e.text.secondary}})),[]);return(0,z.jsxs)(b().Y1,{direction:"vertical",gap:20,children:[(0,z.jsxs)(b().Y1,{direction:"horizontal",children:[(0,c().j)(e.icon),(0,z.jsx)(q().D,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,z.jsx)(u().sA,{defaultMessage:"Create and organize <secondary>projects, notes, and to-dos</secondary>",id:"GuestUpsellModal.body.point1",values:{secondary:s=>(0,z.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,z.jsxs)(b().Y1,{direction:"horizontal",children:[(0,d().n)(e.icon),(0,z.jsx)(q().D,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,z.jsx)(u().sA,{defaultMessage:"Stay in the loop <secondary>with access to all pages across this workspace</secondary>",id:"GuestUpsellModal.body.point2",values:{secondary:s=>(0,z.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,z.jsxs)(b().Y1,{direction:"horizontal",children:[(0,l().v)(e.icon),(0,z.jsx)(q().D,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,z.jsx)(u().sA,{defaultMessage:"Supercharge work <secondary>with the latest Notion features</secondary>",id:"GuestUpsellModal.body.point3",values:{secondary:s=>(0,z.jsx)("span",{style:e.secondaryText,children:s})}})})]})]})}function U(){const e=(0,r().IS)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14}})),[]);return(0,z.jsxs)(b().Y1,{direction:"horizontal",style:e.footerWrapper,children:[(0,z.jsx)(b().Y1,{align:"center-left",style:e.continueCopy,children:(0,z.jsx)(_().p,{isGray:!0,onClick:()=>{M().A.close()},children:(0,z.jsx)(u().sA,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,z.jsx)(b().Y1,{align:"center-right",children:(0,z.jsx)(w().A,{color:"black",size:"xl",onClick:()=>M().A.setState({open:!0,stage:"membership_request"}),children:(0,z.jsx)(u().sA,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})}function D(){const e=(0,u().tz)(),s=(0,o().v3)(),t=(0,i().K8)((()=>y().default.state.currentSpaceStore),[]),[n,l]=(0,a.useState)(""),d=(0,r().IS)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14},input:{marginBottom:16},messageInputLabel:{marginBottom:8}})),[]),c=(0,a.useCallback)((()=>{const{currentUser:e}=s;e&&e.id&&t&&(g().RH(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:n.length,invite_space_role_selection:f().NJ.request_workspace_member,from:"guest_upsell_modal_v2"}),h().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",forActorId:e.id,spaceId:t.id,message:n,attributes:{origin_id:t.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).then((e=>{"success"===e.type&&m().D6({label:(0,z.jsx)(u().sA,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),l(""),M().A.close())}),[s,t,n]);return(0,z.jsxs)("div",{style:d.footerWrapper,children:[(0,z.jsx)(R().A,{isSecondaryColor:!0,style:d.messageInputLabel,children:(0,z.jsx)(u().sA,{id:"GuestUpsellModal.requestMessage.label",defaultMessage:"Add a message"})}),(0,z.jsx)(A().A,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:(0,z.jsx)(S().A,{style:d.input,textarea:!0,value:n,placeholder:e.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{l(e.target.value)}})}),(0,z.jsxs)(b().Y1,{direction:"horizontal",children:[(0,z.jsx)(b().Y1,{align:"center-left",style:d.continueCopy,children:(0,z.jsx)(_().p,{isGray:!0,onClick:()=>{M().A.close()},children:(0,z.jsx)(u().sA,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,z.jsx)(b().Y1,{align:"center-right",children:(0,z.jsx)(w().A,{color:"black",size:"xl",onClick:c,children:(0,z.jsx)(u().sA,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})]})}},369251:(e,s,t)=>{t.d(s,{A:()=>M,k:()=>f});var a=t(296540),o=()=>t(484714),i=()=>t(56366),r=()=>t(401497),n=()=>t(959013),l=()=>t(284371),d=()=>t(134696),c=()=>t(449506),u=()=>t(436572),p=()=>t(351360),g=()=>t(159026),h=()=>t(805751),m=()=>t(623580),x=()=>t(864943),j=()=>t(204063),y=t(474848);function f(e){const s=(0,o().v3)(),{onDismiss:t}=e,[f,M]=(0,a.useState)(""),b=(0,n().tz)(),_=(0,r().IS)((()=>({container:{padding:20},title:{fontWeight:l().Wy.medium,marginBottom:10},input:{width:"100%",padding:"8px 12px",marginTop:10,marginBottom:10},button:{width:"100%",marginTop:10}})),[]),{currentSpaceStore:v}=(0,i().K8)((()=>({currentSpaceStore:p().default.state.currentSpaceStore})),[]);return(0,y.jsxs)("div",{style:_.container,children:[(0,y.jsx)("div",{style:_.title,children:(0,y.jsx)(n().sA,{id:"GuestMembershipRequestModal.title",defaultMessage:"Request membership to workspace"})}),(0,y.jsxs)(h().A,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:[(0,y.jsx)(m().A,{style:_.input,textarea:!0,value:f,placeholder:b.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{M(e.target.value)}}),(0,y.jsx)(j().A,{size:"lg",style:_.button,onClick:()=>{const{currentUser:e}=s;e&&e.id&&v&&(d().RH(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:f.length,invite_space_role_selection:g().NJ.request_workspace_member,from:"sidebar_guest_request"}),c().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",forActorId:e.id,spaceId:v.id,message:f,attributes:{origin_id:v.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).catch((()=>{u().D6({label:(0,y.jsx)(n().sA,{id:"guestMembershipRequestModal.confirmationToast.errorMessage",defaultMessage:"Failed to send membership request."})})})).finally((()=>{u().D6({label:(0,y.jsx)(n().sA,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),M(""),t())},children:(0,y.jsx)(n().sA,{id:"GuestMembershipRequestModal.sendRequest.button",defaultMessage:"Send request"})}),(0,y.jsx)(x().A,{size:"lg",style:_.button,onClick:()=>{M(""),t()},children:(0,y.jsx)(n().sA,{id:"GuestMembershipRequestModal.cancel.button",defaultMessage:"Cancel"})})]})]})}const M=function(e){const s=(0,o().v3)(),[i,n]=(0,a.useState)(!1),{origin:l}=e,d=(0,r().IS)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:350}})),[]);return(0,y.jsx)(t(433876).A,{modalStyle:d.modalStyle,open:i,origin:(0,y.jsx)("div",{onClick:()=>{t(701763).cK(s),n(!0)},children:l}),onDismiss:()=>n(!1),renderContent:()=>(0,y.jsx)(f,{onDismiss:()=>n(!1)})})}}}]);