"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[3560],{43972:(e,t,n)=>{n.d(t,{w:()=>l});n(296540);var o=()=>n(764880),i=()=>n(534177),r=()=>n(256863),s=()=>n(453697),a=n(474848);function l(e){const{actor:t}=e,n={size:e.size??14,style:{marginRight:2,...e.style}};return(0,o().H3)(t)?(0,a.jsx)(r().A,{botValue:t.asActor,...n}):(0,o().ps)(t)?(0,a.jsx)(s().A,{userValue:t.asActor,...n}):(0,o().h2)(t)?(0,a.jsx)(s().A,{userValue:void 0,...n}):void(0,i().HB)(t)}},58293:(e,t,n)=>{n.d(t,{r:()=>r});var o=()=>n(56366),i=()=>n(351360);function r(){return(0,o().K8)((()=>i().default.state.currentSpaceStore),[])}},84161:(e,t,n)=>{n.d(t,{S:()=>u});n(944114),n(296540);var o=()=>n(675910),i=()=>n(926401),r=()=>n(441977),s=()=>n(654601),a=()=>n(959013),l=()=>n(37433),c=()=>n(430483),d=n(474848);function u(){const e=(0,l().nk)(),t=c().zD.isFullPageAssistantInStartOptions(),n=[];return e&&n.push({key:"personal_home",label:(0,d.jsx)(a().sA,{id:"pageOnAppStoreSetting.home.label",defaultMessage:"Home"}),renderIcon:e=>(0,r().J)({width:20,height:20,...e})}),n.push({key:"last_visited_page",label:(0,d.jsx)(a().sA,{id:"pageOnAppStoreSetting.lastVisitedPage.label",defaultMessage:"Last visited page"}),renderIcon:e=>(0,o().M)({width:20,height:20,...e})},{key:"first_page",label:(0,d.jsx)(a().sA,{id:"pageOnAppStoreSetting.firstPage.label",defaultMessage:"Top page in sidebar"}),renderIcon:e=>(0,i().n)({width:20,height:20,padding:2,...e})}),t&&n.push({key:"chat",label:(0,d.jsx)(a().sA,{id:"pageOnAppStoreSetting.chat.label",defaultMessage:"Notion AI"}),renderIcon:e=>(0,s().X)({width:20,height:20,...e})}),n}},101847:(e,t,n)=>{n.d(t,{T:()=>o});const o=(0,n(340498).xh)("gift",{default:{loader:()=>n.e(23202).then(n.bind(n,723202))},small:{loader:()=>n.e(2264).then(n.bind(n,902264))},mini:{loader:()=>n.e(42668).then(n.bind(n,542668))},large:{loader:()=>n.e(25196).then(n.bind(n,725196))}})},105157:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var o=()=>n(284371),i=()=>n(717402),r=n(474848);function s(e){const{propertySchema:t,dontShowColon:n}=e,s=t.name;return(0,r.jsx)("div",{style:{display:"inline-flex",paddingTop:2},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"start",lineHeight:"110%",minWidth:0,fontSize:13,fill:"dark"},children:[(0,r.jsx)(i().Rl,{iconStyle:{marginTop:1},propertySchema:t,iconSize:12}),(0,r.jsx)("div",{style:{...o().RC,marginLeft:4,maxWidth:100},children:(0,r.jsx)("span",{children:`${s}`})}),(0,r.jsx)("span",{style:{...o().RC,marginRight:4},children:n?null:":"})]})})}},162342:(e,t,n)=>{n.d(t,{W$:()=>a,fR:()=>r,iv:()=>s});var o=()=>n(228814),i=()=>n(846199);function r(e){i().A.setState({open:!0,...e})}function s(){i().A.setState({open:!1})}function a(e){o().A.setState({open:!0,...e})}},165492:(e,t,n)=>{n.d(t,{A:()=>u});n(814603),n(147566),n(198721);var o=n(296540),i=()=>n(401497),r=()=>n(284371),s=()=>n(496889),a=()=>n(704152),l=()=>n(859428),c=()=>n(493319),d=n(474848);function u(e){let{title:t,source:n,size:u,file:p,store:m,onClick:g,showBlockActionMenuButton:h}=e;(0,o.useEffect)((()=>()=>{"local"===(null==p?void 0:p.type)&&null!=p&&p.dataURL&&URL.revokeObjectURL(p.dataURL)}),[p]);const v=(0,i().IS)((e=>({justBackgroundHovered:{background:e.surface.wash},wrapper:{height:48,width:214,background:e.surface.page,border:`1px solid ${e.regularDividerColor}`,borderRadius:12,padding:"7px 10px 8px 8px",cursor:g?"pointer":"default"},wrapperHoveredStyle:{background:e.surface.wash},iconContainer:{height:32,width:32,minWidth:32,background:e.tint.regular,borderRadius:6,display:"flex",justifyContent:"center",alignItems:"center"},icon:{height:24,width:24,fill:e.regularIconColor},fileName:{fontSize:14,fontWeight:r().Wy.medium,lineHeight:"18px",color:e.text.primary,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},fileSizeText:{fontSize:12,lineHeight:"15px",color:e.text.secondary},actionMenuHoveredStyle:{background:e.tint.regular}})),[g]),f=(0,c().getIcon)(n);return(0,d.jsx)(a().A,{style:v.wrapper,hoveredStyle:m?v.wrapperHoveredStyle:v.justBackgroundHovered,pressedStyle:m?v.wrapperHoveredStyle:v.justBackgroundHovered,onClick:g,children:(0,d.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,d.jsx)("div",{style:v.iconContainer,children:f(v.icon)}),(0,d.jsx)("div",{style:{overflow:"hidden",flexGrow:1},children:(0,d.jsx)(l().A,{renderTooltip:()=>(0,d.jsx)("div",{children:t}),render:e=>(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column"},...e,children:[(0,d.jsx)("div",{style:v.fileName,children:t}),u&&(0,d.jsx)("span",{style:v.fileSizeText,children:(0,c().formatFileSize)(u)})]})})}),m&&h&&(0,d.jsx)(s().A,{store:m,fadeIn:!1,actionSectionGroupKey:"comment_media",hideFilterActionsInput:!0,style:{borderRadius:50},hoveredStyle:v.actionMenuHoveredStyle,iconStyle:{width:12,height:12}})]})})}},224011:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(705540);class i extends(()=>n(757695))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await o().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},o().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},228814:(e,t,n)=>{n.d(t,{A:()=>o});const o=n(757695).default.createValue({open:!1},{name:"TrialEndModalStore"})},240562:(e,t,n)=>{n.d(t,{p:()=>r});var o=()=>n(645873);const i=new(o().O2)("HelpButtonContent",(async()=>await n.e(42481).then(n.bind(n,667667)))),r=(0,o()._h)(i,(e=>e.HelpButtonContent))},277201:(e,t,n)=>{n.d(t,{I:()=>y,i:()=>C});var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(420767),l=()=>n(959013),c=()=>n(186445),d=()=>n(38337),u=()=>n(869562),p=()=>n(749687),m=()=>n(962730),g=()=>n(948914),h=()=>n(145214),v=()=>n(285790),f=()=>n(35392),x=()=>n(859428),S=n(474848);function y(e){const t=(0,i().v3)(),n=(0,i().Y0)(),o=(0,l().tz)(),s=(0,r().O$)(p().sidebarMouseEnteredStore),d=(0,r().K8)((()=>g().A.state.isShowingTabBar||!1),[]),m=(0,r().O$)(c().$o),h=o.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),v=(!n.isElectronMac||!m)&&!d&&s;return(0,S.jsx)(C,{isVisible:v,icon:a().B,caption:h,onClick:()=>{u().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const b={width:16,height:16,fill:"inherit"};function C(e){const t=(0,i().Y0)(),n=(0,s().IS)((t=>({keyboardShortcut:{color:t.text.contrastSecondary},button:{fill:t.mediumIconColor},enterAnimation:{opacity:e.isVisible?0:1},animation:{opacity:e.isVisible?1:0}})),[e.isVisible]),r=(0,o.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...n.button,...e.style})),[e.style,n.button,t.isMobile]);return(0,S.jsx)(x().A,{renderTooltip:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,S.jsx)(f().A,{style:n.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?m().W.Right:m().W.Bottom,render:n=>(0,S.jsx)(h().A,{tag:v().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:b,mobileFeedback:t.isMobile,onClick:e.onClick,className:d().P7S,...n})})}},305961:(e,t,n)=>{n.d(t,{d:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("eyePadded",{viewBox:"0 0 24 24",svg:(0,o.jsx)("path",{d:"M12 17.9912C17.6055 17.9912 21.3857 13.4727 21.3857 12.0713C21.3857 10.6699 17.5986 6.1582 12 6.1582C6.47656 6.1582 2.60742 10.6699 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.2715 7.63184 7.4707 12 7.4707C16.3613 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 13.0283 16.3613 16.6787 12 16.6787ZM12 15.7559C14.0508 15.7559 15.6914 14.0811 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C9.94238 8.39355 8.29492 10.0137 8.30176 12.0713C8.31543 14.0811 9.94238 15.7559 12 15.7559ZM12 13.2607C11.3369 13.2607 10.7969 12.7275 10.7969 12.0713C10.7969 11.415 11.3369 10.8818 12 10.8818C12.6631 10.8818 13.1963 11.415 13.1963 12.0713C13.1963 12.7275 12.6631 13.2607 12 13.2607Z"})})},323914:(e,t,n)=>{n.d(t,{c:()=>r,y:()=>i});var o=()=>n(463830);const i=new(o().A),r=new(o().A)},324561:(e,t,n)=>{n.d(t,{Gi:()=>m,Q7:()=>p,UU:()=>g,_3:()=>u,a9:()=>d,f_:()=>c});var o=()=>n(484714),i=()=>n(56366),r=()=>n(857639),s=()=>n(762433),a=()=>n(596513),l=()=>n(714300);function c(e){let{spaceId:t}=e;const n=(0,o().v3)();return(0,i().K8)((()=>{if(t)return a().t.getData(n,{spaceId:t})}),[n,t])}function d(e){if("admin"===(null==e?void 0:e.type))return e}function u(e){let{spaceId:t}=e;return d((0,l().l)({spaceId:t}))}function p(e,t,n){if(!t)return 0;const o=(0,s().yB)({spaceId:e,logFunction:r().log.bind(r()),billingData:t});return o?Math.max(o,n):0}function m(e){var t;const n=null===(t=(0,s().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!n)return;const o=n.unitAmount,i="year"===n.billingInterval?12:1;return{amount:o.amount/i,currencyCode:o.currencyCode}}function g(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},420767:(e,t,n)=>{n.d(t,{B:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("doubleChevronLeft",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M7.07031 13.8887C7.2207 14.0391 7.40527 14.1211 7.62402 14.1211C8.06836 14.1211 8.41699 13.7725 8.41699 13.3281C8.41699 13.1094 8.32812 12.9043 8.17773 12.7539L3.37207 8.05762L8.17773 3.375C8.32812 3.21777 8.41699 3.0127 8.41699 2.80078C8.41699 2.35645 8.06836 2.00781 7.62402 2.00781C7.40527 2.00781 7.2207 2.08984 7.07031 2.24023L1.73828 7.44922C1.56055 7.62012 1.46484 7.8252 1.46484 8.06445C1.46484 8.29688 1.55371 8.49512 1.73828 8.67969L7.07031 13.8887ZM13.1748 13.8887C13.3252 14.0391 13.5098 14.1211 13.7354 14.1211C14.1797 14.1211 14.5283 13.7725 14.5283 13.3281C14.5283 13.1094 14.4395 12.9043 14.2891 12.7539L9.4834 8.05762L14.2891 3.375C14.4395 3.21777 14.5283 3.0127 14.5283 2.80078C14.5283 2.35645 14.1797 2.00781 13.7354 2.00781C13.5098 2.00781 13.3252 2.08984 13.1748 2.24023L7.84961 7.44922C7.66504 7.62012 7.57617 7.8252 7.56934 8.06445C7.56934 8.29688 7.66504 8.49512 7.84961 8.67969L13.1748 13.8887Z"})})},454531:(e,t,n)=>{n.d(t,{W:()=>p});var o=()=>n(867772),i=()=>n(681810),r=()=>n(901389),s=()=>n(896628),a=()=>n(383594),l=()=>n(317909),c=()=>n(892632);const d=1500,u=(0,n(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function p(e){let{environment:t,intl:n,store:o,rect:i}=e;a().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:n.formatMessage(u.pageCover),onDelete:()=>{!function(e){let{environment:t,store:n}=e;a().I(),l().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:n,transaction:e})}})}({environment:t,store:o})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:n,position:i}=e;g({environment:t,store:o,url:n,position:i})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:n.formatMessage(u.fileTypeCaption,{idealImageWidth:d}),onUpload:e=>{a().I(),c().QM({environment:t,file:e[0],bucket:"secure",record:o.pointer,onStart:h,onProgress:v,onComplete:e=>{var n;n={environment:t,store:o,url:e},m({...n,position:.5})},onError:()=>{r().f1(n.formatMessage(u.uploadFailed))}})}},{type:"embed",title:n.formatMessage(u.embedTitle),inputPlaceholder:n.formatMessage(u.embedPlaceholder),caption:n.formatMessage(u.embedCaption),buttonText:n.formatMessage(u.embedSubmit),onChange:e=>{var n;n={environment:t,store:o,url:e},m({...n,position:.5}),a().I()}},{type:"unsplash",onChange:e=>{let{url:n,position:i}=e;g({environment:t,store:o,url:n,position:i})}}]})}async function m(e){const{environment:t,store:n,url:r,position:a}=e,{serverCommitResult:c}=l().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:n,url:r,position:a||.5,transaction:e})}});await c,i().A.state.loadingMode===o().vS&&i().A.setState({loadingMode:o().Gi,dataURL:i().A.state.dataURL,uploadProgress:100})}function g(e){m(e),e.environment.device.isMobile&&a().I()}function h(e){const{file:t,name:n,size:r}=e;if(a().I(),i().A.setState({loadingMode:o().Wc,file:t,name:n,size:r}),t instanceof File&&t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{i().A.state.loadingMode===o().Wc&&i().A.setState({...i().A.state,uploadProgress:0,loadingMode:o().vS,dataURL:e.target.result})},e.readAsDataURL(t)}}function v(e){const{progressPercent:t}=e;i().A.state.loadingMode===o().vS&&i().A.setState({...i().A.state,uploadProgress:t})}},493319:(e,t,n)=>{n.r(t),n.d(t,{DiscussionFormat:()=>k,DiscussionLocationToAvatarSize:()=>$,anyDiscussionCommentsLoading:()=>W,commentComparator:()=>F,discussionLocationToDiscussionFormat:()=>K,formatFileSize:()=>Z,getAndSortCommentStoresByTime:()=>H,getDiscussions:()=>T,getDiscussionsForSidebar:()=>R,getFirstComment:()=>P,getIcon:()=>j,getLatestRelevantComment:()=>I,getSetOfUsersInDiscussions:()=>O,hasCommentChanged:()=>N,inputIsEmpty:()=>E,isCommentAllEmojis:()=>G,lineClampForCommentCount:()=>D,sortDiscussionStoresByLatestComment:()=>U});n(898992),n(354520),n(581454),n(737550);var o=()=>n(764880),i=()=>n(607624),r=()=>n(920713),s=(n(296540),()=>n(340498)),a=n(474848);const l=(0,s().wt)("compressedFile",{viewBox:"0 0 23 24",svg:(0,a.jsx)("path",{d:"M5.297 17.758V5.968c0-.838.213-1.473.64-1.905.428-.438 1.06-.657 1.899-.657h8.32c.839 0 1.472.219 1.899.656.427.433.64 1.068.64 1.907v11.789c0 .844-.213 1.482-.64 1.914-.427.432-1.06.648-1.899.648h-8.32c-.839 0-1.471-.216-1.899-.648-.427-.432-.64-1.07-.64-1.914zm1.539-.094c0 .36.094.635.281.828.188.193.472.29.852.29h8.062c.38 0 .664-.097.852-.29.187-.193.281-.469.281-.828V6.07c0-.364-.094-.643-.281-.836-.188-.198-.471-.296-.852-.296H7.97c-.38 0-.664.098-.852.296-.187.193-.281.472-.281.836v11.594zm4.617 1.906V8.648h1.086V19.57h-1.086zM12 8.953c-.62 0-1.107-.17-1.46-.508-.35-.338-.524-.804-.524-1.398 0-.115.005-.23.015-.344.016-.114.037-.226.063-.336l.734-3.21a.637.637 0 01.242-.384.709.709 0 01.438-.14h.984a.68.68 0 01.43.14.672.672 0 01.25.383l.734 3.211c.021.11.037.222.047.336.016.115.024.23.024.344 0 .594-.175 1.06-.524 1.398-.349.339-.833.508-1.453.508zm0-1.125c.24 0 .438-.08.594-.242a.826.826 0 00.242-.61.82.82 0 00-.242-.593.795.795 0 00-.594-.25c-.24 0-.44.083-.602.25a.825.825 0 00-.242.594c0 .24.078.442.235.609a.826.826 0 00.609.242zm0 2.89V9.696h1.828c.146 0 .268.05.367.149a.464.464 0 01.149.351c0 .146-.05.271-.149.375a.498.498 0 01-.367.149H12zm-1.836 1.024a.516.516 0 01-.367-.148.525.525 0 01-.149-.375c0-.14.05-.258.149-.352a.516.516 0 01.367-.148H12v1.023h-1.836zM12 12.79v-1.023h1.828c.146 0 .268.05.367.148a.49.49 0 01.149.36.5.5 0 01-.149.367.498.498 0 01-.367.148H12zm-1.836 1.024a.516.516 0 01-.367-.149.516.516 0 01-.149-.367c0-.14.05-.258.149-.352a.516.516 0 01.367-.148H12v1.015h-1.836zM12 14.867v-1.023h1.828c.146 0 .268.05.367.148a.473.473 0 01.149.36.5.5 0 01-.149.367.499.499 0 01-.367.148H12zm-1.836 1.024a.508.508 0 01-.516-.523.48.48 0 01.149-.352.516.516 0 01.367-.149H12v1.024h-1.836zM12 16.945v-1.023h1.828c.146 0 .268.05.367.148a.473.473 0 01.149.36c0 .14-.05.263-.149.367a.499.499 0 01-.367.148H12zm-1.836 1.04a.516.516 0 01-.367-.15.499.499 0 01-.149-.366c0-.146.05-.266.149-.36a.516.516 0 01.367-.148H12v1.023h-1.836z"})});var c=()=>n(502903);const d=(0,s().wt)("executable",{viewBox:"0 0 23 23.5",svg:(0,a.jsx)("path",{d:"M5.164 16.883c-.37-.209-.651-.448-.844-.719-.187-.276-.28-.69-.28-1.242V8.609c0-.416.08-.763.241-1.039.162-.28.417-.52.766-.718l5.492-3.079c.484-.27.971-.406 1.461-.406.49 0 .974.136 1.453.406l5.492 3.079c.35.197.604.437.766.718.161.276.242.623.242 1.04v6.312c0 .552-.094.966-.281 1.242-.188.27-.469.51-.844.719l-6.047 3.39c-.52.287-1.044.287-1.57 0l-6.047-3.39zm.844-1.203l5.265 2.976v-6.265L5.43 9.094v5.687c0 .203.041.375.125.516.088.14.24.268.453.383zm11.976 0c.214-.115.362-.242.446-.383a.95.95 0 00.133-.516V9.094l-5.844 3.297v6.265l5.265-2.976zM12 11.11l5.773-3.235-4.937-2.781c-.552-.318-1.112-.318-1.68 0l-4.93 2.781L12 11.109z"})}),u=(0,s().wt)("file3D",{viewBox:"0 0 23 24",svg:(0,a.jsx)("path",{d:"M5.648 16.352l5.61-2.82v-6.65h1.492v6.65l5.61 2.82-.75 1.273-5.61-2.82-5.61 2.82-.742-1.273zm-1.945 1.195l1.32-2.985c.105-.25.243-.427.415-.53a.643.643 0 01.539-.071c.187.052.349.198.484.437l1.937 3.352c.146.245.196.46.149.648a.61.61 0 01-.336.43c-.177.1-.404.133-.68.102l-3.242-.36c-.297-.036-.5-.146-.61-.328-.103-.182-.096-.414.024-.695zm16.594 0c.12.281.125.513.015.695-.104.182-.304.292-.601.328l-3.242.36c-.271.03-.498-.003-.68-.102a.634.634 0 01-.344-.43c-.041-.187.01-.403.157-.648l1.937-3.352c.135-.24.294-.385.477-.437a.638.638 0 01.539.07c.177.104.32.281.43.531l1.312 2.985zm-8.89-12.985c.181-.25.377-.372.585-.367.208 0 .404.123.586.367l1.93 2.618c.167.229.252.445.258.648a.596.596 0 01-.204.5c-.14.13-.354.195-.64.195h-3.86c-.276 0-.486-.065-.632-.195a.637.637 0 01-.203-.508c.005-.208.088-.422.25-.64l1.93-2.617z"})}),p=(0,s().wt)("fileAttachment",{viewBox:"0 0 28 28",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("rect",{width:"28",height:"28",fill:"none"}),(0,a.jsx)("path",{d:"M7.70703 27.3799H21.2783C23.7412 27.3799 24.9854 26.1104 24.9854 23.6348V11.7266C24.9854 10.3555 24.8076 9.74609 23.9697 8.88281L16.5049 1.3418C15.6924 0.516602 15.0322 0.326172 13.8008 0.326172H7.70703C5.26953 0.326172 4 1.58301 4 4.05859V23.6348C4 26.1104 5.25684 27.3799 7.70703 27.3799ZM7.7832 25.8057C6.32324 25.8057 5.57422 25.0312 5.57422 23.5967V4.09668C5.57422 2.7002 6.32324 1.8877 7.7959 1.8877H13.7246V9.53027C13.7246 10.9775 14.4609 11.6631 15.8701 11.6631H23.4238V23.5967C23.4238 25.0312 22.6621 25.8057 21.2021 25.8057H7.7832ZM16.0352 10.1777C15.4512 10.1777 15.21 9.94922 15.21 9.36523V2.20508L23.1064 10.1777H16.0352Z"})]})}),m=(0,s().wt)("font",{viewBox:"0 0 24 24",svg:(0,a.jsx)("path",{d:"M17.008 17.766c-.724 0-1.354-.185-1.89-.555-.537-.37-.957-.888-1.259-1.555-.296-.672-.445-1.458-.445-2.36 0-.895.149-1.676.445-2.343.303-.672.722-1.193 1.258-1.562.537-.375 1.167-.563 1.89-.563.433 0 .834.07 1.204.211.375.14.7.344.977.61.28.26.5.572.656.937h.062V9.64c0-.256.073-.459.219-.61a.738.738 0 01.555-.226c.234 0 .424.075.57.226.146.151.219.354.219.61v7.312c0 .255-.073.453-.219.594a.771.771 0 01-.57.219.773.773 0 01-.547-.203c-.146-.136-.221-.331-.227-.586v-.954h-.062a2.688 2.688 0 01-1.094 1.29c-.495.302-1.076.453-1.742.453zm.453-1.368c.484 0 .906-.125 1.266-.375.364-.255.643-.611.835-1.07.198-.463.297-1.01.297-1.64 0-.63-.099-1.178-.297-1.641-.197-.469-.476-.83-.835-1.086a2.1 2.1 0 00-1.266-.39 2.13 2.13 0 00-1.266.382c-.354.25-.627.607-.82 1.07-.193.464-.29 1.014-.29 1.649s.097 1.185.29 1.648c.193.464.466.823.82 1.078.36.25.782.375 1.266.375zm-14.07 1.32c-.271 0-.485-.072-.641-.218-.151-.146-.227-.349-.227-.61 0-.156.034-.335.102-.538l3.477-9.375C6.33 6.326 6.784 6 7.46 6c.36 0 .651.08.875.242.23.162.404.406.523.735l3.454 9.335c.072.204.109.391.109.563 0 .26-.084.466-.25.617-.162.151-.38.227-.656.227-.26 0-.466-.06-.618-.18-.145-.115-.26-.312-.343-.594l-.867-2.422H5.226l-.868 2.422c-.083.282-.2.48-.351.594-.146.12-.352.18-.617.18zM5.68 13.07h3.57L7.484 7.992h-.039L5.68 13.07z"})});const g=(0,s().wt)("presentation",{viewBox:"0 0 24 24",svg:(0,a.jsx)("path",{d:"M6.305 20.703c-.844 0-1.482-.213-1.914-.64-.433-.428-.649-1.06-.649-1.899v-8.031c0-.839.216-1.472.649-1.899.432-.427 1.07-.64 1.914-.64h11.383c.843 0 1.481.216 1.914.648.437.427.656 1.057.656 1.89v8.032c0 .833-.219 1.464-.656 1.89-.433.433-1.07.65-1.915.65H6.306zm.093-1.531h11.196c.36 0 .635-.096.828-.29.198-.187.297-.47.297-.85v-7.766c0-.38-.1-.664-.297-.852-.193-.193-.469-.289-.828-.289H6.398c-.364 0-.643.096-.835.29-.188.187-.282.47-.282.85v7.766c0 .38.094.664.282.852.192.193.47.289.835.289zM5.461 6.32c.057-.37.185-.656.383-.86.203-.202.513-.304.93-.304h10.453c.416 0 .724.102.921.305.204.203.334.49.391.86H5.461zm1.594-2.258c.02-.348.133-.611.336-.789.208-.182.5-.273.875-.273h7.468c.375 0 .664.091.868.273.203.178.32.44.351.79H7.055z"})}),h=(0,s().wt)("spreadsheet",{viewBox:"0 0 23 24",svg:(0,a.jsx)("path",{d:"M3.32 10.43V8.96h17.422v1.47H3.32zm0 4.343v-1.468h17.422v1.468H3.32zm7.93 3.758V5.203h1.5v13.328h-1.5zm-5.945.625c-.844 0-1.482-.213-1.914-.64-.433-.427-.649-1.058-.649-1.891V7.109c0-.833.216-1.463.649-1.89.432-.433 1.07-.649 1.914-.649H18.68c.849 0 1.49.216 1.922.649.432.427.648 1.057.648 1.89v9.516c0 .833-.216 1.463-.648 1.89-.433.428-1.073.641-1.922.641H5.305zm.093-1.531h13.196c.36 0 .635-.094.828-.281.193-.193.289-.477.289-.852v-9.25c0-.375-.096-.656-.29-.844-.192-.192-.468-.289-.827-.289H5.398c-.364 0-.643.097-.835.29-.188.187-.282.468-.282.843v9.25c0 .375.094.659.282.852.192.187.47.281.835.281z"})});var v=()=>n(916813),f=()=>n(630417),x=()=>n(811563),S=()=>n(919709),y=()=>n(496603),b=()=>n(534177),C=()=>n(939768),w=()=>n(299545),A=()=>n(842677);const M=()=>n(43371),_={doc:c().x,docx:c().x,pages:c().x,md:c().x,txt:c().x,rtf:c().x,xls:h,xlsx:h,csv:h,tsv:h,ods:h,pdf:n(679596).G,pptx:g,ppt:g,zip:l,br:l,bz2:l,gz:l,"7z":l,dmg:l,pkg:l,jar:l,rar:l,tar:l,xar:l,stl:u,obj:u,fbx:u,amf:u,iges:u,mp3:i().i,m4a:i().i,wav:i().i,aac:i().i,ogg:i().i,flac:i().i,alac:i().i,wma:i().i,exe:d,otf:m,ttf:m,woff:m,eof:m,py:r().B,java:r().B,js:r().B,ts:r().B,tsx:r().B,c:r().B,h:r().B,cpp:r().B,go:r().B,rs:r().B,css:r().B,php:r().B,swift:r().B,kt:r().B,lua:r().B,m:r().B,bash_profile:r().B,bashrc:r().B,zshrc:r().B,vimrc:r().B,vim:r().B};function j(e){const t=function(e){if(!e)return"";const{pathname:t}=C().qg(e);if(!t)return"";const n=t.split(".");return n[n.length-1]}(e).toLowerCase();return _[t]??p}let k=function(e){return e[e.Menu=0]="Menu",e[e.Page=1]="Page",e[e.Sidebar=2]="Sidebar",e[e.Margin=3]="Margin",e[e.Unfurl=4]="Unfurl",e}({});function I(e){let{recordStore:t,currentUserId:n,timestamp:o}=e;return V({recordStore:t,currentUserId:n,timestamp:o})||P(t)}const L=6,B=3;function D(e){return e>1?B:L}function T(e){return e?w().Bw(e,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0}):[]}function R(e){let{blockStore:t,currentUserId:n,ignoreAfterTime:o}=e;if(!t)return[];return w().Bw(t,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0,includePropertyDiscussions:!0}).sort(((e,t)=>{const i=I({recordStore:e,currentUserId:n,timestamp:o}),r=I({recordStore:t,currentUserId:n,timestamp:o});return null!=i&&i.isDefined()?null!=r&&r.isDefined()?-(i.getCreatedTime()-r.getCreatedTime()):1:-1}))}function F(e,t){return e&&e.isDefined()?t&&t.isDefined()?e.getCreatedTime()-t.getCreatedTime():1:-1}function H(e){return w().wc(e).sort(((e,t)=>F(e,t)))}function P(e){return H(e)[0]}function z(e){return V({recordStore:e,currentUserId:void 0})}function V(e){let{recordStore:t,currentUserId:n,timestamp:o}=e;const i=w().wc(t).filter((e=>o?e.isDefined()&&e.getCreatedTime()<o:e.isDefined())).sort(((e,t)=>F(e,t)));return i[i.length-1]}function U(e){return e.sort(((e,t)=>F(z(e),z(t))))}function E(e){const t=e.state.textStore.getValue(),n=(e.state.files??[]).length>0,o=t&&t.length>0;return!n&&!o}function N(e,t){const n=e.state.textStore.getValue(),o=e.state.files;if(!t)return n&&0!==n.length||o&&o.length>0;const i=w().gp(t).getValue();return!y().n4(i,n)||function(e,t){const n=e.state.files,o=w().dd(t);if(o.length!==n.length)return!0;return o.some(((e,t)=>e.id!==n[t].id))}(e,t)}function W(e){if(e.some((e=>!e.isReady())))return!0;return!!e.map((e=>w().wc(e))).flat().some((e=>!e.isReady()||!e.getCreatedTime()))}function K(e){switch(e){case"block_menu":case"ai_reject_all_suggestions":case"reply_menu_mentions_comments":case"reply_menu_all_updates":case"reply_menu_archive":case"reply_menu_updates_sidebar":case"updates_menu_mentions_comments":case"updates_menu_all_updates":case"updates_menu_archive":return k.Menu;case"page_discussion":case"post_top_level_discussion":return k.Page;case"updates_sidebar":return k.Sidebar;case"margin_comments":return k.Margin;case"comment_unfurl":return k.Unfurl;default:(0,b().HB)(e)}}function O(e){return y().hS(y().qI(e,(e=>w().wc(e).map((e=>({store:e,pointer:e.getCreatedByPointer()}))))),(e=>{var t;return null===(t=e.pointer)||void 0===t?void 0:t.id})).filter((e=>(0,b().O9)(e.pointer))).map((e=>{let{store:t,pointer:n}=e;return A().RecordStores.createChildStore(t,n)})).map((e=>e.getModel())).filter(b().O9).map((e=>e instanceof x().F?(0,o().A7)(e):e instanceof f().Hj?(0,o().qt)(e):e instanceof v().T?(0,o().Mq)(e):void(0,b().HB)(e))).filter(b().O9)}function G(e){for(const n of e){if(!n.length)return!1;if(!n[1]||!n[1].some(S().nNl)){var t;const e=n[0].trim(),o=M()();if((null===(t=e.match(o))||void 0===t?void 0:t.join(""))!==e)return!1}}return!0}const $={updates_menu_all_updates:28,updates_menu_mentions_comments:28,updates_menu_archive:28,block_menu:20,reply_menu_all_updates:20,reply_menu_mentions_comments:20,reply_menu_archive:20,reply_menu_updates_sidebar:20,page_discussion:20,post_top_level_discussion:20,updates_sidebar:23,margin_comments:20,comment_unfurl:32,ai_reject_all_suggestions:28};function Z(e){return((null==e?void 0:e.match(/[0-9.]+|[a-z]+/gi))??[]).join(" ")}},555555:(e,t,n)=>{n.d(t,{n:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("import",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},599500:(e,t,n)=>{n.d(t,{g:()=>x});n(296540);var o=()=>n(484714),i=()=>n(56366),r=()=>n(401497),s=()=>n(101847),a=()=>n(959013),l=()=>n(100622),c=()=>n(704152),d=()=>n(460292),u=()=>n(554509),p=()=>n(859428),m=()=>n(437622),g=()=>n(58293),h=()=>n(962730),v=()=>n(10984),f=n(474848);function x(e){let{onClick:t,showIcon:n=!0}=e;const r=y(n),s=(0,o().v3)(),l=(0,g().r)(),d=(0,i().K8)((()=>l&&(0,m().GK)(s,l)),[s,l]),x=(0,i().K8)((()=>(0,v().AI)()),[]);return void 0===t?(0,f.jsx)("div",{style:{...r.badge,cursor:"default"},children:(0,f.jsx)(S,{showIcon:n})}):(0,f.jsx)(p().A,{placement:h().W.Bottom,style:r.tooltip,render:e=>(0,f.jsx)(c().A,{onClick:t,style:{...r.badge,cursor:"pointer"},hoveredStyle:r.badgeHover,pressedStyle:r.badgePressed,...e,children:(0,f.jsx)(S,{showIcon:n})}),renderTooltip:()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:(0,f.jsx)(a().sA,{id:"trialBadge.tooltip.title",defaultMessage:"{hasSpaceName, select, true {{spaceName}} other {Your workspace}} is on a free {planName, select, plus {Plus} business {Business} enterprise {Enterprise} other {}} trial",values:{hasSpaceName:Boolean(d),spaceName:d,planName:x}})}),(0,f.jsx)(u().D,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:(0,f.jsx)(a().sA,{id:"trialBadge.tooltip.description",defaultMessage:"Click to learn more"})})]}),textWrap:!0})}function S(e){let{showIcon:t}=e;const n=y(t);return(0,f.jsxs)(f.Fragment,{children:[t?(0,f.jsx)("span",{style:n.giftIcon,children:(0,f.jsx)(d().Q,{iconGroup:s().T,variantName:"mini",colorName:"orangePrimary"})}):null,(0,f.jsx)(u().D,{styleName:"UISmall-12px/Medium",children:(0,f.jsx)(a().sA,{id:"trialBadge.title",defaultMessage:"Free trial"})})]})}function y(e){return(0,r().IS)((t=>({badge:{display:"flex",flexDirection:"row",gap:4,justifyContent:"center",alignItems:"center",color:t.icon.orangePrimary,background:t.fill.orangeSecondary,padding:e?"0px 6px 0px 4px":"0px 6px",height:e?22:20,borderRadius:6,width:"fit-content"},badgeHover:{background:l().XA[t.mode].orange[100]},badgePressed:{background:l().XA[t.mode].orange[200]},tooltip:{maxWidth:"240px",width:"max-content",display:"flex",padding:"4px 6px",flexDirection:"column",alignItems:"flex-start",gap:2,borderRadius:4},giftIcon:{paddingBottom:1}})),[e])}},643381:(e,t,n)=>{n.d(t,{l:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("repeat",{viewBox:"0 0 16 14",svg:(0,o.jsx)("path",{d:"M1.185 7.317a.689.689 0 00.697-.704v-.601c0-1.19.806-1.942 2.064-1.942H9.23v1.573c0 .328.199.52.527.52a.66.66 0 00.403-.144l2.68-2.236c.253-.212.26-.547 0-.765L10.16.782A.62.62 0 009.757.64c-.328 0-.527.184-.527.52v1.53H4.05C1.875 2.69.48 3.9.48 5.875v.738c0 .397.308.704.705.704zm13.624-.649a.689.689 0 00-.698.704v.608c0 1.19-.806 1.942-2.064 1.942H6.763V8.35c0-.329-.199-.52-.527-.52a.66.66 0 00-.403.144l-2.68 2.242c-.26.212-.26.547 0 .759l2.68 2.242a.66.66 0 00.403.143c.328 0 .527-.191.527-.52v-1.544h5.181c2.174 0 3.569-1.21 3.569-3.179v-.745a.695.695 0 00-.704-.704z"})})},653252:(e,t,n)=>{n.d(t,{O:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("collectionTimelineArrowRight",{viewBox:"0 0 9 7",svg:(0,o.jsx)("path",{d:"M9 3.4979C9 3.29214 8.90602 3.06959 8.7628 2.93521L5.88066 0.239352C5.71507 0.0839835 5.51368 3.13148e-07 5.32123 2.96324e-07C4.82894 2.53287e-07 4.51119 0.314937 4.51119 0.722256C4.51119 0.961608 4.62755 1.13797 4.77971 1.27654L5.80905 2.22975L6.43113 2.77145L5.52263 2.72945L0.863749 2.72945C0.344604 2.72945 -6.62078e-07 3.03599 -7.02459e-07 3.4979C-7.4284e-07 3.95981 0.344604 4.26635 0.863749 4.26635L5.52263 4.26635L6.43113 4.22436L5.80905 4.76605L4.77971 5.72346C4.62755 5.86623 4.51119 6.03839 4.51119 6.27774C4.51119 6.68506 4.82894 7 5.32123 7C5.51367 7 5.71507 6.91602 5.88513 6.76065L8.7628 4.06059C8.90602 3.92622 9 3.70366 9 3.4979Z"})})},675910:(e,t,n)=>{n.d(t,{M:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("clockAlternate",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.417 6.09961C10.5811 6.09961 10.7201 6.15885 10.834 6.27734C10.9525 6.39128 11.0117 6.53027 11.0117 6.69434V11.2949L10.376 9.34668L12.5977 12.3408C12.7116 12.4867 12.7617 12.6416 12.748 12.8057C12.7344 12.9697 12.6592 13.0996 12.5225 13.1953C12.3721 13.3001 12.2148 13.3389 12.0508 13.3115C11.8913 13.2842 11.75 13.1908 11.627 13.0312L9.99316 10.8779C9.93392 10.8005 9.89062 10.7253 9.86328 10.6523C9.83594 10.5749 9.82227 10.4928 9.82227 10.4062V6.69434C9.82227 6.53027 9.87923 6.39128 9.99316 6.27734C10.1117 6.15885 10.2529 6.09961 10.417 6.09961ZM10.6768 17.126C9.93848 17.126 9.22298 17.0098 8.53027 16.7773C7.84212 16.5495 7.20638 16.2259 6.62305 15.8066C6.04427 15.3919 5.54297 14.9111 5.11914 14.3643C4.96875 14.182 4.90495 13.9928 4.92773 13.7969C4.95052 13.6009 5.03939 13.446 5.19434 13.332C5.36296 13.2135 5.53841 13.1748 5.7207 13.2158C5.90299 13.2568 6.06478 13.3571 6.20605 13.5166C6.54785 13.9678 6.94889 14.3597 7.40918 14.6924C7.87402 15.0205 8.37988 15.2734 8.92676 15.4512C9.47819 15.6335 10.0615 15.7269 10.6768 15.7314C11.4606 15.736 12.1943 15.5902 12.8779 15.2939C13.5661 15.0023 14.1676 14.599 14.6826 14.084C15.2021 13.5645 15.6077 12.9629 15.8994 12.2793C16.1956 11.5911 16.3438 10.8529 16.3438 10.0645C16.3438 9.2806 16.1956 8.54688 15.8994 7.86328C15.6077 7.17513 15.2021 6.57357 14.6826 6.05859C14.1676 5.53906 13.5661 5.13346 12.8779 4.8418C12.1943 4.55013 11.4606 4.4043 10.6768 4.4043C9.88835 4.4043 9.15234 4.55013 8.46875 4.8418C7.78971 5.12891 7.19043 5.52995 6.6709 6.04492C6.15137 6.5599 5.74349 7.15918 5.44727 7.84277C5.1556 8.52181 5.00749 9.25326 5.00293 10.0371H3.6084C3.61296 9.07096 3.7998 8.16406 4.16895 7.31641C4.53809 6.46875 5.0485 5.72135 5.7002 5.07422C6.35189 4.42708 7.10156 3.92122 7.94922 3.55664C8.80143 3.1875 9.71061 3.00293 10.6768 3.00293C11.6429 3.00293 12.5521 3.1875 13.4043 3.55664C14.2565 3.92578 15.0062 4.4362 15.6533 5.08789C16.305 5.73503 16.8154 6.4847 17.1846 7.33691C17.5537 8.18913 17.7383 9.09831 17.7383 10.0645C17.7383 11.0306 17.5537 11.9398 17.1846 12.792C16.8154 13.6442 16.305 14.3962 15.6533 15.0479C15.0062 15.6995 14.2565 16.2077 13.4043 16.5723C12.5521 16.9414 11.6429 17.126 10.6768 17.126ZM2.78809 8.66992H6.16504C6.33822 8.66992 6.4681 8.71094 6.55469 8.79297C6.64583 8.87044 6.68913 8.9707 6.68457 9.09375C6.68001 9.21224 6.63216 9.33984 6.54102 9.47656L4.87988 11.7803C4.76595 11.9352 4.63151 12.015 4.47656 12.0195C4.32161 12.0195 4.1849 11.9398 4.06641 11.7803L2.40527 9.47656C2.31413 9.3444 2.26628 9.2168 2.26172 9.09375C2.25716 8.9707 2.29818 8.87044 2.38477 8.79297C2.47591 8.71094 2.61035 8.66992 2.78809 8.66992Z"})})},681810:(e,t,n)=>{n.d(t,{A:()=>o});const o=new(n(867772).Ay)},710857:(e,t,n)=>{n.d(t,{x:()=>i});const o={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1};function i(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...o,...t}}},714300:(e,t,n)=>{n.d(t,{l:()=>l});var o=()=>n(484714),i=()=>n(56366),r=()=>n(176983),s=()=>n(596513),a=()=>n(324561);function l(e){let{spaceId:t}=e;const n=(0,o().v3)(),l=(0,r().J)();return(0,i().K8)((()=>{if(!t||!l)return;const e=s().t.getData(n,{spaceId:t});return(0,a().a9)(e)}),[n,t,l],{useDeepEqual:!0})}},748539:(e,t,n)=>{n.d(t,{f:()=>o});const o=new(n(645873).O2)("pageCovers",(async()=>n.e(40198).then(n.bind(n,193645))))},777092:(e,t,n)=>{n.d(t,{JQ:()=>d,d5:()=>u,vt:()=>c});var o=()=>n(764880),i=()=>n(310442),r=()=>n(824862),s=()=>n(798880),a=()=>n(534177),l=()=>n(630116);function c(e){const{parentStore:t,pointer:n}=e,i=(0,l().Oo)(t,n).getValue();if(i)return(0,o().D3)({table:n.table,value:i})}function d(e){const{parentStore:t,pointer:n}=e;return n.table===r().GP?l().vK.createChildStore(t,n):n.table===s().oo?l().LU.createChildStore(t,n):n.table===i().yj?l().pH.createChildStore(t,n):void(0,a().HB)(n)}function u(e){return e.table===r().GP?(0,o().oC)(e.getValue()):e.table===s().oo?(0,o().MR)(e.getValue()):e.table===i().yj?(0,o().w2)(e.getValue()):void(0,a().HB)(e)}},789557:(e,t,n)=>{n.d(t,{DZ:()=>B,E3:()=>k,L6:()=>L,QA:()=>_,Tu:()=>j,lV:()=>I});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(803949);var o=()=>n(908006),i=()=>n(785082),r=()=>n(451306),s=()=>n(496603),a=()=>n(878523),l=()=>n(112873),c=()=>n(722101),d=()=>n(246826),u=()=>n(620689),p=()=>n(255460),m=()=>n(606952),g=()=>n(317909),h=()=>n(892632),v=()=>n(299545),f=()=>n(906537),x=()=>n(630116),S=()=>n(606846),y=()=>n(374026),b=()=>n(807060),C=()=>n(337090),w=()=>n(855821),A=()=>n(741817),M=()=>n(301523);function _(e){var t,n;const{environment:o,store:r,text:s,files:l,transaction:c,discussionLocation:d,property_id:u,blockStore:p}=e,g=v().eK(r);if(!g)return;const{filesToCreate:h,fileStoresToDelete:f}=function(e,t){const n=[],o=new Set;t.forEach((e=>{"local"===e.type&&e.file instanceof File?n.push(e.file):o.add(e.id)}));const i=v().dd(e),r=i.filter((e=>e.getAlive()&&!o.has(e.id)));return{filesToCreate:n,fileStoresToDelete:r}}(r,l);L({commentStore:r,fileBlocks:f,transaction:c}),(0,w().t)({commentStore:r,files:h,environment:o,transaction:c});const x=v().gp(r);m().KY({environment:o,store:x,value:s,transaction:c}),(0,M().x)(r,c);const y=null==r||null===(t=r.getParentStore())||void 0===t?void 0:t.getParentStore(),C=i().eR.includes(d),A=null==g||null===(n=g.getParentStore())||void 0===n?void 0:n.getNavigableBlockStore(),{property_type:_,collection_id:j,collection_view_id:k,view_type:I,collection_view_block_id:B}=(0,b().q)(u,p);a().ZM(o,{from:d,comment_id:r.id,discussion_id:g.id,discussion_type:g.getType(),parent_block_id:g.getParentId(),parent_collection_id:null==y?void 0:y.getParentCollectionIdUpToTwoLevels(),...C&&{inbox_session_id:S().Ay.state.sessionId,notification_page_id:null==A?void 0:A.id},property_type:_,collection_id:j,collection_view_id:k,view_type:I,collection_view_block_id:B})}function j(e){var t,n;const{environment:o,commentStore:r,transaction:s,discussionLocation:l}=e,c=v().eK(r);if(!c)return;const u=v().uB(c),p=u.getValue();if(!p)return;L({commentStore:r,fileBlocks:v().dd(r),transaction:s}),d().zv({store:r,transaction:s,data:{alive:!1}}),g().applyOperation({store:u,operation:{pointer:u.pointer,path:u.path,command:"listRemove",args:{id:r.id}},transaction:s}),(0===p.length||1===p.length&&p[0]===r.id)&&(0,A().v)({environment:o,discussionStore:c,transaction:s}),(0,M().x)(r,s);const m=i().eR.includes(l),h=null==c||null===(t=c.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();a().gN(o,{from:e.discussionLocation,discussion_id:c.id,discussion_type:c.getType(),comment_id:r.id,parent_block_id:c.getParentId(),parent_collection_id:null===(n=c.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),...m&&{inbox_session_id:S().Ay.state.sessionId,notification_page_id:null==h?void 0:h.id}})}function k(e){var t,n;const{environment:o,commentStore:r,discussionStore:s,transaction:l,discussionLocation:c}=e;d().zv({store:s,data:{resolved:!1},transaction:l});const u=i().eR.includes(c),p=null==s||null===(t=s.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();a().Jg(o,{comment_id:r.id,discussion_id:s.id,from:e.discussionLocation,parent_block_id:s.getParentId(),parent_collection_id:null===(n=s.getParentStore())||void 0===n?void 0:n.getAssociatedCollectionId(),...u&&{inbox_session_id:S().Ay.state.sessionId,notification_page_id:null==p?void 0:p.id}})}function I(e){var t,n;const{environment:o,discussionStore:r,textValue:l,transaction:c,files:d,property_id:u,blockStore:p}=e,{id:m}=o.currentUser;if(!m)return;const g=h().JC(d);if(s().n4(l,[])&&0===g.length)return;const v=(0,C().G)({discussionStore:r,text:l,files:g,environment:o,transaction:c}),f=i().eR.includes(e.discussionLocation),x=null===(t=r.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore(),{property_type:y,collection_id:w,collection_view_id:A,view_type:M,collection_view_block_id:_}=(0,b().q)(u,p);a().mw(o,{from:e.discussionLocation,comment_id:v.id,discussion_id:r.id,discussion_type:r.getType(),parent_block_id:r.getParentId(),parent_collection_id:null==r||null===(n=r.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),...f&&{inbox_session_id:S().Ay.state.sessionId,notification_page_id:null==x?void 0:x.id},property_type:y,collection_id:w,collection_view_id:A,view_type:M,collection_view_block_id:_})}function L(e){const{commentStore:t,fileBlocks:n,transaction:o}=e,i=v().eP(t);n.forEach((e=>{d().zv({store:e,data:{alive:!1},transaction:o}),c().TF({parentStore:i,childToRemoveStore:e,transaction:o})}))}async function B(e){var t;let{discussionStore:n,currentBlockStore:i,environment:s,analyticsFrom:a,currentEl:c}=e;if(!i)return null;if(!n.isDefined())return;function d(e){const t=(0,y().S)({discussionId:n.id,blockId:e});if(!t)return;const o=document.getElementsByClassName((0,r().wV)({discussionId:n.id}))[0];return o?u().hT({element:o,environment:s,scrollerContext:t.getScrollerContext(),vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}):u().pb({environment:s,handle:t,vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}),t.displaySelectionHalo(750),t}const m=(null===(t=n.getRecordStoreUIParent())||void 0===t?void 0:t.id)??n.getParentId();d(m)||(await p().NH(i,[m]),await o().default.afterNextFlush(),d(m));const g=x().Bv.createChildStore(i,n.getParentPointer()),h=f().get(),v=null==h?void 0:h.commonAncestorContainer,S=!(null!=h&&h.collapsed)&&v&&(c===v||(null==c?void 0:c.contains(v)));l().B4({environment:s,blockStore:g||i,analyticsFrom:a,discussionIds:[n.id],shouldFocusDiscussion:!S,recursivelyLoadAllDiscussions:!1})}},846199:(e,t,n)=>{n.d(t,{A:()=>o});const o=n(757695).default.createValue({open:!1},{name:"TrialInfoModalStore"})},846583:(e,t,n)=>{n.d(t,{A:()=>C,T:()=>w});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(296540);var o=()=>n(662303),i=()=>n(56366),r=()=>n(401497),s=()=>n(700500),a=()=>n(713998),l=()=>n(313028),c=()=>n(601813),d=()=>n(792071),u=()=>n(179034),p=()=>n(797809),m=()=>n(919709),g=()=>n(959013),h=()=>n(100622),v=()=>n(284371),f=()=>n(175499),x=()=>n(972435),S=()=>n(105157),y=n(474848);const b=new Set([s().xd.toggle,s().xd.bulletedList,s().xd.numberedList,s().xd.quote,s().xd.toDo,s().xd.code,s().xd.callout,s().xd.header,s().xd.subHeader,s().xd.subSubHeader,s().xd.tableRow]);function C(e){const t=(0,r().DP)(),n=(0,g().tz)(),h=(0,i().K8)((()=>{var t;return e.store.isDefined()?null===(t=e.store.getParentStore())||void 0===t?void 0:t.getValue():null}),[e.store]),C=(0,i().K8)((()=>e.blockStore.getSpaceId()),[e.blockStore]),A=(0,i().K8)((()=>{const t=e.store.getParentStore();if(null==t||!t.isType("alias"))return;const n=t.getAliasTargetStore();return(null==n?void 0:n.table)===u().ev&&n.isFormBlock()?{store:n,value:n.getValue()}:void 0}),[e.store]);let M=(0,i().K8)((()=>{if(!e.store.isDefined())return;const t=e.store.getContext(),o=t?(0,c().l8)({discussionContextData:t,discussionType:e.store.getType(),discussionId:e.store.id,intl:n}):void 0;if(!o)return;let i=m().JJ$(o,(t=>!m().iQL(t)||m().Orm(t)===e.store.id));return m().AhH(i)>50&&(i=m().JG8(i,50),i.push((0,m().Ey_)("…"))),i}),[e.store,n]);const _=(0,i().K8)((()=>{const t=e.blockStore.getAssociatedCollectionStore();if(!t||"collection"!==t.table)return;const n=t.getSchema(),o=e.store.getPropertyId();return void 0!==o?(0,a()._g)({schema:n,property:o}):void 0}),[e.blockStore,e.store]),j=n=>{let{textValue:i,propertySchema:r,discussionParentValue:a}=n;const c=(0,y.jsx)("div",{style:{overflow:"hidden",lineHeight:"18px",maxHeight:72},children:(0,y.jsx)(f().vY,{value:{value:i,spaceId:C},propertySchema:r,labeled:!1,rootStore:e.blockStore,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableDateStyleAnnotations:!0})});if(!a)return c;const d=a.type;return d===s().xd.code?(0,y.jsx)(l().A,{title:(0,f().Ab)(a),theme:t,style:{marginTop:0,marginBottom:0},children:(0,y.jsx)("span",{style:{fontFamily:v().vc(o().locale).mono,fontSize:12,tabSize:2},children:c})}):(0,f().ux)(d)?(0,y.jsx)(l().A,{title:(0,f().ux)(d),theme:t,style:{marginTop:0,marginBottom:0},children:c}):c},k={display:"flex",width:"100%",marginTop:6,marginBottom:6,fontSize:13,color:t.text.secondary};function I(e){M||(M=[[""]]);const t=(0,p().RX)(x().A.getIntl()).title;return t?(0,y.jsx)("div",{style:k,children:(0,y.jsxs)("div",{style:{display:"flex",width:"100%"},children:[(0,y.jsx)(w,{}),_&&(0,y.jsx)(S().A,{propertySchema:_,dontShowColon:""===M[0][0]}),j({textValue:M,discussionParentValue:e,propertySchema:t})]})}):null}if("updates_sidebar"===e.discussionLocation){if(!h)return null;if("text"!==h.type&&void 0===_){const t=null!=A&&A.value?A.value:h,n=null!=A&&A.store?A.store:e.blockStore;return(0,y.jsx)("div",{onClick:e.onClick,style:{display:"flex",cursor:d().Bj6.fromBlock(h).isType(s().Si)?"text":void 0},children:M&&b.has(h.type)?I(h):(0,y.jsxs)("div",{style:k,children:[(0,y.jsx)(w,{}),(0,y.jsx)(f().Ay,{blockValue:t,rootStore:n,blockPreviewLocation:"comments_sidebar"})]})})}}return(0,y.jsx)("div",{onClick:e.onClick,style:{cursor:"text"},children:I()})}function w(){const e=(0,r().IS)((e=>({bar:{width:2,marginLeft:1,borderRadius:4,marginRight:8,background:(0,h().eb)(e.mode),flexShrink:0}})),[]);return(0,y.jsx)("div",{style:e.bar})}},848565:(e,t,n)=>{n.d(t,{FB:()=>p,Ql:()=>m,SM:()=>g,Wv:()=>r,Yz:()=>a,ds:()=>i,e4:()=>o,eQ:()=>s,im:()=>c,jw:()=>l,k2:()=>u,uG:()=>d});const o=8,i=10,r=8,s=24,a=6,l=1.5,c=(s-l)/2,d=s+a,u=`calc(100% + ${r+(o-a)-d}px)`,p=s+8,m=-16;function g(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},867772:(e,t,n)=>{n.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>o,pF:()=>s,vS:()=>i});const o="loadingLocalImage",i="uploading",r="downloading",s="loaded";class a extends(()=>n(757695))().default{getInitialState(){return{loadingMode:s}}}const l=a},881915:(e,t,n)=>{n.d(t,{X:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("collectionTimelineArrowLeft",{viewBox:"0 0 9 7",svg:(0,o.jsx)("path",{d:"M0 3.5021C0 3.70786 0.0939831 3.93041 0.237195 4.06479L3.11934 6.76065C3.28493 6.91602 3.48633 7 3.67877 7C4.17106 7 4.48881 6.68506 4.48881 6.27774C4.48881 6.03839 4.37245 5.86203 4.22029 5.72345L3.19095 4.77025L2.56887 4.22855L3.47737 4.27055L8.13625 4.27055C8.6554 4.27055 9 3.96401 9 3.5021C9 3.04019 8.6554 2.73365 8.13625 2.73365L3.47737 2.73365L2.56887 2.77564L3.19095 2.23395L4.22029 1.27654C4.37245 1.13377 4.48881 0.961608 4.48881 0.722255C4.48881 0.314937 4.17106 0 3.67877 0C3.48633 0 3.28493 0.0839832 3.11487 0.239352L0.237195 2.93941C0.0939831 3.07378 0 3.29634 0 3.5021Z"})})},898495:(e,t,n)=>{n.d(t,{A:()=>ee});n(898992),n(354520),n(803949),n(581454),n(814603),n(147566),n(198721);var o=n(296540),i=()=>n(908006),r=()=>n(484714),s=()=>n(56366),a=()=>n(401497),l=()=>n(763884),c=()=>n(959013),d=()=>n(496603),u=()=>n(878523),p=()=>n(606952),m=()=>n(725614),g=()=>n(317909),h=()=>n(892632),v=()=>n(38337),f=()=>n(231722),x=()=>n(24157);function S(e,t){const o=n(299545).dd(t),i=h().xh(o);e.setState({...e.state,files:i})}var y=()=>n(493319),b=()=>n(66913),C=()=>n(285790),w=()=>n(859428),A=()=>n(140862),M=n(474848);const _=function(e){const t=(0,r().v3)(),{icon:n,onClick:o,tooltip:i}=e,s=(0,A().A)(!0);return(0,M.jsx)(w().A,{renderTooltip:()=>i,render:e=>(0,M.jsx)(C().A,{ariaLabel:i,icon:n,iconStyle:{width:t.device.isMobile?20:16,height:t.device.isMobile?20:16},style:{marginLeft:t.device.isMobile?16:0},onClick:o,...e,...s})})};const j=function(e){const t=(0,c().tz)(),o=(0,r().v3)(),{device:i}=o,s=(0,A().A)(!0),l=(0,a().IS)((e=>({cancelIcon:{background:e.mediumIconColor,borderRadius:"50%",pointerEvents:"auto",height:20,width:20,marginLeft:o.device.isMobile?4:0},cancelIconHovered:{background:e.lightIconColor}})),[o.device.isMobile]),{canSend:d,visible:u,onSend:p,onCancel:m,isEditing:g,animated:h,onMention:v,onAttach:f,sendTooltip:x}=e,S={opacity:u?1:0};return(0,M.jsx)(n(145214).A,{animate:S,style:{display:"flex",flexDirection:"column-reverse",alignItems:"end",pointerEvents:u?void 0:"none",width:"min-content",...h&&S},children:(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:6},children:[(0,M.jsx)(_,{icon:n(819713).j,onClick:f,tooltip:t.formatMessage({id:"discussionInput.uploadFile.button.tooltip",defaultMessage:"Attach file"})}),!i.isMobileBrowser&&(0,M.jsx)(_,{icon:n(617640).m,onClick:v,tooltip:t.formatMessage({id:"discussionInput.insertMention.button.tooltip",defaultMessage:"Mention a person, page, or date"})}),g&&(0,M.jsx)("div",{style:{height:14,marginRight:6},children:(0,M.jsx)(n(802790).A,{vertical:!0,size:1})}),g?(0,M.jsx)(C().A,{ariaLabel:t.formatMessage({id:"discussionInput.cancelButton.ariaLabel",defaultMessage:"Cancel editing comment"}),icon:b().V,isDarkIconColor:!0,onClick:m,iconStyle:{fill:"white",height:o.device.isMobile?18:16,width:o.device.isMobile?18:16},style:l.cancelIcon,hoveredStyle:l.cancelIconHovered,...s}):null,g?(0,M.jsx)(C().A,{ariaLabel:t.formatMessage({id:"discussionInput.updateButton.ariaLabel",defaultMessage:"Update comment"}),icon:n(162402).q,onClick:p,isBlue:d,disabled:!d,iconStyle:{height:o.device.isMobile?23:21,width:o.device.isMobile?23:21},style:{pointerEvents:"auto",marginLeft:o.device.isMobile?16:2,height:24,width:24},...s}):(0,M.jsx)(w().A,{disableTooltip:!(0,n(534177).O9)(x),renderTooltip:()=>(0,M.jsx)(M.Fragment,{children:x}),render:e=>(0,M.jsx)(C().A,{ariaLabel:t.formatMessage({id:"discussionInput.sendButton.ariaLabel",defaultMessage:"Send comment"}),icon:n(102777).b,onClick:p,isBlue:d,disabled:!d,iconStyle:{height:o.device.isMobile?26:24,width:o.device.isMobile?26:24},style:{pointerEvents:"auto",marginLeft:o.device.isMobile?16:0,height:24,width:24},...(0,n(553965).A)(s,e)})})]})})},k=(0,c().YK)({defaultPlaceholder:{defaultMessage:"Add a comment…",id:"discussionInput.defaultPlaceholder.addComment"},pasteFileIntoCommentNotAllowed:{id:"clipboardActions.pasteFileIntoCommentError.message",defaultMessage:"Sorry, you cannot paste files into a comment."},replyInputPlaceholder:{defaultMessage:"Reply...",id:"updateSidebar.placeholder.addComment"}});var I=()=>n(304740),L=()=>n(816559),B=()=>n(360083);function D(e){const{url:t,imageNaturalHeight:n,imageNaturalWidth:i}=e,r=(0,o.useMemo)((()=>({display:"block",width:`min(${i}px, 100%)`,height:`min(${n}px, 100%)`,pointerEvents:"auto",objectFit:"cover"})),[i,n]);return(0,M.jsx)("div",{style:T,children:(0,M.jsx)(L().Ay,{src:t,style:r,placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"center"}})})}const T={alignSelf:"center",margin:"0 auto",position:"relative",height:"100%",width:"100%",overflow:"hidden"};const R=function(e){let{file:t,isLarge:i}=e;const s=(0,o.useRef)(null),l=(0,r().v3)(),c=(0,a().IS)((e=>({imageThumbnail:{...{border:`1px solid ${e.stroke.secondary}`,borderRadius:8,cursor:"zoom-in"},...i?{objectFit:"contain",width:"auto",height:"auto",maxWidth:240,maxHeight:240,minWidth:48,minHeight:48}:{width:48,height:48}}})),[i]),d=(0,o.useCallback)((()=>{var e;const n=null===(e=s.current)||void 0===e?void 0:e.getImageDimensions();if(!n)return;const{naturalHeight:o,naturalWidth:i}=n;return"local"===t.type?(0,M.jsx)(D,{url:t.dataURL,imageNaturalHeight:o,imageNaturalWidth:i}):(0,M.jsx)(B().A,{url:t.source,render:(e,t)=>(0,M.jsx)(D,{url:t,error:e,imageNaturalHeight:o,imageNaturalWidth:i}),isAuthenticated:!0,permissionRecord:t.store.pointer})}),[t]),u=(0,o.useCallback)((e=>{var t;e.stopPropagation();const o=null===(t=s.current)||void 0===t?void 0:t.getImageDimensions();o&&n(35622).o9({environment:l,renderFullScreenNode:d,fullScreenNodeRect:o.clientRect,contentAspectRatio:o.naturalWidth/o.naturalHeight})}),[d,l]);return"local"===t.type?(0,M.jsx)(L().Ay,{src:t.dataURL,style:c.imageThumbnail,placeholderStyle:c.imageThumbnail,onClick:u,ref:s}):(0,M.jsx)(B().A,{url:t.source,isAuthenticated:!0,permissionRecord:t.store.pointer,render:(e,t)=>(0,M.jsx)(L().Ay,{src:t,style:c.imageThumbnail,placeholderStyle:c.imageThumbnail,onClick:u,ref:s})})};var F=()=>n(780054),H=()=>n(165492),P=()=>n(973753),z=()=>n(704152);function V(e){let{children:t,handleRemoveFileClicked:n}=e;const[i,s]=(0,o.useState)(!1),a=(0,r().v3)(),l=(0,c().tz)(),d=i||a.device.isMobile;return(0,M.jsxs)(z().A,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:E,hoveredStyle:N,pressedStyle:N,children:[t,d&&(0,M.jsx)(C().A,{icon:b().V,style:U,hasBackground:!0,isDarkIconColor:!0,hovered:!1,showShadow:!0,onClick:n,ariaLabel:l.formatMessage({id:"discussionInputAttachment.removeFileButton.label",defaultMessage:"Remove file"})})]})}const U={position:"absolute",top:-4,right:-3,height:18,width:18,borderRadius:18},E={position:"relative",cursor:"pointer",width:"min-content",height:"min-content",background:"transparent"},N={background:"transparent"},W=3,K=3;function O(e){let{files:t,onRemoveFile:n}=e;const{images:o,nonImages:i}=(0,s().K8)((()=>{const[e,n]=d().jB(t,(e=>function(e){if("local"===e.type){const t=e.file.type,[n]=t.split("/");if("image"===n)return!0}const t=(0,I().WT)({url:"local"===e.type?e.file.name:e.source,baseUrl:F().A.domainBaseUrl,publicDomainName:F().A.publicDomainName});return"image"===t}(e)));return{images:e,nonImages:n}}),[t]);return(0,M.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:4,marginTop:4},children:[(0,M.jsx)(G,{files:o,onRemoveFile:n}),(0,M.jsx)($,{files:i,onRemoveFile:n})]})}function G(e){let{files:t,onRemoveFile:n}=e;return 0===t.length?null:t.length<=W?(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:t.map((e=>(0,M.jsx)(V,{handleRemoveFileClicked:()=>n(e),children:(0,M.jsx)(R,{file:e,isLarge:!0})},e.id)))}):(0,M.jsx)(P().A,{children:t.map((e=>(0,M.jsx)(V,{handleRemoveFileClicked:()=>n(e),children:(0,M.jsx)(R,{file:e,isLarge:!1})},e.id)))})}function $(e){let{files:t,onRemoveFile:n}=e;if(0===t.length)return null;const o=t.map((e=>{const t=e.name??"",o="remote"===e.type?e.source:t,i=e.size??"";return(0,M.jsx)(V,{handleRemoveFileClicked:()=>n(e),children:(0,M.jsx)(H().A,{title:t,source:o,size:i,showBlockActionMenuButton:!1})},e.id)}));return t.length<=K?(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:o}):(0,M.jsx)(P().A,{children:o})}const Z=o.forwardRef((function(e,t){var b;const C=(0,r().v3)(),{device:w,currentUser:A}=C,{onFileUploaded:_}=e,[I,L,B]=(0,s().$y)(e.discussionInputStore),{textStore:D,files:T}=I,R=(0,s().K8)((()=>D.getValue()),[D]),[F,H]=(0,o.useState)(!1),P=(0,o.useRef)(null),{commentStore:z,adjustWidthForDraftDiscussions:V,dontMoveCursorToInputEndOnFocus:U}=e,E=e.discussionFormat!==y().DiscussionFormat.Page;(0,o.useImperativeHandle)(t,(()=>({uploadFiles:te})));const N=(0,s().K8)((()=>(0,n(186445)._m)(C)),[C]),W=(0,o.useRef)(null===(b=e.blockStore)||void 0===b?void 0:b.clone()),K=(0,s().K8)((()=>{const e=x().default.state;return"editing"===e.mode&&(0,f().KP)(e.multiSelection)&&e.multiSelection.start.store===D}),[D]),G=(0,s().K8)((()=>({isEmpty:(0,y().inputIsEmpty)(B),hasChanged:(0,y().hasCommentChanged)(B,z),hasNewLineCharacter:B.hasNewLineCharacter()})),[B,z]),$=(0,s().K8)((()=>K||!G.isEmpty),[G.isEmpty,K]),Z=(0,o.useCallback)((async()=>{const e=x().default.state;"editing"===e.mode&&(0,f().KP)(e.multiSelection)&&e.multiSelection.start.store===D||(m().setSelectionAtEnd({store:D}),await i().default.afterNextFlush())}),[D]),ee=(0,s().K8)((()=>Boolean(e.blockStore&&(0,n(337567).dL)(e.blockStore))),[e.blockStore]),te=(0,o.useCallback)((async e=>{if(await Z(),T.length+e.length>10)return void n(901389).f1((0,M.jsx)(c().sA,{id:"discussionInput.uploadFile.tooManyFilesErrorMessage",defaultMessage:"You cannot upload more than {maxFiles} files per comment.",values:{maxFiles:10}}));const t=e.map(h().x9);L({...I,files:[...T,...t]}),null==_||_()}),[Z,T,L,I,_]),ne=e.discussionFormat===y().DiscussionFormat.Margin,oe=e.discussionFormat===y().DiscussionFormat.Sidebar;(0,o.useEffect)((()=>{e.commentStore&&S(B,e.commentStore)}),[B,e.commentStore]);const ie=(0,o.useRef)(!1),re=(0,o.useCallback)((t=>{t?l().A.set({userId:A.id,key:J(e.parentStore.id,e.inReplyToDiscussionId),value:t??null}):l().A.remove({userId:A.id,key:J(e.parentStore.id,e.inReplyToDiscussionId)})}),[A.id,e.inReplyToDiscussionId,e.parentStore.id]);(0,o.useEffect)((()=>{e.shouldSaveUnsentComments&&ie.current&&re(R),ie.current=!0}),[e.shouldSaveUnsentComments,re,R]);const se=(0,o.useRef)(D);(0,o.useEffect)((()=>{if(!n(449476).A.state.isOpen&&e.shouldSaveUnsentComments){const t=l().A.get({userId:A.id,key:J(e.parentStore.id,e.inReplyToDiscussionId)});t&&g().createAndCommit({userAction:"DiscussionInput.willMount",environment:C,canUndo:!0,perform:e=>{p().KY({environment:C,store:se.current,value:t,transaction:e})}})}}),[C,A.id,e.inReplyToDiscussionId,e.parentStore.id,e.shouldSaveUnsentComments]);const ae=(0,o.useRef)(T);(0,o.useEffect)((()=>{ae.current=T}),[T]),(0,o.useEffect)((()=>()=>{ae.current&&ae.current.forEach((e=>{"local"===e.type&&e.dataURL&&URL.revokeObjectURL(e.dataURL)}))}),[]),(0,o.useEffect)((()=>{if(!W.current||!F)return;const e=n(695625).T.findSelectableFromStore(W.current);e&&n(620689).pb({environment:C,handle:e,vertical:{reveal:"bottom"},horizontal:{reveal:"closest"},animate:!0})}),[C,F]);const le=(0,o.useCallback)((()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.focus()}),[]),{autoFocus:ce=!1}=e;(0,n(852507).l)((()=>{ce&&le()}));const de=T&&T.length>0,ue=e.discussionFormat===y().DiscussionFormat.Menu&&e.inReplyToDiscussionId,pe=!e.disableFocusRing&&!ue&&(oe||ne&&!e.isNewComment),me=void 0!==e.showCtaButtons?e.showCtaButtons:e.isEditingExistingComment||$||F,ge=!e.isMobileSlideUpMenu,he=(ne||oe)&&!e.isNewComment,ve=(0,a().IS)((e=>({inputWrapper:{display:"flex",width:V?"calc(100% + 6px)":"100%",fontSize:14,borderRadius:6,transition:"background 300ms ease",cursor:me?"text":"pointer",alignSelf:"center",position:"relative",flexWrap:"wrap",justifyContent:"flex-end",background:"transparent",alignItems:"center",rowGap:4,columnGap:6,padding:"3.5px 4px 3px 4px",margin:"-3.5px -4px 0 -4px"},textFieldStyle:{fontSize:14,maxHeight:w.isMobileNative?"50vh":"70vh",WebkitOverflowScrolling:"touch",userSelect:"auto",WebkitUserSelect:"auto",lineHeight:"20px",overflow:"auto",whiteSpace:"pre-wrap",padding:"2.5px",margin:"-2.5px"},textFieldWrapper:{flexGrow:1,display:"flex",minHeight:24,paddingTop:2,width:G.hasNewLineCharacter||w.isMobile?"100%":""}})),[V,me,w.isMobileNative,w.isMobile,G.hasNewLineCharacter]),fe=(0,s().K8)((()=>0===(D.getValue()||[]).length),[D]),xe=function(e){const{isEditing:t,onEditPreviousComment:n,textRef:o}=e;if(!t)return{};const i=e=>{"key"in e&&(e.metaKey||e.ctrlKey)&&o.current&&m().setSelectionAtStart({store:o.current.props.store})},r=e=>{"key"in e&&(e.metaKey||e.ctrlKey)&&o.current&&m().setSelectionAtEnd({store:o.current.props.store})};return{onUp:n??i,onDown:r}}({isEditing:K,shouldTrapCursorInInput:E,onEditPreviousComment:fe?e.onEditPreviousComment:void 0,textRef:P}),Se=()=>{re(void 0),e.onSubmit()},ye=(0,M.jsx)(j,{visible:me,onAttach:async()=>{const{device:e}=C;e.isIOS&&e.isMobileNative&&!e.isTablet&&(m().clear({preventDismissMobileKeyboard:!0,environment:C}),await i().default.afterNextFlush());const t=await h().dA({multiple:!0});await te(t),u().Sd(C,{type:"file_picker"})},onMention:async()=>{await Z(),n(829300).Gf({environment:C,mentionTypes:{page:!0,heading:!0,createPage:!1,user:!0,inviteUserToWorkspace:!0,inviteUserToPage:!0,bot:!0,date:!0,reminder:!1,templateVariable:!1,group:!0,team:!0,formulaContextVariable:!1}})},canSend:!G.isEmpty&&!ee,onSend:Se,onCancel:e.onCancel,isEditing:e.isEditingExistingComment||!1,animated:ne,inline:!0,sendTooltip:ee?(0,M.jsx)(c().sA,{id:"discussionInput.cannotSubmitBecauseOfAIEdits",defaultMessage:"Resolve pending edits before commenting"}):void 0});return(0,M.jsx)(n(545805).A,{debugName:"DiscussionInput",capture:K,onCommandEnter:d().D_,children:(0,M.jsx)(X,{enabled:!!W.current&&!!e.canDrop,store:W.current,onNativeDrop:async e=>{let{files:t}=e;await te(t),u().Sd(C,{type:"drop"})},children:(0,M.jsx)("div",{className:e.isEditingExistingComment?v().d1T:v().rgg,style:{...Y,...e.containerStyle||{}},onFocus:t=>{const o=t.target;var i;o instanceof HTMLElement&&(0,n(819121).p)(o)&&(null===(i=e.onFocus)||void 0===i||i.call(e),H(!0))},onBlur:t=>{var n;null===(n=e.onBlur)||void 0===n||n.call(e),H(!1)},children:(0,M.jsxs)("div",{style:q,children:[e.showAvatar&&(0,M.jsx)(n(453697).A,{userStore:N,size:n(848565).eQ,avatarShouldShowShadow:!1,style:{...Q,marginTop:0,marginRight:8}}),(0,M.jsxs)("div",{className:pe?v().CCX:"",onClick:le,style:ve.inputWrapper,tabIndex:-1,children:[(0,M.jsx)("div",{dir:"auto",style:ve.textFieldWrapper,children:(0,M.jsx)(n(246722).A,{style:ve.textFieldStyle,store:D,parentStore:e.parentStore,disabled:!1,onEnter:()=>{if(!w.isMobile)return void Se();const e="editing"===x().default.state.mode&&x().default.state.multiSelection;e&&g().createAndCommit({userAction:"DiscussionInput.handleEnter",environment:C,canUndo:!0,perform:t=>{p().$D({environment:C,editorMode:"default",string:"\n",multiSelection:e,disableMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})}})},onCommandEnter:Se,onPasteFiles:async e=>{await te(e.files),u().Sd(C,{type:"paste"})},onEsc:e.onCancel,...xe,placeholder:n(972435).A.formatMessage(he?k.replyInputPlaceholder:k.defaultPlaceholder),ref:P,isDiscussionInput:!0,disableSlashCommands:!0,disableInsertText:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableEmbedMenu:!0,disabledMentionTypes:{reminder:!0},disableMobileActionBar:!0,disableStyleAnnotations:w.isMobileBrowser,disableInsertedDeletedAnnotations:w.isMobileBrowser,pasteBehavior:"inline",inPageFind:n(792540).Os.none,className:"discussion-input-text-block",disableMoveCursorToEndOnFocus:U})}),de&&(0,M.jsx)(O,{files:T,onRemoveFile:e=>{const t=B.state;B.setState({...t,files:t.files.filter((t=>t.id!==e.id))})}}),ye]}),ge&&(0,M.jsx)(n(594739).A,{show:K,onDismiss:()=>m().clear({environment:C})})]})})})})})),Y={display:"flex",flexDirection:"column",width:"100%",cursor:"pointer"},q={display:"flex",alignItems:"center",flexGrow:1},Q={flexShrink:0,flexGrow:0,marginRight:6,alignSelf:"flex-start",marginTop:6};function X(e){const{enabled:t,children:o,store:i,onNativeDrop:r}=e;return t&&i?(0,M.jsx)(n(199896).A,{store:i,analyticsName:"discussion_input",canNativeDropOnto:!0,onNativeDrop:r,keepTextSelectionOnDrop:!0,shouldShowDropZone:!0,children:o}):(0,M.jsx)(M.Fragment,{children:o})}function J(e,t){return t?`UnsentDiscussion-${e}-${t}`:`UnsentDiscussion-${e}`}const ee=o.memo(Z)},969339:(e,t,n)=>{n.d(t,{C6:()=>s,HQ:()=>r,Yo:()=>a});var o=()=>n(645873);const i=new(o().O2)("login",(async()=>{const{default:e}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,465209)),{default:t}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,406370)),{default:o}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,737515)),{default:i}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,465833)),{default:r}=await Promise.all([n.e(23806),n.e(44711),n.e(35837),n.e(23463),n.e(89244),n.e(25049),n.e(80358),n.e(96966)]).then(n.bind(n,52542));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:o,FrontLoginPage:i,LoginModalContent:r}})),r=(0,o()._h)(i,(e=>e.LoginPage)),s=(0,o()._h)(i,(e=>e.FrontLoginPage)),a=(0,o()._h)(i,(e=>e.LoginModalContent))},973753:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(881915),l=()=>n(653252),c=()=>n(959013),d=()=>n(285790),u=()=>n(2143),p=()=>n(728611),m=()=>n(953418),g=()=>n(141333),h=()=>n(756279),v=()=>n(17090),f=n(474848);const x=.8,S=(0,c().YK)({scrollLeftButtonAriaLabel:{defaultMessage:"Scroll left",id:"FilmStrip.scrollLeftButtonAriaLabel"},scrollRightButtonAriaLabel:{defaultMessage:"Scroll right",id:"FilmStrip.scrollRightButtonAriaLabel"}});function y(e){let{children:t,shouldShowGrayFog:n}=e;const y=(0,c().tz)(),b=(0,o.useRef)(null),C=(0,i().v3)(),w=(0,r().uB)(void 0,v().A),A=(0,r().K8)((()=>w.state.elementRef),[w]),M=(0,g().HD)(A),_=(0,g().Xg)(A),j=(0,g().sj)(A),k=(0,o.useCallback)((()=>{var e;null===(e=b.current)||void 0===e||e.getClientRect()}),[]);(0,o.useEffect)((()=>(p().P4(window,"resize",k),()=>{p().Ol(window,"resize",k)})),[k]),(0,o.useEffect)((()=>{k()}),[k]);const I=j>0,L=Math.ceil(j+M)<_,B=(0,o.useCallback)((e=>{var t;e.stopPropagation(),m().HN({element:null===(t=b.current)||void 0===t?void 0:t.getNode(),environment:C,options:{left:-x*M,behavior:"smooth"}})}),[M,C]),D=(0,o.useCallback)((e=>{var t;e.stopPropagation(),m().HN({element:null===(t=b.current)||void 0===t?void 0:t.getNode(),environment:C,options:{left:x*M,behavior:"smooth"}})}),[M,C]),T=(0,s().IS)((e=>({scrollerWrapper:{display:"flex",position:"relative"},scroller:{overflow:"auto",display:"flex",gap:4,zIndex:0,paddingTop:6,marginTop:-6,paddingRight:4},commonArrowStyles:{position:"absolute",borderRadius:12,width:24,height:24,background:e.tint.regular,top:12,boxShadow:"none"},iconHoveredStyle:{background:e.tint.regular},leftArrowStyle:{left:0},rightArrowStyle:{right:4},arrowIconStyle:{height:12,fill:e.icon.secondary},leftArrowContainer:{position:"absolute",height:"100%",width:30,background:`linear-gradient(to right, ${n?e.hoveredMarginDiscussionBackground:e.selectedMarginDiscussionBackground} 0px, ${e.contentBackgroundTransparent} 30px`},rightArrowContainer:{position:"absolute",height:"100%",width:30,right:0,background:`linear-gradient(to left, ${n?e.hoveredMarginDiscussionBackground:e.selectedMarginDiscussionBackground} 0px, ${e.contentBackgroundTransparent} 30px`}})),[n]);return(0,f.jsxs)("div",{style:T.scrollerWrapper,children:[(0,f.jsx)(u().H,{ref:b,type:h().A.X,store:w,onScroll:k,style:T.scroller,children:t}),I&&(0,f.jsx)("div",{style:T.leftArrowContainer,children:(0,f.jsx)(d().A,{icon:a().X,hovered:!1,showShadow:!0,onClick:B,ariaLabel:y.formatMessage(S.scrollLeftButtonAriaLabel),style:{...T.commonArrowStyles,...T.leftArrowStyle},iconStyle:T.arrowIconStyle,hoveredStyle:T.iconHoveredStyle})}),L&&(0,f.jsx)("div",{style:T.rightArrowContainer,children:(0,f.jsx)(d().A,{icon:l().O,hovered:!1,showShadow:!0,onClick:D,ariaLabel:y.formatMessage(S.scrollRightButtonAriaLabel),style:{...T.commonArrowStyles,...T.rightArrowStyle},iconStyle:T.arrowIconStyle,hoveredStyle:T.iconHoveredStyle})})]})}},980151:(e,t,n)=>{n.d(t,{WO:()=>u,_V:()=>p,hK:()=>m});var o=()=>n(869558),i=()=>n(854150),r=()=>n(317909),s=()=>n(559102),a=()=>n(100875),l=()=>n(162674),c=()=>n(710857),d=()=>n(351360);function u(e){const{environment:t,currentSpaceViewStore:n,...o}=e;if(!n.getModel())return;const i=!(0,c().x)(n)[e.feature];r().createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,canUndo:!0,perform:t=>{r().applyOperation({store:n,operation:{pointer:n.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:i}},transaction:t})}}),(0,l().f_)({environment:t,show:i,...o})}function p(e){let{environment:t,option:n,from:o,userAction:i}=e;const s=d().default.state.currentSpaceViewStore;if(!s)return!1;const c=s.getOnAppStartStore().getValue();return r().createAndCommit({userAction:i,environment:t,canUndo:!0,perform:e=>{r().applyOperation({store:s,operation:{pointer:s.pointer,path:["settings","on_app_start"],command:"set",args:n},transaction:e})}}),(0,a().cq)({spaceView:s.getModel(),preference:n}),(0,l().lr)({environment:t,oldValue:c,newValue:n,from:o}),!0}function m(e){const{environment:t,selectedStore:n,currentSpaceViewStore:a,collectionContextStore:c}=e,d=c.collectionViewStore(),u=c.collectionStore(),p=c.collectionViewBlockStore();if(!(u&&d&&p&&a))return;const m=a.getTeamsStores(),g=n.table===i().yK?m.indexOf(n)+1:0,h=n.table===i().yK?n.id:void 0;r().createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{r().applyOperation({store:d,operation:{pointer:{id:d.id,table:o().Gy},path:["format","collection_view_source","teamId"],command:"set",args:h},transaction:e}),(0,s().d)({environment:t,collectionViewBlockStore:p,collectionViewStore:d,collectionStore:u,collectionContextStore:c,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0})}}),(0,l().AP)({environment:t,teamId:h,index:g})}},997513:(e,t,n)=>{n.d(t,{z:()=>m});var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(959013),l=()=>n(107683),c=()=>n(2143),d=()=>n(969339),u=()=>n(756279),p=n(474848);function m(e){let{loginModalStore:t,loginStore:n,title:s,description:a,isSignup:c,disableLoginLink:u,redirectURL:m,className:f,onDismiss:x,trustedDomain:S}=e;const y=(0,i().v3)(),b=(0,r().K8)((()=>t.state.open),[t]),C=(0,o.useId)(),w=(0,o.useId)(),A={loginStore:n,title:s,description:a,isSignup:c,redirectURL:m,disableLoginLink:u,titleAriaId:C,descriptionAriaId:w,trustedDomain:S};return(0,p.jsx)(l().s,{ariaLabelledBy:C,ariaDescribedBy:w,isOpen:b,onDismiss:()=>{v({loginModalStore:t,loginStore:n,onDismiss:x})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,p.jsx)(g,{children:(0,p.jsxs)("div",{className:f,children:[!y.device.isMobile&&(0,p.jsx)(h,{loginModalStore:t,loginStore:n,onDismiss:x}),(0,p.jsx)(d().Yo,{...A})]})})})}function g(e){let{children:t}=e;return(0,i().v3)().device.isMobile?(0,p.jsx)(c().H,{type:u().A.Y,children:t}):t}function h(e){let{loginModalStore:t,loginStore:n,onDismiss:o}=e;const i=(0,s().DP)();return(0,p.jsx)("div",{style:{fontSize:14,color:i.mediumTextColor,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer",zIndex:1},onClick:()=>{v({loginModalStore:t,loginStore:n,onDismiss:o})},children:(0,p.jsx)(a().sA,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function v(e){const{loginModalStore:t,loginStore:n,onDismiss:o}=e;n.reset(),t.setState({open:!1}),o&&o()}}}]);