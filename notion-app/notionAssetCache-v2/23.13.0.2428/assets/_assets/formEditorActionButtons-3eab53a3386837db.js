"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[69095],{346:(e,t,o)=>{o.d(t,{MG:()=>g,T1:()=>p,a1:()=>v,dt:()=>f,kg:()=>h,lC:()=>b,n_:()=>S});var n=o(296540),i=()=>o(484714),r=()=>o(56366),s=()=>o(187174),a=()=>o(645873),l=()=>o(941463),d=()=>o(441199),c=()=>o(749687),u=()=>o(737230),m=()=>o(756114);const p=new(a().O2)("PerformanceToolbar",(()=>Promise.all([o.e(23806),o.e(16471),o.e(47123),o.e(17989),o.e(56985),o.e(48680),o.e(45624)]).then(o.bind(o,140401)))),g=(0,a()._h)(p,(e=>e.PerformanceToolbar)),f=(0,a()._h)(p,(e=>e.PerformanceToolbarSettings));function h(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,m().D)(e,e.RouterStore.state)),[e])}function S(){const e=(0,i().v3)(),t=y("PerformanceToolbarStore"),o=y("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function b(){const e=y("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function v(){const e=(0,i().v3)(),t=y("createPerformanceToolbarMouseListeners"),o=y("PerformanceToolbarStore"),{sidebarExpanded:s,sidebarWidth:a,secondarySidebarExpanded:m,secondarySidebarWidth:p,updateSidebarExpanded:g,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),s,a,m,p,g,f)}),[t,e,o,s,a,m,p,g,f])}function y(e){const t=h(),[{value:o}]=(0,s().Yb)((()=>t?p.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},7767:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(194188),i=()=>o(10123),r=()=>o(570551);function s(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e).getTime(),s=(0,n().A)(t);return new Date(o+s)}},10123:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(570551);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){(0,n().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},43972:(e,t,o)=>{o.d(t,{w:()=>l});o(296540);var n=()=>o(764880),i=()=>o(534177),r=()=>o(256863),s=()=>o(453697),a=o(474848);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,n().H3)(t)?(0,a.jsx)(r().A,{botValue:t.asActor,...o}):(0,n().ps)(t)?(0,a.jsx)(s().A,{userValue:t.asActor,...o}):(0,n().h2)(t)?(0,a.jsx)(s().A,{userValue:void 0,...o}):void(0,i().HB)(t)}},51367:(e,t,o)=>{o.d(t,{DL:()=>s,Sq:()=>l,Y5:()=>a,gc:()=>c,wo:()=>d});var n=()=>o(917629),i=()=>o(989423),r=()=>o(508496);function s(e,t){const o=(0,n().h2)(t.callout_key);o&&(t.placement_key=(0,n().t9)(o)),(0,i().u4)({environment:e,event:{eventName:"callout_show",eventProperties:t}}),r().default.logEvent("callout_show",t.callout_key)}function a(e,t){const o=(0,n().h2)(t.callout_key);o&&(t.placement_key=(0,n().t9)(o)),(0,i().u4)({environment:e,event:{eventName:"callout_click",eventProperties:t}}),r().default.logEvent("callout_click",t.callout_key)}function l(e,t){const o=(0,n().h2)(t.callout_key);o&&(t.placement_key=(0,n().t9)(o)),(0,i().u4)({environment:e,event:{eventName:"callout_dismiss",eventProperties:t}}),r().default.logEvent("callout_dismiss",t.callout_key)}function d(e,t){const{eligible_callouts:o,required_arg_timeout:n,required_args_run_duration:r,eligibility_timeouts:s,blocklist:a}=t;(0,i().u4)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:o,required_arg_timeout:n,required_args_run_duration:r,eligibility_timeouts:s,blocklist:a}}})}function c(e,t){(0,i().u4)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}},58293:(e,t,o)=>{o.d(t,{r:()=>r});var n=()=>o(56366),i=()=>o(351360);function r(){return(0,n().K8)((()=>i().default.state.currentSpaceStore),[])}},63467:(e,t,o)=>{o.d(t,{y:()=>c});var n=()=>o(637997),i=()=>o(267419);const r={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222))};let s=!1,a=!1;async function l(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...i,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function d(){if(s)return;const[e]=o(662303).locale.split("-");e in r&&(await l(await r[e]()),s=!0)}const c=(0,o(279900).A)((async()=>{await async function(){a||(await l(await o.e(51872).then(o.bind(o,443716))),a=!0)}(),await d()}))},72307:(e,t,o)=>{o.d(t,{A:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},73223:(e,t,o)=>{o.r(t),o.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>m,tutorialAdvanceToStepAfter:()=>p,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var n=()=>o(541235),i=()=>o(317909),r=()=>o(755199),s=()=>o(739135),a=()=>o(351360);function l(e,t){var o;const{currentUserSettingsStore:n}=a().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,s().i9)(n,t)}}})},userId:n.id})}function d(e,t){var o;const{currentUserSettingsStore:n}=a().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,s().KD)(n,t)}}})},userId:n.id})}function c(e,t){var o;const{currentUserSettingsStore:i}=a().default.state;if(!i)return;const s=null===(o=i.getSettings())||void 0===o?void 0:o.tutorials;g({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...s,[t]:n().YD}}})},userId:i.id})}function u(e){const{currentUserSettingsStore:t}=a().default.state;t&&g({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function m(e,t,o){var i;const{currentUserSettingsStore:l}=a().default.state;if(!l||(0,s().x$)(l,t))return;const d=(0,s().gt)(l,t);n().c$[t].steps.findIndex((e=>e.id===d))>=n().c$[t].steps.findIndex((e=>e.id===o))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(i=l.getSettings())||void 0===i?void 0:i.tutorials,[t]:o}}})}function p(e,t,o){if((0,s().ll)(o))return;const n=(0,s().tb)(t,o);n&&m(e,t,n)}function g(e){return i().createAndCommit({...e,canUndo:!1})}},77126:(e,t,o)=>{o.d(t,{j:()=>i});class n extends(()=>o(959180))().A{}const i=new n},84161:(e,t,o)=>{o.d(t,{S:()=>u});o(944114),o(296540);var n=()=>o(675910),i=()=>o(926401),r=()=>o(441977),s=()=>o(654601),a=()=>o(959013),l=()=>o(37433),d=()=>o(430483),c=o(474848);function u(){const e=(0,l().nk)(),t=d().zD.isFullPageAssistantInStartOptions(),o=[];return e&&o.push({key:"personal_home",label:(0,c.jsx)(a().sA,{id:"pageOnAppStoreSetting.home.label",defaultMessage:"Home"}),renderIcon:e=>(0,r().J)({width:20,height:20,...e})}),o.push({key:"last_visited_page",label:(0,c.jsx)(a().sA,{id:"pageOnAppStoreSetting.lastVisitedPage.label",defaultMessage:"Last visited page"}),renderIcon:e=>(0,n().M)({width:20,height:20,...e})},{key:"first_page",label:(0,c.jsx)(a().sA,{id:"pageOnAppStoreSetting.firstPage.label",defaultMessage:"Top page in sidebar"}),renderIcon:e=>(0,i().n)({width:20,height:20,padding:2,...e})}),t&&o.push({key:"chat",label:(0,c.jsx)(a().sA,{id:"pageOnAppStoreSetting.chat.label",defaultMessage:"Notion AI"}),renderIcon:e=>(0,s().X)({width:20,height:20,...e})}),o}},101847:(e,t,o)=>{o.d(t,{T:()=>n});const n=(0,o(340498).xh)("gift",{default:{loader:()=>o.e(23202).then(o.bind(o,723202))},small:{loader:()=>o.e(2264).then(o.bind(o,902264))},mini:{loader:()=>o.e(42668).then(o.bind(o,542668))},large:{loader:()=>o.e(25196).then(o.bind(o,725196))}})},132456:(e,t,o)=>{o.d(t,{J4:()=>w,kw:()=>A,lf:()=>x});o(16280),o(816573),o(878100),o(177936),o(748140),o(821903),o(491134),o(128845),o(237467),o(444732),o(979577),o(581454);var n=o.n(o(883503)),i=()=>o(496603),r=()=>o(720665),s=()=>o(416845),a=()=>o(628536),l=()=>o(96689);const d={version:8,notion_version:0,variant:2},c={version:8,notion_version:1,variant:2},u=0,m=1,p=6,g=8,f=10,h=Date.UTC(2024,0,1);function S(e,t){if(e)return t[u]=255,t[u+1]=240|15&t[u+1],t;const o=Math.floor(((new Date).getTime()-h)/r().nD);if(o>=4096||o<0)throw new Error("Invalid offsetInDays.");return t[u]=o>>4,t[u+1]=o<<4&240|15&t[u+1],t}function b(e,t){if(e>=2**36||e<0)throw new Error("Invalid spaceShortId.");t[m]=240&t[m]|e/2**32&15;for(let o=0;o<4;o++)t[m+1+o]=e/2**(24-8*o)&255;return t}function v(e,t){const o=e?1:0;return t[p]=d.version<<4&240|d.notion_version<<1&14|1&o,t[g]=d.variant<<6&192|63&t[g],t}function y(e,t){if("block"===e)return t[f]=(0,a().vi)(e)|63&t[f],t;const o=(0,a().vi)(e);return t[f]=o>>8&127,t[f+1]=255&o,t}function C(e,t){const o=(0,a().TG)(e);return t[f]=127&o|128&t[f],t}function A(e,t,o,n){const i=new Uint8Array(16),r=globalThis.crypto.getRandomValues(i);return o!==l().NX&&S(e,r),b(t,r),v(n,r),y(o,r),T(r)}function w(e,t,o,n){return A(e,t,o,n)}function x(e,t,o){return I(e,t,o)}function I(e,t,o){const r=n()(o),l=i().iv(r,2).map((e=>parseInt(e.join(""),16)));if((0,a().ep)(t)){if(void 0===e)throw new(s().Um)(`Deterministic ID for '${t}' must specify a space short id`)}else if(void 0!==e)throw new(s().Um)(`Deterministic ID for '${t}' should not provide a space short id`);const d=new Uint8Array(l);return e&&b(e,d),C(t,d),function(e){e[p]=240&c.version<<4|14&c.notion_version<<1|1&e[p],e[g]=192&c.variant<<6|63&e[g]}(d),T(d)}const M=new Array(256).fill(0).map(((e,t)=>t.toString(16).padStart(2,"0")));function T(e){let t=0;return M[e[t++]]+M[e[t++]]+M[e[t++]]+M[e[t++]]+"-"+M[e[t++]]+M[e[t++]]+"-"+M[e[t++]]+M[e[t++]]+"-"+M[e[t++]]+M[e[t++]]+"-"+M[e[t++]]+M[e[t++]]+M[e[t++]]+M[e[t++]]+M[e[t++]]+M[e[t++]]}},138372:(e,t,o)=>{o.d(t,{H:()=>i});var n=()=>o(508496);function i(e){const{permissionItem:t}=e,{is_public_share_link:o}=t;return n().default.checkGate({gateName:"sharing_anyone_with_the_link"})?o?{...t,is_site:!1}:{...t,role:"none",is_site:!1}:{...t,is_site:!1,role:"none"}}},162342:(e,t,o)=>{o.d(t,{W$:()=>a,fR:()=>r,iv:()=>s});var n=()=>o(228814),i=()=>o(846199);function r(e){i().A.setState({open:!0,...e})}function s(){i().A.setState({open:!1})}function a(e){n().A.setState({open:!0,...e})}},191197:(e,t,o)=>{o.d(t,{i:()=>i,z:()=>r});var n=()=>o(989423);function i(e,t){const{from:o}=t;n().vd(e,"show_tooltip",{from:o,time:Date.now()})}function r(e,t){const{from:o}=t;n().vd(e,"dismiss_tooltip",{from:o,time:Date.now()})}},194188:(e,t,o)=>{function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}o.d(t,{A:()=>n})},224011:(e,t,o)=>{o.d(t,{A:()=>r});var n=()=>o(705540);class i extends(()=>o(757695))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await n().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},n().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},228814:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(757695).default.createValue({open:!1},{name:"TrialEndModalStore"})},240562:(e,t,o)=>{o.d(t,{p:()=>r});var n=()=>o(645873);const i=new(n().O2)("HelpButtonContent",(async()=>await o.e(42481).then(o.bind(o,667667)))),r=(0,n()._h)(i,(e=>e.HelpButtonContent))},275011:(e,t,o)=>{o.r(t),o.d(t,{default:()=>De});var n=o(296540),i=()=>o(484714),r=()=>o(56366),s=()=>o(401497),a=()=>o(959013),l=()=>o(864943),d=()=>o(859428),c=()=>o(989423),u=()=>o(465741),m=()=>o(148307),p=()=>o(31503),g=o(474848);const f=(0,o(340498).wt)("anonymousForm",{viewBox:"0 0 16 16",svg:(0,g.jsx)("g",{children:(0,g.jsx)("path",{d:"M1.896 5.789c-.446 0-.67-.228-.67-.684V3.444c0-.73.19-1.28.568-1.654.378-.374.936-.561 1.675-.561h1.66c.452 0 .678.223.678.67 0 .451-.226.677-.677.677H3.55c-.318 0-.562.082-.73.246-.165.164-.247.412-.247.745v1.538c0 .456-.225.684-.677.684zm12.203 0c-.447 0-.67-.228-.67-.684V3.567c0-.333-.087-.581-.26-.745-.169-.164-.41-.246-.725-.246h-1.579c-.45 0-.677-.226-.677-.677 0-.447.226-.67.677-.67h1.661c.743 0 1.304.187 1.682.56.378.374.567.926.567 1.655v1.661c0 .456-.225.684-.676.684zM3.469 14.77c-.739 0-1.297-.19-1.675-.567-.378-.374-.567-.926-.567-1.655v-1.654c0-.456.223-.684.67-.684.45 0 .676.228.676.684v1.538c0 .333.082.581.246.745.169.164.413.246.732.246H5.13c.451 0 .677.226.677.677 0 .447-.226.67-.677.67H3.469zm7.396 0c-.45 0-.677-.223-.677-.67 0-.451.226-.677.677-.677h1.58c.314 0 .555-.082.724-.246.173-.164.26-.412.26-.745v-1.538c0-.456.223-.684.67-.684.45 0 .676.228.676.684v1.654c0 .73-.189 1.28-.567 1.655-.378.378-.939.567-1.682.567h-1.66zm-6.193-2.796c-.164 0-.287-.048-.37-.143a.596.596 0 01-.115-.376c0-.205.075-.468.225-.787a3.79 3.79 0 01.697-.97 3.977 3.977 0 011.19-.82c.478-.224 1.043-.336 1.695-.336.66 0 1.23.112 1.71.335a3.896 3.896 0 011.879 1.791c.155.32.232.582.232.787 0 .15-.04.275-.123.376-.077.095-.198.143-.362.143H4.672zm3.322-4.02c-.35 0-.67-.09-.957-.273a2.03 2.03 0 01-.69-.738 2.173 2.173 0 01-.26-1.067c0-.373.087-.715.26-1.025a2.03 2.03 0 01.69-.738c.287-.187.606-.28.957-.28s.672.093.964.28c.292.182.522.428.69.738.174.31.26.652.26 1.025 0 .397-.086.752-.26 1.067-.168.31-.398.556-.69.738a1.783 1.783 0 01-.964.274z"})})});var h=()=>o(742117),S=()=>o(815883),b=()=>o(657222),v=()=>o(945529),y=()=>o(426388),C=()=>o(192855),A=()=>o(385527),w=()=>o(411387),x=()=>o(884107),I=()=>o(778417),M=()=>o(725614),T=()=>o(755199),_=()=>o(464708),k=()=>o(760217),j=()=>o(406699),P=()=>o(805751),F=()=>o(623580),B=()=>o(928600),L=()=>o(147294),D=()=>o(204063),E=()=>o(89924),N=()=>o(175116),O=()=>o(38337),V=()=>o(972435),R=()=>o(722872),W=()=>o(553965),K=()=>o(836251),U=()=>o(437622),H=()=>o(963589),Q=()=>o(629027),z=()=>o(465425),J=()=>o(131448),Y=()=>o(11978),G=()=>o(976721),q=()=>o(440339),Z=()=>o(928074),$=()=>o(302127),X=()=>o(138372),ee=()=>o(525700),te=()=>o(413582),oe=()=>o(962730),ne=()=>o(351360),ie=()=>o(597368);class re extends(()=>o(757695))().default{getInitialState(){return{formShareMenuType:"initial"}}}const se=new re;var ae=()=>o(343168),le=()=>o(991249),de=()=>o(112698),ce=()=>o(597898),ue=()=>o(614787),me=()=>o(894995),pe=(o(898992),o(672577),o(581454),()=>o(496603)),ge=()=>o(939740),fe=()=>o(14235);const he=function(e){let{icon:t,title:a,selectedKey:l,onChange:c,disabled:u,tooltipMessage:m,disableTooltip:p,...f}=e;const S=(0,i().Y0)(),b=(0,s().DP)(),v="options"in f?f.options:[],y=v.find((e=>pe().n4(e.key,l))),C=(0,r().uB)(void 0,o(463830).A),A=(0,r().O$)(C);(0,n.useEffect)((()=>{y||o(857639).log({level:"error",from:"FormSettingsPickListRow",type:"InvalidSelectedItem",error:(0,o(229833).n6)("Selected key is invalid.")})}));const w=(0,s().IS)((e=>({desktopAndTabletButton:{marginLeft:0,marginRight:0,width:"auto",padding:"2px 0"},valueContainer:{display:"flex",alignItems:"center",color:e.text.secondary},iconStyle:{width:16,height:16},rightStyle:{marginRight:0},chevronIcon:{height:12,width:12,marginLeft:6,fill:e.icon.tertiary,transform:A.open?"rotate(90deg)":void 0}})),[A.open]),x=(0,g.jsxs)("div",{style:w.valueContainer,children:[null==y?void 0:y.title,(0,h().V)(w.chevronIcon)]});return(0,g.jsx)(d().A,{renderTooltip:()=>m,disableTooltip:p,placement:oe().W.Left,textWrap:!0,render:e=>(0,g.jsx)(j().Ay,{popupType:S.isPhone?fe().nl.SlideUp:fe().nl.Popup,alignmentToOrigin:j().yP.End,placementToOrigin:j().sx.Bottom,originGap:0,buttonPopupStore:C,disabled:u,renderOrigin:o=>(0,g.jsx)(k().A,{...e,icon:null==t?void 0:t(w.iconStyle),title:a,focused:!1,disabled:u,buttonStyle:S.isPhone?void 0:w.desktopAndTabletButton,right:x,...(0,W().A)(o,f)}),render:e=>{const t=[{key:0,render:e=>(0,g.jsx)(E().A,{enableActionSheetTitle:!0,...e}),items:pe().oE(v.map(((t,o)=>{const n={key:o,render:e=>(0,g.jsx)(d().A,{textWrap:!0,placement:oe().W.Left,disableTooltip:!t.tooltipMessage,renderTooltip:()=>t.tooltipMessage,render:o=>(0,g.jsx)(k().A,{...(0,W().A)(e,o),disabled:t.disabled,title:t.title,icon:t.icon,style:{color:t.disabled?b.lightTextColor:b.text.primary},checkState:t.key===l})}),action:()=>{c(t.key,e),e.close()}};return n})))}];return(0,g.jsx)(B().A,{menuType:S.isPhone?R().gu.ActionSheet:R().gu.Popup,width:300,children:(0,g.jsx)(ge().Ay,{type:ge().Oh.Vertical,sections:t,initialFocus:S.isMobile?void 0:0})})}})})};const Se=function(e){let{icon:t,title:n,onClick:r,menuItemDisabled:a,toggleDisabled:l,tooltipMessage:c,disableTooltip:u,on:m}=e;const p=(0,i().Y0)(),f=(0,s().IS)((e=>({iconStyle:{width:16,height:16},desktopAndTabletButton:{marginLeft:0,marginRight:0,width:"auto",padding:"2px 0"}})),[]);return(0,g.jsx)(d().A,{renderTooltip:()=>c,disableTooltip:u,render:e=>(0,g.jsx)(k().A,{buttonStyle:p.isPhone?void 0:f.desktopAndTabletButton,icon:null==t?void 0:t(f.iconStyle),title:n,right:(0,g.jsx)(o(946548).A,{on:m,onClick:r,disabled:l??a}),focused:!1,disabled:a,onClick:r,...e}),placement:oe().W.Left,textWrap:!0})};var be=()=>o(704152),ve=()=>o(953006);function ye(e){let{origin:t,onCloseClick:o}=e;const n=(0,s().IS)((e=>({tooltipStyle:{opacity:1},gotItButton:{border:"dark"===e.mode?`1px solid ${e.accentColors.gray[500]}`:`1px solid ${e.accentColors.gray[700]}`,borderRadius:6,display:"flex",justifyContent:"center",alignItems:"center",height:28,padding:"0px 8px"}})),[]),i=(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{opacity:.7},children:(0,g.jsx)(a().sA,{id:"FormShareTooltip.content",defaultMessage:"When you’re done editing, click here to copy the form link to share."})}),(0,g.jsx)("div",{style:{float:"right",marginTop:10},children:(0,g.jsx)(be().A,{onClick:o,style:n.gotItButton,children:(0,g.jsx)(a().sA,{id:"FormShareTooltip.dismissButton",defaultMessage:"Got it"})})})]});return(0,g.jsx)(ve().k,{origin:t,style:{width:250},hideCloseButton:!0,hideActions:!0,placementToOrigin:"bottom",alignmentToOrigin:oe().C.End,pointerLength:30,contentStyle:n.tooltipStyle,pointerPosition:"85%",content:i,onCloseClick:o,shouldDismissUponOutsideClick:!0})}const Ce=(0,a().YK)({anonymousFormSettingTooltip:{defaultMessage:"Form submissions will be anonymous",id:"FormShareMenu.CollectRespondentIdentity.tooltip"},anonymousFormSettingTooltipForPublicForms:{defaultMessage:"All submissions for public forms will be anonymous",id:"FormShareMenu.CollectRespondentIdentity.tooltipForPublicForms"},disabledPublishFormByTeamspace:{defaultMessage:"Disabled via teamspace settings",id:"FormShareMenu.disabledPublishFormByTeamspace"},disabledPublishFormByWorkspace:{defaultMessage:"Disabled via workspace settings",id:"FormShareMenu.disabledPublishFormByWorkspace"},disabledFormConfigurationPermissionTooltip:{defaultMessage:"You do not have permission to change this setting. Only users with full access can modify this form setting.",id:"FormShareMenu.DisabledFormConfigurationPermission.tooltip"},disabledFormConfigurationAnonymousSubmissionTooltip:{defaultMessage:"You do not have permission to change this setting. Only users with edit access can modify this form setting.",id:"FormShareMenu.DisabledFormConfigurationAnonymousSubmission.tooltip"},sharedToSpaceTooltip:{defaultMessage:"Workspace members with the link will be able to view and submit.",id:"FormShareMenu.sharedToSpace.tooltip"},sharedToWebTooltip:{defaultMessage:"Anyone with the link will be able to view and submit, no login required.",id:"FormShareMenu.sharedToWeb.tooltip"},closedFormTooltip:{defaultMessage:"No one will be able to view or submit this form.",id:"FormShareMenu.closedForm.tooltip"},notionBrandingDisabledTooltip:{defaultMessage:"Upgrade to remove Notion branding from the form",id:"FormShareMenu.notionBrandingDisabled.tooltip"},notionBrandingDisabledTooltipNonWorkspaceOwner:{defaultMessage:"Contact your workspace owner to upgrade to remove branding",id:"FormShareMenu.notionBrandingDisabled.tooltipNonWorkspaceOwner"},notionBrandingTooltip:{defaultMessage:"Remove Notion branding from the form",id:"FormShareMenu.notionBranding.tooltip"},embedSettingRowTitle:{defaultMessage:"Embed this form",id:"FormShareMenu.embedSettingRowTitle"},embedSettingRowTooltip:{defaultMessage:"Embed this form outside of Notion",id:"FormShareMenu.embedSettingRowTooltip"},submissionNoAccessTooltip:{defaultMessage:"After submitting the form, respondents will not have access to their submissions.",id:"FormShareMenu.submissionNoAccessTooltip"},submissionCanViewTooltip:{defaultMessage:"After submitting the form, respondents can view their submissions.",id:"FormShareMenu.submissionCanViewTooltip"},submissionCanCommentTooltip:{defaultMessage:"After submitting the form, respondents can comment on their submissions.",id:"FormShareMenu.submissionCanCommentTooltip"},submissionCanEditTooltip:{defaultMessage:"After submitting the form, respondents can edit their submissions.",id:"FormShareMenu.submissionCanEditTooltip"},submissionFullAccessTooltip:{defaultMessage:"After submitting the form, respondents will have full access to their submissions, including the ability to edit, delete, and share them.",id:"FormShareMenu.submissionFullAccessTooltip"},anonymousSubmissionPermissionsTooltip:{defaultMessage:"Turn off anonymous submissions to allow respondents to access their submissions",id:"FormShareMenu.anonymousSubmissionPermissionsTooltip"}});function Ae(e){let{formBlockStore:t,showCompactDesktopHeader:o}=e;const s=(0,N().ET)(),l=(0,i().Y0)(),u=(0,i().v3)(),m=(0,n.useRef)(null),p=(0,r().K8)((()=>s.formShareMenuButtonPopupStore),[s]),f=(0,r().K8)((()=>{var e;const o=t.getCreatedById(),n=null===(e=s.collectionViewStore())||void 0===e?void 0:e.id,i=o===u.currentUser.id,r=ie().A.state.open;return!(!i||r||ae().A.state.openTooltip!==n)&&J().default.isVisible(me().FORMS_SHARE_CALLOUT_KEY)}),[u,t,s]),h=(0,n.useCallback)((()=>{T().dD({environment:u}),z().a(u,me().FORMS_SHARE_CALLOUT_KEY)}),[u]);return(0,r().K8)((()=>(0,K().w6)(u)),[u])?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j().Ay,{popupType:l.isPhone?j().z7.BottomSheet:j().z7.Popup,bottomSheetInitialState:"half",forceInitialInbound:!0,buttonPopupStore:p,renderOrigin:e=>(0,g.jsx)(d().A,{disableTooltip:l.isMobile||!o,renderTooltip:()=>(0,g.jsx)(a().sA,{defaultMessage:"Share form",id:"collectionViewBlock.formEditorView.shareForm"}),render:t=>(0,g.jsx)(D().A,{ref:m,style:{marginLeft:6},...(0,W().A)(t,e),children:l.isMobile||o?(0,g.jsx)(a().sA,{defaultMessage:"Share",id:"collectionViewBlock.formEditorView.shareFormMobile"}):(0,g.jsx)(a().sA,{defaultMessage:"Share form",id:"collectionViewBlock.formEditorView.shareForm"})})}),originGap:8,render:e=>(0,g.jsx)(we,{formBlockStore:t,parent:e}),onClick:()=>{(0,c().u4)({environment:u,event:{eventName:"share_form_clicked",eventProperties:{form_id:t.id}}})},onDismiss:()=>p.reset(),onClose:()=>p.reset()}),f&&(0,g.jsx)(ye,{origin:m,onCloseClick:h})]})}function we(e){let{formBlockStore:t,parent:o}=e;const s=(0,i().Y0)(),l=(0,H().X)("enable_embeddable_sites_for_space"),d=(0,H().X)("forms_submission_permissions"),{formUrl:c,isFormPublic:m,isFormClosed:p}=(0,r().K8)((()=>({formUrl:(0,u().px)(t),isFormPublic:t.getIsFormPublic(),isFormClosed:t.getIsFormClosed()})),[t]),f=(0,r().K8)((()=>se.state.formShareMenuType),[]),h=p?null:(0,g.jsxs)(g.Fragment,{children:[!m&&d&&(0,g.jsx)(ke,{formBlockStore:t}),m&&(0,g.jsx)(Pe,{formBlockStore:t}),(0,g.jsx)(_e,{formBlockStore:t}),l&&m&&(0,g.jsx)(xe,{})]}),S=(0,i().v3)();(0,n.useEffect)((()=>{I().IU({preventDismissMobileKeyboard:!0,environment:S}),M().clear({preventDismissMobileKeyboard:!0,environment:S})}),[S]);let b={menuType:R().gu.Popup,maxHeight:"90vh",width:480};return s.isPhone&&(b={menuType:R().gu.Modal,title:(0,g.jsx)(a().sA,{id:"form.mobileFormShareMenu.title",defaultMessage:"Share Form"})}),(0,g.jsx)(B().A,{...b,className:O().GIL,children:(0,g.jsx)(P().A,{debugName:"ShareFormContainer",capture:!0,allowEsc:!0,children:(0,g.jsx)(E().A,{children:"initial"===f?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Te,{formBlockStore:t}),h,(0,g.jsx)(Me,{formUrl:c})]}):(0,g.jsx)(Ie,{formBlockStore:t})})})})}function xe(){const e=(0,s().DP)();return(0,g.jsx)(d().A,{renderTooltip:()=>V().A.formatMessage(Ce.embedSettingRowTooltip),disableTooltip:!1,render:t=>(0,g.jsx)(k().A,{icon:(0,S().N)({width:16,height:16}),title:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(a().sA,{...Ce.embedSettingRowTitle}),(0,g.jsx)(L().E,{newBadgeKey:"publish_site_settings_embed_page",didUserEngage:!1,style:{display:"inline"}})]}),focused:!1,disabled:!1,right:(0,h().V)({height:12,width:12,marginLeft:6,fill:e.icon.tertiary}),onClick:()=>{se.setState({...se.state,formShareMenuType:"embed"})},...t}),placement:oe().W.Left,textWrap:!0})}function Ie(e){const{formBlockStore:t}=e,{isMobile:o}=(0,i().Y0)(),n=(0,s().IS)((()=>({container:{display:"flex",flexDirection:"column",marginTop:8,marginBottom:o?0:8}})),[o]);return(0,g.jsxs)("div",{children:[(0,g.jsx)(Le,{handleBackButtonClick:()=>{se.setState({...se.state,formShareMenuType:"initial"})}}),(0,g.jsx)("div",{style:n.container,children:(0,g.jsx)(te().M,{currentBlockStore:t})})]})}function Me(e){const{formUrl:t}=e,[o,r]=(0,n.useState)(!1),c=(0,i().v3)(),{isMobile:u}=(0,i().Y0)(),m=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",height:u?45:30,margin:8},urlInputWrapper:{position:"relative",flexGrow:1,height:u?45:30},urlInput:{borderTopLeftRadius:u?12:6,borderBottomLeftRadius:u?12:6,borderTopRightRadius:0,borderBottomRightRadius:0,boxShadow:"none",borderWidth:1,borderRightWidth:0,borderStyle:"solid",borderColor:e.outlineButtonBorder,padding:0,height:"100%",fontSize:u?16:14,backgroundColor:e.contentBackground},urlInputGradient:{position:"absolute",top:1,right:0,background:`linear-gradient(90deg,\n\t\t\t\t\t${e.contentBackgroundTransparent} 0%,\n\t\t\t\t\t${e.contentBackground} 90%)`,height:28,width:36},urlInputInner:{padding:6,paddingRight:0,backgroundColor:"transparent",border:"none"},copyLinkButton:{height:"100%",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:u?12:6,borderBottomRightRadius:u?12:6},linkIcon:{width:u?22:14,height:u?22:14,color:e.icon.secondary,marginRight:6}})),[u]);return(0,g.jsxs)("div",{style:m.container,children:[(0,g.jsxs)("div",{style:m.urlInputWrapper,children:[(0,g.jsx)(F().A,{style:m.urlInput,inputStyle:m.urlInputInner,value:t,readOnly:!0,disabled:!0}),(0,g.jsx)("div",{style:m.urlInputGradient})]}),(0,g.jsx)(d().A,{forceVisibleState:!!o||void 0,disableTooltip:!o,renderTooltip:()=>(0,g.jsx)(a().sA,{defaultMessage:"Copied",id:"database.collectionViewBlock.formEditorShareButton.copiedLinkToForm.tooltip"}),render:e=>(0,g.jsxs)(l().A,{size:"lg",style:m.copyLinkButton,onClick:async()=>{r(!0);(await x().R.clipboardActions.load()).copyString({stringValue:t,environment:c,copiedMessage:u?ue().l.copiedLinkToForm:void 0}),setTimeout((()=>{r(!1)}),1e3)},...e,children:[(0,b().w)(m.linkIcon),(0,g.jsx)(a().sA,{defaultMessage:"Copy form link",id:"database.collectionViewBlock.formEditorShareButton.copyFormLink"})]})})]})}function Te(e){let{formBlockStore:t}=e;const o=(0,i().v3)(),l=(0,s().DP)(),d=(0,N().ET)(),{canEditPermissions:m,collectionSchema:p}=(0,r().K8)((()=>{var e;const t=d.collectionViewBlockStore();return{canEditPermissions:!!t&&t.canEditMembership(),collectionSchema:null===(e=d.collectionStore())||void 0===e?void 0:e.getSchema()}}),[d]),f=(0,Q().P)({store:t}),h=(0,r().K8)((()=>f.disabled&&"team"===f.disabledBy?Ce.disabledPublishFormByTeamspace:f.disabled&&"space"===f.disabledBy?Ce.disabledPublishFormByWorkspace:void 0),[f]),{currentSpaceStore:S}=(0,r().O$)(ne().default),b=(0,s().IS)((e=>({permissionOption:{display:"flex",alignItems:"center"},yellowBadge:{background:"light"===e.mode?e.accentColors.yellow[50]:e.accentColors.yellow[200],color:"light"===e.mode?e.accentColors.yellow[500]:e.accentColors.yellow[600]}})),[]),v=(0,r().K8)((()=>t.getIsFormPublic()),[t]),y=(0,r().K8)((()=>t.getIsFormClosed()),[t]),C=(0,r().K8)((()=>S?(0,U().GK)(o,S):""),[o,S]),w=(0,r().K8)((()=>{if(t)return Z().dR({store:t,environment:o})}),[o,t]),x=(0,r().K8)((()=>null==w?void 0:w.mostPermissivePublicItem),[w]),I=(0,n.useCallback)((e=>{if(!x)return;const{permissionItem:n}=x;(0,G().Hc)({oldPermissionItem:n,newPermissionItem:e,wasInherited:!1,environment:o,store:t,sudoModeStore:void 0,location:void 0})}),[o,x,t]);return(0,g.jsx)(he,{disabled:!m,icon:A().h,title:(0,g.jsx)(a().sA,{id:"formEditSettings.formPermissions.title",defaultMessage:"Who can fill out"}),disableTooltip:m,tooltipMessage:m?void 0:V().A.formatMessage(Ce.disabledFormConfigurationPermissionTooltip),selectedKey:(0,u().C0)(v,y),options:[{key:"shared_to_space",tooltipMessage:V().A.formatMessage(Ce.sharedToSpaceTooltip),title:(0,g.jsx)(a().sA,{id:"formEditSettings.formPermissions.spacePermission",defaultMessage:"Anyone at {spaceName} with link",values:{spaceName:C}})},{key:"shared_to_web",disabled:f.disabled,tooltipMessage:h?V().A.formatMessage(h):V().A.formatMessage(Ce.sharedToWebTooltip),title:(0,g.jsxs)("div",{style:b.permissionOption,children:[(0,g.jsx)(a().sA,{id:"formEditSettings.formPermissions.publicPermission",defaultMessage:"Anyone on the web with link"}),(0,g.jsx)(_().A,{content:(0,g.jsx)(a().sA,{id:"formEditSettings.formPermissions.publicBadge",defaultMessage:"Public"}),style:b.yellowBadge})]})},{key:"closed",tooltipMessage:V().A.formatMessage(Ce.closedFormTooltip),title:(0,g.jsxs)("div",{style:b.permissionOption,children:[(0,g.jsx)(a().sA,{id:"formEditSettings.formPermissions.noAccess",defaultMessage:"No access"}),(0,g.jsx)(_().A,{content:(0,g.jsx)(a().sA,{id:"formEditSettings.formPermissions.closedBadge",defaultMessage:"Closed"})})]})}],onChange:async e=>{const n=(0,u().C0)(v,y);switch(e){case"shared_to_space":if(me().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!1}),x){const e=(0,X().H)({permissionItem:x.permissionItem});I(e)}break;case"shared_to_web":await me().maybeAlertAboutUnsupportedPublicQuestions({environment:o,formBlockStore:t,collectionSchema:p,theme:l,onAccept:()=>{if(me().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!1}),ee().d8({environment:o,type:"form",store:t,header:{hideBreadcrumbs:!0,hideSearch:!0}}),x){const e=(0,$().y)({permissionItem:x.permissionItem,allowDuplicate:!1});I(e)}}});break;case"closed":me().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!0})}(0,c().u4)({environment:o,event:{eventName:"change_form_permissions",eventProperties:{form_id:t.id,old_permissions:n,new_permissions:e}}})}})}function _e(e){let{formBlockStore:t}=e;const o=(0,i().v3)(),n=(0,a().tz)(),s=(0,N().ET)(),l=(0,r().K8)((()=>s.permissionScopesStore.state.canConfigureBlock),[s]),d=(0,r().K8)((()=>t.getIsFormAnonymousSubmissionEnabled()),[t]),u=(0,r().K8)((()=>t.getIsFormPublic()),[t]),m=(0,r().K8)((()=>l?u?Ce.anonymousFormSettingTooltipForPublicForms:d?Ce.anonymousFormSettingTooltip:void 0:Ce.disabledFormConfigurationAnonymousSubmissionTooltip),[l,u,d]);return(0,g.jsx)(Se,{icon:f,title:(0,g.jsx)(a().sA,{id:"formShareMenu.anonymousFormToggle.title",defaultMessage:"Anonymous responses"}),menuItemDisabled:!l||u,on:!!u||d,onClick:()=>{me().toggleAnonymousFormSubmissionState({environment:o,formBlockStore:t}),(0,c().u4)({environment:o,event:{eventName:"form_anonymous_responses_toggled",eventProperties:{form_id:t.id,is_anonymous:!d}}})},tooltipMessage:m?n.formatMessage(m):void 0,disableTooltip:!m})}function ke(e){let{formBlockStore:t}=e;const o=(0,i().v3)(),n=(0,N().ET)(),s=(0,a().tz)(),l=(0,r().K8)((()=>{const e=n.collectionViewBlockStore();return!!e&&e.canEditMembership()}),[n]),d=(0,r().K8)((()=>t.getIsFormAnonymousSubmissionEnabled()),[t]),u=(0,r().K8)((()=>(0,p().m$)(t.getFormSubmissionPermissions(),d,t.getIsFormPublic())),[t,d]),m=(0,r().K8)((()=>l?d?Ce.anonymousSubmissionPermissionsTooltip:void 0:Ce.disabledFormConfigurationPermissionTooltip),[l,d]);return(0,g.jsx)(he,{disabled:!l||d,icon:v().v,title:(0,g.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.title",defaultMessage:"Access to submission"}),disableTooltip:!m,tooltipMessage:m?s.formatMessage(m):void 0,selectedKey:u,options:[{key:"none",tooltipMessage:V().A.formatMessage(Ce.submissionNoAccessTooltip),title:(0,g.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.noAccess",defaultMessage:"No access"})},{key:"reader",tooltipMessage:V().A.formatMessage(Ce.submissionCanViewTooltip),title:(0,g.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.canView",defaultMessage:"Can view"})},{key:"comment_only",tooltipMessage:V().A.formatMessage(Ce.submissionCanCommentTooltip),title:(0,g.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.canComment",defaultMessage:"Can comment"})},{key:"read_and_write",tooltipMessage:V().A.formatMessage(Ce.submissionCanEditTooltip),title:(0,g.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.canEdit",defaultMessage:"Can edit"})},{key:"editor",tooltipMessage:V().A.formatMessage(Ce.submissionFullAccessTooltip),title:(0,g.jsx)(a().sA,{id:"formEditSettings.formSubmissionPermission.fullAccess",defaultMessage:"Full access"})}],onChange:e=>{me().changeFormSubmissionPermissions({environment:o,formBlockStore:t,permissions:e}),(0,c().u4)({environment:o,event:{eventName:"change_form_submission_permissions",eventProperties:{form_id:t.id,old_permissions:u,new_permissions:e}}})}})}const je=200;function Pe(e){var t;let{formBlockStore:o}=e;const n=(0,i().v3)(),s=(0,r().K8)((()=>o.getSiteStore()),[o]),l=(0,Y().O)(),d=(0,ce()._X)({name:"unbranded_forms",spaceId:l,userId:null===(t=n.currentUser)||void 0===t?void 0:t.id}),c=null==d?void 0:d.upsell,u=(0,r().K8)((()=>(0,U().s7)(n)),[n]),m=(0,r().K8)((()=>{var e;return!!s&&!(null!==(e=s.getHeader())&&void 0!==e&&e.hideWatermark)}),[s]);if(!s)return null;const p=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Fe,{}),(0,g.jsx)("div",{style:{width:je},children:d?(0,ce().N9)(d,{unavailable:()=>u?V().A.formatMessage(Ce.notionBrandingDisabledTooltip):V().A.formatMessage(Ce.notionBrandingDisabledTooltipNonWorkspaceOwner),available:()=>V().A.formatMessage(Ce.notionBrandingTooltip)}):(0,g.jsx)("div",{})})]});return(0,g.jsx)(Se,{icon:y().S,title:(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,g.jsx)(a().sA,{id:"formShareMenu.publicForms.notionBranding.title",defaultMessage:"Notion branding"}),"unavailable"===(null==d?void 0:d.type)&&c&&(0,g.jsx)("div",{style:{marginLeft:10},children:(0,g.jsx)(de().B,{upsell:c,analyticsName:"forms_notion_branding",disableTooltip:!0})})]}),toggleDisabled:!(0,w().e2)(d),menuItemDisabled:!u,on:m||!(0,w().e2)(d),onClick:()=>{"unavailable"===(null==d?void 0:d.type)&&"product"===(null==c?void 0:c.type)?le().K(n,{upsell:c,from:"forms_notion_branding"}):me().toggleNotionBrandingState({environment:n,formBlockStore:o})},tooltipMessage:p})}function Fe(){const e=(0,s().DP)(),t=(0,a().tz)(),o=(0,s().IS)((e=>({notionBrandingBaseImage:{width:je,borderRadius:4},brandingPreview:{display:"flex",position:"absolute",top:"36%",left:"44%",transform:"translateX(-50%)"},linkIcon:{width:17,height:void 0,marginRight:4,color:e.icon.primary}})),[]);return(0,g.jsxs)("div",{style:{paddingTop:4},children:[(0,g.jsx)("img",{src:"light"===e.mode?m().A.images.forms.formsNotionBrandingTooltipPng:m().A.images.forms.formsNotionBrandingTooltipDarkPng,alt:t.formatMessage({id:"FormShareMenu.MadeWithNotion.accessibility.label",defaultMessage:"Made with Notion"}),style:o.notionBrandingBaseImage}),(0,g.jsxs)("div",{style:o.brandingPreview,children:[(0,b().w)(o.linkIcon),(0,g.jsx)(Be,{})]})]})}function Be(){const e=(0,s().DP)(),t=(0,s().IS)((e=>({watermarkButton:{marginLeft:8,color:e.regularTextColor},notionLogo:{width:14,height:14,marginLeft:6,fill:e.regularTextColor}})),[]);return(0,g.jsxs)(l().A,{size:"lg",style:t.watermarkButton,children:[(0,g.jsx)(a().sA,{defaultMessage:"Made with",id:"topbar.publicPage.cta.label.madeWithNotion"}),"light"===e.mode?(0,y().S)(t.notionLogo):(0,C().L)(t.notionLogo)]})}function Le(e){const t=(0,s().IS)((e=>({container:{display:"flex",padding:"0 12px 0 8px",height:40,borderBottom:`1px solid ${e.stroke.secondary}`}})),[]);return(0,g.jsx)("div",{style:t.container,children:(0,g.jsx)(q().oq,{onClick:e.handleBackButtonClick,titleMessage:(0,g.jsx)(a().sA,{...Ce.embedSettingRowTitle})})})}const De=function(e){const{showCompactDesktopHeader:t,collectionContextStore:n}=e,m=(0,i().v3)(),p=(0,r().K8)((()=>n.collectionViewStore()),[n]),f=(0,r().K8)((()=>{const e=n.collectionViewStore();return null==e?void 0:e.getFormat().form_block_pointer}),[n]),h=(0,r().K8)((()=>{if(p&&f)return o(630116).Bv.createChildStore(p,f)}),[f,p]),S=(0,r().K8)((()=>!!h&&h.getIsFormPublic()),[h]),b=(0,s().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},openFormButton:{marginLeft:6,height:28,paddingLeft:10},copyLinkButton:{height:28,width:28,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeftWidth:0},previewIcon:{width:14,height:14}})),[]);return p&&h?(0,g.jsxs)("div",{style:b.container,children:[(0,g.jsx)(d().A,{disableTooltip:!t,renderTooltip:()=>(0,g.jsx)(a().sA,{defaultMessage:"Preview",id:"collectionViewBlock.formEditorView.previewForm"}),render:e=>(0,g.jsxs)(l().A,{...e,size:"lg",style:b.openFormButton,onClick:()=>{(0,c().u4)({environment:m,event:{eventName:"preview_form",eventProperties:{form_id:h.id,is_form_public:S}}});const e=(0,u().px)(h,!0);S?o(755636).f({url:e,environment:m}):o(435009).oo({environment:m,url:e})},children:[(0,o(851979).h)(b.previewIcon),t?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o(132389).A,{size:6}),(0,g.jsx)(a().sA,{defaultMessage:"Preview",id:"collectionViewBlock.formEditorView.previewForm"})]})]})}),(0,g.jsx)(Ae,{formBlockStore:h,showCompactDesktopHeader:t})]}):null}},277201:(e,t,o)=>{o.d(t,{I:()=>y,i:()=>A});var n=o(296540),i=()=>o(484714),r=()=>o(56366),s=()=>o(401497),a=()=>o(420767),l=()=>o(959013),d=()=>o(186445),c=()=>o(38337),u=()=>o(869562),m=()=>o(749687),p=()=>o(962730),g=()=>o(948914),f=()=>o(145214),h=()=>o(285790),S=()=>o(35392),b=()=>o(859428),v=o(474848);function y(e){const t=(0,i().v3)(),o=(0,i().Y0)(),n=(0,l().tz)(),s=(0,r().O$)(m().sidebarMouseEnteredStore),c=(0,r().K8)((()=>g().A.state.isShowingTabBar||!1),[]),p=(0,r().O$)(d().$o),f=n.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),h=(!o.isElectronMac||!p)&&!c&&s;return(0,v.jsx)(A,{isVisible:h,icon:a().B,caption:f,onClick:()=>{u().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const C={width:16,height:16,fill:"inherit"};function A(e){const t=(0,i().Y0)(),o=(0,s().IS)((t=>({keyboardShortcut:{color:t.text.contrastSecondary},button:{fill:t.mediumIconColor},enterAnimation:{opacity:e.isVisible?0:1},animation:{opacity:e.isVisible?1:0}})),[e.isVisible]),r=(0,n.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...o.button,...e.style})),[e.style,o.button,t.isMobile]);return(0,v.jsx)(b().A,{renderTooltip:()=>(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,v.jsx)(S().A,{style:o.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?p().W.Right:p().W.Bottom,render:o=>(0,v.jsx)(f().A,{tag:h().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:C,mobileFeedback:t.isMobile,onClick:e.onClick,className:c().P7S,...o})})}},279900:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t?(n=r,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...r),t)}}o.d(t,{A:()=>n})},302127:(e,t,o)=>{o.d(t,{y:()=>i});var n=()=>o(508496);function i(e){const{permissionItem:t,allowDuplicate:o}=e,{is_public_share_link:i}=t;return n().default.checkGate({gateName:"sharing_anyone_with_the_link"})&&i?{...t,is_site:!0,allow_duplicate:o}:{...t,role:"reader",is_site:!0,allow_duplicate:o}}},305961:(e,t,o)=>{o.d(t,{d:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("eyePadded",{viewBox:"0 0 24 24",svg:(0,n.jsx)("path",{d:"M12 17.9912C17.6055 17.9912 21.3857 13.4727 21.3857 12.0713C21.3857 10.6699 17.5986 6.1582 12 6.1582C6.47656 6.1582 2.60742 10.6699 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.2715 7.63184 7.4707 12 7.4707C16.3613 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 13.0283 16.3613 16.6787 12 16.6787ZM12 15.7559C14.0508 15.7559 15.6914 14.0811 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C9.94238 8.39355 8.29492 10.0137 8.30176 12.0713C8.31543 14.0811 9.94238 15.7559 12 15.7559ZM12 13.2607C11.3369 13.2607 10.7969 12.7275 10.7969 12.0713C10.7969 11.415 11.3369 10.8818 12 10.8818C12.6631 10.8818 13.1963 11.415 13.1963 12.0713C13.1963 12.7275 12.6631 13.2607 12 13.2607Z"})})},323914:(e,t,o)=>{o.d(t,{c:()=>r,y:()=>i});var n=()=>o(463830);const i=new(n().A),r=new(n().A)},324561:(e,t,o)=>{o.d(t,{Gi:()=>p,Q7:()=>m,UU:()=>g,_3:()=>u,a9:()=>c,f_:()=>d});var n=()=>o(484714),i=()=>o(56366),r=()=>o(857639),s=()=>o(762433),a=()=>o(596513),l=()=>o(714300);function d(e){let{spaceId:t}=e;const o=(0,n().v3)();return(0,i().K8)((()=>{if(t)return a().t.getData(o,{spaceId:t})}),[o,t])}function c(e){if("admin"===(null==e?void 0:e.type))return e}function u(e){let{spaceId:t}=e;return c((0,l().l)({spaceId:t}))}function m(e,t,o){if(!t)return 0;const n=(0,s().yB)({spaceId:e,logFunction:r().log.bind(r()),billingData:t});return n?Math.max(n,o):0}function p(e){var t;const o=null===(t=(0,s().KH)(e,"plan"))||void 0===t?void 0:t.price;if(!o)return;const n=o.unitAmount,i="year"===o.billingInterval?12:1;return{amount:n.amount/i,currencyCode:n.currencyCode}}function g(e){return"app_store"===(null==e?void 0:e.provider)||"play_store"===(null==e?void 0:e.provider)||"mixed"===(null==e?void 0:e.provider)}},332390:(e,t,o)=>{o.d(t,{C7:()=>k,Yf:()=>F,k8:()=>j,lN:()=>P,oG:()=>B});var n=o(296540),i=()=>o(484714),r=()=>o(56366),s=()=>o(700500),a=()=>o(130382),l=()=>o(959013),d=()=>o(534177),c=()=>o(191197),u=()=>o(953006),m=()=>o(68465),p=()=>o(231722),g=()=>o(792002),f=()=>o(465425),h=()=>o(51367),S=()=>o(301421),b=()=>o(351360),v=()=>o(411671),y=()=>o(630116),C=()=>o(24157),A=()=>o(576590),w=()=>o(656633),x=()=>o(972911),I=o(474848);const M=1,T=1,_=(0,l().YK)({spaceForAiHeader:{id:"AiOnboardingTooltips.spaceForAi.header",defaultMessage:"Press ‘space’ for AI"},spaceForAiContent:{id:"AiOnboardingTooltips.spaceForAi.content",defaultMessage:"On a new line or page, press ‘space’ on your keyboard for AI to generate or edit the page. Try it now!"},askAiAnythingHeader:{id:"AiOnboardingTooltips.askAiAnything.header",defaultMessage:"Ask AI anything"},askAiAnythingContent:{id:"AiOnboardingTooltips.askAiAnything.content",defaultMessage:"Just tell AI what to do — the more details, the better. You can also start from an example in the menu."},refineAiResponseHeader:{id:"AiOnboardingTooltips.refineAiResponse.header",defaultMessage:"Tell AI what to do next"},refineAiResponseContent:{id:"AiOnboardingTooltips.refineAiResponse.content",defaultMessage:"How was it? Give AI further instructions to improve what it wrote, or hit ‘Done’ when finished."},showAssistantLocationHeader:{id:"AiOnboardingTooltips.showAssistantLocation.answersToYourQuestionHeader",defaultMessage:"Ask AI when searching"},showAssistantLocationContent:{id:"AiOnboardingTooltips.showAssistantLocation.askQuestionBody",defaultMessage:"AI can find pages and synthesize a quick, concise answer for you. Try it now."},showAssistantOriginElementLocationHeader:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.header",defaultMessage:"Start by asking a question"},showAssistantOriginElementLocationContent:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.content",defaultMessage:"Notion AI will find pages and compose a concise answer for you. Try it now."}});function k(){const e=(0,i().v3)(),t=function(){const e=(0,i().v3)(),t=(0,r().K8)((()=>{var e;return null===(e=b().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),o=(0,r().K8)((()=>{const t=b().default.state.mainEditorCurrentBlockStore;return t&&v().A.getMode(e,t)}),[e]);return(0,r().K8)((()=>{if(e.device.isMobile)return;const{currentUserSettingsStore:n,inAppCalloutStore:i}=b().default.state;if(!i.getCalloutVisibility("ai_onboarding_tooltip").canShow)return;const r=null==n?void 0:n.getSettings();if(!r)return;if((0,d().O9)(r.last_used_ai_writer_at))return;if("tooltip"!==r.ai_assistant_onboarding_phase)return;if((0,w().vp)(e,t)){if(!(0,d().O9)(r.ai_sales_assisted_extra_notification_seen_at)||(0,a().Mn)(r.ai_sales_assisted_extra_notification_seen_at)<T)return}else if((0,d().O9)(r.ai_assistant_onboarding_phase_last_set_at)&&(0,a().Mn)(r.ai_assistant_onboarding_phase_last_set_at)<M)return;if("space_for_ai"!==(0,x().V7)())return;if(!(0,m().ZE)(o))return;const l=C().default.state;if("editing"===l.mode){const e=(0,p().H7)(l.multiSelection);if(e&&(0,g().gE)(e.selection)){const t=e.store,o=S().n.findEditableWithStore(t);if(o){const e="block"===t.pointer.table?y().Bv.createChildStore(t,t.pointer):void 0,n=e&&e.getType(),i=Boolean(n&&(0,s().ZW)(n)),r=t.getValue();if(i&&!r)return o}}}}),[e,o,t])}(),[o,c]=(0,n.useState)(!1),f=(0,n.useCallback)((()=>{c(!0)}),[]),h=!o&&Boolean(t);return(0,n.useEffect)((()=>()=>{h&&(0,x().ZI)(e)}),[e,h]),h&&t?(0,I.jsx)(u().k,{origin:()=>t.getNode(),placementToOrigin:"bottom",header:(0,I.jsx)(l().sA,{..._.spaceForAiHeader}),content:(0,I.jsx)(l().sA,{..._.spaceForAiContent}),onCloseClick:f}):null}function j(e){const{originRef:t,openState:o}=e,s=(0,i().v3)(),a=(0,r().K8)((()=>(0,x().V7)()),[]),[d,c]=(0,n.useState)(!1),m=(0,n.useCallback)((()=>{c(!0)}),[]),p="ask_ai_anything"===a&&"initialPrompt"===o.stage&&!d;return(0,n.useEffect)((()=>()=>{!s.device.isMobile&&p&&(0,x().ZI)(s)}),[s,p]),s.device.isMobile||!p?null:(0,I.jsx)(u().k,{origin:t,placementToOrigin:"top",header:(0,I.jsx)(l().sA,{..._.askAiAnythingHeader}),content:(0,I.jsx)(l().sA,{..._.askAiAnythingContent}),onCloseClick:m})}function P(e){const{originRef:t,openState:o,isInputEmpty:s}=e,a=(0,i().v3)(),d=(0,r().K8)((()=>(0,x().V7)()),[]),[c,m]=(0,n.useState)(!1),p=(0,n.useCallback)((()=>{m(!0)}),[]),g="refine_ai_response"===d&&"results"===o.stage&&!o.loading&&"cursor"===o.context.type&&s&&!c;return(0,n.useEffect)((()=>()=>{!a.device.isMobile&&g&&(0,x().ZI)(a)}),[a,g]),a.device.isMobile?null:(0,I.jsx)(u().k,{origin:g?t:void 0,placementToOrigin:"right",pointerOffset:-4,pointerLength:25,header:(0,I.jsx)(l().sA,{..._.refineAiResponseHeader}),content:(0,I.jsx)(l().sA,{..._.refineAiResponseContent}),onCloseClick:p})}function F(e){const{origin:t}=e,o=(0,i().v3)();(0,n.useEffect)((()=>{c().i(o,{from:"qna_button"}),h().DL(o,{callout_key:"ai_assistant_origin_element_tooltip",placement_key:"Tooltip"})}),[o]);const r=(0,n.useCallback)((()=>{const{currentUserSettingsStore:e}=b().default.state;e&&(c().z(o,{from:"qna_button"}),h().Sq(o,{callout_key:"ai_assistant_origin_element_tooltip",dismiss_type:"tooltip_dismiss",placement_key:"Tooltip"}),(0,A().setQnaOnboardingPhase)(o,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}),f().a(o,"ai_assistant_origin_element_tooltip"))}),[o]);return(0,I.jsx)(u().k,{style:{width:250},pointerLength:25,pointerPosition:"94%",origin:t,placementToOrigin:"top",header:(0,I.jsx)(l().sA,{..._.showAssistantOriginElementLocationHeader}),content:(0,I.jsx)(l().sA,{..._.showAssistantOriginElementLocationContent}),onCloseClick:r})}function B(e){const{origin:t}=e,o=(0,i().v3)();(0,n.useEffect)((()=>{c().i(o,{from:"qna_search"})}),[o]);const r=(0,n.useCallback)((()=>{const{currentUserSettingsStore:e}=b().default.state;e&&(c().z(o,{from:"qna_search"}),(0,A().setQnaOnboardingPhase)(o,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}))}),[o]);return(0,I.jsx)(u().k,{style:{width:250},pointerLength:25,pointerPosition:"5%",origin:t,placementToOrigin:"bottom",header:(0,I.jsx)(l().sA,{..._.showAssistantLocationHeader}),content:(0,I.jsx)(l().sA,{..._.showAssistantLocationContent}),onCloseClick:r})}(0,o(466103).exposeDebugEnvironmentValue)("resetAIOnboarding",(e=>()=>{const{currentUserSettingsStore:t}=b().default.state;t&&o(317909).createAndCommit({userAction:"AiIntroModal.debugging.resetAIOnboarding",environment:e,canUndo:!0,perform:e=>{o(755199).mJ({userSettingsStore:t,transaction:e,data:{ai_onboarding_phase:"space_for_ai"}})},userId:t.id})}))},343168:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().default{getInitialState(){return{openTooltip:void 0}}}const i=new n},370898:(e,t,o)=>{o.d(t,{O:()=>d});o(296540);var n=()=>o(401497),i=()=>o(493823),r=()=>o(959013),s=()=>o(125565),a=o(474848);function l(e){const{title:t,icon:o,iconStyle:i,disabled:l}=e,d=(0,n().IS)((e=>({container:{display:"flex",alignItems:"center",gap:6},icon:{height:16,width:16,fill:e.icon.secondary,...i},text:{color:l?e.text.secondary:void 0}})),[i,l]);return(0,a.jsxs)("div",{style:d.container,children:[o&&o(d.icon),(0,a.jsx)(s().A,{style:d.text,children:(0,a.jsx)(r().sA,{...t})})]})}function d(e){const{title:t,icon:o,iconStyle:r,right:s,disabled:d,onClick:c,style:u,badge:m}=e,p=(0,n().IS)((()=>({container:{minHeight:32,paddingLeft:8,paddingRight:8,width:"100%",paddingTop:2,paddingBottom:2,...u},titleContainer:{display:"flex",flex:1}})),[u]);return(0,a.jsxs)(i().p,{disabled:d,onClick:c,style:p.container,children:[(0,a.jsxs)("div",{style:p.titleContainer,children:[(0,a.jsx)(l,{title:t,icon:o,iconStyle:r,disabled:d}),m]}),s]})}},392998:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(194188),i=()=>o(10123),r=()=>o(570551);function s(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e),s=(0,n().A)(t);return isNaN(s)?new Date(NaN):s?(o.setDate(o.getDate()+s),o):o}},413582:(e,t,o)=>{o.d(t,{M:()=>_});var n=o(296540),i=()=>o(484714),r=()=>o(56366),s=()=>o(401497),a=()=>o(971311),l=()=>o(925844),d=()=>o(959013),c=()=>o(284371),u=()=>o(884107),m=()=>o(84817),p=()=>o(623580),g=()=>o(864943),f=()=>o(946548),h=()=>o(859428),S=()=>o(42425),b=()=>o(989423),v=()=>o(972435),y=()=>o(962730),C=()=>o(525700),A=()=>o(40226),w=()=>o(578872),x=()=>o(993502),I=()=>o(370898),M=o(474848);const T=(0,d().YK)({showTitle:{id:"embedSettingsContent.showPageTitle.toggle",defaultMessage:"Show page title"},showFormTitle:{id:"embedSettingsContent.showFormTitle.toggle",defaultMessage:"Show form title"},showTitleTooltip:{id:"embedSettingsContent.showTitleTooltip",defaultMessage:"Show page title & icon in the embedded view"}});function _(e){const t=(0,i().v3)(),{currentBlockStore:o}=e,_=(0,r().K8)((()=>{var e;if(o)return null===(e=(0,w().GN)(o))||void 0===e?void 0:e.getSiteStore()}),[o]),k=(0,r().K8)((()=>{var e;return null==_||null===(e=_.getSettings())||void 0===e?void 0:e.embedSettings}),[_]),j=(0,r().K8)((()=>o?(0,A().R)({store:o,embedded:!0,pageVisitSource:void 0}):""),[o]),P=(0,r().K8)((()=>j?`\n\t\t\t\t<iframe src="${j}"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\theight="600"\n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tallowfullscreen\n\t\t\t\t/>\n\t\t\t\t`.trim().replace(/\s+/g," "):""),[j]),F=n.useCallback((async()=>{const e=await u().R.clipboardActions.load();e.copyString({environment:t,stringValue:P,copiedMessage:e.clipboardMessages.copiedLinkToClipboard}),(0,b().u4)({environment:t,event:{eventName:"copy_embed_code",eventProperties:{target_block_id:o.id}}})}),[P,t,o.id]),B=n.useCallback((()=>{_&&(0,C().E9)({environment:t,siteStore:_,embedSettings:{hideTitle:!(null!=k&&k.hideTitle)}})}),[_,null==k?void 0:k.hideTitle,t]),L=(0,r().K8)((()=>o.isFormBlock()?T.showFormTitle:T.showTitle),[o]),D=(0,s().IS)((e=>({title:{fontWeight:c().Wy.bold,fontSize:25,marginTop:20},copyIcon:{width:16,height:16,marginLeft:0,marginRight:6},primaryButton:{marginLeft:"auto",marginRight:0,width:"fit-content"},titleIcon:{width:16,height:16},container:{paddingLeft:8,paddingRight:8}})),[]);return(0,M.jsxs)(m().Y1,{direction:"vertical",gap:14,style:D.container,children:[(0,M.jsx)(h().A,{renderTooltip:()=>v().A.formatMessage(T.showTitleTooltip),disableTooltip:!1,render:e=>(0,M.jsx)("div",{...e,children:(0,M.jsx)(I().O,{title:L,icon:l().g,iconStyle:D.titleIcon,right:(0,M.jsx)(f().A,{on:!Boolean(null==k?void 0:k.hideTitle),onClick:B}),disabled:!1,onClick:B,style:{marginBottom:-6}})}),placement:y().W.Bottom,alignment:S().C1.Center,textWrap:!0,style:{maxWidth:x().SITE_SETTINGS_TOOLTIP_WIDTH}}),(0,M.jsx)(p().A,{disabled:!0,textarea:!0,textareaSubmitOnEnter:!1,autosize:!0,autosizeMinHeight:50,showClearButton:!1,readOnly:!0,value:P,textareaElementAttributes:{cols:50}}),(0,M.jsx)(g().A,{size:"lg",onClick:F,style:D.primaryButton,icon:e=>(0,a().z)({...e,...D.copyIcon}),children:(0,M.jsx)(d().sA,{id:"embedSettingsContent.copyEmbedCode",defaultMessage:"Copy code"})})]})}},420767:(e,t,o)=>{o.d(t,{B:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("doubleChevronLeft",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7.07031 13.8887C7.2207 14.0391 7.40527 14.1211 7.62402 14.1211C8.06836 14.1211 8.41699 13.7725 8.41699 13.3281C8.41699 13.1094 8.32812 12.9043 8.17773 12.7539L3.37207 8.05762L8.17773 3.375C8.32812 3.21777 8.41699 3.0127 8.41699 2.80078C8.41699 2.35645 8.06836 2.00781 7.62402 2.00781C7.40527 2.00781 7.2207 2.08984 7.07031 2.24023L1.73828 7.44922C1.56055 7.62012 1.46484 7.8252 1.46484 8.06445C1.46484 8.29688 1.55371 8.49512 1.73828 8.67969L7.07031 13.8887ZM13.1748 13.8887C13.3252 14.0391 13.5098 14.1211 13.7354 14.1211C14.1797 14.1211 14.5283 13.7725 14.5283 13.3281C14.5283 13.1094 14.4395 12.9043 14.2891 12.7539L9.4834 8.05762L14.2891 3.375C14.4395 3.21777 14.5283 3.0127 14.5283 2.80078C14.5283 2.35645 14.1797 2.00781 13.7354 2.00781C13.5098 2.00781 13.3252 2.08984 13.1748 2.24023L7.84961 7.44922C7.66504 7.62012 7.57617 7.8252 7.56934 8.06445C7.56934 8.29688 7.66504 8.49512 7.84961 8.67969L13.1748 13.8887Z"})})},454531:(e,t,o)=>{o.d(t,{W:()=>m});var n=()=>o(867772),i=()=>o(681810),r=()=>o(901389),s=()=>o(896628),a=()=>o(383594),l=()=>o(317909),d=()=>o(892632);const c=1500,u=(0,o(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function m(e){let{environment:t,intl:o,store:n,rect:i}=e;a().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(u.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;a().I(),l().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:i}=e;g({environment:t,store:n,url:o,position:i})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(u.fileTypeCaption,{idealImageWidth:c}),onUpload:e=>{a().I(),d().QM({environment:t,file:e[0],bucket:"secure",record:n.pointer,onStart:f,onProgress:h,onComplete:e=>{var o;o={environment:t,store:n,url:e},p({...o,position:.5})},onError:()=>{r().f1(o.formatMessage(u.uploadFailed))}})}},{type:"embed",title:o.formatMessage(u.embedTitle),inputPlaceholder:o.formatMessage(u.embedPlaceholder),caption:o.formatMessage(u.embedCaption),buttonText:o.formatMessage(u.embedSubmit),onChange:e=>{var o;o={environment:t,store:n,url:e},p({...o,position:.5}),a().I()}},{type:"unsplash",onChange:e=>{let{url:o,position:i}=e;g({environment:t,store:n,url:o,position:i})}}]})}async function p(e){const{environment:t,store:o,url:r,position:a}=e,{serverCommitResult:d}=l().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fg({store:o,url:r,position:a||.5,transaction:e})}});await d,i().A.state.loadingMode===n().vS&&i().A.setState({loadingMode:n().Gi,dataURL:i().A.state.dataURL,uploadProgress:100})}function g(e){p(e),e.environment.device.isMobile&&a().I()}function f(e){const{file:t,name:o,size:r}=e;if(a().I(),i().A.setState({loadingMode:n().Wc,file:t,name:o,size:r}),t instanceof File&&t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{i().A.state.loadingMode===n().Wc&&i().A.setState({...i().A.state,uploadProgress:0,loadingMode:n().vS,dataURL:e.target.result})},e.readAsDataURL(t)}}function h(e){const{progressPercent:t}=e;i().A.state.loadingMode===n().vS&&i().A.setState({...i().A.state,uploadProgress:t})}},518598:(e,t,o)=>{o.d(t,{K:()=>c});o(296540);var n=()=>o(426388),i=()=>o(959013),r=()=>o(705540),s=()=>o(285790),a=()=>o(745766),l=o(474848);const d=(0,i().YK)({menu:{defaultMessage:"Menu",id:"topbar.appMenuButton.title"}});function c(){const e=(0,i().tz)();return(0,l.jsx)(s().A,{style:{position:"absolute",top:"10px",left:"14px",width:24,height:24,zIndex:1e5,...(0,a().g)({noDrag:!0})},iconStyle:{width:16,height:16},isDarkIconColor:!0,onClick:()=>{r().openAppMenu()},icon:n().S,ariaLabel:e.formatMessage(d.menu)})}},541235:(e,t,o)=>{o.d(t,{YD:()=>r,c$:()=>n,q_:()=>i});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",r="dismissed"},555267:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(296540),i=()=>o(401497),r=()=>o(62856),s=()=>o(331542),a=o(474848);function l(e){let{loadingMessage:t}=e;const o=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l&&(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(s().A,{}),t&&(0,a.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t})]})})}},555555:(e,t,o)=>{o.d(t,{n:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("import",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},556048:(e,t,o)=>{o.d(t,{C8:()=>m,Dz:()=>l,GC:()=>g,GL:()=>f,YY:()=>p,dM:()=>c,h9:()=>d,jX:()=>a,oF:()=>u,uj:()=>s});var n=()=>o(645873);const i={JiraSyncInfoPopup:new(n().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([o.e(75134),o.e(68744)]).then(o.bind(o,408453)))),ImproveJiraSyncPopup:new(n().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([o.e(75134),o.e(2686)]).then(o.bind(o,484967)))),JiraDCAuthModal:new(n().O2)("JiraDCAuthModal",(async()=>await o.e(28763).then(o.bind(o,992567)))),ExternalImportAndSyncIndicator:new(n().O2)("ExternalImportAndSyncIndicator",(async()=>await o.e(98288).then(o.bind(o,984289)))),JiraSyncedAllProjectsTooltip:new(n().O2)("JiraSyncedAllProjectsTooltip",(async()=>await Promise.all([o.e(23806),o.e(21446)]).then(o.bind(o,470020)))),JiraSyncedAllIssuesTooltip:new(n().O2)("JiraSyncedAllIssuesTooltip",(async()=>await Promise.all([o.e(23806),o.e(21446)]).then(o.bind(o,470020)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(n().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await Promise.all([o.e(23806),o.e(21446)]).then(o.bind(o,470020)))),JiraSyncSourceTooltip:new(n().O2)("JiraSyncSourceTooltip",(async()=>await Promise.all([o.e(23806),o.e(21446)]).then(o.bind(o,470020)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(n().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await Promise.all([o.e(23806),o.e(21446)]).then(o.bind(o,470020))))},r={JiraSyncTeamSpaceModal:new(n().O2)("JiraSyncTeamSpaceModal",(async()=>Promise.all([o.e(23806),o.e(56188)]).then(o.bind(o,604698))))},s=(0,n()._h)(r.JiraSyncTeamSpaceModal,(e=>e.default)),a=(0,n()._h)(i.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,n()._h)(i.JiraDCAuthModal,(e=>e.default)),d=(0,n()._h)(i.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),c=(0,n()._h)(i.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,n()._h)(i.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),m=(0,n()._h)(i.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),p=(0,n()._h)(i.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),g=(0,n()._h)(i.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),f=(0,n()._h)(i.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,o(340498).xh)("jira",{default:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:20},small:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:16},mini:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:14},large:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:24}})},567121:(e,t,o)=>{o.d(t,{EG:()=>s,K5:()=>r,RH:()=>i,Yi:()=>a,ls:()=>n});const n=32,i=202,r=1e3,s="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",a="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},570551:(e,t,o)=>{function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}o.d(t,{A:()=>n})},578194:(e,t,o)=>{o.d(t,{r:()=>n});const n=(0,o(583835).Dv)("importEvernote")},590856:(e,t,o)=>{o.d(t,{y:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("collectionForm",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M5.50195 4.75635C5.37435 4.75635 5.26953 4.71305 5.1875 4.62646C5.10547 4.53988 5.06445 4.43734 5.06445 4.31885C5.06445 4.1958 5.10547 4.09326 5.1875 4.01123C5.26953 3.9292 5.37435 3.88818 5.50195 3.88818H10.5059C10.6289 3.88818 10.7314 3.9292 10.8135 4.01123C10.8955 4.09326 10.9365 4.1958 10.9365 4.31885C10.9365 4.43734 10.8955 4.53988 10.8135 4.62646C10.7314 4.71305 10.6289 4.75635 10.5059 4.75635H5.50195ZM5.50195 7.0874C5.37435 7.0874 5.26953 7.04639 5.1875 6.96436C5.10547 6.87777 5.06445 6.77295 5.06445 6.6499C5.06445 6.53141 5.10547 6.43115 5.1875 6.34912C5.26953 6.26709 5.37435 6.22607 5.50195 6.22607H10.5059C10.6289 6.22607 10.7314 6.26709 10.8135 6.34912C10.8955 6.43115 10.9365 6.53141 10.9365 6.6499C10.9365 6.77295 10.8955 6.87777 10.8135 6.96436C10.7314 7.04639 10.6289 7.0874 10.5059 7.0874H5.50195ZM5.50195 9.42529C5.37435 9.42529 5.26953 9.38428 5.1875 9.30225C5.10547 9.22021 5.06445 9.11995 5.06445 9.00146C5.06445 8.87842 5.10547 8.77588 5.1875 8.69385C5.26953 8.60726 5.37435 8.56396 5.50195 8.56396H7.92188C8.04948 8.56396 8.1543 8.60726 8.23633 8.69385C8.31836 8.77588 8.35938 8.87842 8.35938 9.00146C8.35938 9.11995 8.31836 9.22021 8.23633 9.30225C8.1543 9.38428 8.04948 9.42529 7.92188 9.42529H5.50195ZM2.13867 13.1577V2.84229C2.13867 2.10856 2.32552 1.55257 2.69922 1.17432C3.07292 0.791504 3.62663 0.600098 4.36035 0.600098H11.6406C12.3743 0.600098 12.9281 0.791504 13.3018 1.17432C13.6755 1.55257 13.8623 2.10856 13.8623 2.84229V13.1577C13.8623 13.896 13.6755 14.4543 13.3018 14.8325C12.9281 15.2108 12.3743 15.3999 11.6406 15.3999H4.36035C3.62663 15.3999 3.07292 15.2108 2.69922 14.8325C2.32552 14.4543 2.13867 13.896 2.13867 13.1577ZM3.48535 13.0757C3.48535 13.3901 3.56738 13.6317 3.73145 13.8003C3.89551 13.9689 4.14388 14.0532 4.47656 14.0532H11.5312C11.8639 14.0532 12.1123 13.9689 12.2764 13.8003C12.4404 13.6317 12.5225 13.3901 12.5225 13.0757V2.93115C12.5225 2.61214 12.4404 2.36833 12.2764 2.19971C12.1123 2.02653 11.8639 1.93994 11.5312 1.93994H4.47656C4.14388 1.93994 3.89551 2.02653 3.73145 2.19971C3.56738 2.36833 3.48535 2.61214 3.48535 2.93115V13.0757Z"})})},599500:(e,t,o)=>{o.d(t,{g:()=>b});o(296540);var n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(101847),a=()=>o(959013),l=()=>o(100622),d=()=>o(704152),c=()=>o(460292),u=()=>o(554509),m=()=>o(859428),p=()=>o(437622),g=()=>o(58293),f=()=>o(962730),h=()=>o(10984),S=o(474848);function b(e){let{onClick:t,showIcon:o=!0}=e;const r=y(o),s=(0,n().v3)(),l=(0,g().r)(),c=(0,i().K8)((()=>l&&(0,p().GK)(s,l)),[s,l]),b=(0,i().K8)((()=>(0,h().AI)()),[]);return void 0===t?(0,S.jsx)("div",{style:{...r.badge,cursor:"default"},children:(0,S.jsx)(v,{showIcon:o})}):(0,S.jsx)(m().A,{placement:f().W.Bottom,style:r.tooltip,render:e=>(0,S.jsx)(d().A,{onClick:t,style:{...r.badge,cursor:"pointer"},hoveredStyle:r.badgeHover,pressedStyle:r.badgePressed,...e,children:(0,S.jsx)(v,{showIcon:o})}),renderTooltip:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:(0,S.jsx)(a().sA,{id:"trialBadge.tooltip.title",defaultMessage:"{hasSpaceName, select, true {{spaceName}} other {Your workspace}} is on a free {planName, select, plus {Plus} business {Business} enterprise {Enterprise} other {}} trial",values:{hasSpaceName:Boolean(c),spaceName:c,planName:b}})}),(0,S.jsx)(u().D,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:(0,S.jsx)(a().sA,{id:"trialBadge.tooltip.description",defaultMessage:"Click to learn more"})})]}),textWrap:!0})}function v(e){let{showIcon:t}=e;const o=y(t);return(0,S.jsxs)(S.Fragment,{children:[t?(0,S.jsx)("span",{style:o.giftIcon,children:(0,S.jsx)(c().Q,{iconGroup:s().T,variantName:"mini",colorName:"orangePrimary"})}):null,(0,S.jsx)(u().D,{styleName:"UISmall-12px/Medium",children:(0,S.jsx)(a().sA,{id:"trialBadge.title",defaultMessage:"Free trial"})})]})}function y(e){return(0,r().IS)((t=>({badge:{display:"flex",flexDirection:"row",gap:4,justifyContent:"center",alignItems:"center",color:t.icon.orangePrimary,background:t.fill.orangeSecondary,padding:e?"0px 6px 0px 4px":"0px 6px",height:e?22:20,borderRadius:6,width:"fit-content"},badgeHover:{background:l().XA[t.mode].orange[100]},badgePressed:{background:l().XA[t.mode].orange[200]},tooltip:{maxWidth:"240px",width:"max-content",display:"flex",padding:"4px 6px",flexDirection:"column",alignItems:"flex-start",gap:2,borderRadius:4},giftIcon:{paddingBottom:1}})),[e])}},614787:(e,t,o)=>{o.d(t,{l:()=>n});const n=(0,o(959013).YK)({copiedLinkToForm:{id:"FormActionButtons.copiedLinkToForm",defaultMessage:"Copied link to form"}})},629027:(e,t,o)=>{o.d(t,{P:()=>l});var n=()=>o(56366),i=()=>o(534177),r=()=>o(108944),s=()=>o(247450),a=()=>o(351360);function l(e){let{store:t}=e;return(0,n().K8)((()=>{const e=(0,s().h)({blockId:t.id,setting:"publicAccess"});if((0,i().O9)(e))return e;const o=a().default.state.currentSpaceStore,n=(0,r().Uo)(t);return n?{disabled:Boolean(n.getDisablePublicAccess()),disabledBy:"team"}:!n&&null!=o&&o.getDisablePublicAccess()?{disabled:!0,disabledBy:"space"}:{disabled:!1}}),[t])}},643381:(e,t,o)=>{o.d(t,{l:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("repeat",{viewBox:"0 0 16 14",svg:(0,n.jsx)("path",{d:"M1.185 7.317a.689.689 0 00.697-.704v-.601c0-1.19.806-1.942 2.064-1.942H9.23v1.573c0 .328.199.52.527.52a.66.66 0 00.403-.144l2.68-2.236c.253-.212.26-.547 0-.765L10.16.782A.62.62 0 009.757.64c-.328 0-.527.184-.527.52v1.53H4.05C1.875 2.69.48 3.9.48 5.875v.738c0 .397.308.704.705.704zm13.624-.649a.689.689 0 00-.698.704v.608c0 1.19-.806 1.942-2.064 1.942H6.763V8.35c0-.329-.199-.52-.527-.52a.66.66 0 00-.403.144l-2.68 2.242c-.26.212-.26.547 0 .759l2.68 2.242a.66.66 0 00.403.143c.328 0 .527-.191.527-.52v-1.544h5.181c2.174 0 3.569-1.21 3.569-3.179v-.745a.695.695 0 00-.704-.704z"})})},675910:(e,t,o)=>{o.d(t,{M:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("clockAlternate",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M10.417 6.09961C10.5811 6.09961 10.7201 6.15885 10.834 6.27734C10.9525 6.39128 11.0117 6.53027 11.0117 6.69434V11.2949L10.376 9.34668L12.5977 12.3408C12.7116 12.4867 12.7617 12.6416 12.748 12.8057C12.7344 12.9697 12.6592 13.0996 12.5225 13.1953C12.3721 13.3001 12.2148 13.3389 12.0508 13.3115C11.8913 13.2842 11.75 13.1908 11.627 13.0312L9.99316 10.8779C9.93392 10.8005 9.89062 10.7253 9.86328 10.6523C9.83594 10.5749 9.82227 10.4928 9.82227 10.4062V6.69434C9.82227 6.53027 9.87923 6.39128 9.99316 6.27734C10.1117 6.15885 10.2529 6.09961 10.417 6.09961ZM10.6768 17.126C9.93848 17.126 9.22298 17.0098 8.53027 16.7773C7.84212 16.5495 7.20638 16.2259 6.62305 15.8066C6.04427 15.3919 5.54297 14.9111 5.11914 14.3643C4.96875 14.182 4.90495 13.9928 4.92773 13.7969C4.95052 13.6009 5.03939 13.446 5.19434 13.332C5.36296 13.2135 5.53841 13.1748 5.7207 13.2158C5.90299 13.2568 6.06478 13.3571 6.20605 13.5166C6.54785 13.9678 6.94889 14.3597 7.40918 14.6924C7.87402 15.0205 8.37988 15.2734 8.92676 15.4512C9.47819 15.6335 10.0615 15.7269 10.6768 15.7314C11.4606 15.736 12.1943 15.5902 12.8779 15.2939C13.5661 15.0023 14.1676 14.599 14.6826 14.084C15.2021 13.5645 15.6077 12.9629 15.8994 12.2793C16.1956 11.5911 16.3438 10.8529 16.3438 10.0645C16.3438 9.2806 16.1956 8.54688 15.8994 7.86328C15.6077 7.17513 15.2021 6.57357 14.6826 6.05859C14.1676 5.53906 13.5661 5.13346 12.8779 4.8418C12.1943 4.55013 11.4606 4.4043 10.6768 4.4043C9.88835 4.4043 9.15234 4.55013 8.46875 4.8418C7.78971 5.12891 7.19043 5.52995 6.6709 6.04492C6.15137 6.5599 5.74349 7.15918 5.44727 7.84277C5.1556 8.52181 5.00749 9.25326 5.00293 10.0371H3.6084C3.61296 9.07096 3.7998 8.16406 4.16895 7.31641C4.53809 6.46875 5.0485 5.72135 5.7002 5.07422C6.35189 4.42708 7.10156 3.92122 7.94922 3.55664C8.80143 3.1875 9.71061 3.00293 10.6768 3.00293C11.6429 3.00293 12.5521 3.1875 13.4043 3.55664C14.2565 3.92578 15.0062 4.4362 15.6533 5.08789C16.305 5.73503 16.8154 6.4847 17.1846 7.33691C17.5537 8.18913 17.7383 9.09831 17.7383 10.0645C17.7383 11.0306 17.5537 11.9398 17.1846 12.792C16.8154 13.6442 16.305 14.3962 15.6533 15.0479C15.0062 15.6995 14.2565 16.2077 13.4043 16.5723C12.5521 16.9414 11.6429 17.126 10.6768 17.126ZM2.78809 8.66992H6.16504C6.33822 8.66992 6.4681 8.71094 6.55469 8.79297C6.64583 8.87044 6.68913 8.9707 6.68457 9.09375C6.68001 9.21224 6.63216 9.33984 6.54102 9.47656L4.87988 11.7803C4.76595 11.9352 4.63151 12.015 4.47656 12.0195C4.32161 12.0195 4.1849 11.9398 4.06641 11.7803L2.40527 9.47656C2.31413 9.3444 2.26628 9.2168 2.26172 9.09375C2.25716 8.9707 2.29818 8.87044 2.38477 8.79297C2.47591 8.71094 2.61035 8.66992 2.78809 8.66992Z"})})},681810:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(867772).Ay)},710857:(e,t,o)=>{o.d(t,{x:()=>i});const n={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1};function i(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...n,...t}}},714300:(e,t,o)=>{o.d(t,{l:()=>l});var n=()=>o(484714),i=()=>o(56366),r=()=>o(176983),s=()=>o(596513),a=()=>o(324561);function l(e){let{spaceId:t}=e;const o=(0,n().v3)(),l=(0,r().J)();return(0,i().K8)((()=>{if(!t||!l)return;const e=s().t.getData(o,{spaceId:t});return(0,a().a9)(e)}),[o,t,l],{useDeepEqual:!0})}},739135:(e,t,o)=>{o.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>s,tb:()=>a,x$:()=>r});var n=()=>o(541235),i=()=>o(496603);function r(e,t){return s(c(e,t))}function s(e){return void 0!==e&&(e===n().q_||e===n().YD)}function a(e,t){if(s(t))return;const o=n().c$[e],i=o.steps.findIndex((e=>e.id===t));return-1===i?o.steps[0].id:i===o.steps.length-1?n().q_:o.steps[i+1].id}function l(e,t){const o=c(e,t);if(o&&!s(o))return a(t,o)}function d(e,t){const o=c(e,t);if(o)return function(e,t){const o=n().c$[e];var r;if(s(t))return null===(r=(0,i().HV)(o.steps))||void 0===r?void 0:r.id;const a=o.steps.findIndex((e=>e.id===t));return-1!==a&&0!==a?o.steps[a-1].id:void 0}(t,o)}function c(e,t){var o;if(!e)return;const i=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===i?n().c$[t].steps[0].id:i}},748539:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(645873).O2)("pageCovers",(async()=>o.e(40198).then(o.bind(o,193645))))},756114:(e,t,o)=>{o.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},765974:(e,t,o)=>{o.d(t,{b:()=>i});o(296540);const n={viewBox:"0 0 20 20",svg:(0,o(474848).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},i=(0,o(340498).wt)("exclamationMarkTriangleFill",n)},777092:(e,t,o)=>{o.d(t,{JQ:()=>c,d5:()=>u,vt:()=>d});var n=()=>o(764880),i=()=>o(310442),r=()=>o(824862),s=()=>o(798880),a=()=>o(534177),l=()=>o(630116);function d(e){const{parentStore:t,pointer:o}=e,i=(0,l().Oo)(t,o).getValue();if(i)return(0,n().D3)({table:o.table,value:i})}function c(e){const{parentStore:t,pointer:o}=e;return o.table===r().GP?l().vK.createChildStore(t,o):o.table===s().oo?l().LU.createChildStore(t,o):o.table===i().yj?l().pH.createChildStore(t,o):void(0,a().HB)(o)}function u(e){return e.table===r().GP?(0,n().oC)(e.getValue()):e.table===s().oo?(0,n().MR)(e.getValue()):e.table===i().yj?(0,n().w2)(e.getValue()):void(0,a().HB)(e)}},846199:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(757695).default.createValue({open:!1},{name:"TrialInfoModalStore"})},848565:(e,t,o)=>{o.d(t,{FB:()=>m,Ql:()=>p,SM:()=>g,Wv:()=>r,Yz:()=>a,ds:()=>i,e4:()=>n,eQ:()=>s,im:()=>d,jw:()=>l,k2:()=>u,uG:()=>c});const n=8,i=10,r=8,s=24,a=6,l=1.5,d=(s-l)/2,c=s+a,u=`calc(100% + ${r+(n-a)-c}px)`,m=s+8,p=-16;function g(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},851775:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(194188),i=()=>o(10123),r=()=>o(570551);function s(e,t){(0,r().A)(2,arguments);var o=(0,i().A)(e),s=(0,n().A)(t),a=o.getFullYear(),l=o.getDate(),d=new Date(0);d.setFullYear(a,s,15),d.setHours(0,0,0,0);var c=function(e){(0,r().A)(1,arguments);var t=(0,i().A)(e),o=t.getFullYear(),n=t.getMonth(),s=new Date(0);return s.setFullYear(o,n+1,0),s.setHours(0,0,0,0),s.getDate()}(d);return o.setMonth(s,Math.min(l,c)),o}},867772:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>n,pF:()=>s,vS:()=>i});const n="loadingLocalImage",i="uploading",r="downloading",s="loaded";class a extends(()=>o(757695))().default{getInitialState(){return{loadingMode:s}}}const l=a},893627:(e,t,o)=>{o.d(t,{K:()=>s});var n=o.n(o(440537)),i=()=>o(132456),r=()=>o(206267);class s{constructor(e){this.environmentName=void 0,this.mainShortId=void 0,this.getSettings=void 0,this.isServerOriginated=void 0,this.mapSpaceIdToShortId=void 0,this.idCreatorLogger=void 0,this.environmentName=e.environmentName,this.mainShortId=o(851941).Yf[this.environmentName],this.getSettings=e.getSettings,this.isServerOriginated=e.isServerOriginated,this.mapSpaceIdToShortId=e.mapSpaceIdToShortId,this.idCreatorLogger=e.idCreatorLogger??(()=>{})}idInMain(e){const{enableTestDateOffset:t,enableIdSchema:n}=this.getSettings();return n&&e!==o(867178).wI?(this.idCreatorLogger(void 0,e,t?"id_schema_test":"id_schema"),(0,i().J4)(t,this.mainShortId,e,this.isServerOriginated)):this.legacyId(e,"disabled")}pointerInMain(e){return{table:e,id:this.idInMain(e)}}async idWithSpaceId(e,t){const{enableTestDateOffset:o,enableIdSchema:r}=this.getSettings();if(!r||"space"===t)return this.legacyId(t,"disabled");const s=this.mapSpaceIdToShortId(e),a=n().types.isPromise(s)?await s:s;return a?(this.idCreatorLogger(e,t,o?"id_schema_test":"id_schema"),(0,i().kw)(o,a,t,this.isServerOriginated)):this.legacyId(t,"missing_short_id")}async pointerWithSpaceId(e,t){return{table:t,spaceId:e,id:await this.idWithSpaceId(e,t)}}idWithSpaceShortId(e,t){const{enableTestDateOffset:o,enableIdSchema:n}=this.getSettings();return n&&"space"!==t?(this.idCreatorLogger(void 0,t,o?"id_schema_test":"id_schema"),(0,i().kw)(o,e,t,this.isServerOriginated)):this.legacyId(t,"disabled")}legacyId(e,t){return this.idCreatorLogger(void 0,e,t),r().JW()}async deterministicIdWithSpaceId(e,t,o){const{enableTestDateOffset:s,enableIdSchema:a}=this.getSettings();if(!a)return this.idCreatorLogger(e,t,"disabled"),r().gB(o);const l=this.mapSpaceIdToShortId(e),d=n().types.isPromise(l)?await l:l;return d?(this.idCreatorLogger(e,t,s?"id_schema_test":"id_schema"),(0,i().lf)(d,t,o)):(this.idCreatorLogger(e,t,"missing_short_id"),r().gB(o))}deterministicIdWithSpaceShortId(e,t,o){const{enableTestDateOffset:n,enableIdSchema:s}=this.getSettings();return s?(this.idCreatorLogger(void 0,t,n?"id_schema_test":"id_schema"),(0,i().lf)(e,t,o)):(this.idCreatorLogger(void 0,t,"disabled"),r().gB(o))}async getSpaceIdCreator(e){if(!e)return new a(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new a(e,this.idCreatorLogger);const o=this.mapSpaceIdToShortId(e),i=n().types.isPromise(o)?await o:o;return this.getSpaceShortIdCreator(e,i)}getSpaceIdCreatorSync(e){if(!e)return new a(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new a(e,this.idCreatorLogger);const o=this.mapSpaceIdToShortId(e),i=n().types.isPromise(o)?void 0:o;return this.getSpaceShortIdCreator(e,i)}getSpaceShortIdCreator(e,t){const{enableIdSchema:o}=this.getSettings();return o&&t?new l(e,this,t):new a(e,this.idCreatorLogger)}async getSpaceIdCreatorFromModel(e){return e.getShortIdStr()?this.getSpaceShortIdCreator(e.id,Number(e.getShortIdStr())):await this.getSpaceIdCreator(e.id)}}class a{constructor(e,t){this.spaceId=void 0,this.idCreatorLogger=void 0,this.spaceId=e,this.idCreatorLogger=t}idInSavedSpace(e){return this.idCreatorLogger(void 0,e,"disabled"),r().JW()}idInMain(e){return this.idCreatorLogger(void 0,e,"disabled"),r().JW()}deterministicIdInSavedSpace(e,t){return this.idCreatorLogger(void 0,e,"disabled"),r().gB(t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}class l{constructor(e,t,o){this.spaceId=void 0,this.idCreator=void 0,this.spaceShortId=void 0,this.spaceId=e,this.idCreator=t,this.spaceShortId=o}idInSavedSpace(e){return this.idCreator.idWithSpaceShortId(this.spaceShortId,e)}idInMain(e){return this.idCreator.idInMain(e)}deterministicIdInSavedSpace(e,t){return this.idCreator.deterministicIdWithSpaceShortId(this.spaceShortId,e,t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}},894995:(e,t,o)=>{o.r(t),o.d(t,{FORMS_SHARE_CALLOUT_KEY:()=>$,changeFormClosedState:()=>ce,changeFormSubmissionPermissions:()=>ue,createAndFocusCollectionFormEditorView:()=>ne,createCollectionFormEditorView:()=>ie,createDummyFormPage:()=>fe,createFormInPrivate:()=>re,createFormQuestion:()=>ae,createFormQuestionAndModuleForNewlyDuplicatedProperty:()=>le,createFormQuestionAndUpdateOrCreateModule:()=>de,createResponsesCollectionView:()=>se,handleUpdateFormQuestionName:()=>ee,incrementAndTrackUserFormsCreated:()=>X,maybeAlertAboutUnsupportedPublicQuestions:()=>he,maybeSyncQuestionNameToPropertyName:()=>te,remapQuestionToNewProperty:()=>ge,toggleAnonymousFormSubmissionState:()=>me,toggleNotionBrandingState:()=>pe});o(16280),o(944114),o(898992),o(354520),o(672577),o(803949),o(296540);var n=()=>o(401497),i=()=>o(584262),r=()=>o(700500),s=()=>o(31503),a=()=>o(970013),l=()=>o(713998),d=()=>o(110192),c=()=>o(416504),u=()=>o(261164),m=()=>o(590856),p=()=>o(29118),g=()=>o(235692),f=()=>o(388821),h=()=>o(450648),S=()=>o(179034),b=()=>o(869558),v=()=>o(37165),y=()=>o(144081),C=()=>o(919709),A=()=>o(959013),w=()=>o(498212),x=()=>o(183558),I=()=>o(284371),M=()=>o(235191),T=()=>o(669548),_=()=>o(901389),k=()=>o(896628),j=()=>o(246826),P=()=>o(857783),F=()=>o(185544),B=()=>o(317909),L=()=>o(755199),D=()=>o(478251),E=()=>o(180762),N=()=>o(989423),O=()=>o(389658),V=()=>o(682146),R=()=>o(594794),W=()=>o(972435),K=()=>o(465425),U=()=>o(978846),H=()=>o(33218),Q=()=>o(351360),z=()=>o(508496),J=()=>o(343168),Y=()=>o(611371),G=()=>o(465741),q=o(474848);const Z=(0,A().YK)({responsesViewName:{id:"formEditorActions.responsesViewName",defaultMessage:"Responses"},newFormViewName:{id:"formEditorActions.newFormViewName",defaultMessage:"Form builder"},formDatabaseTitle:{id:"newBlock.databaseInline.formDatabaseTitle",defaultMessage:"New form"}}),$="forms_share_form_tooltip";function X(e,t){const{currentUserSettingsStore:o}=Q().default.state;if(!o)return;const n=function(){const{currentUserSettingsStore:e}=Q().default.state;if(!e)return;return e.getSettingsStore().getKeyStore("user_forms_created_count").getValue()??0}();void 0!==n&&(L().mJ({userSettingsStore:o,transaction:t,data:{user_forms_created_count:n+1}}),function(e,t){(0,N().u4)({environment:e,event:{eventName:"form_created",eventProperties:{user_total_form_count:t.userFormsCreatedCount}}})}(e,{userFormsCreatedCount:n+1})),z().default.logEvent("form_created")}function ee(e){var t;const{questionStore:o,newName:n,environment:i,collectionStore:r,collectionSchema:s,collectionContextStore:a}=e,l=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!l)throw new Error("No property ID found for question");B().createAndCommit({userAction:"formQuestion.changeName",environment:i,canUndo:!0,perform:e=>{var t,i;const d=null===(t=o.getConfig())||void 0===t?void 0:t.name;if(!d)return;const u=(0,h().r4)({textValue:d,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,c().P)(),intl:W().A.getIntl()})===(null===(i=s[l])||void 0===i?void 0:i.name);B().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","name"],command:"set",args:[[n]]},transaction:e}),o.shouldSyncQuestionNameToPropertyName()&&(u&&!(0,V().fE)({property:l,collectionContextStore:a,newValue:n})?M().YO({collectionStore:r,property:l,name:n,transaction:e}):B().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","shouldSyncQuestionNameToPropertyName"],command:"set",args:!1},transaction:e}))}})}function te(e){var t;const{questionStore:o,environment:n,collectionStore:i,collectionContextStore:r}=e,s=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!s)throw new Error("No property ID found for question");B().createAndCommit({userAction:"formQuestion.changeName",environment:n,canUndo:!0,perform:e=>{if(!o.shouldSyncQuestionNameToPropertyName())return;const t=o.getNameStore().getValue();if(!t)return;const n=(0,h().r4)({textValue:t,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,c().P)(),intl:W().A.getIntl()}),a=(0,V().fE)({property:s,collectionContextStore:r,newValue:n})?(0,d().Q)(n):n;M().YO({collectionStore:i,property:s,name:a,transaction:e})}})}function oe(){const e=(0,n().IS)((e=>({container:{display:"flex",flexDirection:"column"},iconGroup:{display:"flex",flexDirection:"row",justifyContent:"center",color:e.icon.secondary,alignItems:"center"},dialogTitle:{fontSize:16,fontWeight:I().Wy.semibold,lineHeight:"22px",marginTop:12,marginBottom:12},dialogDescription:{color:e.text.secondary,fontSize:14,lineHeight:"20px"}})),[]);return(0,q.jsxs)("div",{style:e.container,children:[(0,q.jsxs)("div",{style:e.iconGroup,children:[(0,p().K)({width:24}),(0,u().o)({width:16,marginLeft:16,marginRight:14}),(0,m().y)({width:24})]}),(0,q.jsx)("span",{style:e.dialogTitle,children:(0,q.jsx)(A().sA,{defaultMessage:"Auto-create form questions based on existing properties?",id:"NewFormOnExistingCollectionDialogTitle.message"})}),(0,q.jsx)("span",{style:e.dialogDescription,children:(0,q.jsx)(A().sA,{defaultMessage:"Only supported property types will create new questions.",id:"NewFormOnExistingCollectionDialogTitle.description"})})]})}function ne(e){const{environment:t,collectionContextStore:o,transaction:n}=e,i=o.collectionViewBlockStore(),r=o.collectionStore();if(!i||!r)return;const a=o.normalizedSchemaStore.state,l=ie({environment:t,collectionViewBlockStore:i,schema:a,transaction:n,initializeWithAllDefaultQuestions:!1});if(!l)return;(0,E().t)({environment:t,collectionContextStore:o,collectionViewId:l.newViewId,isFullScreen:o.isFullScreenStore.state,isRootChild:o.isRootChildStore.state,isInPeekRenderer:o.isInPeekRendererStore.state});const d=l.layoutStore,c=Object.keys(a).filter((e=>{const t=a[e];return"title"!==e&&t&&(0,s().Sg)(t)}));c.length>0&&c.length<=G().eb&&_().ui({showCancel:!1,keepFocus:!1,message:(0,q.jsx)(oe,{}),mode:"wide",items:[{label:(0,q.jsx)(A().sA,{defaultMessage:"Create {numQuestions, plural, one {1 question} other {{numQuestions} questions}}",id:"formEditorActions.createQuestions.primaryAction",values:{numQuestions:c.length}}),color:"blue",buttonType:"solid",onAccept(){B().createAndCommit({environment:t,userAction:"formActions.autoCreateFormQuestionsForExistingDatabase",canUndo:!0,perform:e=>{for(const n of c)le({environment:t,transaction:e,layoutStore:d,collectionStore:r,propertyId:n,position:{type:"area_relative",area:"form_layout_schema",location:"end_moveable"},addLayoutModule:o=>{(0,U().UQ)({environment:t,sessionId:(0,w().Ay)(),layoutStore:d,position:o.position??{type:"area_relative",area:"form_layout_schema",location:"end_moveable"},module:o.layoutModule,transaction:e,isPropertyCreation:!1})},collectionContextStore:o,shouldLogEvent:!0,autoCreatedFromExistingDatabase:!0})}})}},{label:(0,q.jsx)(A().sA,{defaultMessage:"Start from scratch",id:"formEditorActions.createQuestions.secondary"}),color:"gray",buttonType:"plain",onAccept(){}}]})}function ie(e){const{environment:t,collectionViewBlockStore:o,transaction:n,schema:i,initializeWithAllDefaultQuestions:r}=e;if(!o)return;const l=o.getSpaceId(),{formBlockStore:d,layoutStore:c}=function(e){var t;const{environment:o,spaceId:n,inMemoryRecordCache:i,transaction:r,schema:l,initializeWithAllDefaultQuestions:d}=e,c=Object.keys(l).find((e=>{var t;return"multi_select"===(null===(t=l[e])||void 0===t?void 0:t.type)})),u=Boolean(d&&void 0!==c),m=(0,R().Z1)({environment:o,table:S().ev,spaceId:n}),p=(0,R().Z1)({environment:o,table:v().lo,spaceId:n}),f=u?(0,R().Z1)({environment:o,table:v().lo,spaceId:n}):void 0,h=j().Wv({id:m,environment:o,type:"form",permissions:(0,s().eb)(),inMemoryRecordCache:i,transaction:r}),b=j().eC({environment:o,table:y().zx,value:{space_id:n,parent_table:S().ev,parent_id:h.id,modules:(0,g().oP)(p,f)},inMemoryRecordCache:i,transaction:r});var C,A;k().zA({stores:[h],update:{form_layout_pointer:{id:b.id,spaceId:n,table:y().zx}},transaction:r}),ae({environment:o,questionId:p,spaceId:n,layoutId:b.id,propertyId:a().rn,initialQuestionTitle:(null===(t=l[a().rn])||void 0===t?void 0:t.name)??"",inMemoryRecordCache:i,transaction:r,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1}),u&&f&&c&&ae({environment:o,questionId:f,spaceId:n,layoutId:b.id,propertyId:c,initialQuestionTitle:(null===(C=l[c])||void 0===C?void 0:C.name)??"",existingFormQuestionConfig:{propertyId:c,name:[[(null===(A=l[c])||void 0===A?void 0:A.name)??""]],propertyTypeSpecificConfig:{multi_select:{maxSelectionCount:1}}},inMemoryRecordCache:i,transaction:r,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1});return{formBlockStore:h,layoutStore:b}}({environment:t,spaceId:l,inMemoryRecordCache:o.inMemoryRecordCache,transaction:n,schema:i,initializeWithAllDefaultQuestions:r}),u=(0,D().i)({environment:t,collectionViewBlockStore:o,collectionView:{type:"form_editor",parent_id:o.id,parent_table:S().ev,alive:!0,space_id:l,name:W().A.formatMessage(Z.newFormViewName),format:{form_block_pointer:{id:d.id,spaceId:l,table:S().ev}}},transaction:n});return j().zv({store:d,data:{parent_id:u.id,parent_table:b().Gy,alive:!0},transaction:n}),J().A.setState({openTooltip:u.id}),K().HH(t,$),X(t,n),{newViewId:u.id,layoutStore:c,formId:d.id}}function re(e){const{environment:t,navigateToFormBuilder:o}=e,{currentSpaceStore:n,currentSpaceViewStore:r}=Q().default.state;if(!n||!r)return;if(!(0,Y().EF)(t))return void(0,Y().QY)(t);if(!(n&&n.canEdit()&&r))return;const s=n.id,a=t.idCreator.getSpaceIdCreatorSync(s);B().createAndCommit({environment:t,userAction:"formActions.createAndNavigateToFormInPrivate",canUndo:!0,perform:e=>{var l;const{targetBlockStore:d}=T().j({environment:t,sourceBlockId:"root",targetBlockPointer:(0,R().zP)({environment:t,table:S().ev,spaceId:s}),sourceBlockSubtree:(0,f().partialRecordMapToRecordMap)(O().mT({isInline:!0,name:(0,C().x9d)(W().A.formatMessage(Z.formDatabaseTitle))})),targetRecordCache:n.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,spaceIdCreator:a}),c=d.getCollectionStore(),u=null==c||null===(l=c.getModel())||void 0===l?void 0:l.getNormalizedSchema(),m=d;if(!u)throw new Error("Schema not found");ie({environment:t,transaction:e,collectionViewBlockStore:m,schema:u,initializeWithAllDefaultQuestions:!0}),se({environment:t,transaction:e,collectionViewBlockStore:m,schema:u}),F().yM({environment:t,spaceStore:n,spaceViewStore:r,pageStore:d,isPrivate:!0,transaction:e,location:{type:"prepend"}}),o&&P().uK({environment:t,store:d,pageVisitSource:i().y8.CreateFormDeepLink})}})}function se(e){const{environment:t,collectionViewBlockStore:o,transaction:n}=e,i=o.getSpaceId(),r=Object.keys(e.schema).find((t=>{var o;return"created_by"===(null===(o=e.schema[t])||void 0===o?void 0:o.type)}));(0,D().i)({environment:t,collectionViewBlockStore:o,collectionView:{type:"table",parent_id:o.id,parent_table:S().ev,alive:!0,name:W().A.formatMessage(Z.responsesViewName),space_id:i,format:{table_properties:[{property:"title",visible:!0},...r?[{property:r,visible:!0}]:[]],table_wrap:!0,collection_pointer:o.getCollectionPointer()}},transaction:n})}function ae(e){const{environment:t,questionId:o,spaceId:n,layoutId:i,propertyId:r,initialQuestionTitle:s,inMemoryRecordCache:a,transaction:l,shouldSyncQuestionNameToPropertyName:d,collectionContextStore:c,shouldLogEvent:u=!0,autofocusTitle:m,existingFormQuestionConfig:p,autoCreatedFromExistingDatabase:g}=e;j().eC({environment:t,table:v().lo,value:{id:o,space_id:n,parent_table:y().zx,parent_id:i,alive:!0,config:{...p,propertyId:r,name:[[s]],shouldSyncQuestionNameToPropertyName:d}},inMemoryRecordCache:a,transaction:l}),u&&(0,N().u4)({environment:t,event:{eventName:"add_form_question",eventProperties:{...(0,G().YA)({collectionContextStore:c,propertyId:r,questionId:o}),auto_created_from_existing_database:Boolean(g)}}}),m&&m.autofocusedQuestionTextStore.autofocusQuestionTitle({questionId:o})}function le(e){const{environment:t,transaction:o,layoutStore:n,collectionStore:i,propertyId:r,position:s,addLayoutModule:a,collectionContextStore:l,shouldLogEvent:d=!0,autofocusTitle:c,existingFormQuestionConfig:u,autoCreatedFromExistingDatabase:m}=e,p=i.getSchema()[r];if(!p)throw new Error(`No schema found for property ${r}`);const g=u?(0,C().q4_)(null==u?void 0:u.name):p.name,f=n.getSpaceId(),h=(0,R().Z1)({environment:t,table:v().lo,spaceId:f});return ae({environment:t,questionId:h,spaceId:f,layoutId:n.id,propertyId:r,initialQuestionTitle:g,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:d,collectionContextStore:l,autofocusTitle:c,existingFormQuestionConfig:u,autoCreatedFromExistingDatabase:m}),a({layoutModule:{type:"formQuestion",id:(0,x().Ay)(),formQuestionId:h},position:s,transaction:o}),{questionId:h}}function de(e){const{environment:t,transaction:o,layoutStore:n,propertyId:i,initialQuestionTitle:r,moduleId:s,shouldSyncQuestionNameToPropertyName:a,collectionContextStore:l,autofocusTitle:d,area:c,sessionId:u}=e,m=n.getModel();if(!m)throw new Error("Layout model cannot be undefined");const p=n.getSpaceId(),g=(0,R().Z1)({environment:t,table:v().lo,spaceId:p});ae({environment:t,questionId:g,spaceId:p,layoutId:m.id,propertyId:i,initialQuestionTitle:r,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o,shouldSyncQuestionNameToPropertyName:a,collectionContextStore:l,autofocusTitle:d});const f={type:"formQuestion",id:s??(0,x().Ay)(),formQuestionId:g,..."form_conditional_modules"===c?{parentModuleId:e.parentModuleId,parentConditionalGroupId:e.parentConditionalGroupId}:{}};return s?(0,H().UQ)({environment:t,transaction:o,layoutStore:n,position:{area:c,moduleId:s},updatedModule:f}):"form_conditional_modules"===c&&(0,U().UQ)({environment:t,transaction:o,layoutStore:n,position:{type:"absolute",area:"form_conditional_modules",parentConditionalGroupId:e.parentConditionalGroupId,parentModuleId:e.parentModuleId},module:f,sessionId:u,isPropertyCreation:!1}),{updatedModuleId:f.id,formQuestionId:g}}function ce(e){let{environment:t,formBlockStore:o,isClosed:n}=e;o.getIsFormClosed()!==n&&B().createAndCommit({userAction:"formActions.changeFormClosedState",environment:t,canUndo:!0,perform:e=>{k().zA({stores:[o],update:{form_config:{...o.getFormConfig(),is_form_closed:n}},transaction:e})}})}function ue(e){let{environment:t,formBlockStore:o,permissions:n}=e;o.getFormSubmissionPermissions()!==n&&B().createAndCommit({userAction:"formActions.changeFormSubmissionPermissions",environment:t,canUndo:!0,perform:e=>{k().zA({stores:[o],update:{form_config:{...o.getFormConfig(),submission_permissions:n}},transaction:e})}})}function me(e){let{environment:t,formBlockStore:o}=e;const n=o.getIsFormAnonymousSubmissionEnabled();B().createAndCommit({userAction:"formActions.changeAnonymousFormSubmissionState",environment:t,canUndo:!0,perform:e=>{k().zA({stores:[o],update:{form_config:{...o.getFormConfig(),anonymous_submissions:!n}},transaction:e})}})}function pe(e){var t;let{environment:o,formBlockStore:n}=e;const i=n.getSiteStore();if(!i)return;const r=(null===(t=i.getHeader())||void 0===t?void 0:t.hideWatermark)??!1;B().createAndCommit({userAction:"formBlockStore.publicForm.toggleNotionBranding",environment:o,canUndo:!0,perform:e=>{B().applyOperation({store:i,operation:{pointer:i.pointer,path:["header","hideWatermark"],command:"set",args:!r},transaction:e})}})}function ge(e){let{environment:t,newPropertyId:o,formQuestionStore:n}=e;B().createAndCommit({userAction:"formQuestion.remapQuestionToNewProperty",environment:t,canUndo:!0,perform:e=>{B().applyOperation({store:n,operation:{pointer:n.pointer,path:["config","propertyId"],command:"set",args:o},transaction:e})}})}function fe(e){const{environment:t,collectionSchema:o,temporaryRecordCache:n,spaceId:i,collectionId:s,formMode:a}=e,l={};Object.keys(o).forEach((e=>{l[e]=(0,C().x9d)("")}));const{performResult:d}=B().createAndCommit({environment:t,userAction:"formActions.createDummyFormPage",perform:e=>{const o=j().Wv({environment:t,type:r().xd.page,inMemoryRecordCache:n,transaction:e,spaceId:i,properties:{...l}});return j().zv({store:o,data:{alive:"viewer"===a,parent_id:s,parent_table:"collection"},transaction:e}),o},canUndo:!1});return d}async function he(e){const{environment:t,formBlockStore:o,collectionSchema:n,theme:i,onAccept:r}=e;if(!n)return;const s=(0,G().Dx)(o),a=(null==s?void 0:s.getNormalizedFormQuestionStoresForFormLayout({collectionSchema:n}))??[],d=[];if(a.forEach((e=>{const o=e.getPropertyId();if(!o)return;const i=(0,l()._g)({schema:n,property:o}),r=null==i?void 0:i.type;if(!r)return;(0,G().CK)({environment:t,propertyType:r,propertySchema:i,isPublicForm:!0})&&d.push(e)})),0===d.length)return void r();const u=d.map(((e,t)=>{const o=(0,h().r4)({textValue:e.getNameStore().getValue(),getRecordModel:e.getRecordModel,deterministic:!0,userTimeZone:(0,c().P)(),intl:W().A.getIntl()}),n=t===d.length-1;return(0,q.jsx)("div",{style:{fontSize:14,textAlign:"start",padding:"8px 12px",borderBottom:n?void 0:`1px solid ${i.lightDividerColor}`},children:o},e.id)})),{accept:m}=await _().Gh({message:(0,q.jsx)(A().sA,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.message",defaultMessage:"These questions are not supported in public forms and will not be shown to respondents:"}),description:(0,q.jsx)("div",{style:{borderRadius:6,border:`1px solid ${i.lightDividerColor}`,width:"calc(100% + 24px)",marginLeft:-12,marginTop:12,maxHeight:210,overflow:"auto"},children:u}),acceptLabel:(0,q.jsx)(A().sA,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.acceptLabel",defaultMessage:"Got it"}),acceptColor:"blue",cancelButtonType:"plain",mode:"wide"});m&&r()}},969339:(e,t,o)=>{o.d(t,{C6:()=>s,HQ:()=>r,Yo:()=>a});var n=()=>o(645873);const i=new(n().O2)("login",(async()=>{const{default:e}=await Promise.all([o.e(23806),o.e(44711),o.e(35837),o.e(23463),o.e(89244),o.e(25049),o.e(80358),o.e(96966)]).then(o.bind(o,465209)),{default:t}=await Promise.all([o.e(23806),o.e(44711),o.e(35837),o.e(23463),o.e(89244),o.e(25049),o.e(80358),o.e(96966)]).then(o.bind(o,406370)),{default:n}=await Promise.all([o.e(23806),o.e(44711),o.e(35837),o.e(23463),o.e(89244),o.e(25049),o.e(80358),o.e(96966)]).then(o.bind(o,737515)),{default:i}=await Promise.all([o.e(23806),o.e(44711),o.e(35837),o.e(23463),o.e(89244),o.e(25049),o.e(80358),o.e(96966)]).then(o.bind(o,465833)),{default:r}=await Promise.all([o.e(23806),o.e(44711),o.e(35837),o.e(23463),o.e(89244),o.e(25049),o.e(80358),o.e(96966)]).then(o.bind(o,52542));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:n,FrontLoginPage:i,LoginModalContent:r}})),r=(0,n()._h)(i,(e=>e.LoginPage)),s=(0,n()._h)(i,(e=>e.FrontLoginPage)),a=(0,n()._h)(i,(e=>e.LoginModalContent))},980151:(e,t,o)=>{o.d(t,{WO:()=>u,_V:()=>m,hK:()=>p});var n=()=>o(869558),i=()=>o(854150),r=()=>o(317909),s=()=>o(559102),a=()=>o(100875),l=()=>o(162674),d=()=>o(710857),c=()=>o(351360);function u(e){const{environment:t,currentSpaceViewStore:o,...n}=e;if(!o.getModel())return;const i=!(0,d().x)(o)[e.feature];r().createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,canUndo:!0,perform:t=>{r().applyOperation({store:o,operation:{pointer:o.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:i}},transaction:t})}}),(0,l().f_)({environment:t,show:i,...n})}function m(e){let{environment:t,option:o,from:n,userAction:i}=e;const s=c().default.state.currentSpaceViewStore;if(!s)return!1;const d=s.getOnAppStartStore().getValue();return r().createAndCommit({userAction:i,environment:t,canUndo:!0,perform:e=>{r().applyOperation({store:s,operation:{pointer:s.pointer,path:["settings","on_app_start"],command:"set",args:o},transaction:e})}}),(0,a().cq)({spaceView:s.getModel(),preference:o}),(0,l().lr)({environment:t,oldValue:d,newValue:o,from:n}),!0}function p(e){const{environment:t,selectedStore:o,currentSpaceViewStore:a,collectionContextStore:d}=e,c=d.collectionViewStore(),u=d.collectionStore(),m=d.collectionViewBlockStore();if(!(u&&c&&m&&a))return;const p=a.getTeamsStores(),g=o.table===i().yK?p.indexOf(o)+1:0,f=o.table===i().yK?o.id:void 0;r().createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{r().applyOperation({store:c,operation:{pointer:{id:c.id,table:n().Gy},path:["format","collection_view_source","teamId"],command:"set",args:f},transaction:e}),(0,s().d)({environment:t,collectionViewBlockStore:m,collectionViewStore:c,collectionStore:u,collectionContextStore:d,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0})}}),(0,l().AP)({environment:t,teamId:f,index:g})}},997513:(e,t,o)=>{o.d(t,{z:()=>p});var n=o(296540),i=()=>o(484714),r=()=>o(56366),s=()=>o(401497),a=()=>o(959013),l=()=>o(107683),d=()=>o(2143),c=()=>o(969339),u=()=>o(756279),m=o(474848);function p(e){let{loginModalStore:t,loginStore:o,title:s,description:a,isSignup:d,disableLoginLink:u,redirectURL:p,className:S,onDismiss:b,trustedDomain:v}=e;const y=(0,i().v3)(),C=(0,r().K8)((()=>t.state.open),[t]),A=(0,n.useId)(),w=(0,n.useId)(),x={loginStore:o,title:s,description:a,isSignup:d,redirectURL:p,disableLoginLink:u,titleAriaId:A,descriptionAriaId:w,trustedDomain:v};return(0,m.jsx)(l().s,{ariaLabelledBy:A,ariaDescribedBy:w,isOpen:C,onDismiss:()=>{h({loginModalStore:t,loginStore:o,onDismiss:b})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,m.jsx)(g,{children:(0,m.jsxs)("div",{className:S,children:[!y.device.isMobile&&(0,m.jsx)(f,{loginModalStore:t,loginStore:o,onDismiss:b}),(0,m.jsx)(c().Yo,{...x})]})})})}function g(e){let{children:t}=e;return(0,i().v3)().device.isMobile?(0,m.jsx)(d().H,{type:u().A.Y,children:t}):t}function f(e){let{loginModalStore:t,loginStore:o,onDismiss:n}=e;const i=(0,s().DP)();return(0,m.jsx)("div",{style:{fontSize:14,color:i.mediumTextColor,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer",zIndex:1},onClick:()=>{h({loginModalStore:t,loginStore:o,onDismiss:n})},children:(0,m.jsx)(a().sA,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function h(e){const{loginModalStore:t,loginStore:o,onDismiss:n}=e;o.reset(),t.setState({open:!1}),n&&n()}}}]);