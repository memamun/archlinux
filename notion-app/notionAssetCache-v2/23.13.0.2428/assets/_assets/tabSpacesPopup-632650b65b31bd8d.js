"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[87137],{349348:(e,t,n)=>{n.d(t,{Y:()=>i});n(296540);var a=n(474848);const i=(0,n(340498).wt)("newWindowPlus",{viewBox:"0 0 33 25",svg:(0,a.jsx)("path",{d:"M5.11328 10.5V3.92578C5.11328 2.66797 5.4375 1.71875 6.08594 1.07812C6.73438 0.4375 7.69141 0.117188 8.95703 0.117188H29.0195C30.293 0.117188 31.2539 0.4375 31.9023 1.07812C32.5508 1.71875 32.875 2.66797 32.875 3.92578V18.1875C32.875 19.4375 32.5508 20.3828 31.9023 21.0234C31.2539 21.6719 30.293 21.9961 29.0195 21.9961H12.8711C13.0898 21.6523 13.2695 21.2852 13.4102 20.8945C13.5586 20.5039 13.668 20.1016 13.7383 19.6875H28.8906C29.4297 19.6875 29.8438 19.5469 30.1328 19.2656C30.4219 18.9844 30.5664 18.5586 30.5664 17.9883V6.1875H7.42188V10.5C7.22656 10.4688 7.03125 10.4453 6.83594 10.4297C6.64062 10.4141 6.44922 10.4062 6.26172 10.4062C6.06641 10.4062 5.87109 10.4141 5.67578 10.4297C5.48828 10.4375 5.30078 10.4609 5.11328 10.5ZM8.07812 3.15234C8.07812 3.44141 8.18359 3.69531 8.39453 3.91406C8.61328 4.13281 8.87109 4.24219 9.16797 4.24219C9.47266 4.24219 9.73047 4.13281 9.94141 3.91406C10.1602 3.69531 10.2695 3.44141 10.2695 3.15234C10.2695 2.86328 10.1602 2.60938 9.94141 2.39062C9.73047 2.17187 9.47266 2.0625 9.16797 2.0625C8.87109 2.0625 8.61328 2.17187 8.39453 2.39062C8.18359 2.60938 8.07812 2.86328 8.07812 3.15234ZM11.5352 3.15234C11.5352 3.44922 11.6406 3.70703 11.8516 3.92578C12.0625 4.13672 12.3203 4.24219 12.625 4.24219C12.9297 4.24219 13.1875 4.13672 13.3984 3.92578C13.6172 3.70703 13.7266 3.44922 13.7266 3.15234C13.7266 2.86328 13.6172 2.60938 13.3984 2.39062C13.1875 2.17187 12.9297 2.0625 12.625 2.0625C12.3203 2.0625 12.0625 2.17187 11.8516 2.39062C11.6406 2.60938 11.5352 2.86328 11.5352 3.15234ZM14.9922 3.15234C14.9922 3.44922 15.0977 3.70703 15.3086 3.92578C15.5195 4.13672 15.7773 4.24219 16.082 4.24219C16.3789 4.24219 16.6328 4.13672 16.8438 3.92578C17.0625 3.70703 17.1719 3.44922 17.1719 3.15234C17.1719 2.86328 17.0625 2.60938 16.8438 2.39062C16.6328 2.17187 16.3789 2.0625 16.082 2.0625C15.7773 2.0625 15.5195 2.17187 15.3086 2.39062C15.0977 2.60938 14.9922 2.86328 14.9922 3.15234ZM6.27344 24.1406C5.44531 24.1406 4.66797 23.9844 3.94141 23.6719C3.21484 23.3594 2.57422 22.9219 2.01953 22.3594C1.46484 21.8047 1.03125 21.1641 0.71875 20.4375C0.398438 19.7109 0.238281 18.9336 0.238281 18.1055C0.238281 17.2773 0.398438 16.5 0.71875 15.7734C1.03125 15.0469 1.46484 14.4062 2.01953 13.8516C2.57422 13.2891 3.21484 12.8516 3.94141 12.5391C4.66797 12.2266 5.44531 12.0703 6.27344 12.0703C7.10156 12.0703 7.87891 12.2266 8.60547 12.5391C9.33203 12.8516 9.97266 13.2852 10.5273 13.8398C11.082 14.3945 11.5156 15.0391 11.8281 15.7734C12.1484 16.5 12.3086 17.2773 12.3086 18.1055C12.3086 18.9258 12.1484 19.6992 11.8281 20.4258C11.5156 21.1602 11.0781 21.8047 10.5156 22.3594C9.96094 22.9141 9.31641 23.3477 8.58203 23.6602C7.85547 23.9805 7.08594 24.1406 6.27344 24.1406ZM6.27344 21.9258C6.51562 21.9258 6.70703 21.8516 6.84766 21.7031C6.99609 21.5547 7.07031 21.3633 7.07031 21.1289V18.9023H9.29688C9.53125 18.9023 9.72266 18.832 9.87109 18.6914C10.0195 18.543 10.0938 18.3477 10.0938 18.1055C10.0938 17.8633 10.0195 17.6719 9.87109 17.5312C9.72266 17.3828 9.53125 17.3086 9.29688 17.3086H7.07031V15.082C7.07031 14.8477 6.99609 14.6562 6.84766 14.5078C6.70703 14.3594 6.51562 14.2852 6.27344 14.2852C6.03125 14.2852 5.83594 14.3594 5.6875 14.5078C5.54688 14.6562 5.47656 14.8477 5.47656 15.082V17.3086H3.25C3.01562 17.3086 2.82422 17.3828 2.67578 17.5312C2.52734 17.6719 2.45312 17.8633 2.45312 18.1055C2.45312 18.3477 2.52734 18.543 2.67578 18.6914C2.82422 18.832 3.01562 18.9023 3.25 18.9023H5.47656V21.1289C5.47656 21.3633 5.54688 21.5547 5.6875 21.7031C5.83594 21.8516 6.03125 21.9258 6.27344 21.9258Z"})})},641276:(e,t,n)=>{n.d(t,{g:()=>i});n(296540);var a=n(474848);const i=(0,n(340498).wt)("smileyFace",{viewBox:"0 0 20 20",svg:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M8 8.625c0 .621-.448 1.125-1 1.125s-1-.504-1-1.125S6.448 7.5 7 7.5s1 .504 1 1.125zm5 1.125c.552 0 1-.504 1-1.125S13.552 7.5 13 7.5s-1 .504-1 1.125.448 1.125 1 1.125zm-5.461 2.229a.75.75 0 00-1.085 1.036l.003.002.002.003.007.007.018.018.053.05c.044.04.105.093.182.153.154.12.377.272.67.42.59.3 1.456.582 2.61.582 1.156 0 2.022-.282 2.612-.581.293-.149.515-.3.67-.42a2.917 2.917 0 00.235-.205l.018-.017.006-.007.003-.003.002-.001v-.002a.75.75 0 00-1.084-1.035l-.006.005-.007.006c-.015.015-.045.04-.088.074a2.664 2.664 0 01-.428.267c-.396.2-1.03.419-1.932.419-.902 0-1.536-.218-1.932-.419-.2-.101-.342-.2-.428-.267a1.446 1.446 0 01-.101-.085z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 1.25a8.75 8.75 0 110 17.5 8.75 8.75 0 010-17.5zm0 1.5a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5z",clipRule:"evenodd"})]})})},884985:(e,t,n)=>{n.r(t),n.d(t,{TabSpacesPopup:()=>_});var a=n(296540),i=()=>n(484714),o=()=>n(56366),c=()=>n(175947),l=()=>n(14235),s=()=>n(644914),r=()=>n(962730),p=()=>n(377586),d=()=>n(948914),u=()=>n(730591),C=()=>n(396182),S=()=>n(401497),b=()=>n(173019),g=()=>n(641276),h=()=>n(735384),x=()=>n(284371),m=()=>n(705540),v=()=>n(439264),j=()=>n(805751),T=()=>n(928600),y=()=>n(89924),f=()=>n(125565),I=()=>n(722872);function w(e){return{icon:{height:18,width:18,fill:e.regularIconColor},button:{width:"100%",borderRadius:6},tabSpaceButton:{display:"flex",fontSize:14,height:28,paddingLeft:10,paddingRight:10,color:e.regularTextColor,alignItems:"center",justifyContent:"space-between",maxWidth:250,width:"100%"},tabSpaceLabelWrapper:{display:"flex",alignItems:"center",flex:1,minWidth:0,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",gap:4},currentSelectedTabSpace:{background:e.sidebarItemSelectedBackground,color:e.text.primary,borderRadius:6},tabSpaceIcon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:22,height:18},rightIconWrapper:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,marginLeft:6},iconLight:{height:18,width:18,fill:e.lightIconColor}}}var k=()=>n(655438),A=()=>n(498212),R=()=>n(623580),M=()=>n(614505),P=n(474848);function B(e){let{open:t,originRect:n,tabSpaceId:i,initialTitle:o,initialIcon:c,onSave:s,isCreate:d}=e;const[u,C]=(0,a.useState)({title:void 0,icon:void 0});(0,a.useEffect)((()=>{C({icon:c?{icon:c,pointer:{table:"block",id:(0,A().Ay)()}}:void 0,title:o})}),[c,o]);const b=(0,S().IS)((e=>({...w(e),wrapper:{display:"flex",alignItems:"center",color:e.regularTextColor,fontSize:14,padding:"4px 8px",width:250},iconButton:{marginRight:6,boxShadow:`inset 0 0 0 1px ${e.darkDividerColor}`}})),[]),g=e=>{C((t=>({...t,icon:e?{icon:e,pointer:{table:"block",id:(0,A().Ay)()}}:void 0})))},h=e=>{C((t=>({...t,title:e.target.value})))};return(0,P.jsx)(l().Ay,{popupType:p().n.Popup,render:()=>(0,P.jsx)(T().A,{menuType:I().gu.Popup,children:(0,P.jsxs)("div",{style:b.wrapper,children:[(0,P.jsx)(M().A,{disabled:!1,bucket:"public",icon:u.icon,defaultIcon:(0,k()._)(b.icon),isEmptyPage:!1,size:24,onChange:g,style:b.iconButton,mediaPickerTabs:["emoji"]}),(0,P.jsx)(R().A,{value:u.title,onChange:h})]})}),open:t,originRect:n,placementToOrigin:d?r().W.Bottom:r().W.Center,alignmentToOrigin:r().C.Center,onDismiss:()=>{var e;s(u.title,null===(e=u.icon)||void 0===e?void 0:e.icon,i),C({title:void 0,icon:void 0})},trapFocus:!0})}var W=()=>n(30626),D=()=>n(349348),H=()=>n(959013),z=()=>n(704152),L=()=>n(285790);function E(e){let{label:t,icon:n,onClick:a=(()=>{})}=e;const i=(0,S().IS)((e=>w(e)),[]);return(0,P.jsx)(z().A,{onClick:a,style:i.button,children:(0,P.jsx)("div",{style:i.tabSpaceButton,children:(0,P.jsxs)("div",{style:i.tabSpaceLabelWrapper,children:[(0,P.jsx)("div",{style:i.tabSpaceIcon,children:n||(0,D().Y)(i.icon)}),t]})})})}function O(e){let{label:t,openSecondaryPopup:n,setSelectedTabSpaceData:i,icon:o,isChecked:c=!1,onClick:l=(()=>{}),tabSpaceId:s}=e;const r=(0,a.useRef)(null),[p,d]=(0,a.useState)(!1),u=(0,S().IS)((e=>w(e)),[]),C=(0,H().tz)().formatMessage({id:"tabSpacesMenuItem.more",defaultMessage:"More"});return(0,P.jsx)(z().A,{onClick:l,style:u.button,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:(0,P.jsxs)("div",{ref:r,style:{...u.tabSpaceButton,...c?u.currentSelectedTabSpace:{}},children:[(0,P.jsxs)("div",{style:u.tabSpaceLabelWrapper,children:[(0,P.jsx)("div",{style:u.tabSpaceIcon,children:o||(0,k()._)(u.iconLight)}),t]}),(0,P.jsx)("div",{style:u.rightIconWrapper,children:Boolean(s)&&p&&(0,P.jsx)("div",{style:u.tabSpaceIcon,children:(0,P.jsx)(L().A,{icon:W()._,ariaLabel:C,onClick:e=>{e.stopPropagation(),r.current&&(n(e.currentTarget.getBoundingClientRect()),i(r.current.getBoundingClientRect(),s))}})})})]})})}function V(e){let{tabSpacesState:t}=e;const n=(0,a.useRef)(null),{tabSpaces:i,orderedTabSpaceIds:o,activeTabSectionId:c,ungroupedTabCount:l}=t,s=(0,C().I)(),[r,p]=(0,a.useState)(),[d,u]=(0,a.useState)(),[b,g]=(0,a.useState)(!1),[h,w]=(0,a.useState)(),[k,A]=(0,a.useState)(void 0),[R,M]=(0,a.useState)(void 0),W=(0,a.useMemo)((()=>r?i[r]:void 0),[i,r]),D=(e,t)=>{u(e),p(t)},H=e=>{w(e),g(!0)},z=()=>{u(void 0),p(void 0),A(void 0),M(void 0)},L=e=>{n.current&&(D(n.current.getBoundingClientRect(),void 0),M(e),A("rename"))},V=(0,S().IS)((e=>({modal:{minWidth:230,maxHeight:"70vh"},body:{width:"100%"},sectionHeader:{color:e.mediumTextColor,fontSize:12,fontWeight:x().Wy.medium,padding:"12px 14px 4px 14px"},iconLight:{height:18,width:18,fill:e.lightIconColor}})),[]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:V.modal,children:(0,P.jsx)(T().A,{menuType:I().gu.Popup,children:(0,P.jsxs)(j().A,{debugName:"TabSpacesMenu",capture:!0,allowEsc:!0,children:[(0,P.jsx)(y().A,{children:(0,P.jsx)(O,{label:`${l} tabs`,isChecked:"ungrouped"===c,onClick:()=>{m().tabSpacesState.unsetActiveTabSpace()},openSecondaryPopup:H,setSelectedTabSpaceData:D})}),(0,P.jsxs)(y().A,{topBorder:!0,children:[(0,P.jsx)("div",{style:V.sectionHeader,children:(0,P.jsx)(f().A,{isSmall:!0,children:"Tab Spaces"})}),o.length>0&&(0,P.jsx)(v().Ay,{shouldAnimateDrop:!0,direction:"vertical",keys:o,renderKey:e=>{const t=i[e];return t?(0,P.jsx)(O,{tabSpaceId:t.tabSpaceId,label:t.title,icon:t.icon,isChecked:t.tabSpaceId===c,onClick:()=>{m().tabSpacesState.setActiveTabSpace(t.tabSpaceId)},openSecondaryPopup:H,setSelectedTabSpaceData:D},t.tabSpaceId):null},onDrop:e=>{m().tabSpacesState.reorderTabSpaces(e)},onDragEnd:()=>s()}),(0,P.jsx)("div",{ref:n,style:{height:R?36:0}})]}),(0,P.jsxs)(y().A,{topBorder:!0,children:[(0,P.jsx)(E,{label:"New Tab Space",onClick:()=>L("emptyTabSpace")}),l>0&&(0,P.jsx)(E,{label:`New Tab Space with ${l} tabs`,onClick:()=>L("ungroupedTabs")})]})]})})}),(0,P.jsx)(F,{open:b,originRect:h,tabSpaceId:r,onDismiss:()=>{g(!1),w(void 0)},setRenameTabSpacePopupMode:A}),(0,P.jsx)(B,{open:!!k,originRect:d,tabSpaceId:r,initialTitle:(null==W?void 0:W.title)||"",initialIcon:null==W?void 0:W.icon,isCreate:!!R,onSave:(e,t,n)=>{if(z(),e)if(n)m().tabSpacesState.updateTabSpaceMetadata(n,{title:e,icon:t});else{const n="ungroupedTabs"===R?"ungroupedTabs":"empty";m().tabSpacesState.createTabSpace({title:e,icon:t,source:n})}}})]})}function Z(e){let{setRenameTabSpacePopupMode:t,tabSpaceId:n,closeSecondaryPopup:a}=e;const i=(0,S().IS)((e=>({...w(e),modal:{width:200}})),[]);return n?(0,P.jsx)("div",{style:i.modal,children:(0,P.jsx)(T().A,{menuType:I().gu.Popup,children:(0,P.jsxs)(j().A,{debugName:"TabSpacesSecondaryMenu",capture:!0,allowEsc:!0,children:[(0,P.jsxs)(y().A,{children:[(0,P.jsx)(E,{label:"Change Icon...",icon:(0,g().g)(i.icon),onClick:()=>{t("icon"),a()}}),(0,P.jsx)(E,{label:"Rename Tab Space...",icon:(0,b().r)(i.icon),onClick:()=>{t("rename"),a()}})]}),(0,P.jsx)(y().A,{topBorder:!0,children:(0,P.jsx)(E,{label:"Delete Tab Space",icon:(0,h().I)(i.icon),onClick:()=>{m().tabSpacesState.deleteTabSpace(n),a()}})})]})})}):null}function F(e){let{open:t,setRenameTabSpacePopupMode:n,originRect:a,tabSpaceId:i,onDismiss:o}=e;return(0,P.jsx)(l().Ay,{popupType:p().n.Popup,render:()=>(0,P.jsx)(Z,{tabSpaceId:i,setRenameTabSpacePopupMode:n,closeSecondaryPopup:o}),open:t,originRect:a,placementToOrigin:r().W.Right,alignmentToOrigin:r().C.Start,originGap:18,onDismiss:o,trapFocus:!0})}function _(){const e=(0,i().v3)(),[t,n]=(0,a.useState)(),{open:C,tabSpacesState:S}=(0,o().K8)((()=>u().A.getState()),[]),{isShowingTabBar:b}=(0,o().O$)(d().A),g=(0,o().K8)((()=>(0,s().km)(e)),[e]);return(0,a.useEffect)((()=>{n(new DOMRect(g,b?0:(0,c().ek)(e.device.isElectronMac)+10,0,0))}),[g,b,e.device.isElectronMac]),S?(0,P.jsx)(l().Ay,{popupType:p().n.Popup,render:()=>(0,P.jsx)(V,{tabSpacesState:S}),open:C,originRect:t,placementToOrigin:r().W.Right,alignmentToOrigin:r().C.Start,originGap:10,onDismiss:()=>{u().A.update((e=>({...e,open:!1})))},trapFocus:!0}):null}}}]);